"use strict";(()=>{var sy=Object.create;var Ua=Object.defineProperty;var ly=Object.getOwnPropertyDescriptor;var uy=Object.getOwnPropertyNames;var cy=Object.getPrototypeOf,fy=Object.prototype.hasOwnProperty;var h=(e,t)=>()=>(e&&(t=e(e=0)),t);var br=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),k=(e,t)=>{for(var r in t)Ua(e,r,{get:t[r],enumerable:!0})},im=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(var n=uy(t),i=0,l=n.length,c;i<l;i++)c=n[i],!fy.call(e,c)&&c!==r&&Ua(e,c,{get:(p=>t[p]).bind(null,c),enumerable:!(o=ly(t,c))||o.enumerable});return e};var z=(e,t,r)=>(r=e!=null?sy(cy(e)):{},im(t||!e||!e.__esModule?Ua(r,"default",{value:e,enumerable:!0}):r,e)),dt=e=>im(Ua({},"__esModule",{value:!0}),e);var d,a=h(()=>{"use strict";d=Symbol("Symbol.asyncIterator")});var my,dy,py,m,s=h(()=>{"use strict";my=e=>({status:"fulfilled",value:e}),dy=e=>({status:"rejected",reason:e}),py=e=>Promise.resolve(e).then(my,dy),m=Promise.allSettled??=e=>Promise.all(Array.from(e).map(py))});function am(e,t,r,o,n,i,l){try{var c=e[i](l),p=c.value}catch(x){r(x);return}c.done?t(p):Promise.resolve(p).then(o,n)}function g(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function l(p){am(i,o,n,l,c,"next",p)}function c(p){am(i,o,n,l,c,"throw",p)}l(void 0)})}}var se=h(()=>{a();s()});var ja=br((Hg,cm)=>{a();s();var Al=Object.defineProperty,hy=Object.getOwnPropertyDescriptor,vy=Object.getOwnPropertyNames,yy=Object.prototype.hasOwnProperty,_y=(e,t)=>{for(var r in t)Al(e,r,{get:t[r],enumerable:!0})},gy=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function"){var n=function(l){!yy.call(e,l)&&l!==r&&Al(e,l,{get:()=>t[l],enumerable:!(o=hy(t,l))||o.enumerable})};for(var i of vy(t))n(i)}return e},by=e=>gy(Al({},"__esModule",{value:!0}),e),sm={};_y(sm,{after:()=>Ty,before:()=>Ey,instead:()=>wy,unpatchAll:()=>xy});cm.exports=by(sm);var lm=["a","b","i"],jo=new Map;function Sy(e,t,r,o,n){var i=jo.get(t)?.[e];if(!i)return n?Reflect.construct(t[e],r,o):t[e].apply(o,r);for(var l of i.b.values()){var c=l.call(o,r);Array.isArray(c)&&(r=c)}var p=[...i.i.values()].reduce((_,U)=>(...A)=>U.call(o,A,_),(..._)=>n?Reflect.construct(i.o,_,o):i.o.apply(o,_))(...r);for(var x of i.a.values())p=x.call(o,r,p)??p;return p}function um(e,t,r,o){var n=jo.get(e),i=n?.[t];if(!i?.[o].has(r))return!1;if(i[o].delete(r),lm.every(c=>i[c].size===0)){var l=Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0});l||(e[t]=i.o),delete n[t]}return Object.keys(n).length==0&&jo.delete(e),!0}function xy(){for(var[e,t]of jo.entries())for(var r in t)for(var o of lm)for(var n of t[r]?.[o].keys()??[])um(e,r,n,o)}var Pl=e=>(t,r,o,n=!1)=>{if(typeof r[t]!="function")throw new Error(`${t} is not a function in ${r.constructor.name}`);jo.has(r)||jo.set(r,Object.create(null));var i=jo.get(r);if(!i[t]){var l=r[t];i[t]={o:l,b:new Map,i:new Map,a:new Map};var c=(A,H,V)=>{var Ge=Sy(t,r,H,A,V);return n&&U(),Ge},p=new Proxy(l,{apply:(A,H,V)=>c(H,V,!1),construct:(A,H)=>c(l,H,!0),get:(A,H,V)=>H=="toString"?l.toString.bind(l):Reflect.get(A,H,V)}),x=Reflect.defineProperty(r,t,{value:p,configurable:!0,writable:!0});x||(r[t]=p)}var _=Symbol(),U=()=>um(r,t,_,e);return i[t][e].set(_,o),U},Ey=Pl("b"),wy=Pl("i"),Ty=Pl("a")});var Ha={};k(Ha,{BundleUpdaterManager:()=>di,ClientInfoManager:()=>Ho,DeviceManager:()=>Er,FileManager:()=>ee,MMKVManager:()=>xr,ThemeManager:()=>Ol});var Sr,xr,ee,Ho,Er,di,Ol,ar=h(()=>{"use strict";a();s();Sr=window.nativeModuleProxy,xr=Sr.MMKVManager;ee=Sr.DCDFileManager??Sr.RTNFileManager;Ho=Sr.InfoDictionaryManager??Sr.RTNClientInfoManager;Er=Sr.DCDDeviceManager??Sr.RTNDeviceManager,{BundleUpdaterManager:di}=Sr,Ol=Sr.RTNThemeManager??Sr.DCDTheme});function Il(e,t){if(!Number.isInteger(t)||t<=0)throw new Error("Size must be an integer greater than zero.");for(var r=Math.ceil(e.length/t),o=Array(r),n=0;n<r;n++){var i=n*t,l=i+t;o[n]=e.slice(i,l)}return o}var fm=h(()=>{a();s()});function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Je=h(()=>{a();s()});function mo(e,t){return mo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},mo(e,t)}var Ga=h(()=>{a();s()});function Ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}var Ut=h(()=>{a();s();Ga()});function Va(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ll=h(()=>{a();s()});function pi(e,t,r){return Va()?pi=Reflect.construct:pi=function(n,i,l){var c=[null];c.push.apply(c,i);var p=Function.bind.apply(n,c),x=new p;return l&&mo(x,l.prototype),x},pi.apply(null,arguments)}var mm=h(()=>{a();s();Ll();Ga()});function sr(e){return sr=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},sr(e)}var hi=h(()=>{a();s()});function dm(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var pm=h(()=>{a();s()});function En(e){var t=typeof Map=="function"?new Map:void 0;return En=function(o){if(o===null||!dm(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(o))return t.get(o);t.set(o,n)}function n(){return pi(o,arguments,sr(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),mo(n,o)},En(e)}var Ml=h(()=>{a();s();mm();hi();pm();Ga()});function w(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var wr=h(()=>{a();s()});function hm(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var vm=h(()=>{a();s()});function ym(e,t){return t&&(hm(t)==="object"||typeof t=="function")?t:w(e)}var _m=h(()=>{a();s();wr();vm()});function we(e){var t=Va();return function(){var o=sr(e),n;if(t){var i=sr(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ym(this,n)}}var jt=h(()=>{a();s();hi();Ll();_m()});function Dl(e,t,{signal:r}={}){var o=null,n=function(...c){o!==null&&clearTimeout(o),!r?.aborted&&(o=setTimeout(()=>{e(...c),o=null},t))},i=function(){n.cancel()};return n.cancel=function(){o!==null&&(clearTimeout(o),o=null)},r?.addEventListener("abort",i,{once:!0}),n}var gm=h(()=>{a();s()});function Nl(e,t){var r={...e};for(var o of t)delete r[o];return r}var bm=h(()=>{a();s()});var za=h(()=>{a();s();fm();gm();bm()});var po,Tr,Fl=h(()=>{"use strict";a();s();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED"})(po||(po={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(Tr||(Tr={}))});var Vo={};k(Vo,{_patcherDelaySymbol:()=>vi,after:()=>me,before:()=>Go,default:()=>yi,instead:()=>ho});function Bl(e){function t(...o){if(vi in o[1]){var n=o[1][vi],i=!1,l=()=>i=!0;return n(c=>{i||(o[1]=c,l=e.apply(this,o))}),()=>l()}return e.apply(this,o)}function r(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var i=!1,l=()=>i=!0;return n.then(c=>{i||(o[1]=c,l=t.apply(this,o))}),()=>l()}return Object.assign(t,{await:r})}var Ry,Cy,Ay,vi,me,Go,ho,yi,At=h(()=>{"use strict";a();s();({after:Ry,before:Cy,instead:Ay}=ja()),vi=Symbol.for("bunny.api.patcher.delay");me=Bl(Ry),Go=Bl(Cy),ho=Bl(Ay),yi={after:me,before:Go,instead:ho}});var bi={};k(bi,{assetsMap:()=>vo,findAsset:()=>gi,findAssetId:()=>b,patchAssets:()=>Py});function Py(e){if(!_i){_i=e;var t=me("registerAsset",_i,([r])=>{var o=kl();o!==-1&&Ul(r.name,o)});return t}}function gi(e){return typeof e=="number"?_i.getAssetByID(e):typeof e=="string"?vo[e]:Object.values(vo).find(e)}function b(e){return vo[e]?.index}var vo,_i,de=h(()=>{"use strict";a();s();At();$o();zo();vo=new Proxy({},{get(e,t){if(typeof t=="string"){if(e[t])return e[t];var r=Rr().assetsIndex[t];if(r!=null){for(var o in r){var n=Ht(Number(o));if(typeof n=="number"){var i=_i.getAssetByID(n);i&&(i.index??=i.id??=n,i.moduleId??=o,e[t]??=i)}}return e[t]}}},ownKeys(e){var t=[];for(var r in Rr().assetsIndex)e[r]=this.get(e,r,{}),e[r]&&t.push(r);return t}})});function Sm(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ne(e,t,r){return t&&Sm(e.prototype,t),r&&Sm(e,r),e}var st=h(()=>{a();s()});function $a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jl=h(()=>{a();s()});var Hl,wn,Qa=h(()=>{"use strict";a();s();Je();st();jl();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Hl||(Hl={}));wn=function(){"use strict";function e(){te(this,e),$a(this,"listeners",Object.values(Hl).reduce((t,r)=>(t[r]=new Set,t),{}))}return ne(e,[{key:"on",value:function(r,o){this.listeners[r].has(o)||this.listeners[r].add(o)}},{key:"off",value:function(r,o){this.listeners[r].delete(o)}},{key:"once",value:function(r,o){var n=(i,l)=>{this.off(i,n),o(i,l)};this.on(r,n)}},{key:"emit",value:function(r,o){for(var n of this.listeners[r])n(r,o)}}]),e}()});var Si={};k(Si,{createFilterDefinition:()=>Gt,createSimpleFilter:()=>Oy});function Gt(e,t){function r(n,i,l){return Object.assign(n,{filter:e,raw:l,uniq:[l&&"raw::",t(i)].filter(Boolean).join("")})}var o=n=>(...i)=>r((l,c,p)=>e(i,l,c,p),i,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:t})}function Oy(e,t){return Gt((r,o)=>e(o),()=>`dynamic::${t}`)()}var Wa=h(()=>{"use strict";a();s()});var Gl={};k(Gl,{byDisplayName:()=>_o,byFilePath:()=>qa,byMutableProp:()=>Ei,byName:()=>yo,byProps:()=>xi,byStoreName:()=>Ka,byTypeName:()=>go});var xi,yo,_o,go,Ka,qa,Ei,wi=h(()=>{"use strict";a();s();Wa();zo();xi=Gt((e,t)=>e.length===0?t[e[0]]:e.every(r=>t[r]),e=>`bunny.metro.byProps(${e.join(",")})`),yo=Gt(([e],t)=>t.name===e,e=>`bunny.metro.byName(${e})`),_o=Gt(([e],t)=>t.displayName===e,e=>`bunny.metro.byDisplayName(${e})`),go=Gt(([e],t)=>t.type?.name===e,e=>`bunny.metro.byTypeName(${e})`),Ka=Gt(([e],t)=>t.getName?.length===0&&t.getName()===e,e=>`bunny.metro.byStoreName(${e})`),qa=Gt(([e,t],r,o,n)=>t===n&&Ze[o]?.__filePath===e,([e,t])=>`bunny.metro.byFilePath(${e},${t})`),Ei=Gt(([e],t)=>t?.[e]&&!Object.getOwnPropertyDescriptor(t,e)?.get,e=>`bunny.metro.byMutableProp(${e})`)});function xm(e,t,r){return e.default&&e.__esModule&&r(e.default,t,!0)?{exports:r.raw?e:e.default,defaultExport:!r.raw}:!r.raw&&r(e,t,!1)?{exports:e,defaultExport:!1}:{}}function Vl(e){var{cacheId:t,finish:r}=Xa(e.uniq,!1);for(var[o,n]of Ya(e.uniq,!1)){var{exports:i,defaultExport:l}=xm(n,o,e);if(i!==void 0)return t(o,i),{id:o,defaultExport:l}}return r(!0),{}}function Iy(e){return Vl(e)?.id}function $e(e){var{id:t,defaultExport:r}=Vl(e);if(t!=null)return r?Ht(t).default:Ht(t)}function zl(e){var{cacheId:t,finish:r}=Xa(e.uniq,!0),o=[];for(var[n,i]of Ya(e.uniq,!0)){var{exports:l,defaultExport:c}=xm(i,n,e);l!==void 0&&typeof c=="boolean"&&(o.push({id:n,defaultExport:c}),t(n,l))}return r(o.length===0),o}function Ly(e){return zl(e).map(t=>t.id)}function bo(e){return zl(e).map(t=>{if(t.id){var{id:r,defaultExport:o}=t;return o?Ht(r).default:Ht(r)}})}var Tn=h(()=>{"use strict";a();s();$o();zo()});var Ql={};k(Ql,{getProxyFactory:()=>$l,lazyDestructure:()=>pe,proxyLazy:()=>ke});function ke(e,t={}){var r,o=t.hint!=="object"?function(){}:{},n=()=>r??=e(),i=new Proxy(o,Dy);return wm.set(i,n),Rn.set(o,{factory:e,options:t}),i}function pe(e,t={}){var r=ke(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield r,yield new Proxy({},{get:(i,l)=>ke(()=>r[l],t)}),new Error("This is not a real iterator, this is likely used incorrectly")}:ke(()=>r[n],t)}})}function $l(e){return wm.get(e)}var Em,My,wm,Rn,Dy,lt=h(()=>{"use strict";a();s();Em=new Set(["arguments","caller","prototype"]),My=e=>typeof e=="string"&&Em.has(e),wm=new WeakMap,Rn=new WeakMap,Dy={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(t,...r)=>{var o=Rn.get(t),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...r)}])),has(e,t){var r=Rn.get(e);if(r?.options){var{exemptedEntries:o}=r.options;if(o&&t in o)return!0}var n=r?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,t)},get(e,t,r){var o=Rn.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[t])return n[t]}var i=o?.factory();if(!i)throw new Error(`Trying to Reflect.get of ${typeof i}`);return Reflect.get(i,t,r)},ownKeys:e=>{var t=Rn.get(e),r=t?.factory();if(!r)throw new Error(`Trying to Reflect.ownKeys of ${typeof r}`);var o=Reflect.ownKeys(r);return Em.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,t)=>{var r=Rn.get(e),o=r?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(My(t))return Reflect.getOwnPropertyDescriptor(e,t);var n=Reflect.getOwnPropertyDescriptor(o,t);return n&&Object.defineProperty(e,t,n),n}}});var Wl={};k(Wl,{_lazyContextSymbol:()=>Ja,createLazyModule:()=>Cr,getLazyContext:()=>Rm});function Ny(e){var t=Rr().findIndex[e.uniq];if(t){for(var r in t)if(r[0]!=="_")return Number(r)}}function Fy(e,t){var r=Rm(e);if(!r)throw new Error("Subscribing a module for non-proxy-find");if(!r.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return Kl(r.moduleId,()=>{t($e(r.filter))})}function Rm(e){return Tm.get(e)}function Cr(e){var t=void 0,r=Ny(e),o={filter:e,indexed:!!r,moduleId:r,getExports(i){return!r||Ze[r]?.isInitialized?(i(this.forceLoad()),()=>{}):this.subscribe(i)},subscribe(i){return Fy(n,i)},get cache(){return t},forceLoad(){if(t??=$e(e),!t)throw new Error(`${e.uniq} is ${typeof t}! (id ${o.moduleId??"unknown"})`);return t}},n=ke(()=>o.forceLoad(),{exemptedEntries:{[Ja]:o,[vi]:i=>o.getExports(i)}});return Tm.set(n,o),n}var Ja,Tm,Ti=h(()=>{"use strict";a();s();At();lt();Tn();$o();zo();Ja=Symbol.for("bunny.metro.lazyContext"),Tm=new WeakMap});var Y,L,ql,Za,Qe,Yl,Xl,Jl,Zl,eu,By,tu,ru,Ri,ky,ou,he=h(()=>{"use strict";a();s();wi();Tn();Ti();Y=(...e)=>$e(xi(...e)),L=(...e)=>Cr(xi(...e)),ql=(...e)=>bo(xi(...e)),Za=(e,t=!0)=>$e(t?yo(e):yo.byRaw(e)),Qe=(e,t=!0)=>Cr(t?yo(e):yo.byRaw(e)),Yl=(e,t=!0)=>bo(t?yo(e):yo.byRaw(e)),Xl=(e,t=!0)=>$e(t?_o(e):_o.byRaw(e)),Jl=(e,t=!0)=>Cr(t?_o(e):_o.byRaw(e)),Zl=(e,t=!0)=>bo(t?_o(e):_o.byRaw(e)),eu=(e,t=!0)=>$e(t?go(e):go.byRaw(e)),By=(e,t=!0)=>Cr(t?go(e):go.byRaw(e)),tu=(e,t=!0)=>bo(t?go(e):go.byRaw(e)),ru=e=>$e(Ka(e)),Ri=e=>Cr(Ka(e)),ky=(e,t=!1)=>$e(qa(e,t)),ou=(e,t=!1)=>Cr(qa(e,t))});var So=br((YS,Cm)=>{"use strict";a();s();he();Cm.exports={react:L("createElement"),"react-native":L("AppRegistry"),util:L("inspect","isNullOrUndefined"),moment:L("isMoment"),"chroma-js":L("brewer"),lodash:L("forEachRight"),"@shopify/react-native-skia":L("useFont")}});var ve=br((ZS,Am)=>{a();s();Am.exports=So()["react-native"]});var Om,Pm,nu,Im,Cn,Pt,Ur,Lm=h(()=>{"use strict";a();s();se();ar();Om=z(ve()),Pm=/[<>:"/\\|?*]/g,nu=e=>Om.Platform.select({default:e,ios:ee.saveFileToGallery?e:`Documents/${e}`}),Im=e=>(Pm.test(e)&&(e=e.replace(Pm,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),Cn=function(){var e=g(function*(t){(yield xr.getItem(t))&&xr.removeItem(t);var r=Im(t);(yield ee.fileExists(`${ee.getConstants().DocumentsDirPath}/${r}`))&&(yield ee.removeFile?.("documents",r))});return function(r){return e.apply(this,arguments)}}(),Pt=(e,t={})=>{var r=Im(e),o=JSON.stringify(t);return Ur(r,t,g(function*(){var n=`${ee.getConstants().DocumentsDirPath}/${r}`;if(!(yield ee.fileExists(n))){var i=(yield xr.getItem(e))??o;if(i==="!!LARGE_VALUE!!"){var l=`${ee.getConstants().CacheDirPath}/mmkv/${e}`;(yield ee.fileExists(l))?i=yield ee.readFile(l,"utf8"):(console.log(`${e}: Experienced data loss :(`),i=o)}try{JSON.parse(i)}catch{console.error(`${e} had an unparseable data while migrating`),i=o}yield ee.writeFile("documents",nu(r),i,"utf8"),(yield xr.getItem(e))!==null&&(xr.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},Ur=(e,t={},r)=>({get:g(function*(){yield r;var o=`${ee.getConstants().DocumentsDirPath}/${e}`;if(yield ee.fileExists(o)){var n=yield ee.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield ee.writeFile("documents",nu(e),JSON.stringify(t),"utf8"),JSON.parse(yield ee.readFile(o,"utf8"))}),set:function(){var o=g(function*(n){yield r,yield ee.writeFile("documents",nu(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});var es={};k(es,{awaitStorage:()=>jr,createFileBackend:()=>Ur,createMMKVBackend:()=>Pt,createProxy:()=>An,createStorage:()=>pt,purgeStorage:()=>Cn,useProxy:()=>Q,wrapSync:()=>Vt});function An(e={}){var t=new wn;function r(o,n){return new Proxy(o,{get(i,l){if(l===Mm)return t;var c=[...n,l],p=i[l];return p!=null?(t.emit("GET",{path:c,value:p}),typeof p=="object"?r(p,c):p):p},set(i,l,c){return i[l]=c,t.emit("SET",{path:[...n,l],value:c}),!0},deleteProperty(i,l){var c=delete i[l];return c&&t.emit("DEL",{path:[...n,l]}),c}})}return{proxy:r(e,[]),emitter:t}}function Q(e){var t=e[Mm];if(!t)throw new Error("storage[emitterSymbol] is undefined");var[,r]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=()=>r();return t.on("SET",o),t.on("DEL",o),()=>{t.off("SET",o),t.off("DEL",o)}},[]),e}function pt(e){return iu.apply(this,arguments)}function iu(){return iu=g(function*(e){var t=yield e.get(),{proxy:r,emitter:o}=An(t),n=()=>e.set(r);return o.on("SET",n),o.on("DEL",n),r}),iu.apply(this,arguments)}function Vt(e){var t=void 0,r=[],o=n=>t?n():r.push(n);return e.then(n=>{t=n,r.forEach(i=>i())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(i,...l)=>Reflect[n](t??i,...l)])),get(n,i,l){return i===Dm?o:Reflect.get(t??n,i,l)}})}function jr(...e){return Promise.all(e.map(t=>new Promise(r=>t[Dm](r))))}var Mm,Dm,Te=h(()=>{"use strict";a();s();se();Qa();Lm();Mm=Symbol.for("vendetta.storage.emitter"),Dm=Symbol.for("vendetta.storage.accessor")});var fu={};k(fu,{BUNNY_PROXY_PREFIX:()=>lu,DISCORD_SERVER:()=>au,DISCORD_SERVER_ID:()=>uu,GITHUB:()=>su,HTTP_REGEX:()=>Uy,HTTP_REGEX_MULTI:()=>Ci,OFFICIAL_PLUGINS_REPO_URL:()=>Hr,OLD_BUNNY_PROXY_PREFIX:()=>jy,PLUGINS_CHANNEL_ID:()=>cu,THEMES_CHANNEL_ID:()=>Ai,VD_PROXY_PREFIX:()=>xo});var au,su,Uy,Ci,xo,lu,jy,Hr,uu,cu,Ai,Gr=h(()=>{"use strict";a();s();au="https://discord.gg/XjYgWXHb9Q",su="https://github.com/pyoncord",Uy=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Ci=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,xo="https://vd-plugins.github.io/proxy",lu="https://bn-plugins.github.io/vd-proxy",jy="https://bunny-mod.github.io/plugins-proxy",Hr="https://bn-plugins.github.io/dist/repo.json",uu="1015931589865246730",cu="1091880384561684561",Ai="1091880434939482202"});function mu(e,t=0){for(var r=3735928559^t,o=1103547991^t,n=0,i;n<e.length;n++)i=e.charCodeAt(n),r=Math.imul(r^i,2654435761),o=Math.imul(o^i,1597334677);return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(r^r>>>13,3266489909),[o>>>0,r>>>0]}function Nm(e,t=0){var[r,o]=mu(e,t);return r.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var du=h(()=>{"use strict";a();s()});var lr,Fm=h(()=>{"use strict";a();s();zt();lr=(e,t)=>Pn(e,t,{walkable:["props","children","child","sibling"]})});function pu(e,t,r,o){if(!(o>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var i=pu(n,t,r,o+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var l of Object.keys(e))if(!(typeof e[l]!="object"||e[l]===null)&&!(r.walkable.length&&!r.walkable.includes(l))&&!r.ignore.includes(l))try{var c=pu(e[l],t,r,o+1);if(c)return c}catch{}}}}var Pn,Bm=h(()=>{"use strict";a();s();Pn=(e,t,{walkable:r=[],ignore:o=[],maxDepth:n=100}={})=>pu(e,t,{walkable:r,ignore:o,maxDepth:n},0)});function km(e,t,r){var o=e;if(t in e)return void r(o[t]);var n;return Object.defineProperty(o,t,{get:()=>n,set(i){n=r(i)??i},configurable:!0,enumerable:!1}),()=>{delete o[t],o[t]=n}}var Um=h(()=>{"use strict";a();s()});function hu(e,t){if(!e){var r=typeof t=="function"?t():t,o="[Invariant Violation]",n=r?`${o}: ${r}`:o;throw new Error(n)}}var jm=h(()=>{"use strict";a();s()});var vu={};k(vu,{DiscordLogger:()=>Pi,logger:()=>et});var Pi,et,Vr=h(()=>{"use strict";a();s();he();Pi=Qe("Logger"),et=new Pi("Bunny")});function We(e,t){return yu.apply(this,arguments)}function yu(){return yu=g(function*(e,t,r=1e4){var o=yield fetch(e,{signal:Hy(r),...t});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),yu.apply(this,arguments)}function Hy(e){var t=new AbortController;return setTimeout(()=>t.abort(`Timed out after ${e}ms`),e),t.signal}var Hm=h(()=>{"use strict";a();s();se()});var ts={};k(ts,{Emitter:()=>wn,constants:()=>fu,cyrb64:()=>mu,findInReactTree:()=>lr,findInTree:()=>Pn,hookDefineProperty:()=>km,invariant:()=>hu,lazy:()=>Ql,logger:()=>vu,safeFetch:()=>We});var zt=h(()=>{"use strict";a();s();Gr();du();Qa();Fm();Bm();Um();jm();lt();Vr();Hm()});var _u=br((Qx,Gm)=>{a();s();Gm.exports=So()["chroma-js"]});var qo={};k(qo,{applyTheme:()=>Oi,color:()=>Me,fetchTheme:()=>Wo,getCurrentTheme:()=>os,getThemeFromLoader:()=>wo,initThemes:()=>Au,installTheme:()=>zr,patchChatBackground:()=>Cu,removeTheme:()=>Ko,selectTheme:()=>$r,themes:()=>ye,updateThemes:()=>rs});function gu(e){return bu.apply(this,arguments)}function bu(){return bu=g(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield Ur(Pu()||"theme.json").set(e)}),bu.apply(this,arguments)}function Cu(){var e=[me("default",Vy,(t,r)=>Eo?React.createElement(On.ImageBackground,{style:{flex:1,height:"100%"},source:ht?.data?.background?.url&&{uri:ht.data.background.url}||0,blurRadius:typeof ht?.data?.background?.blur=="number"?ht?.data?.background?.blur:0,children:r}):r),me("render",zy.prototype,(t,r)=>{if(!(!Eo||!ht?.data?.background?.url)){var o=lr(r,n=>n&&"HACK_fixModalInteraction"in n.props&&n?.props?.style);o?o.props.style=[o.props.style,{backgroundColor:(0,Qo.default)(o.props.style.backgroundColor||"black").alpha(1-(ht?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return()=>e.forEach(t=>t())}function Wm(e){if(Qo.default.valid(e))return(0,Qo.default)(e).hex();var t=Number((0,On.processColor)(e));return Qo.default.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}function Qy(e){if(e.semanticColors){var{semanticColors:t}=e;for(var r in t)for(var o in t[r])t[r][o]&&=Wm(t[r][o])}if(e.rawColors){var{rawColors:n}=e;for(var i in n)e.rawColors[i]=Wm(n[i]);On.Platform.OS==="android"&&Wy(n)}return e.spec??=2,e}function Wy(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[o,n]=t[r];e[o]&&(e[r]=(0,Qo.default)(e[o]).alpha(n).hex())}}function Wo(e){return Su.apply(this,arguments)}function Su(){return Su=g(function*(e,t=!1){var r;try{r=yield(yield We(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}ye[e]={id:e,selected:t,data:Qy(r)},t&&(gu(ye[e]),Oi(ye[e],Ue))}),Su.apply(this,arguments)}function zr(e){return xu.apply(this,arguments)}function xu(){return xu=g(function*(e){if(typeof e!="string"||e in ye)throw new Error("Theme already installed");yield Wo(e)}),xu.apply(this,arguments)}function $r(e,t=!0){if(e&&(e.selected=!0),Object.keys(ye).forEach(r=>ye[r].selected=ye[r].id===e?.id),e==null&&t)return gu({});if(e)return gu(e)}function Ko(e){return Eu.apply(this,arguments)}function Eu(){return Eu=g(function*(e){var t=ye[e];return t.selected&&(yield $r(null)),delete ye[e],t.selected}),Eu.apply(this,arguments)}function wo(){return Ii()}function rs(){return wu.apply(this,arguments)}function wu(){return wu=g(function*(){yield jr(ye);var e=wo();yield m(Object.keys(ye).map(t=>Wo(t,e?.id===t)))}),wu.apply(this,arguments)}function os(){return ht}function Ru(e){return qy.has(e)}function Yy(){var e=([t])=>t===ur?[Ue]:void 0;Object.keys(Me.RawColor).forEach(t=>{Object.defineProperty(Me.RawColor,t,{configurable:!0,enumerable:!0,get:()=>Eo?ht?.data?.rawColors?.[t]??Km[t]:Km[t]})}),Go("isThemeDark",Qm,e),Go("isThemeLight",Qm,e),Go("updateTheme",Ol,e),me("get",Vm,([t],r)=>{t==="SelectivelySyncedUserSettingsStore"?(Tu=!0,r?._state?.appearance?.settings?.theme&&Eo&&(Ue=r._state.appearance.settings.theme,r._state.appearance.settings.theme=ur)):t==="ThemeStore"&&(Tu=!0,r?._state?.theme&&Eo&&(Ue=r._state.theme,r._state.theme=ur))}),Go("set",Vm,t=>{if(t[1]){var r=t[0],o=JSON.parse(JSON.stringify(t[1])),n={SelectivelySyncedUserSettingsStore:()=>{if(o._state?.appearance?.settings?.theme){var{theme:i}=o._state?.appearance?.settings??{};Ru(i)?Ue=i:o._state.appearance.settings.theme=Ue}},ThemeStore:()=>{if(o._state?.theme){var{theme:i}=o._state;Ru(i)?Ue=i:o._state.theme=Ue}}};return r in n?(n[r](),[r,o]):t}}),ho("resolveSemanticColor",Me.default.meta??Me.default.internal,(t,r)=>{if(!Eo||!ht)return r(...t);if(t[0]!==ur)return r(...t);t[0]=Ue;var[o,n]=qm(Ue,t[1]),i=Ue==="midnight"?2:Ue==="light"?1:0;var l=$y[o]??o,c=(ht.data?.semanticColors?.[o]??ht.data?.semanticColors?.[l])?.[i];if(c)return c;var p=ht.data?.rawColors?.[n.raw];return p?n.opacity===1?p:(0,Qo.default)(p).alpha(n.opacity).hex():r(...t)})}function Xy(e=Ue){var t=Gy.theme.toLowerCase();return Ru(t)?t:e}function Oi(e,t){t||(t=Xy()),ht=e,Eo=!!ht,Ue=t,ur=`vd-theme-${Ky++}-${t}`,e&&(Me.Theme[ur.toUpperCase()]=ur,$m.DIVIDER_COLORS[ur]=$m.DIVIDER_COLORS[Ue],Object.keys(Me.Shadow).forEach(r=>Me.Shadow[r][ur]=Me.Shadow[r][Ue]),Object.keys(Me.SemanticColor).forEach(r=>{Me.SemanticColor[r][ur]={...Me.SemanticColor[r][Ue],override:e?.data?.semanticColors?.[r]?.[0]}})),Tu&&(zm.setShouldSyncAppearanceSettings(!1),zm.updateTheme(e?ur:t))}function Au(){var e=wo();Eo=!!e,Yy(),Oi(e,Ue),rs().catch(t=>console.error("Failed to update themes",t))}function qm(e,t){var r=t[qm._sym??=Object.getOwnPropertySymbols(t)[0]],o=Me.SemanticColor[r];return[r,o[e]]}var Qo,On,Me,Vm,zm,Gy,$m,Vy,zy,Qm,ye,$y,Km,Ky,ur,Ue,Eo,ht,Tu,qy,Ot=h(()=>{"use strict";a();s();se();cr();ar();At();Te();zt();lt();wi();Ti();he();Qo=z(_u()),On=z(ve());Me=L("SemanticColor"),Vm=ke(()=>{var e=Y("impl");return typeof e?.impl=="object"?e.impl:Y("storage")}),zm=L("updateTheme"),Gy=Ri("ThemeStore"),$m=L("DIVIDER_COLORS"),Vy=Qe("MessagesWrapperConnected",!1),{MessagesWrapper:zy}=pe(()=>Y("MessagesWrapper")),Qm=Cr(Ei("isThemeDark")),ye=Vt(pt(Pt("VENDETTA_THEMES"))),$y={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};Km={...Me.RawColor},Ky=0,ur="vd-theme",Ue="darker",Eo=!1,Tu=!1,qy=new Set(["darker","midnight","dark","light"])});var Fu={};k(Fu,{getLoaderConfigPath:()=>Du,getLoaderIdentity:()=>Zy,getLoaderName:()=>ns,getLoaderVersion:()=>Ou,getReactDevToolsProp:()=>Iu,getReactDevToolsVersion:()=>Lu,getStoredTheme:()=>Ii,getSysColors:()=>Ym,getThemeFilePath:()=>Pu,getVendettaLoaderIdentity:()=>Li,isFontSupported:()=>Nu,isLoaderConfigSupported:()=>is,isPyonLoader:()=>Oe,isReactDevToolsPreloaded:()=>In,isSysColorsSupported:()=>Mu,isThemeSupported:()=>$t,isVendettaLoader:()=>tt});function tt(){return Pr!=null}function Oe(){return Ar!=null}function Jy(){if(!Oe()||tt())return null;var e={name:Ar.loaderName,features:{}};return is()&&(e.features.loaderConfig=!0),Mu()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>Ym(),configurable:!0})),$t()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var t=Ii()?.id;if(!t)return null;var{themes:r}=(Ot(),dt(qo));return r[t]??Ii()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function Zy(){return Oe()?Ar:tt()?Li():null}function Li(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:Jy()}function ns(){return Oe()?Ar.loaderName:tt()?Pr.name:"Unknown"}function Ou(){return Oe()?Ar.loaderVersion:null}function is(){return Oe()?!0:tt()?Pr.features.loaderConfig:!1}function $t(){return Oe()?Ar.hasThemeSupport:tt()?Pr.features.themes!=null:!1}function Ii(){if(Oe())return Ar.storedTheme;if(tt()){var e=Pr.features.themes?.prop;return e&&globalThis[e]||null}return null}function Pu(){return Oe()?"pyoncord/current-theme.json":tt()?"vendetta_theme.json":null}function In(){return Oe()?!!window.__reactDevTools:tt()?Pr.features.devtools!=null:!1}function Iu(){return In()?Oe()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):tt()?Pr.features.devtools.prop:null:null}function Lu(){return In()?Oe()?window.__reactDevTools.version||null:tt()?Pr.features.devtools.version:null:null}function Mu(){return Oe()?Ar.isSysColorsSupported:tt()?Pr.features.syscolors!=null:!1}function Ym(){return Mu()?Oe()?Ar.sysColors:tt()?Pr.features.syscolors.prop:null:null}function Du(){return Oe()?"pyoncord/loader.json":tt()?"vendetta_loader.json":"loader.json"}function Nu(){return Oe()?Ar.fontPatch===2:!1}var Ar,Pr,cr=h(()=>{"use strict";a();s();Ar=globalThis.__PYON_LOADER__,Pr=globalThis.__vendetta_loader;Li()});var as={};k(as,{loaderConfig:()=>Qt,settings:()=>N});var N,Qt,Ke=h(()=>{"use strict";a();s();cr();Te();N=Vt(pt(Pt("VENDETTA_SETTINGS"))),Qt=Vt(pt(Ur(Du(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var ju={};k(ju,{default:()=>e_});var Xm,Zm,Bu,Uu,Ln,ku,Qr,Jm,Mi,e_,Hu=h(()=>{"use strict";a();s();$o();Xm=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),Zm={},Bu={},Uu=Gu("redesign_module");for([Jm,Mi]of Uu.getModules())for(Qr of Xm){if(Ln=void 0,Mi[Qr])Ln=Mi;else if(Mi.default?.[Qr])Ln=Mi.default;else continue;ku=Reflect.ownKeys(Ln).length,!(Bu[Qr]&&ku>=Bu[Qr])&&(Zm[Qr]=Ln[Qr],Bu[Qr]=Reflect.ownKeys(Ln).length,Uu.cacheId(Jm),ku===1&&Xm.delete(Qr))}Uu.finish();e_=Zm});var $u={};k($u,{getCachedPolyfillModules:()=>a_,getImportingModuleId:()=>kl,getModules:()=>Ya,metroModules:()=>Ze,requireModule:()=>Ht,subscribeModule:()=>Kl});function ls(e){Object.defineProperty(Ze,e,{enumerable:!1}),od.add(e),Wu(Number(e))}function Di(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function i_(e,t){if(Qu(t,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(de(),dt(bi)).patchAssets(e),e?.default?.name==="requireNativeComponent"&&zu("default",e,(l,c)=>{try{return c(...l)}catch{return l[0]}}),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(l,c,p){if(c==="isDeveloper"){var{settings:x}=(Ke(),dt(as));return x.enableDiscordDeveloperSettings??!1}return Reflect.get(l,c,p)}})),!td&&e.fileFinishedImporting&&(r_("fileFinishedImporting",e,([l])=>{Mn===-1||!l||(Ze[Mn].__filePath=l)}),td=!0),!ed&&window["__core-js_shared__"]){var r=l=>typeof l=="function"&&n_.apply(l,[]);window["__core-js_shared__"].inspectSource=r,ed=!0}if(e.findHostInstance_DEPRECATED){var o=Ze[t-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;Ze[t+n]?.isInitialized||ls(t+n)}e.isMoment&&zu("defineLocale",e,(l,c)=>{var p=e.locale();c(...l),e.locale(p)});var i=ss.get(Number(t));i&&(i.forEach(l=>l()),ss.delete(Number(t)))}function kl(){return Mn}function Kl(e,t){var r=ss.get(e)??new Set;return r.add(t),ss.set(e,r),()=>r.delete(t)}function Ht(e){if(Ze[0]?.isInitialized||Vu(0),!od.has(e)){if(Number(e)===-1)return Hu(),dt(ju);if(Ze[e]?.isInitialized&&!Ze[e]?.hasError)return Vu(e);var t=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(o_);var r;try{r=Vu(e)}catch{ls(e),r=void 0}return ErrorUtils.setGlobalHandler(t),r}}function*Ya(e,t=!1){yield[-1,(Hu(),dt(ju))];var r=Rr().findIndex[e];if(t&&!r?.[`_${Tr.FULL_LOOKUP}`]&&(r=void 0),!r?.[`_${Tr.NOT_FOUND}`]){for(var o in r)if(o[0]!=="_"){var n=Ht(Number(o));Di(n)||(yield[o,n])}for(var i in Ze){var l=Ht(Number(i));Di(l)||(yield[i,l])}}}function*a_(e){var t=Rr().polyfillIndex[e];for(var r in t){var o=Ht(Number(r));Di(o)||(yield[r,o])}if(!t[`_${Tr.FULL_LOOKUP}`])for(var n in Ze){var i=Ht(Number(n));Di(i)||(yield[n,i])}}var t_,r_,zu,Ze,Vu,ss,od,o_,n_,ed,td,Mn,rd,zo=h(()=>{"use strict";a();s();$o();Fl();t_=function(e){var t=Number(e),r=Ze[t],o=Rr().exportsIndex[t];if(o&po.BLACKLISTED)return ls(t),"continue";r.factory&&zu("factory",r,(n,i)=>{var l=Mn;Mn=t;var{1:c,4:p}=n;n[2]=x=>{var _=c(x);return _&&_.__esModule?_.default:_},n[3]=x=>{var _=c(x);if(_&&_.__esModule)return _;var U={};return _&&Object.assign(U,_),U.default=_,U},i(...n),Di(p.exports)?ls(t):i_(p.exports,t),Mn=l})},{before:r_,instead:zu}=ja(),Ze=window.modules,Vu=window.__r,ss=new Map,od=new Set,o_=()=>{},n_=Function.prototype.toString,ed=!1,td=!1,Mn=-1;for(rd in Ze)t_(rd)});var ld={};k(ld,{getCacherForUniq:()=>Xa,getMetroCache:()=>Rr,getPolyfillModuleCacher:()=>Gu,indexAssetName:()=>Ul,indexBlacklistFlag:()=>Wu,indexExportsFlags:()=>Qu,initMetroCache:()=>s_});function nd(){var e={_v:id,_buildNumber:Ho.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(()=>{for(var t in window.modules)(zo(),dt($u)).requireModule(t)},100),ut=e,e}function s_(){return Ku.apply(this,arguments)}function Ku(){return Ku=g(function*(){var e=yield xr.getItem(ad);if(e==null)return void nd();try{if(ut=JSON.parse(e),ut._v!==id)throw ut=null,"cache invalidated; cache version outdated";if(ut._buildNumber!==Ho.Build)throw ut=null,"cache invalidated; version mismatch";if(ut._modulesCount!==Object.keys(window.modules).length)throw ut=null,"cache invalidated; modules count mismatch"}catch{nd()}}),Ku.apply(this,arguments)}function sd(e){if(e){var t=po.EXISTS;return t}}function Qu(e,t){var r=sd(t);r&&r!==po.EXISTS&&(ut.exportsIndex[e]=r)}function Wu(e){ut.exportsIndex[e]|=po.BLACKLISTED}function Xa(e,t){var r=ut.findIndex[e]??={};return{cacheId(o,n){r[o]??=sd(n),Ni()},finish(o){t&&(r[`_${Tr.FULL_LOOKUP}`]=1),o&&(r[`_${Tr.NOT_FOUND}`]=1),Ni()}}}function Gu(e){var t=ut.polyfillIndex[e]??={};return{getModules(){return(zo(),dt($u)).getCachedPolyfillModules(e)},cacheId(r){t[r]=1,Ni()},finish(){t[`_${Tr.FULL_LOOKUP}`]=1,Ni()}}}function Ul(e,t){isNaN(t)||((ut.assetsIndex[e]??={})[t]=1,Ni())}var id,ad,ut,Rr,Ni,$o=h(()=>{"use strict";a();s();se();ar();za();Fl();id=52,ad="__bunny_metro_cache_key__",ut=null,Rr=window.__getMetroCache=()=>ut;Ni=Dl(()=>{xr.setItem(ad,JSON.stringify(ut))},1e3)});var cs={};k(cs,{Flux:()=>Zu,FluxDispatcher:()=>fr,NavigationNative:()=>Re,React:()=>Ui,ReactNative:()=>us,assets:()=>qu,channels:()=>Fi,clipboard:()=>It,commands:()=>Yo,constants:()=>To,i18n:()=>Ro,invites:()=>Yu,messageUtil:()=>Wt,navigation:()=>Xu,navigationStack:()=>Ju,semver:()=>Dn,toasts:()=>Bi,tokens:()=>ki,url:()=>Co});var To,Fi,Ro,Co,It,qu,Yu,Yo,Xu,Bi,Wt,Ju,Re,ki,Dn,Zu,fr,Ui,us,X=h(()=>{"use strict";a();s();he();To=L("Fonts","Permissions"),Fi=L("getVoiceChannelId"),Ro=L("Messages"),Co=L("openURL","openDeeplink"),It=L("setString","getString","hasString"),qu=L("registerAsset"),Yu=L("acceptInviteAndTransitionToInviteChannel"),Yo=L("getBuiltInCommands"),Xu=L("pushLazy"),Bi=ou("modules/toast/native/ToastActionCreators.tsx",!0),Wt=L("sendBotMessage"),Ju=L("createStackNavigator"),Re=L("NavigationContainer"),ki=L("colors","unsafe_rawColors"),Dn=L("parse","clean"),Zu=L("connectStores"),fr=Y("_interceptors"),Ui=window.React=L("createElement"),us=window.ReactNative=L("AppRegistry")});var ec=br((PE,ud)=>{a();s();ud.exports=So().moment});function fd({locale:e}){try{cd.default.locale(e.toLowerCase())}catch(t){et.error("Failed to fix timestamps...",t)}fr.unsubscribe("I18N_LOAD_SUCCESS",fd)}var cd,md,dd=h(()=>{"use strict";a();s();Vr();X();cd=z(ec());md=()=>{fr.subscribe("I18N_LOAD_SUCCESS",fd)}});var hd,pd=h(()=>{hd={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function _d(){var e=({locale:t})=>{var r={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=vd=r[t]??t;if(o.startsWith("en-")){Nn=null;return}yd.has(o)?Nn=o:(yd.add(o),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${o}/bunny.json`).then(n=>n.json()).then(n=>tc[o]=n).then(()=>o===vd&&(Nn=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return fr.subscribe("I18N_LOAD_SUCCESS",e),()=>fr.unsubscribe("I18N_LOAD_SUCCESS",e)}function Lt(e,t){var r=v[e];return new u_(r).format(t)}var u_,Nn,vd,yd,tc,v,Se=h(()=>{"use strict";a();s();X();he();pd();u_=Qe("MessageFormat"),Nn=null,vd=null,yd=new Set,tc={},v=new Proxy({},{get:(e,t)=>Nn&&tc[Nn]?.[t]?tc[Nn]?.[t]:hd[t]})});var fs,gd=h(()=>{fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});function Sd(e){var t=$l(e[0]);return t&&(e[0]=t()),e}var bd,Or,u,T,re=h(()=>{"use strict";a();s();lt();he();bd=L("jsx","jsxs","Fragment");Or=Symbol.for("react.fragment"),u=(...e)=>bd.jsx(...Sd(e)),T=(...e)=>bd.jsxs(...Sd(e))});var f_,Ir,je,ms,ds,Fn,ps,Xo,ge,ew,ct,tw,rw,P,ow,nw,rt,Jo,xd,iw,aw,Ed,wd,sw,Wr,lw,Ie,Kt,Td,Rd,Cd,uw,Ad,Bn,Pd,m_,ue,rc,cw,fw,mw,dw,pw,hw,vw,yw,Od,_w,Id,Ld,gw,bw,Sw,xw,Kr,oc,Ew,ww,Tw,Rw,Cw,Aw,kn,Pw,hs,ce=h(()=>{"use strict";a();s();lt();Wa();Tn();he();f_=Gt(([e],t)=>t[e]&&Object.keys(t).length===1,e=>`bunny.metro.common.components.bySingularProp(${e})`),Ir=e=>ke(()=>$e(f_(e))?.[e]),je=e=>ke(()=>Y(e)[e]),ms=Jl("FluxContainer(Alert)"),ds=L("Looks","Colors","Sizes"),Fn=Qe("HelpMessage"),ps=ke(()=>Y("useSafeAreaInsets").SafeAreaView),Xo=je("ActionSheetRow"),ge=Ir("Button"),ew=je("TwinButtons"),ct=Ir("IconButton"),tw=je("RowButton"),rw=je("PressableScale"),P=je("TableRow"),ow=je("TableRowIcon"),nw=je("TableRowTrailingText"),rt=je("TableRowGroup"),Jo=je("TableSwitchRow"),xd=Ir("FormSwitch"),iw=Ir("FormRadio"),aw=Ir("FormCheckbox"),Ed=Ir("FormSwitch"),wd=Ir("FormRadio"),sw=Ir("FormCheckbox"),Wr=je("Card"),lw=ke(()=>Y("RedesignCompat").RedesignCompat),Ie=je("Stack"),Kt=Ir("TextInput"),Td=je("SegmentedControl"),Rd=je("SegmentedControlPages"),Cd=Ir("useSegmentedControlState"),uw=je("CompatSegmentedControl"),Ad=je("FloatingActionButton"),Bn=je("ActionSheet"),Pd=je("BottomSheetTitleHeader"),m_=L("Text","LegacyText"),ue=ke(()=>m_.Text),rc=L("Form","FormSection"),{Form:cw,FormArrow:fw,FormCTA:mw,FormCTAButton:dw,FormCardSection:pw,FormCheckbox:hw,FormCheckboxRow:vw,FormCheckmark:yw,FormDivider:Od,FormHint:_w,FormIcon:Id,FormInput:Ld,FormLabel:gw,FormRadio:bw,FormRadioGroup:Sw,FormRadioRow:xw,FormRow:Kr,FormSection:oc,FormSelect:Ew,FormSliderRow:ww,FormSubLabel:Tw,FormSwitch:Rw,FormSwitchRow:Cw,FormTernaryCheckBox:Aw,FormText:kn,FormTitle:Pw}=pe(()=>rc),hs=je("FlashList")});var vs={};k(vs,{isSemanticColor:()=>ic,rawColors:()=>nc,resolveSemanticColor:()=>ac,semanticColors:()=>De});function ic(e){return Md.isSemanticColor(e)}function ac(e,t=p_.theme){return Md.resolveSemanticColor(t,e)}var De,nc,p_,Md,Ao=h(()=>{"use strict";a();s();Ot();X();he();De=Me?.default?.colors??To?.ThemeColorMap,nc=Me?.default?.unsafe_rawColors??To?.Colors,p_=Ri("ThemeStore"),Md=Me.default.meta??=Me.default.internal});var sc={};k(sc,{TextStyleSheet:()=>qt,createStyles:()=>qr,createThemedStyleSheet:()=>Zo});function qr(e){return ke(()=>h_.createStyles(e))}function Zo(e){for(var t in e)e[t]=new Proxy(Dd.StyleSheet.flatten(e[t]),{get(r,o,n){var i=Reflect.get(r,o,n);return ic(i)?ac(i):i}});return e}var Dd,h_,qt,Lr=h(()=>{"use strict";a();s();lt();he();Ao();Dd=z(ve()),h_=L("createStyles"),{TextStyleSheet:qt}=pe(()=>Y("TextStyleSheet"))});function mr({selectable:e,style:t,children:r}){return e?Un.Platform.select({ios:u(v_,{style:t,children:r}),default:u(Nd,{style:t,children:r,selectable:!0})}):u(Nd,{style:t,children:r})}var Un,Fd,v_,Nd,Bd=h(()=>{"use strict";a();s();re();X();Ao();Lr();Un=z(ve()),Fd=qr({codeBlock:{fontFamily:To.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:De.BACKGROUND_SECONDARY,color:De.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:De.BACKGROUND_TERTIARY,padding:10}}),v_=({style:e,children:t})=>u(Un.TextInput,{editable:!1,multiline:!0,style:[Fd().codeBlock,e&&e],value:t}),Nd=({selectable:e,style:t,children:r})=>u(Un.Text,{selectable:e,style:[Fd().codeBlock,t&&t],children:r})});var lc,kd,y_,Ce,uc=h(()=>{"use strict";a();s();Je();st();jl();Ut();jt();re();Se();X();ce();dr();Lr();lc=z(ve()),kd=Zo({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),Ce=function(e){"use strict";Ee(r,e);var t=we(r);function r(o){te(this,r);var n;return n=t.call(this,o),n.state={hasErr:!1},n}return ne(r,[{key:"render",value:function(){return this.state.hasErr?T(lc.ScrollView,{style:kd.view,children:[u(kn,{style:kd.title,children:v.UH_OH}),u(mr,{selectable:!0,style:{marginBottom:5},children:this.state.error.name}),u(mr,{selectable:!0,style:{marginBottom:5},children:this.state.error.message}),this.state.error.stack&&u(lc.ScrollView,{style:{maxHeight:420,marginBottom:5},children:u(mr,{selectable:!0,children:this.state.error.stack})}),u(ge,{size:"md",variant:"destructive",onPress:()=>this.setState({hasErr:!1}),text:v.RETRY})]}):this.props.children}}]),r}(y_=Ui.Component);$a(Ce,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function __(){return u(ys.Image,{style:{width:16,height:16},source:b("search")})}var ys,Po,Ud=h(()=>{"use strict";a();s();re();Se();de();ce();uc();ys=z(ve());Po=({onChangeText:e,placeholder:t,style:r})=>{var[o,n]=React.useState(""),i=l=>{n(l),e?.(l)};return u(Ce,{children:u(ys.View,{style:r,children:u(Kt,{grow:!0,isClearable:!0,leadingIcon:__,placeholder:t??v.SEARCH,onChange:i,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:o})})})}});function Hi({label:e,icon:t,noPadding:r=!1,noAnimation:o=!1,children:n}){var[i,l]=React.useState(!0);return T(Or,{children:[u(P,{label:e,icon:t&&u(P.Icon,{source:b(t)}),trailing:u(Kr.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:()=>{l(!i),o||ji.LayoutAnimation.configureNext(ji.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&u(Or,{children:u(ji.View,{style:!r&&{paddingHorizontal:15},children:n})})]})}var ji,jd=h(()=>{"use strict";a();s();re();de();ce();ji=z(ve())});var _s={};k(_s,{Codeblock:()=>mr,ErrorBoundary:()=>Ce,Search:()=>Po,Summary:()=>Hi});var dr=h(()=>{"use strict";a();s();Bd();uc();Ud();jd()});function gs(e,t,r,o,n){return g(function*(){if(e)return void e();var i=yield r().then(l=>l.default);typeof o=="string"&&(o={title:o}),t??=g_.getRootNavigationRef(),t.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>u(i,{...n})})})}var g_,jn,cc=h(()=>{"use strict";a();s();se();re();X();he();dr();g_=L("getRootNavigationRef"),jn=React.memo(()=>{var e=Re.useNavigation(),t=Re.useRoute(),{render:r,...o}=t.params;return React.useEffect(()=>void e.setOptions({...o}),[]),u(Ce,{children:u(r,{})})})});function b_(){var e=Re.useNavigation();return u(Or,{children:Object.keys(Mr).map(t=>u(oc,{title:t,children:Mr[t].filter(r=>r.usePredicate?.()??!0).map(r=>u(Kr,{label:r.title(),leading:u(Id,{source:r.icon}),trailing:Kr.Arrow,onPress:gs(r.onPress,e,r.render,r.title())}))},t))})}function Hd(e){e.push(me("default",Qe("getScreens",!1),(r,o)=>({...o,VendettaCustomPage:{title:"Bunny",render:()=>u(jn,{})},BUNNY_CUSTOM_PAGE:{title:"Bunny",render:()=>u(jn,{})}})));var t=me("default",Qe("UserSettingsOverviewWrapper",!1),(r,o)=>{var n=lr(o.props.children,i=>i.type?.name==="UserSettingsOverview");e.push(me("renderSupportAndAcknowledgements",n.type.prototype,(i,{props:{children:l}})=>{var c=l.findIndex(p=>p?.type?.name==="UploadLogsButton");c!==-1&&l.splice(c,1)})),e.push(me("render",n.type.prototype,(i,l)=>{var c=[Ro.Messages.BILLING_SETTINGS,Ro.Messages.PREMIUM_SETTINGS],p=lr(l.props.children,_=>_?.children?.[1]?.type===oc)?.children;if(p){var x=p.findIndex(_=>c.includes(_?.props.label));p.splice(-~x||4,0,u(b_,{}))}}))},!0);e.push(t)}var Gd=h(()=>{"use strict";a();s();re();At();zt();X();ce();he();Hn();cc()});function x_(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function Vd(e){var t=()=>Object.values(Mr).flatMap(n=>n.map(i=>({[i.key]:{type:"pressable",title:i.title,icon:i.icon,usePredicate:i.usePredicate,onPress:gs(i.onPress,null,i.render,i.title()),withArrow:!0,...i.rawTabsConfig}}))).reduce((n,i)=>Object.assign(n,i)),r=bs.SETTING_RENDERER_CONFIG,o=bs.SETTING_RENDERER_CONFIG;Object.defineProperty(bs,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>"Bunny",screen:{route:"VendettaCustomPage",getComponent:()=>jn}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>"Bunny",screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>jn}},...t()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(bs,"SETTING_RENDERER_CONFIG",{value:r,writable:!0,get:void 0,set:void 0})}),e.push(me("default",S_,(n,i)=>{if(!x_()){var{sections:l}=lr(i,p=>p.props?.sections).props,c=-~l.findIndex(p=>p.label===Ro.Messages.ACCOUNT_SETTINGS)||1;Object.keys(Mr).forEach(p=>{l.splice(c++,0,{label:p,title:p,settings:Mr[p].map(x=>x.key)})})}}))}var bs,S_,zd=h(()=>{"use strict";a();s();At();zt();X();he();Hn();cc();bs=L("SETTING_RENDERER_CONFIG"),S_=Qe("SettingsOverviewScreen",!1)});var mc={};k(mc,{patchSettings:()=>fc,registerSection:()=>Ss,registeredSections:()=>Mr});function Ss(e){return Mr[e.name]=e.items,()=>delete Mr[e.name]}function fc(){var e=new Array;return Hd(e),Vd(e),()=>e.forEach(t=>t())}var Mr,Hn=h(()=>{"use strict";a();s();Gd();zd();Mr={}});var xs={};k(xs,{showToast:()=>W});var E_,W,pr=h(()=>{"use strict";a();s();Se();de();lt();X();he();({uuid4:E_}=pe(()=>Y("uuid4"))),W=(e,t)=>Bi.open({key:`vd-toast-${E_()}`,content:e,source:t,icon:t});W.showCopyToClipboard=(e=v.COPIED_TO_CLIPBOARD)=>{W(e,b("toast_copy_link"))}});function Es({label:e,version:t,icon:r}){return u(P,{label:e,icon:u(P.Icon,{source:b(r)}),trailing:u(kn,{children:t}),onPress:()=>{It.setString(`${e} - ${t}`),W.showCopyToClipboard()}})}var $d=h(()=>{"use strict";a();s();re();de();X();ce();pr()});var Ts={};k(Ts,{connectToDebugger:()=>zi,getDebugInfo:()=>Yr,patchLogHook:()=>pc,socket:()=>Yt,toggleSafeMode:()=>Vi,versionHash:()=>Gi});function Vi(){return dc.apply(this,arguments)}function dc(){return dc=g(function*(){N.safeMode={...N.safeMode,enabled:!N.safeMode?.enabled},$t()&&(wo()?.id&&(N.safeMode.currentThemeId=wo().id),N.safeMode?.enabled?yield $r(null):N.safeMode?.currentThemeId&&(yield $r(ye[N.safeMode?.currentThemeId]))),setTimeout(di.reload,400)}),dc.apply(this,arguments)}function zi(e){if(Yt!==void 0&&Yt.readyState!==WebSocket.CLOSED&&Yt.close(),!e){W("Invalid debugger URL!",b("Small"));return}Yt=new WebSocket(`ws://${e}`),Yt.addEventListener("open",()=>W("Connected to debugger.",b("Check"))),Yt.addEventListener("message",t=>{try{(0,eval)(t.data)}catch(r){console.error(r)}}),Yt.addEventListener("error",t=>{console.log(`Debugger error: ${t.message}`),W("An error occurred with the debugger connection!",b("Small"))})}function pc(){var e=me("nativeLoggingHook",globalThis,t=>{Yt?.readyState===WebSocket.OPEN&&Yt.send(JSON.stringify({message:t[0],level:t[1]})),et.log(t[0])});return()=>{Yt&&Yt.close(),e()}}function Yr(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",o=ws.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:Gi.split("-")[0],loader:ns()},bunny:{version:Gi,loader:{name:ns(),version:Ou()}},discord:{version:Ho.Version,build:Ho.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...ws.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...ws.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:Er.device}},ios:{device:{manufacturer:Er.deviceManufacturer,brand:Er.deviceBrand,model:Er.deviceModel,codename:Er.device}}})}}var ws,Yt,Gi,Xr=h(()=>{"use strict";a();s();se();de();cr();ar();At();Ke();Ot();Vr();pr();ws=z(ve());Gi="60a95ab-dev"});function hc(){var e=Yr();Q(N);var t=[{label:v.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:v.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],r=[{label:v.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:v.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:v.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:v.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:v.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:Rs.Platform.select({android:v.CODENAME,ios:v.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return u(Rs.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:T(Ie,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[u(rt,{title:v.VERSIONS,children:t.map(o=>u(Es,{label:o.label,version:o.version,icon:o.icon}))}),u(rt,{title:v.PLATFORM,children:r.map(o=>u(Es,{label:o.label,version:o.version,icon:o.icon}))})]})})}var Rs,Qd=h(()=>{"use strict";a();s();re();Se();$d();Xr();Ke();Te();ce();Rs=z(ve())});var Kd={};k(Kd,{default:()=>Wd});function Wd(){Q(N);var e=Yr(),t=Re.useNavigation();return u(Cs.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:T(Ie,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[T(rt,{title:v.INFO,children:[u(P,{label:v.BUNNY,icon:u(P.Icon,{source:{uri:fs}}),trailing:u(P.TrailingText,{text:e.bunny.version})}),u(P,{label:"Discord",icon:u(P.Icon,{source:b("Discord")}),trailing:u(P.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),u(P,{arrow:!0,label:v.ABOUT,icon:u(P.Icon,{source:b("CircleInformationIcon-primary")}),trailing:P.Arrow,onPress:()=>t.push("BUNNY_CUSTOM_PAGE",{title:v.ABOUT,render:()=>u(hc,{})})})]}),T(rt,{title:v.LINKS,children:[u(P,{label:v.DISCORD_SERVER,icon:u(P.Icon,{source:b("Discord")}),trailing:P.Arrow,onPress:()=>Co.openDeeplink(au)}),u(P,{label:v.GITHUB,icon:u(P.Icon,{source:b("img_account_sync_github_white")}),trailing:P.Arrow,onPress:()=>Co.openURL(su)})]}),T(rt,{title:v.ACTIONS,children:[u(P,{label:v.RELOAD_DISCORD,icon:u(P.Icon,{source:b("ic_message_retry")}),onPress:()=>Cs.NativeModules.BundleUpdaterManager.reload()}),u(P,{label:N.safeMode?.enabled?v.RELOAD_IN_NORMAL_MODE:v.RELOAD_IN_SAFE_MODE,subLabel:N.safeMode?.enabled?v.RELOAD_IN_NORMAL_MODE_DESC:v.RELOAD_IN_SAFE_MODE_DESC,icon:u(P.Icon,{source:b("ic_privacy_24px")}),onPress:Vi}),u(Jo,{label:v.DEVELOPER_SETTINGS,icon:u(P.Icon,{source:b("ic_progress_wrench_24px")}),value:N.developerSettings,onValueChange:r=>{N.developerSettings=r}})]}),u(rt,{title:v.MISCELLANEOUS,children:u(Jo,{label:v.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:v.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:u(P.Icon,{source:b("ic_progress_wrench_24px")}),value:N.enableDiscordDeveloperSettings,onValueChange:r=>{N.enableDiscordDeveloperSettings=r}})})]})})}var Cs,qd=h(()=>{"use strict";a();s();re();Se();vc();Qd();de();Xr();Ke();Te();Gr();X();ce();Cs=z(ve())});function yc({title:e,confirmText:t,confirmColor:r,onConfirm:o,cancelText:n,placeholder:i,initialValue:l="",secureTextEntry:c}){var[p,x]=React.useState(l),[_,U]=React.useState("");function A(){var H=Promise.resolve(o(p));H.then(()=>{Yd.close()}).catch(V=>{U(V.message)})}return u(ms,{title:e,confirmText:t,confirmColor:r,isConfirmButtonDisabled:_.length!==0,onConfirm:A,cancelText:n,onCancel:()=>Yd.close(),children:u(Ld,{placeholder:i,value:p,onChange:H=>{x(typeof H=="string"?H:H.text),_&&U("")},returnKeyType:"done",onSubmitEditing:A,error:_||void 0,secureTextEntry:c,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var Yd,Xd=h(()=>{"use strict";a();s();re();ce();he();Yd=L("openLazy","close")});var Ps={};k(Ps,{showConfirmationAlert:()=>Xt,showCustomAlert:()=>As,showInputAlert:()=>$i});function Xt(e){var t=e;return t.body=e.content,delete t.content,t.isDismissable??=!0,Jd.show(t)}var Jd,As,$i,Oo=h(()=>{"use strict";a();s();se();he();Xd();Jd=L("openLazy","close");As=(e,t)=>Jd.openLazy({importer:g(function*(){return()=>React.createElement(e,t)})}),$i=e=>As(yc,e)});var ep=br((Zd,Os)=>{a();s();Je();st();Ut();Ml();jt();((e,t)=>{typeof define=="function"&&define.amd?define([],t):typeof Os=="object"&&Os.exports?Os.exports=t():e.fuzzysort=t()})(Zd,e=>{"use strict";var t=(S,y)=>{if(!S||!y)return Be;var E=H(S);nr(y)||(y=A(y));var O=E.bitflags;return(O&y._bitflags)!==O?Be:Ge(E,y)},r=(S,y,E)=>{if(!S)return E?.all?V(y,E):Cl;var O=H(S),M=O.bitflags,I=O.containsSpace,C=_(E?.threshold||0),j=E?.limit||Rl,F=0,J=0,q=y.length;function mt(Uo){F<j?(ka.add(Uo),++F):(++J,Uo._score>ka.peek()._score&&ka.replaceTop(Uo))}if(E?.key)for(var Xe=E.key,Z=0;Z<q;++Z){var at=y[Z],oe=Br(at,Xe);if(oe&&(nr(oe)||(oe=A(oe)),(M&oe._bitflags)===M)){var ae=Ge(O,oe);ae!==Be&&(ae._score<C||(ae.obj=at,mt(ae)))}}else if(E?.keys){var kr=E.keys,ir=kr.length;e:for(var Z=0;Z<q;++Z){var at=y[Z];{for(var ze=0,xe=0;xe<ir;++xe){var Xe=kr[xe],oe=Br(at,Xe);if(!oe){fo[xe]=fi;continue}nr(oe)||(oe=A(oe)),fo[xe]=oe,ze|=oe._bitflags}if((M&ze)!==M)continue}if(I)for(var wt=0;wt<O.spaceSearches.length;wt++)Ve[wt]=Et;for(var xe=0;xe<ir;++xe){if(oe=fo[xe],oe===fi){Ft[xe]=fi;continue}if(Ft[xe]=Ge(O,oe,!1,I),Ft[xe]===Be){Ft[xe]=fi;continue}if(I)for(var B=0;B<O.spaceSearches.length;B++){if(it[B]>-1e3&&Ve[B]>Et){var Tt=(Ve[B]+it[B])/4;Tt>Ve[B]&&(Ve[B]=Tt)}it[B]>Ve[B]&&(Ve[B]=it[B])}}if(I){for(var Bt=0;Bt<O.spaceSearches.length;Bt++)if(Ve[Bt]===Et)continue e}else{for(var Bo=!1,ko=0;ko<ir;ko++)if(Ft[ko]._score!==Et){Bo=!0;break}if(!Bo)continue}for(var kt=new c(ir),Rt=0;Rt<ir;Rt++)kt[Rt]=Ft[Rt];if(I)for(var le=0,xn=0;xn<O.spaceSearches.length;xn++)le+=Ve[xn];else for(var le=Et,Ct=0;Ct<ir;Ct++){var ae=kt[Ct];if(ae._score>-1e3&&le>Et){var Tt=(le+ae._score)/4;Tt>le&&(le=Tt)}ae._score>le&&(le=ae._score)}if(kt.obj=at,kt._score=le,E?.scoreFn){if(le=E.scoreFn(kt),!le)continue;le=_(le),kt._score=le}le<C||mt(kt)}}else for(var Z=0;Z<q;++Z){var oe=y[Z];if(oe&&(nr(oe)||(oe=A(oe)),(M&oe._bitflags)===M)){var ae=Ge(O,oe);ae!==Be&&(ae._score<C||mt(ae))}}if(F===0)return Cl;for(var mi=new Array(F),Z=F-1;Z>=0;--Z)mi[Z]=ka.poll();return mi.total=F+J,mi},o=(S,y="<b>",E="</b>")=>{for(var O=typeof y=="function"?y:void 0,M=S.target,I=M.length,C=S.indexes,j="",F=0,J=0,q=!1,mt=[],Xe=0;Xe<I;++Xe){var Z=M[Xe];if(C[J]===Xe){if(++J,q||(q=!0,O?(mt.push(j),j=""):j+=y),J===C.length){O?(j+=Z,mt.push(O(j,F++)),j="",mt.push(M.substr(Xe+1))):j+=Z+E+M.substr(Xe+1);break}}else q&&(q=!1,O?(mt.push(O(j,F++)),j=""):j+=E);j+=Z}return O?mt:j},n=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S="");var y=fe(S);return p(S,{_targetLower:y._lower,_targetLowerCodes:y.lowerCodes,_bitflags:y.bitflags})},i=()=>{nt.clear(),St.clear()},l=function(){function S(){te(this,S)}return ne(S,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((E,O)=>E-O)}},{key:"indexes",set:function(E){return this._indexes=E}},{key:"highlight",value:function(E,O){return o(this,E,O)}},{key:"score",get:function(){return x(this._score)}},{key:"score",set:function(E){this._score=_(E)}}]),S}(),c=function(S){Ee(E,S);var y=we(E);function E(){return te(this,E),y.apply(this,arguments)}return ne(E,[{key:"score",get:function(){return x(this._score)}},{key:"score",set:function(M){this._score=_(M)}}]),E}(En(Array)),p=(S,y)=>{var E=new l;return E.target=S,E.obj=y.obj??Be,E._score=y._score??Et,E._indexes=y._indexes??[],E._targetLower=y._targetLower??"",E._targetLowerCodes=y._targetLowerCodes??Be,E._nextBeginningIndexes=y._nextBeginningIndexes??Be,E._bitflags=y._bitflags??0,E},x=S=>S===Et?0:S>1?S:Math.E**(((-S+1)**.04307-1)*-2),_=S=>S===0?Et:S>1?S:1-Math.pow(Math.log(S)/-2+1,1/.04307),U=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S=""),S=S.trim();var y=fe(S),E=[];if(y.containsSpace){var O=S.split(/\s+/);O=[...new Set(O)];for(var M=0;M<O.length;M++)if(O[M]!==""){var I=fe(O[M]);E.push({lowerCodes:I.lowerCodes,_lower:O[M].toLowerCase(),containsSpace:!1})}}return{lowerCodes:y.lowerCodes,_lower:y._lower,containsSpace:y.containsSpace,bitflags:y.bitflags,spaceSearches:E}},A=S=>{if(S.length>999)return n(S);var y=nt.get(S);return y!==void 0||(y=n(S),nt.set(S,y)),y},H=S=>{if(S.length>999)return U(S);var y=St.get(S);return y!==void 0||(y=U(S),St.set(S,y)),y},V=(S,y)=>{var E=[];E.total=S.length;var O=y?.limit||Rl;if(y?.key)for(var M=0;M<S.length;M++){var I=S[M],C=Br(I,y.key);if(C!=Be){nr(C)||(C=A(C));var j=p(C.target,{_score:C._score,obj:I});if(E.push(j),E.length>=O)return E}}else if(y?.keys)for(var M=0;M<S.length;M++){for(var I=S[M],F=new c(y.keys.length),J=y.keys.length-1;J>=0;--J){var C=Br(I,y.keys[J]);if(!C){F[J]=fi;continue}nr(C)||(C=A(C)),C._score=Et,C._indexes.len=0,F[J]=C}if(F.obj=I,F._score=Et,E.push(F),E.length>=O)return E}else for(var M=0;M<S.length;M++){var C=S[M];if(C!=Be&&(nr(C)||(C=A(C)),C._score=Et,C._indexes.len=0,E.push(C),E.length>=O))return E}return E},Ge=(S,y,E=!1,O=!1)=>{if(E===!1&&S.containsSpace)return Le(S,y,O);for(var M=S._lower,I=S.lowerCodes,C=I[0],j=y._targetLowerCodes,F=I.length,J=j.length,Z=0,q=0,mt=0;;){var Xe=C===j[q];if(Xe){if(be[mt++]=q,++Z,Z===F)break;C=I[Z]}if(++q,q>=J)return Be}var Z=0,at=!1,oe=0,ae=y._nextBeginningIndexes;ae===Be&&(ae=y._nextBeginningIndexes=bt(y.target)),q=be[0]===0?0:ae[be[0]-1];var kr=0;if(q!==J)for(;;)if(q>=J){if(Z<=0||(++kr,kr>200))break;--Z;var ir=Pe[--oe];q=ae[ir]}else{var Xe=I[Z]===j[q];if(Xe){if(Pe[oe++]=q,++Z,Z===F){at=!0;break}++q}else q=ae[q]}var ze=F<=1?-1:y._targetLower.indexOf(M,be[0]),xe=!!~ze,wt=xe?ze===0||y._nextBeginningIndexes[ze-1]===ze:!1;if(xe&&!wt){for(var B=0;B<ae.length;B=ae[B])if(!(B<=ze)){for(var Tt=0;Tt<F&&I[Tt]===y._targetLowerCodes[B+Tt];Tt++);if(Tt===F){ze=B,wt=!0;break}}}var Bt=Rt=>{for(var le=0,xn=0,Ct=1;Ct<F;++Ct)Rt[Ct]-Rt[Ct-1]!==1&&(le-=Rt[Ct],++xn);var mi=Rt[F-1]-Rt[0]-(F-1);if(le-=(12+mi)*xn,Rt[0]!==0&&(le-=Rt[0]*Rt[0]*.2),!at)le*=1e3;else{for(var Uo=1,Ct=ae[0];Ct<J;Ct=ae[Ct])++Uo;Uo>24&&(le*=(Uo-24)*10)}return le-=(J-F)/2,xe&&(le/=1+F*F*1),wt&&(le/=1+F*F*1),le-=(J-F)/2,le};if(at)if(wt){for(var B=0;B<F;++B)be[B]=ze+B;var Bo=be,ko=Bt(be)}else var Bo=Pe,ko=Bt(Pe);else{if(xe)for(var B=0;B<F;++B)be[B]=ze+B;var Bo=be,ko=Bt(Bo)}y._score=ko;for(var B=0;B<F;++B)y._indexes[B]=Bo[B];y._indexes.len=F;var kt=new l;return kt.target=y.target,kt._score=y._score,kt._indexes=y._indexes,kt},Le=(S,y,E)=>{for(var O=new Set,M=0,I=Be,C=0,j=S.spaceSearches,F=j.length,J=0,q=()=>{for(var Bt=J-1;Bt>=0;Bt--)y._nextBeginningIndexes[xt[Bt*2+0]]=xt[Bt*2+1]},mt=!1,B=0;B<F;++B){it[B]=Et;var Xe=j[B];if(I=Ge(Xe,y),E){if(I===Be)continue;mt=!0}else if(I===Be)return q(),Be;var Z=B===F-1;if(!Z){for(var at=I._indexes,oe=!0,ae=0;ae<at.len-1;ae++)if(at[ae+1]-at[ae]!==1){oe=!1;break}if(oe)for(var kr=at[at.len-1]+1,ir=y._nextBeginningIndexes[kr-1],ze=kr-1;ze>=0&&ir===y._nextBeginningIndexes[ze];ze--)y._nextBeginningIndexes[ze]=kr,xt[J*2+0]=ze,xt[J*2+1]=ir,J++}M+=I._score/F,it[B]=I._score/F,I._indexes[0]<C&&(M-=(C-I._indexes[0])*2),C=I._indexes[0];for(var xe=0;xe<I._indexes.len;++xe)O.add(I._indexes[xe])}if(E&&!mt)return Be;q();var wt=Ge(S,y,!0);if(wt!==Be&&wt._score>M){if(E)for(var B=0;B<F;++B)it[B]=wt._score/F;return wt}E&&(I=y),I._score=M;var B=0;for(var Tt of O)I._indexes[B++]=Tt;return I._indexes.len=B,I},fe=S=>{for(var y=S.length,E=S.toLowerCase(),O=[],M=0,I=!1,C=0;C<y;++C){var j=O[C]=E.charCodeAt(C);if(j===32){I=!0;continue}var F=j>=97&&j<=122?j-97:j>=48&&j<=57?26:j<=127?30:31;M|=1<<F}return{lowerCodes:O,bitflags:M,containsSpace:I,_lower:E}},or=S=>{for(var y=S.length,E=[],O=0,M=!1,I=!1,C=0;C<y;++C){var j=S.charCodeAt(C),F=j>=65&&j<=90,J=F||j>=97&&j<=122||j>=48&&j<=57,q=F&&!M||!I||!J;M=F,I=J,q&&(E[O++]=C)}return E},bt=S=>{for(var y=S.length,E=or(S),O=[],M=E[0],I=0,C=0;C<y;++C)M>C?O[C]=M:(M=E[++I],O[C]=M===void 0?y:M);return O},nt=new Map,St=new Map,be=[],Pe=[],xt=[],Ve=[],it=[],fo=[],Ft=[],Br=(S,y)=>{var E=S[y];if(E!==void 0)return E;if(typeof y=="function")return y(S);var O=y;Array.isArray(y)||(O=y.split("."));for(var M=O.length,I=-1;S&&++I<M;)S=S[O[I]];return S},nr=S=>typeof S=="object"&&typeof S._bitflags=="number",Rl=1/0,Et=-Rl,Cl=[];Cl.total=0;var Be=null,fi=n(""),ay=S=>{var y=[],E=0,O={},M=I=>{for(var C=0,j=y[C],F=1;F<E;){var J=F+1;C=F,J<E&&y[J]._score<y[F]._score&&(C=J),y[C-1>>1]=y[C],F=1+(C<<1)}for(var q=C-1>>1;C>0&&j._score<y[q]._score;q=(C=q)-1>>1)y[C]=y[q];y[C]=j};return O.add=I=>{var C=E;y[E++]=I;for(var j=C-1>>1;C>0&&I._score<y[j]._score;j=(C=j)-1>>1)y[C]=y[j];y[C]=I},O.poll=I=>{if(E!==0){var C=y[0];return y[0]=y[--E],M(),C}},O.peek=I=>{if(E!==0)return y[0]},O.replaceTop=I=>{y[0]=I,M()},O},ka=ay();return{single:t,go:r,prepare:n,cleanup:i}})});var vt=br((bC,tp)=>{a();s();tp.exports=So().react});function en({card:e,...t}){Q(N);var[r,o]=React.useState(""),n=(0,_c.useMemo)(()=>{var c=t.items;return t.resolveItem&&(c=c.map(t.resolveItem)),c.filter(p=>p&&typeof p=="object")},[t.items]),i=(0,_c.useMemo)(()=>r?rp.default.go(r,n,{keys:t.searchKeywords}).map(c=>c.obj):n,[n,r]),l=T(Is.View,{style:{paddingBottom:8},children:[t.ListHeaderComponent&&u(t.ListHeaderComponent,{}),N.safeMode?.enabled&&T(Is.View,{style:{marginBottom:10},children:[u(Fn,{messageType:0,children:t.safeModeMessage}),t.safeModeExtras]}),u(Po,{onChangeText:c=>o(c)})]});return T(Ce,{children:[u(hs,{data:i,extraData:r,keyExtractor:c=>c?.id,estimatedItemSize:136,ListHeaderComponent:l,contentContainerStyle:{padding:8,paddingHorizontal:12},ItemSeparatorComponent:()=>u(Is.View,{style:{height:8}}),ListFooterComponent:t.ListFooterComponent,renderItem:({item:c})=>u(e,{item:c})}),(t.fetchFunction??t.onFabPress)&&u(Ad,{icon:b("PlusLargeIcon"),onPress:t.onFabPress??(()=>{It.getString().then(c=>$i({initialValue:c.match(Ci)?.[0]??"",placeholder:v.URL_PLACEHOLDER,onConfirm:p=>t.fetchFunction(p),confirmText:v.INSTALL,cancelText:v.CANCEL}))})})]})}var rp,_c,Is,Ls=h(()=>{"use strict";a();s();re();Se();de();Ke();Te();Gr();X();ce();Oo();dr();rp=z(ep()),_c=z(vt()),Is=z(ve())});var op,np=h(()=>{"use strict";a();s();X();Lr();op=qr({smallIcon:{tintColor:ki.colors.LOGO_PRIMARY,height:18,width:18}})});function ap(e,t,r){ip.openLazy(t,e,r??{})}function tn(e){ip.hideActionSheet(e)}var ip,Ms=h(()=>{"use strict";a();s();he();ip=L("openLazy","hideActionSheet")});function w_(){var e=gc();if(!e.authors)return null;var t=["by "];for(var r of e.authors)t.push(typeof r=="string"?r:r.name),t.push(", ");return t.pop(),u(ue,{variant:"text-md/semibold",color:"text-muted",children:t})}function T_(){var e=op(),t=gc(),r=t.icon&&b(t.icon),o=u(ue,{numberOfLines:1,variant:"heading-lg/semibold",children:t.name});return r?T(Io.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[u(Io.Image,{style:e.smallIcon,source:r}),o]}):o}function bc({item:e}){return e.usePluginState(),u(sp.Provider,{value:e,children:u(Wr,{children:T(Ie,{spacing:16,children:[T(Io.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[T(Io.View,{style:{flexShrink:1},children:[u(T_,{}),u(w_,{})]}),u(Io.View,{children:T(Ie,{spacing:12,direction:"horizontal",children:[u(R_,{}),u(xd,{value:e.isEnabled(),onValueChange:t=>{e.toggle(t)}})]})})]}),u(ue,{variant:"text-md/medium",children:e.description})]})})})}var Gn,Io,sp,gc,R_,lp=h(()=>{"use strict";a();s();re();np();de();X();ce();Ms();Gn=z(vt()),Io=z(ve()),sp=(0,Gn.createContext)(null),gc=()=>(0,Gn.useContext)(sp);R_=(0,Gn.memo)(()=>{var e=gc(),t=Re.useNavigation();return T(Io.View,{style:{flexDirection:"row",gap:6},children:[u(ct,{size:"sm",variant:"secondary",icon:b("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>t.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),u(ct,{size:"sm",variant:"secondary",icon:b("CircleInformationIcon-primary"),onPress:()=>void ap("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:t})})]})})});var yt,rn,$,Jr=h(()=>{"use strict";a();s();se();Ke();Te();zt();Gr();Vr();yt=Vt(pt(Pt("VENDETTA_PLUGINS"))),rn={},$={plugins:yt,pluginFetch(e){return g(function*(){return e.startsWith(xo)&&(e=e.replace(xo,lu)),yield We(e,{cache:"no-store"})})()},fetchPlugin(e){return g(function*(){e.endsWith("/")||(e+="/");var t=yt[e],r;try{r=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(t?.manifest.hash!==r.hash)try{o=yield(yield this.pluginFetch(e+(r.main||"index.js"))).text()}catch{}if(!o&&!t)throw new Error(`Failed to fetch JS for ${e}`);yt[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:o??t.js}}).apply(this)},installPlugin(e,t=!0){return g(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in yt)throw new Error("Plugin already installed");yield this.fetchPlugin(e),t&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return g(function*(){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield pt(Pt(e.id))},logger:new Pi(`Bunny \xBB ${e.manifest.name}`)},r=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(r)(t),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return g(function*(){e.endsWith("/")||(e+="/");var t=yt[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{if(!N.safeMode?.enabled){var r=yield this.evalPlugin(t);rn[e]=r,r.onLoad?.()}t.enabled=!0}catch(o){et.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,o);try{rn[t.id]?.onUnload?.()}catch(n){et.error(`Plugin ${t.id} errored whilst unloading`,n)}delete rn[e],t.enabled=!1}}).apply(this)},stopPlugin(e,t=!0){e.endsWith("/")||(e+="/");var r=yt[e],o=rn[e];if(!r)throw new Error("Attempted to stop non-existent plugin");if(!N.safeMode?.enabled){try{o?.onUnload?.()}catch(n){et.error(`Plugin ${r.id} errored whilst unloading`,n)}delete rn[e]}t&&(r.enabled=!1)},removePlugin(e){return g(function*(){e.endsWith("/")||(e+="/");var t=yt[e];t.enabled&&this.stopPlugin(e),delete yt[e],yield Cn(e)}).apply(this)},initPlugins(){return g(function*(){yield jr(N,yt);var e=Object.keys(yt);if(!N.safeMode?.enabled){var t=this;yield m(e.filter(r=>yt[r].enabled).map(function(){var r=g(function*(o){return yt[o].update&&(yield t.fetchPlugin(o).catch(n=>et.error(n.message))),yield t.startPlugin(o)});return function(o){return r.apply(this,arguments)}}())),e.filter(r=>!yt[r].enabled&&yt[r].update).forEach(r=>this.fetchPlugin(r))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(rn).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>rn[e]?.settings}});var Wi={};k(Wi,{clearFolder:()=>Cc,downloadFile:()=>Ac,fileExists:()=>nn,readFile:()=>Qi,removeFile:()=>on,writeFile:()=>Zr});function Cc(e){return Sc.apply(this,arguments)}function Sc(){return Sc=g(function*(e,t="pyoncord/"){if(typeof ee.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield ee.clearFolder("documents",`${t}${e}`))}),Sc.apply(this,arguments)}function on(e){return xc.apply(this,arguments)}function xc(){return xc=g(function*(e,t="pyoncord/"){if(typeof ee.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield ee.removeFile("documents",`${t}${e}`))}),xc.apply(this,arguments)}function nn(e){return Ec.apply(this,arguments)}function Ec(){return Ec=g(function*(e,t="pyoncord/"){return yield ee.fileExists(`${ee.getConstants().DocumentsDirPath}/${t}${e}`)}),Ec.apply(this,arguments)}function Zr(e,t){return wc.apply(this,arguments)}function wc(){return wc=g(function*(e,t,r="pyoncord/"){if(typeof t!="string")throw new Error("Argument 'data' must be a string");return void(yield ee.writeFile("documents",`${r}${e}`,t,"utf8"))}),wc.apply(this,arguments)}function Qi(e){return Tc.apply(this,arguments)}function Tc(){return Tc=g(function*(e,t="pyoncord/"){try{return yield ee.readFile(`${ee.getConstants().DocumentsDirPath}/${t}${e}`,"utf8")}catch(r){throw new Error(`An error occured while writing to '${e}'`,{cause:r})}}),Tc.apply(this,arguments)}function Ac(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=g(function*(e,t,r="pyoncord/"){var o=yield fetch(e).then(c=>c.blob()),n=yield new Promise(c=>{var p=new FileReader;p.onload=()=>c(p.result),p.readAsDataURL(o)}),i;if(n==null)throw new Error("Failed to convert blob to data URL");var l=n.indexOf("base64,");if(l===-1)throw new Error("dataURL does not contain base64");return i=n.slice(l+7),void(yield ee.writeFile("documents",`${r}${t}`,i,"base64"))}),Rc.apply(this,arguments)}var an=h(()=>{"use strict";a();s();se();ar()});function Lc(e){return{get:g(function*(){try{return JSON.parse(yield Qi(e))}catch(t){throw new Error(`Failed to parse storage from '${e}'`,{cause:t})}}),set:function(){var t=g(function*(r){if(!r||typeof r!="object")throw new Error("data needs to be an object");yield Zr(e,JSON.stringify(r))});return function(r){return t.apply(this,arguments)}}(),exists:g(function*(){return yield nn(e)})}}function fp(e,t,r){var o=new WeakMap;return new Proxy(e,{get(n,i){if(i===up)return r;var l=[...t,i],c=n[i];if(c&&typeof c=="object"){var p=c;c=o.get(p),c||(c=fp(p,l,r),o.set(p,c))}return c!=null&&r.emit("GET",{path:l,value:c}),c},set(n,i,l){return n[i]=l,r.emit("SET",{path:[...t,i],value:l}),!0},deleteProperty(n,i){var l=delete n[i];return l&&r.emit("DEL",{path:[...t,i]}),l}})}function C_(e={}){var t=new wn;return{proxy:fp(e,[],t),emitter:t}}function Ds(e){if(e[Pc])throw new Error("An error occured while initializing the storage",{cause:e[Pc]});var t=e[up];if(t==null)throw new Error(`InvalidArgumentException - storage[emitterSymbol] is ${typeof t}`);var[,r]=React.useReducer(o=>~o,0);React.useEffect(()=>{var o=()=>r();return t.on("SET",o),t.on("DEL",o),()=>{t.off("SET",o),t.off("DEL",o)}},[])}function mp(e,t){return Oc.apply(this,arguments)}function Oc(){return Oc=g(function*(e,t){sn[e]=t,yield Lc(e).set(t)}),Oc.apply(this,arguments)}function A_(e,t={},r){var o=i=>{var{proxy:l,emitter:c}=C_(i),p=()=>n.set(l);c.on("SET",p),c.on("DEL",p),r(l)},n=Lc(e);sn[e]?o(sn[e]):n.exists().then(function(){var i=g(function*(l){l?o(yield n.get()):(yield n.set(t),o(t))});return function(l){return i.apply(this,arguments)}}())}function Mc(e){return Ic.apply(this,arguments)}function Ic(){return Ic=g(function*(e){if(sn[e])return sn[e];var t=Lc(e);if(yield t.exists())return sn[e]=yield t.get();console.log("no "+e)}),Ic.apply(this,arguments)}function dp(e){return sn[e]}function Dc(...e){return Promise.all(e.map(t=>t[cp]))}var up,Pc,cp,sn,Ki,qi=h(()=>{"use strict";a();s();se();an();Qa();up=Symbol.for("bunny.storage.emitter"),Pc=Symbol.for("bunny.storage.initError"),cp=Symbol.for("bunny.storage.promise"),sn={};Ki=(e,t={})=>{var r=new Promise(p=>l=p),o,n,i,l;A_(e,t,p=>{o=p,n=!0,l()});var c=()=>{if(n)return!0;throw new Error("Attempted to access storage without initializing")};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(p=>[p,(x,..._)=>c()&&Reflect[p](o,..._)])),get(p,x,_){return x===Pc?i:x===cp?r:c()&&Reflect.get(o??p,x,_)}})}});function I_(e,t=null,r=!1){if(e.guild_id===uu){var o;if(e.parent_id===cu)o="Plugin";else if(e.parent_id===Ai&&$t())o="Theme";else return;var{firstMessage:n}=r?P_(e):{firstMessage:t},i=n?.content?.match(Ci)?.filter(Yi[o].urlsFilter);if(!(!i||!i[0]))return o==="Plugin"&&!i[0].endsWith("/")&&(i[0]+="/"),[o,i[0]]}}function L_(e,t=null,r=!1){var[o,n]=I_(e,t,r)??[];Q($.plugins),Q(ye);var[i,l]=React.useState(!1);if(!o||!n)return[!0];var c=!!Yi[o].storage[n],p=function(){var x=g(function*(){l(!0);try{yield Yi[o].installOrRemove(n)}catch(_){W(_.message,b("Small"))}finally{l(!1)}});return function(){return x.apply(this,arguments)}}();return[!1,o,c,i,p]}var P_,O_,Yi,M_,pp,hp=h(()=>{"use strict";a();s();se();re();Se();Jr();de();cr();At();Te();Ot();Gr();lt();ce();he();dr();pr();({useFirstForumPostMessage:P_}=pe(()=>Y("useFirstForumPostMessage"))),O_=L("MostCommonForumPostReaction"),Yi={Plugin:{storage:$.plugins,urlsFilter:e=>e.startsWith(xo),installOrRemove:e=>{var t=Yi.Plugin.storage[e];return t?$.removePlugin(e):$.installPlugin(e)}},Theme:{storage:ye,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var t=Yi.Theme.storage[e];return t?Ko(e):zr(e)}}};M_=()=>me("MostCommonForumPostReaction",O_,([{thread:e,firstMessage:t}],r)=>{var[o,n,i,l,c]=L_(e,t,!0);if(!o)return T(Or,{children:[r,u(Ce,{children:u(ge,{size:"sm",loading:l,disabled:l,variant:i?"secondary":"primary",text:i?v.UNINSTALL:v.INSTALL,onPress:c,icon:b(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),pp=()=>{var e=[M_()];return()=>e.map(t=>t())}});function vp(e){if(e.startsWith(xo))return"plugin";if(e.endsWith(".json")&&$t())return"theme"}function yp(e,t){(e==="plugin"?$.installPlugin.bind($):zr)(t).then(()=>{W(v.SUCCESSFULLY_INSTALLED,b("Check"))}).catch(r=>{W(r.message,b("Small"))})}var D_,N_,F_,B_,k_,_p,gp=h(()=>{"use strict";a();s();se();Se();Jr();de();cr();At();Ot();Gr();lt();X();wi();Tn();he();Oo();pr();D_=$e(Ei("showSimpleActionSheet")),N_=L("handleClick"),{openURL:F_}=pe(()=>Co),{getChannelId:B_}=pe(()=>Fi),{getChannel:k_}=pe(()=>Y("getChannel"));_p=()=>{var e=new Array;return e.push(me("showSimpleActionSheet",D_,t=>{if(t[0].key==="LongPressUrl"){var{header:{title:r},options:o}=t[0],n=vp(r);n&&o.push({label:v.INSTALL_ADDON,onPress:()=>yp(n,r)})}})),e.push(ho("handleClick",N_,function(){var t=g(function*(r,o){var{href:n}=r[0],i=vp(n);if(!i)return o.apply(this,r);if(i==="theme"&&k_(B_())?.parent_id!==Ai)return o.apply(this,r);Xt({title:v.HOLD_UP,content:Lt("CONFIRMATION_LINK_IS_A_TYPE",{urlType:i}),onConfirm:()=>yp(i,n),confirmText:v.INSTALL,cancelText:v.CANCEL,secondaryConfirmText:v.OPEN_IN_BROWSER,onConfirmSecondary:()=>F_(n)})});return function(r,o){return t.apply(this,arguments)}}())),()=>e.forEach(t=>t())}});var Sp={};k(Sp,{default:()=>U_});var bp,U_,xp=h(()=>{"use strict";a();s();Nc();hp();gp();bp=[],U_=Ep({manifest:{id:"bunny.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:["pyoncord"]},start(){bp=[pp(),_p()]},stop(){bp.forEach(e=>e())}})});function Ep(e){return e[Symbol.for("bunny.core.plugin")]=!0,e}var wp,Nc=h(()=>{"use strict";a();s();wp=()=>({"bunny.quickinstall":(xp(),dt(Sp))})});var Ns,eo,Vn,Xi=h(()=>{"use strict";a();s();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(Ns||(Ns={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(eo||(eo={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(Vn||(Vn={}))});var Rp={};k(Rp,{default:()=>V_});function Tp(e){return"```js\n"+e.replaceAll("`","`"+G_)+"\n```"}var j_,H_,G_,V_,Cp=h(()=>{"use strict";a();s();se();Se();Xi();Ke();X();he();j_=L("inspect"),H_=g(function*(){}).constructor,G_="\u200B";V_=()=>({name:"eval",description:v.COMMAND_EVAL_DESC,shouldHide:()=>N.enableEvalCommand===!0,options:[{name:"code",type:eo.STRING,description:v.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:eo.BOOLEAN,description:v.COMMAND_EVAL_OPT_ASYNC}],execute([e,t],r){return g(function*(){try{var o=j_.inspect(t?.value?yield H_(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;Wt.sendBotMessage(r.channel.id,Tp(n))}catch(i){Wt.sendBotMessage(r.channel.id,Tp(i?.stack??i))}})()}})});var Ap={};k(Ap,{default:()=>z_});var z_,Pp=h(()=>{"use strict";a();s();Se();Xi();Xr();X();z_=()=>({name:"debug",description:v.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:eo.BOOLEAN,description:v.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=Yr(),o=["**Bunny Debug Info**",`> Bunny: ${r.bunny.version} (${r.bunny.loader.name} ${r.bunny.loader.version})`,`> Discord: ${r.discord.version} (${r.discord.build})`,`> React: ${r.react.version} (RN ${r.react.nativeVersion})`,`> Hermes: ${r.hermes.version} (bcv${r.hermes.bytecodeVersion})`,`> System: ${r.os.name} ${r.os.version} ${r.os.sdk?`(SDK ${r.os.sdk})`:""}`.trimEnd(),`> Device: ${r.device.model} (${r.device.codename})`].join(`
`);e?.value?Wt.sendBotMessage(t.channel.id,o):Wt.sendMessage(t.channel.id,{content:o})}})});var Op={};k(Op,{default:()=>$_});var $_,Ip=h(()=>{"use strict";a();s();Se();Jr();Xi();X();$_=()=>({name:"plugins",description:v.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:eo.BOOLEAN,description:v.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=Object.values($.plugins).filter(Boolean);r.sort((l,c)=>l.manifest.name.localeCompare(c.manifest.name));var o=r.filter(l=>l.enabled).map(l=>l.manifest.name),n=r.filter(l=>!l.enabled).map(l=>l.manifest.name),i=[`**Installed Plugins (${r.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?Wt.sendBotMessage(t.channel.id,i):Wt.sendMessage(t.channel.id,{content:i})}})});var Fs={};k(Fs,{patchCommands:()=>Fc,registerCommand:()=>zn});function Fc(){var e=me("getBuiltInCommands",Yo,([t],r)=>[...r,...Ji.filter(o=>(t instanceof Array?t.includes(o.type):t===o.type)&&o.__bunny?.shouldHide?.()!==!1)]);return[(Cp(),dt(Rp)),(Pp(),dt(Ap)),(Ip(),dt(Op))].forEach(t=>zn(t.default())),()=>{Ji=[],e()}}function zn(e){var t;try{t=Yo.getBuiltInCommands(Vn.CHAT,!0,!1)}catch{t=Yo.getBuiltInCommands(Object.values(Vn),!0,!1)}t.sort((n,i)=>parseInt(i.id)-parseInt(n.id));var r=t[t.length-1];if(e.id=(parseInt(r.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=Vn.CHAT,e.inputType=Ns.BUILT_IN,e.displayName??=e.name,e.displayDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return ho("execute",e,(n,i)=>{Promise.resolve(i.apply(e,n)).then(l=>{l&&typeof l=="object"&&Wt.sendMessage(n[1].channel.id,l)}).catch(l=>{et.error("Failed to execute command",l)})}),Ji.push(e),()=>Ji=Ji.filter(({id:n})=>n!==e.id)}var Ji,Zi=h(()=>{"use strict";a();s();Xi();At();Vr();X();Ji=[]});var kc={};k(kc,{dispatcher:()=>Bs,injectFluxInterceptor:()=>Bc,intercept:()=>W_});function Bc(){var e=t=>{for(var r of ks){var o=r(t);o!=null&&(o?typeof o=="object"&&(Object.assign(t,o),t[Q_]=!0):t[Lp]=!0)}return Lp in t};return(Bs._interceptors??=[]).unshift(e),()=>Bs._interceptors&&=Bs._interceptors.filter(t=>t!==e)}function W_(e){return ks.push(e),()=>{ks=ks.filter(t=>t!==e)}}var Lp,Q_,Bs,ks,Uc=h(()=>{"use strict";a();s();X();Lp=Symbol.for("bunny.flux.blocked"),Q_=Symbol.for("bunny.flux.modified"),Bs=fr,ks=[]});var jc={};k(jc,{fs:()=>Wi,loader:()=>Fu,modules:()=>Ha});var Mp=h(()=>{"use strict";a();s();an();cr();ar()});var Hc={};k(Hc,{assets:()=>bi,commands:()=>Fs,debug:()=>Ts,flux:()=>kc,native:()=>jc,patcher:()=>Vo,settings:()=>as,storage:()=>es});var Gc=h(()=>{"use strict";a();s();de();Zi();Xr();Uc();Mp();At();Ke();Te()});function ea(e,t){return(...r)=>{var o=t(...r);return e.push(o),o}}function Dp(e){var t=new Array,r={...window.bunny,api:{...window.bunny.api,patcher:{before:ea(t,Vo.before),after:ea(t,Vo.after),instead:ea(t,Vo.instead)},commands:{...window.bunny.api.commands,registerCommand:ea(t,zn)},flux:{...window.bunny.api.flux,intercept:ea(t,window.bunny.api.flux.intercept)}},plugin:{createStorage:()=>Ki(`plugins/storage/${e}.json`),manifest:Ne.get(e),logger:et}};return{object:r,disposers:t}}var Np=h(()=>{"use strict";a();s();Gc();Zi();qi();Vr();Lo()});var na={};k(na,{apiObjects:()=>ef,checkAndRegisterUpdates:()=>af,corePluginInstances:()=>Us,deleteRepository:()=>Y_,disablePlugin:()=>of,enablePlugin:()=>rf,getId:()=>$n,getPluginSettingsComponent:()=>tf,initPlugins:()=>sf,installPlugin:()=>nf,isPluginEnabled:()=>Hs,isPluginInstalled:()=>Jt,pluginInstances:()=>Dr,pluginRepositories:()=>to,pluginSettings:()=>qe,refreshPlugin:()=>q_,registeredPlugins:()=>Ne,startPlugin:()=>oa,stopPlugin:()=>Vs,uninstallPlugin:()=>Gs,updateAndWritePlugin:()=>ta,updateRepository:()=>$c});function Fe(e,t,r){if(!e)throw new Error(`[${t}] Attempted to ${r}`)}function Fp(e,t){if(Dn.gt(e,t))return!0;var r=Dn.coerce(e);return r==null?!1:Dn.prerelease(e)?.includes("dev")&&Dn.eq(r,t)}function ra(e){return"parentRepository"in e}function $n(e){var t=js.get(e);return Fe(t,e?.name??"unknown","getting ID from an unregistered/invalid manifest"),t}function tf(e){var t=Dr.get(e);return t&&t.SettingsComponent?t.SettingsComponent:null}function Jt(e){return qe[e]!=null}function Hs(e){return!!qe[e]?.enabled}function ta(e,t,r){return Vc.apply(this,arguments)}function Vc(){return Vc=g(function*(e,t,r){var o=yield kp(e,`plugins/${t}/manifest.json`);if(o.parentRepository=e,r){o.jsPath=`plugins/scripts/${t}.js`;var n=yield K_(e,`plugins/${t}/index.js`);yield Zr(o.jsPath,n)}if(yield mp(`plugins/manifests/${t}.json`,o),Ne.has(t)){var i=Ne.get(t);return Object.assign(i,o)}return o}),Vc.apply(this,arguments)}function q_(e,t){return zc.apply(this,arguments)}function zc(){return zc=g(function*(e,t){var r=Ne.get(e);Fe(r,e,"refresh a non-registered plugin"),Fe(Dr.get(e),e,"refresh a non-started plugin"),Vs(e),ra(r)&&(r=yield ta(t??r.parentRepository,e,!0)),Ne.delete(e),Ne.set(e,r),js.set(r,e),yield oa(e)}),zc.apply(this,arguments)}function $c(e){return Qc.apply(this,arguments)}function Qc(){return Qc=g(function*(e){var t=yield kp(e,"repo.json"),r=to[e],o=!1;if(r)for(var i in r)t[i]||delete r[i];else{for(var n in t)if(Us.has(n))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${n}'`);o=!0,to[e]=t}yield Promise.all(Object.keys(t).map(function(){var x=g(function*(_){if(!r||!r[_]||t[_].alwaysFetch||Fp(t[_].version,r[_].version))o=!0,to[e][_]=t[_],yield ta(e,_,!!(r&&qe[_]));else{var U=yield Mc(`plugins/manifests/${_}.json`);U===void 0&&(yield ta(e,_,!!(r&&qe[_])))}});return function(_){return x.apply(this,arguments)}}()));for(var l in t){var c=dp(`plugins/manifests/${l}.json`);if(c!==void 0){var p=Ne.get(l);p&&!Fp(c.version,p.version)||(Ne.set(l,c),js.set(c,l))}}return o}),Qc.apply(this,arguments)}function Y_(e){return Wc.apply(this,arguments)}function Wc(){return Wc=g(function*(e){Fe(e!==Hr,e,"delete the official repository"),Fe(to[e],e,"delete a non-registered repository");var t=[];for(var[r,o]of Ne)!ra(o)||o.parentRepository!==e||(Jt(r)&&t.push(Gs(r)),Ne.delete(r));delete to[e],yield Promise.all(t)}),Wc.apply(this,arguments)}function rf(e,t){return Kc.apply(this,arguments)}function Kc(){return Kc=g(function*(e,t){Fe(Jt(e),e,"enable a non-installed plugin"),qe[e].enabled=!0,t&&(yield oa(e))}),Kc.apply(this,arguments)}function of(e){Fe(Jt(e),e,"disable a non-installed plugin"),Dr.has(e)&&Vs(e),qe[e].enabled=!1}function nf(e,t){return qc.apply(this,arguments)}function qc(){return qc=g(function*(e,t){var r=Ne.get(e);Fe(r,e,"install an non-registered plugin"),Fe(!Jt(e),e,"install an already installed plugin"),Fe(ra(r),e,"install a core plugin"),yield ta(r.parentRepository,e,!0),qe[e]={enabled:!0},t&&oa(e)}),qc.apply(this,arguments)}function Gs(e){return Yc.apply(this,arguments)}function Yc(){return Yc=g(function*(e){var t=Ne.get(e);Fe(t,e,"uninstall an unregistered plugin"),Fe(Jt(e),e,"uninstall a non-installed plugin"),Fe(ra(t),e,"uninstall a core plugin"),Dr.has(e)&&Vs(e),delete qe[e],yield on(`plugins/scripts/${e}.js`)}),Yc.apply(this,arguments)}function oa(e){return Xc.apply(this,arguments)}function Xc(){return Xc=g(function*(e){var t=Ne.get(e);Fe(t,e,"start a non-registered plugin"),Fe(Jt(e),e,"start a non-installed plugin"),Fe(qe[e]?.enabled,e,"start a disabled plugin"),Fe(!Dr.has(e),e,"start an already started plugin"),yield Mc(`plugins/storage/${e}.json`);var r;if(ra(t)){try{var o=yield Qi(t.jsPath),n=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${o};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${t.version}`)}catch(l){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:l})}try{var i=Dp(e);if(r=n(i.object,l=>Object.assign(l,{manifest:t})),!r)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);ef.set(e,i),Dr.set(e,r)}catch(l){throw new Error("An error occured while instantiating plugin's code",{cause:l})}}else r=Us.get(e),Fe(r,e,"start a non-existent core plugin"),Dr.set(e,r);try{r.start?.()}catch(l){throw new Error("An error occured while starting the plugin",{cause:l})}}),Xc.apply(this,arguments)}function Vs(e){var t=Dr.get(e);Fe(t,e,"stop a non-started plugin"),t.stop?.();var r=ef.get(e);r?.disposers.forEach(o=>o()),Dr.delete(e)}function af(){return Jc.apply(this,arguments)}function Jc(){return Jc=g(function*(){yield Dc(to,qe);var e=wp();for(var t in e){var{default:r,preenabled:o}=e[t];qe[t]??={enabled:o??!0},Ne.set(t,r.manifest),js.set(r.manifest,t),Us.set(t,r)}yield $c(Hr),yield m(Object.keys(to).map(function(){var n=g(function*(i){i!==Hr&&(yield $c(i))});return function(i){return n.apply(this,arguments)}}()))}),Jc.apply(this,arguments)}function sf(){return Zc.apply(this,arguments)}function Zc(){return Zc=g(function*(){yield Dc(to,qe),yield m([...Ne.keys()].map(function(){var e=g(function*(t){Hs(t)&&(yield oa(t))});return function(t){return e.apply(this,arguments)}}()))}),Zc.apply(this,arguments)}var Us,Ne,Dr,ef,to,qe,js,Bp,K_,kp,Lo=h(()=>{"use strict";a();s();se();Nc();an();qi();zt();Gr();X();Np();Us=new Map,Ne=new Map,Dr=new Map,ef=new Map,to=Ki("plugins/repositories.json"),qe=Ki("plugins/settings.json"),js=new WeakMap,Bp=(e,t)=>We(new URL(t,e),{cache:"no-store"}),K_=(e,t)=>Bp(e,t).then(r=>r.text()),kp=(e,t)=>Bp(e,t).then(r=>r.json())});var jp={};k(jp,{default:()=>Up});function Up({plugin:e,navigation:t}){return e.usePluginState(),u(Bn,{children:u(ia.ScrollView,{children:T(ia.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[u(ue,{variant:"heading-xl/semibold",children:e.name}),u(ia.View,{style:{marginLeft:"auto"},children:e.getPluginSettingsComponent()&&u(ge,{size:"md",text:"Configure",variant:"secondary",icon:b("WrenchIcon"),onPress:()=>{tn("PluginInfoActionSheet"),t.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}})})]})})})}var ia,Hp=h(()=>{"use strict";a();s();re();de();Ms();ce();ia=z(ve())});function lf(e){return{id:e.id,name:e.name,description:e.description,authors:e.authors,isEnabled(){return Hs($n(e))},usePluginState(){Ds(qe)},toggle(t){t?rf($n(e),!0):of($n(e))},resolveSheetComponent(){return Promise.resolve().then(()=>(Hp(),jp))},getPluginSettingsComponent(){return tf($n(e))}}}var Gp=h(()=>{"use strict";a();s();qi();Lo()});var Zt,aa=h(()=>{"use strict";a();s();(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(Zt||(Zt={}))});var zp={};k(zp,{default:()=>Vp});function Vp({plugin:e,navigation:t}){e.usePluginState();var r=$.plugins[e.id],o=e.getPluginSettingsComponent();return u(Bn,{children:T(sa.ScrollView,{children:[T(sa.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[u(ue,{variant:"heading-xl/semibold",children:e.name}),u(sa.View,{style:{marginLeft:"auto"},children:o&&u(ge,{size:"md",text:"Configure",variant:"secondary",icon:b("WrenchIcon"),onPress:()=>{tn("PluginInfoActionSheet"),t.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),T(Xo.Group,{children:[u(Xo,{label:v.REFETCH,icon:u(P.Icon,{source:b("RetryIcon")}),onPress:g(function*(){r.enabled&&$.stopPlugin(e.id,!1);try{yield $.fetchPlugin(e.id),W(v.PLUGIN_REFETCH_SUCCESSFUL,b("toast_image_saved"))}catch{W(v.PLUGIN_REFETCH_FAILED,b("Small"))}r.enabled&&(yield $.startPlugin(e.id)),tn("PluginInfoActionSheet")})}),u(Xo,{label:v.COPY_URL,icon:u(P.Icon,{source:b("copy")}),onPress:()=>{It.setString(e.id),W.showCopyToClipboard()}}),u(Xo,{label:r.update?v.DISABLE_UPDATES:v.ENABLE_UPDATES,icon:u(P.Icon,{source:b("ic_download_24px")}),onPress:()=>{r.update=!r.update,W(Lt("TOASTS_PLUGIN_UPDATE",{update:r.update,name:e.name}),b("toast_image_saved"))}}),u(Xo,{label:v.CLEAR_DATA,icon:u(P.Icon,{source:b("ic_duplicate")}),onPress:()=>Xt({title:v.HOLD_UP,content:Lt("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:v.CLEAR,cancelText:v.CANCEL,confirmColor:Zt.RED,onConfirm:g(function*(){r.enabled&&$.stopPlugin(e.id,!1);try{yield $.fetchPlugin(e.id),W(v.PLUGIN_REFETCH_SUCCESSFUL,b("toast_image_saved"))}catch{W(v.PLUGIN_REFETCH_FAILED,b("Small"))}var n;try{Cn(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}W(Lt(n[0],{name:e.name}),b(n[1])),r.enabled&&(yield $.startPlugin(e.id)),tn("PluginInfoActionSheet")})})}),u(Xo,{label:v.DELETE,icon:u(P.Icon,{source:b("ic_message_delete")}),onPress:()=>Xt({title:v.HOLD_UP,content:Lt("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:v.DELETE,cancelText:v.CANCEL,confirmColor:Zt.RED,onConfirm:()=>{try{$.removePlugin(e.id)}catch(n){W(String(n),b("Small"))}tn("PluginInfoActionSheet")}})})]})]})})}var sa,$p=h(()=>{"use strict";a();s();se();re();Se();Jr();de();Te();aa();X();ce();Oo();Ms();pr();sa=z(ve())});function uf(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,isEnabled:()=>e.enabled,usePluginState(){Q($.plugins[e.id])},toggle(t){t?$.startPlugin(e.id):$.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>($p(),zp))},getPluginSettingsComponent(){return $.getSettings(e.id)}}}var Qp=h(()=>{"use strict";a();s();Jr();Te()});function Wp(e){var t,r,o,n=2;for(typeof Symbol<"u"&&(r=d,o=Symbol.iterator);n--;){if(r&&(t=e[r])!=null)return t.call(e);if(o&&(t=e[o])!=null)return new zs(t.call(e));r="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}function zs(e){function t(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var o=r.done;return Promise.resolve(r.value).then(function(n){return{value:n,done:o}})}return zs=function(o){this.s=o,this.n=o.next},zs.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(o){var n=this.s.return;return n===void 0?Promise.resolve({value:o,done:!0}):t(n.apply(this.s,arguments))},throw:function(o){var n=this.s.return;return n===void 0?Promise.reject(o):t(n.apply(this.s,arguments))}},new zs(e)}var Kp=h(()=>{a();s()});function $s(e){this.wrapped=e}var cf=h(()=>{a();s()});function Qs(e){return new $s(e)}var qp=h(()=>{a();s();cf()});function Qn(e){var t,r;function o(l,c){return new Promise(function(p,x){var _={key:l,arg:c,resolve:p,reject:x,next:null};r?r=r.next=_:(t=r=_,n(l,c))})}function n(l,c){try{var p=e[l](c),x=p.value,_=x instanceof $s;Promise.resolve(_?x.wrapped:x).then(function(U){if(_){n("next",U);return}i(p.done?"return":"normal",U)},function(U){n("throw",U)})}catch(U){i("throw",U)}}function i(l,c){switch(l){case"return":t.resolve({value:c,done:!0});break;case"throw":t.reject(c);break;default:t.resolve({value:c,done:!1});break}t=t.next,t?n(t.key,t.arg):r=null}this._invoke=o,typeof e.return!="function"&&(this.return=void 0)}var Yp=h(()=>{a();s();cf();typeof Symbol=="function"&&d&&(Qn.prototype[d]=function(){return this});Qn.prototype.next=function(e){return this._invoke("next",e)};Qn.prototype.throw=function(e){return this._invoke("throw",e)};Qn.prototype.return=function(e){return this._invoke("return",e)}});function Xp(e){return function(){return new Qn(e.apply(this,arguments))}}var Jp=h(()=>{a();s();Yp()});function Zp(e,t){return t.get?t.get.call(e):t.value}var eh=h(()=>{a();s()});function Wn(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Ws=h(()=>{a();s()});function f(e,t){var r=Wn(e,t,"get");return Zp(e,r)}var hr=h(()=>{a();s();eh();Ws()});function Ks(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}var ff=h(()=>{a();s()});function D(e,t,r){Ks(e,t),t.set(e,r)}var vr=h(()=>{a();s();ff()});function th(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var rh=h(()=>{a();s()});function R(e,t,r){var o=Wn(e,t,"set");return th(e,o,r),r}var yr=h(()=>{a();s();rh();Ws()});var er,ln=h(()=>{a();s();Je();st();er=function(){"use strict";function e(){te(this,e),this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}return ne(e,[{key:"subscribe",value:function(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}},{key:"hasListeners",value:function(){return this.listeners.size>0}},{key:"onSubscribe",value:function(){}},{key:"onUnsubscribe",value:function(){}}]),e}()});function ot(){}function ih(e,t){return typeof e=="function"?e(t):e}function la(e){return typeof e=="number"&&e>=0&&e!==1/0}function qs(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mo(e,t){return typeof e=="function"?e(t):e}function Mt(e,t){return typeof e=="function"?e(t):e}function df(e,t){var{type:r="all",exact:o,fetchStatus:n,predicate:i,queryKey:l,stale:c}=e;if(l){if(o){if(t.queryHash!==ua(l,t.options))return!1}else if(!Kn(t.queryKey,l))return!1}if(r!=="all"){var p=t.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||n&&n!==t.state.fetchStatus||i&&!i(t))}function pf(e,t){var{exact:r,status:o,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ro(t.options.mutationKey)!==ro(i))return!1}else if(!Kn(t.options.mutationKey,i))return!1}return!(o&&t.state.status!==o||n&&!n(t))}function ua(e,t){var r=t?.queryKeyHashFn||ro;return r(e)}function ro(e){return JSON.stringify(e,(t,r)=>mf(r)?Object.keys(r).sort().reduce((o,n)=>(o[n]=r[n],o),{}):r)}function Kn(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Kn(e[r],t[r])):!1}function ah(e,t){if(e===t)return e;var r=oh(e)&&oh(t);if(r||mf(e)&&mf(t)){for(var o=r?e:Object.keys(e),n=o.length,i=r?t:Object.keys(t),l=i.length,c=r?[]:{},p=0,x=0;x<l;x++){var _=r?x:i[x];(!r&&o.includes(_)||r)&&e[_]===void 0&&t[_]===void 0?(c[_]=void 0,p++):(c[_]=ah(e[_],t[_]),c[_]===e[_]&&e[_]!==void 0&&p++)}return n===l&&p===n?e:c}return t}function qn(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function oh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mf(e){if(!nh(e))return!1;var t=e.constructor;if(t===void 0)return!0;var r=t.prototype;return!(!nh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nh(e){return Object.prototype.toString.call(e)==="[object Object]"}function sh(e){return new Promise(t=>{setTimeout(t,e)})}function ca(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ah(e,t):t}function lh(e,t,r=0){var o=[...e,t];return r&&o.length>r?o.slice(1):o}function uh(e,t,r=0){var o=[t,...e];return r&&o.length>r?o.slice(0,-1):o}function Ys(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===hf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var _r,hf,tr=h(()=>{a();s();_r=typeof window>"u"||"Deno"in globalThis;hf=Symbol()});var Yn,un,fa,X_,Xn,Xs=h(()=>{a();s();wr();Je();hr();vr();yr();st();Ut();jt();ln();tr();X_=(Yn=new WeakMap,un=new WeakMap,fa=new WeakMap,function(e){"use strict";Ee(r,e);var t=we(r);function r(){te(this,r);var o;return o=t.call(this),D(w(o),Yn,{writable:!0,value:void 0}),D(w(o),un,{writable:!0,value:void 0}),D(w(o),fa,{writable:!0,value:void 0}),R(w(o),fa,n=>{if(!_r&&window.addEventListener){var i=()=>n();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}}),o}return ne(r,[{key:"onSubscribe",value:function(){f(this,un)||this.setEventListener(f(this,fa))}},{key:"onUnsubscribe",value:function(){var n,i,l;this.hasListeners()||((n=f(l=i=this,un))===null||n===void 0||n.call(i),R(this,un,void 0))}},{key:"setEventListener",value:function(n){var i,l,c;R(this,fa,n),(i=f(c=l=this,un))===null||i===void 0||i.call(l),R(this,un,n(p=>{typeof p=="boolean"?this.setFocused(p):this.onFocus()}))}},{key:"setFocused",value:function(n){var i=f(this,Yn)!==n;i&&(R(this,Yn,n),this.onFocus())}},{key:"onFocus",value:function(){var n=this.isFocused();this.listeners.forEach(i=>{i(n)})}},{key:"isFocused",value:function(){return typeof f(this,Yn)=="boolean"?f(this,Yn):globalThis.document?.visibilityState!=="hidden"}}]),r}(er)),Xn=new X_});var ma,cn,da,J_,Jn,vf=h(()=>{a();s();wr();Je();hr();vr();yr();st();Ut();jt();ln();tr();J_=(ma=new WeakMap,cn=new WeakMap,da=new WeakMap,function(e){"use strict";Ee(r,e);var t=we(r);function r(){te(this,r);var o;return o=t.call(this),D(w(o),ma,{writable:!0,value:!0}),D(w(o),cn,{writable:!0,value:void 0}),D(w(o),da,{writable:!0,value:void 0}),R(w(o),da,n=>{if(!_r&&window.addEventListener){var i=()=>n(!0),l=()=>n(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",l)}}}),o}return ne(r,[{key:"onSubscribe",value:function(){f(this,cn)||this.setEventListener(f(this,da))}},{key:"onUnsubscribe",value:function(){var n,i,l;this.hasListeners()||((n=f(l=i=this,cn))===null||n===void 0||n.call(i),R(this,cn,void 0))}},{key:"setEventListener",value:function(n){var i,l,c;R(this,da,n),(i=f(c=l=this,cn))===null||i===void 0||i.call(l),R(this,cn,n(this.setOnline.bind(this)))}},{key:"setOnline",value:function(n){var i=f(this,ma)!==n;i&&(R(this,ma,n),this.listeners.forEach(l=>{l(n)}))}},{key:"isOnline",value:function(){return f(this,ma)}}]),r}(er)),Jn=new J_});function Z_(e){return Math.min(1e3*2**e,3e4)}function yf(e){return(e??"online")==="online"?Jn.isOnline():!0}function Js(e){return e instanceof ch}function Zs(e){var t=!1,r=0,o=!1,n,i,l,c=new Promise((fe,or)=>{i=fe,l=or}),p=fe=>{o||(V(new ch(fe)),e.abort?.())},x=()=>{t=!0},_=()=>{t=!1},U=()=>Xn.isFocused()&&(e.networkMode==="always"||Jn.isOnline())&&e.canRun(),A=()=>yf(e.networkMode)&&e.canRun(),H=fe=>{o||(o=!0,e.onSuccess?.(fe),n?.(),i(fe))},V=fe=>{o||(o=!0,e.onError?.(fe),n?.(),l(fe))},Ge=()=>new Promise(fe=>{n=or=>{(o||U())&&fe(or)},e.onPause?.()}).then(()=>{n=void 0,o||e.onContinue?.()}),Le=()=>{if(!o){var fe,or=r===0?e.initialPromise:void 0;try{fe=or??e.fn()}catch(bt){fe=Promise.reject(bt)}Promise.resolve(fe).then(H).catch(bt=>{if(!o){var nt=e.retry??(_r?0:3),St=e.retryDelay??Z_,be=typeof St=="function"?St(r,bt):St,Pe=nt===!0||typeof nt=="number"&&r<nt||typeof nt=="function"&&nt(r,bt);if(t||!Pe){V(bt);return}r++,e.onFail?.(r,bt),sh(be).then(()=>U()?void 0:Ge()).then(()=>{t?V(bt):Le()})}})}};return{promise:c,cancel:p,continue:()=>(n?.(),c),cancelRetry:x,continueRetry:_,canStart:A,start:()=>(A()?Le():Ge().then(Le),c)}}var ch,_f=h(()=>{a();s();Je();Ut();Ml();jt();Xs();vf();tr();ch=function(e){"use strict";Ee(r,e);var t=we(r);function r(o){te(this,r);var n;return n=t.call(this,"CancelledError"),n.revert=o?.revert,n.silent=o?.silent,n}return r}(En(Error))});function G(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var pa=h(()=>{a();s()});function Ye(e,t){Ks(e,t),t.add(e)}var ha=h(()=>{a();s();ff()});function fh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=sr(e),e!==null););return e}var mh=h(()=>{a();s();hi()});function va(e,t,r){return typeof Reflect<"u"&&Reflect.get?va=Reflect.get:va=function(n,i,l){var c=fh(n,i);if(c){var p=Object.getOwnPropertyDescriptor(c,i);return p.get?p.get.call(l||n):p.value}},va(e,t,r||e)}var dh=h(()=>{a();s();mh()});function eg(){var e=[],t=0,r=A=>{A()},o=A=>{A()},n=A=>setTimeout(A,0),i=A=>{n=A},l=A=>{var H;t++;try{H=A()}finally{t--,t||x()}return H},c=A=>{t?e.push(A):n(()=>{r(A)})},p=A=>(...H)=>{c(()=>{A(...H)})},x=()=>{var A=e;e=[],A.length&&n(()=>{o(()=>{A.forEach(H=>{r(H)})})})},_=A=>{r=A},U=A=>{o=A};return{batch:l,batchCalls:p,schedule:c,setNotifyFunction:_,setBatchNotifyFunction:U,setScheduler:i}}var ie,oo=h(()=>{a();s();ie=eg()});var Zn,el,gf=h(()=>{a();s();Je();hr();vr();yr();st();tr();el=(Zn=new WeakMap,function(){"use strict";function e(){te(this,e),D(this,Zn,{writable:!0,value:void 0})}return ne(e,[{key:"destroy",value:function(){this.clearGcTimeout()}},{key:"scheduleGc",value:function(){this.clearGcTimeout(),la(this.gcTime)&&R(this,Zn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}},{key:"updateGcTime",value:function(r){this.gcTime=Math.max(this.gcTime||0,r??(_r?1/0:5*60*1e3))}},{key:"clearGcTimeout",value:function(){f(this,Zn)&&(clearTimeout(f(this,Zn)),R(this,Zn,void 0))}}]),e}())});function bf(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yf(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tg(e){var t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Do(e){var t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bf(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":var o=e.error;return Js(o)&&o.revert&&f(this,_a)?{...f(this,_a),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ie.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),f(this,gr).notify({query:this,type:"updated",action:e})})}var ya,_a,gr,ft,tl,ei,Nr,ph,hh,Sf=h(()=>{a();s();wr();Je();hr();vr();yr();pa();ha();st();dh();hi();Ut();jt();tr();oo();_f();gf();hh=(ya=new WeakMap,_a=new WeakMap,gr=new WeakMap,ft=new WeakMap,tl=new WeakMap,ei=new WeakMap,Nr=new WeakSet,ph=function(e){"use strict";Ee(r,e);var t=we(r);function r(o){te(this,r);var n;return n=t.call(this),Ye(w(n),Nr),D(w(n),ya,{writable:!0,value:void 0}),D(w(n),_a,{writable:!0,value:void 0}),D(w(n),gr,{writable:!0,value:void 0}),D(w(n),ft,{writable:!0,value:void 0}),D(w(n),tl,{writable:!0,value:void 0}),D(w(n),ei,{writable:!0,value:void 0}),R(w(n),ei,!1),R(w(n),tl,o.defaultOptions),n.setOptions(o.options),n.observers=[],R(w(n),gr,o.cache),n.queryKey=o.queryKey,n.queryHash=o.queryHash,R(w(n),ya,tg(n.options)),n.state=o.state??f(w(n),ya),n.scheduleGc(),n}return ne(r,[{key:"meta",get:function(){return this.options.meta}},{key:"promise",get:function(){return f(this,ft)?.promise}},{key:"setOptions",value:function(n){this.options={...f(this,tl),...n},this.updateGcTime(this.options.gcTime)}},{key:"optionalRemove",value:function(){!this.observers.length&&this.state.fetchStatus==="idle"&&f(this,gr).remove(this)}},{key:"setData",value:function(n,i){var l=ca(this.state.data,n,this.options);return G(this,Nr,Do).call(this,{data:l,type:"success",dataUpdatedAt:i?.updatedAt,manual:i?.manual}),l}},{key:"setState",value:function(n,i){G(this,Nr,Do).call(this,{type:"setState",state:n,setStateOptions:i})}},{key:"cancel",value:function(n){var i=f(this,ft)?.promise;return f(this,ft)?.cancel(n),i?i.then(ot).catch(ot):Promise.resolve()}},{key:"destroy",value:function(){va(sr(r.prototype),"destroy",this).call(this),this.cancel({silent:!0})}},{key:"reset",value:function(){this.destroy(),this.setState(f(this,ya))}},{key:"isActive",value:function(){return this.observers.some(n=>Mt(n.options.enabled,this)!==!1)}},{key:"isDisabled",value:function(){return this.getObserversCount()>0&&!this.isActive()}},{key:"isStale",value:function(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}},{key:"isStaleByTime",value:function(n=0){return this.state.isInvalidated||this.state.data===void 0||!qs(this.state.dataUpdatedAt,n)}},{key:"onFocus",value:function(){var n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n?.refetch({cancelRefetch:!1}),f(this,ft)?.continue()}},{key:"onOnline",value:function(){var n=this.observers.find(i=>i.shouldFetchOnReconnect());n?.refetch({cancelRefetch:!1}),f(this,ft)?.continue()}},{key:"addObserver",value:function(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),f(this,gr).notify({type:"observerAdded",query:this,observer:n}))}},{key:"removeObserver",value:function(n){this.observers.includes(n)&&(this.observers=this.observers.filter(i=>i!==n),this.observers.length||(f(this,ft)&&(f(this,ei)?f(this,ft).cancel({revert:!0}):f(this,ft).cancelRetry()),this.scheduleGc()),f(this,gr).notify({type:"observerRemoved",query:this,observer:n}))}},{key:"getObserversCount",value:function(){return this.observers.length}},{key:"invalidate",value:function(){this.state.isInvalidated||G(this,Nr,Do).call(this,{type:"invalidate"})}},{key:"fetch",value:function(n,i){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&i?.cancelRefetch)this.cancel({silent:!0});else if(f(this,ft))return f(this,ft).continueRetry(),f(this,ft).promise}if(n&&this.setOptions(n),!this.options.queryFn){var l=this.observers.find(A=>A.options.queryFn);l&&this.setOptions(l.options)}var c=new AbortController,p=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(R(this,ei,!0),c.signal)})},x=()=>{var A=Ys(this.options,i),H={queryKey:this.queryKey,meta:this.meta};return p(H),R(this,ei,!1),this.options.persister?this.options.persister(A,H,this):A(H)},_={fetchOptions:i,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:x};p(_),this.options.behavior?.onFetch(_,this),R(this,_a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==_.fetchOptions?.meta)&&G(this,Nr,Do).call(this,{type:"fetch",meta:_.fetchOptions?.meta});var U=A=>{Js(A)&&A.silent||G(this,Nr,Do).call(this,{type:"error",error:A}),Js(A)||(f(this,gr).config.onError?.(A,this),f(this,gr).config.onSettled?.(this.state.data,A,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return R(this,ft,Zs({initialPromise:i?.initialPromise,fn:_.fetchFn,abort:c.abort.bind(c),onSuccess:A=>{if(A===void 0){U(new Error(`${this.queryHash} data is undefined`));return}this.setData(A),f(this,gr).config.onSuccess?.(A,this),f(this,gr).config.onSettled?.(A,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:U,onFail:(A,H)=>{G(this,Nr,Do).call(this,{type:"failed",failureCount:A,error:H})},onPause:()=>{G(this,Nr,Do).call(this,{type:"pause"})},onContinue:()=>{G(this,Nr,Do).call(this,{type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay,networkMode:_.options.networkMode,canRun:()=>!0})),f(this,ft).start()}}]),r}(el),ph)});var no,vh,yh=h(()=>{a();s();wr();Je();hr();vr();yr();st();Ut();jt();tr();Sf();oo();ln();vh=(no=new WeakMap,function(e){"use strict";Ee(r,e);var t=we(r);function r(o={}){te(this,r);var n;return n=t.call(this),D(w(n),no,{writable:!0,value:void 0}),n.config=o,R(w(n),no,new Map),n}return ne(r,[{key:"build",value:function(n,i,l){var c=i.queryKey,p=i.queryHash??ua(c,i),x=this.get(p);return x||(x=new hh({cache:this,queryKey:c,queryHash:p,options:n.defaultQueryOptions(i),state:l,defaultOptions:n.getQueryDefaults(c)}),this.add(x)),x}},{key:"add",value:function(n){f(this,no).has(n.queryHash)||(f(this,no).set(n.queryHash,n),this.notify({type:"added",query:n}))}},{key:"remove",value:function(n){var i=f(this,no).get(n.queryHash);i&&(n.destroy(),i===n&&f(this,no).delete(n.queryHash),this.notify({type:"removed",query:n}))}},{key:"clear",value:function(){ie.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}},{key:"get",value:function(n){return f(this,no).get(n)}},{key:"getAll",value:function(){return[...f(this,no).values()]}},{key:"find",value:function(n){var i={exact:!0,...n};return this.getAll().find(l=>df(i,l))}},{key:"findAll",value:function(n={}){var i=this.getAll();return Object.keys(n).length>0?i.filter(l=>df(n,l)):i}},{key:"notify",value:function(n){ie.batch(()=>{this.listeners.forEach(i=>{i(n)})})}},{key:"onFocus",value:function(){ie.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}},{key:"onOnline",value:function(){ie.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}}]),r}(er))});function _h(e,t){if(t.set){if(!t.get)throw new TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(r){t.set.call(e,r)},get value(){return t.get.call(e)}}),t.__destrWrapper}else{if(!t.writable)throw new TypeError("attempted to set read only private field");return t}}var gh=h(()=>{a();s()});function ga(e,t){var r=Wn(e,t,"update");return _h(e,r)}var xf=h(()=>{a();s();gh();Ws()});function Ef(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}function fn(e){var t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ie.batch(()=>{f(this,ao).forEach(r=>{r.onMutationUpdate(e)}),f(this,_t).notify({mutation:this,type:"updated",action:e})})}var ao,_t,ti,io,bh,Sh,wf=h(()=>{a();s();wr();se();Je();hr();vr();yr();pa();ha();st();Ut();jt();oo();gf();_f();Sh=(ao=new WeakMap,_t=new WeakMap,ti=new WeakMap,io=new WeakSet,bh=function(e){"use strict";Ee(r,e);var t=we(r);function r(o){te(this,r);var n;return n=t.call(this),Ye(w(n),io),D(w(n),ao,{writable:!0,value:void 0}),D(w(n),_t,{writable:!0,value:void 0}),D(w(n),ti,{writable:!0,value:void 0}),n.mutationId=o.mutationId,R(w(n),_t,o.mutationCache),R(w(n),ao,[]),n.state=o.state||Ef(),n.setOptions(o.options),n.scheduleGc(),n}return ne(r,[{key:"setOptions",value:function(n){this.options=n,this.updateGcTime(this.options.gcTime)}},{key:"meta",get:function(){return this.options.meta}},{key:"addObserver",value:function(n){f(this,ao).includes(n)||(f(this,ao).push(n),this.clearGcTimeout(),f(this,_t).notify({type:"observerAdded",mutation:this,observer:n}))}},{key:"removeObserver",value:function(n){R(this,ao,f(this,ao).filter(i=>i!==n)),this.scheduleGc(),f(this,_t).notify({type:"observerRemoved",mutation:this,observer:n})}},{key:"optionalRemove",value:function(){f(this,ao).length||(this.state.status==="pending"?this.scheduleGc():f(this,_t).remove(this))}},{key:"continue",value:function(){return f(this,ti)?.continue()??this.execute(this.state.variables)}},{key:"execute",value:function(n){var i=this;return g(function*(){R(i,ti,Zs({fn:()=>i.options.mutationFn?i.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(_,U)=>{G(i,io,fn).call(i,{type:"failed",failureCount:_,error:U})},onPause:()=>{G(i,io,fn).call(i,{type:"pause"})},onContinue:()=>{G(i,io,fn).call(i,{type:"continue"})},retry:i.options.retry??0,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>f(i,_t).canRun(i)}));var l=i.state.status==="pending",c=!f(i,ti).canStart();try{if(!l){G(i,io,fn).call(i,{type:"pending",variables:n,isPaused:c}),yield f(i,_t).config.onMutate?.(n,i);var p=yield i.options.onMutate?.(n);p!==i.state.context&&G(i,io,fn).call(i,{type:"pending",context:p,variables:n,isPaused:c})}var x=yield f(i,ti).start();return yield f(i,_t).config.onSuccess?.(x,n,i.state.context,i),yield i.options.onSuccess?.(x,n,i.state.context),yield f(i,_t).config.onSettled?.(x,null,i.state.variables,i.state.context,i),yield i.options.onSettled?.(x,null,n,i.state.context),G(i,io,fn).call(i,{type:"success",data:x}),x}catch(_){try{throw yield f(i,_t).config.onError?.(_,n,i.state.context,i),yield i.options.onError?.(_,n,i.state.context),yield f(i,_t).config.onSettled?.(void 0,_,i.state.variables,i.state.context,i),yield i.options.onSettled?.(void 0,_,n,i.state.context),_}finally{G(i,io,fn).call(i,{type:"error",error:_})}}finally{f(i,_t).runNext(i)}})()}}]),r}(el),bh)});function ol(e){return e.options.scope?.id??String(e.mutationId)}var rr,rl,xh,Eh=h(()=>{a();s();wr();Je();hr();vr();yr();xf();st();Ut();jt();oo();wf();tr();ln();xh=(rr=new WeakMap,rl=new WeakMap,function(e){"use strict";Ee(r,e);var t=we(r);function r(o={}){te(this,r);var n;return n=t.call(this),D(w(n),rr,{writable:!0,value:void 0}),D(w(n),rl,{writable:!0,value:void 0}),n.config=o,R(w(n),rr,new Map),R(w(n),rl,Date.now()),n}return ne(r,[{key:"build",value:function(n,i,l){var c=new Sh({mutationCache:this,mutationId:++ga(this,rl).value,options:n.defaultMutationOptions(i),state:l});return this.add(c),c}},{key:"add",value:function(n){var i=ol(n),l=f(this,rr).get(i)??[];l.push(n),f(this,rr).set(i,l),this.notify({type:"added",mutation:n})}},{key:"remove",value:function(n){var i=ol(n);if(f(this,rr).has(i)){var l=f(this,rr).get(i)?.filter(c=>c!==n);l&&(l.length===0?f(this,rr).delete(i):f(this,rr).set(i,l))}this.notify({type:"removed",mutation:n})}},{key:"canRun",value:function(n){var i=f(this,rr).get(ol(n))?.find(l=>l.state.status==="pending");return!i||i===n}},{key:"runNext",value:function(n){var i=f(this,rr).get(ol(n))?.find(l=>l!==n&&l.state.isPaused);return i?.continue()??Promise.resolve()}},{key:"clear",value:function(){ie.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}},{key:"getAll",value:function(){return[...f(this,rr).values()].flat()}},{key:"find",value:function(n){var i={exact:!0,...n};return this.getAll().find(l=>pf(i,l))}},{key:"findAll",value:function(n={}){return this.getAll().filter(i=>pf(n,i))}},{key:"notify",value:function(n){ie.batch(()=>{this.listeners.forEach(i=>{i(n)})})}},{key:"resumePausedMutations",value:function(){var n=this.getAll().filter(i=>i.state.isPaused);return ie.batch(()=>Promise.all(n.map(i=>i.continue().catch(ot))))}}]),r}(er))});function Th(e){return{onFetch:(t,r)=>{var o=function(){var n=g(function*(){var i=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],p=t.state.data?.pageParams||[],x={pages:[],pageParams:[]},_=!1,U=be=>{Object.defineProperty(be,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},A=Ys(t.options,t.fetchOptions),H=function(){var be=g(function*(Pe,xt,Ve){if(_)return Promise.reject();if(xt==null&&Pe.pages.length)return Promise.resolve(Pe);var it={queryKey:t.queryKey,pageParam:xt,direction:Ve?"backward":"forward",meta:t.options.meta};U(it);var fo=yield A(it),{maxPages:Ft}=t.options,Br=Ve?uh:lh;return{pages:Br(Pe.pages,fo,Ft),pageParams:Br(Pe.pageParams,xt,Ft)}});return function(xt,Ve,it){return be.apply(this,arguments)}}(),V;if(l&&c.length){var Ge=l==="backward",Le=Ge?rg:wh,fe={pages:c,pageParams:p},or=Le(i,fe);V=yield H(fe,or,Ge)}else{V=yield H(x,p[0]??i.initialPageParam);for(var bt=e??c.length,nt=1;nt<bt;nt++){var St=wh(i,V);if(St==null)break;V=yield H(V,St)}}return V});return function(){return n.apply(this,arguments)}}();t.options.persister?t.fetchFn=()=>t.options.persister?.(o,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=o}}}function wh(e,{pages:t,pageParams:r}){var o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,r[o],r):void 0}function rg(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Rh=h(()=>{a();s();se();tr()});var Ae,mn,dn,ba,Sa,pn,xa,Ea,Tf,Ch=h(()=>{a();s();se();Je();hr();vr();yr();xf();st();tr();yh();Eh();Xs();vf();oo();Rh();Tf=(Ae=new WeakMap,mn=new WeakMap,dn=new WeakMap,ba=new WeakMap,Sa=new WeakMap,pn=new WeakMap,xa=new WeakMap,Ea=new WeakMap,function(){"use strict";function e(t={}){te(this,e),D(this,Ae,{writable:!0,value:void 0}),D(this,mn,{writable:!0,value:void 0}),D(this,dn,{writable:!0,value:void 0}),D(this,ba,{writable:!0,value:void 0}),D(this,Sa,{writable:!0,value:void 0}),D(this,pn,{writable:!0,value:void 0}),D(this,xa,{writable:!0,value:void 0}),D(this,Ea,{writable:!0,value:void 0}),R(this,Ae,t.queryCache||new vh),R(this,mn,t.mutationCache||new xh),R(this,dn,t.defaultOptions||{}),R(this,ba,new Map),R(this,Sa,new Map),R(this,pn,0)}return ne(e,[{key:"mount",value:function(){if(ga(this,pn).value++,f(this,pn)===1){var r=this;R(this,xa,Xn.subscribe(function(){var n=g(function*(i){i&&(yield r.resumePausedMutations(),f(r,Ae).onFocus())});return function(i){return n.apply(this,arguments)}}()));var o=this;R(this,Ea,Jn.subscribe(function(){var n=g(function*(i){i&&(yield o.resumePausedMutations(),f(o,Ae).onOnline())});return function(i){return n.apply(this,arguments)}}()))}}},{key:"unmount",value:function(){var r,o,n,i,l,c;ga(this,pn).value--,f(this,pn)===0&&((r=f(n=o=this,xa))===null||r===void 0||r.call(o),R(this,xa,void 0),(i=f(c=l=this,Ea))===null||i===void 0||i.call(l),R(this,Ea,void 0))}},{key:"isFetching",value:function(r){return f(this,Ae).findAll({...r,fetchStatus:"fetching"}).length}},{key:"isMutating",value:function(r){return f(this,mn).findAll({...r,status:"pending"}).length}},{key:"getQueryData",value:function(r){var o=this.defaultQueryOptions({queryKey:r});return f(this,Ae).get(o.queryHash)?.state.data}},{key:"ensureQueryData",value:function(r){var o=this.getQueryData(r.queryKey);if(o===void 0)return this.fetchQuery(r);var n=this.defaultQueryOptions(r),i=f(this,Ae).build(this,n);return r.revalidateIfStale&&i.isStaleByTime(Mo(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(o)}},{key:"getQueriesData",value:function(r){return f(this,Ae).findAll(r).map(({queryKey:o,state:n})=>{var i=n.data;return[o,i]})}},{key:"setQueryData",value:function(r,o,n){var i=this.defaultQueryOptions({queryKey:r}),l=f(this,Ae).get(i.queryHash),c=l?.state.data,p=ih(o,c);if(p!==void 0)return f(this,Ae).build(this,i).setData(p,{...n,manual:!0})}},{key:"setQueriesData",value:function(r,o,n){return ie.batch(()=>f(this,Ae).findAll(r).map(({queryKey:i})=>[i,this.setQueryData(i,o,n)]))}},{key:"getQueryState",value:function(r){var o=this.defaultQueryOptions({queryKey:r});return f(this,Ae).get(o.queryHash)?.state}},{key:"removeQueries",value:function(r){var o=f(this,Ae);ie.batch(()=>{o.findAll(r).forEach(n=>{o.remove(n)})})}},{key:"resetQueries",value:function(r,o){var n=f(this,Ae),i={type:"active",...r};return ie.batch(()=>(n.findAll(r).forEach(l=>{l.reset()}),this.refetchQueries(i,o)))}},{key:"cancelQueries",value:function(r={},o={}){var n={revert:!0,...o},i=ie.batch(()=>f(this,Ae).findAll(r).map(l=>l.cancel(n)));return Promise.all(i).then(ot).catch(ot)}},{key:"invalidateQueries",value:function(r={},o={}){return ie.batch(()=>{if(f(this,Ae).findAll(r).forEach(i=>{i.invalidate()}),r.refetchType==="none")return Promise.resolve();var n={...r,type:r.refetchType??r.type??"active"};return this.refetchQueries(n,o)})}},{key:"refetchQueries",value:function(r={},o){var n={...o,cancelRefetch:o?.cancelRefetch??!0},i=ie.batch(()=>f(this,Ae).findAll(r).filter(l=>!l.isDisabled()).map(l=>{var c=l.fetch(void 0,n);return n.throwOnError||(c=c.catch(ot)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(ot)}},{key:"fetchQuery",value:function(r){var o=this.defaultQueryOptions(r);o.retry===void 0&&(o.retry=!1);var n=f(this,Ae).build(this,o);return n.isStaleByTime(Mo(o.staleTime,n))?n.fetch(o):Promise.resolve(n.state.data)}},{key:"prefetchQuery",value:function(r){return this.fetchQuery(r).then(ot).catch(ot)}},{key:"fetchInfiniteQuery",value:function(r){return r.behavior=Th(r.pages),this.fetchQuery(r)}},{key:"prefetchInfiniteQuery",value:function(r){return this.fetchInfiniteQuery(r).then(ot).catch(ot)}},{key:"resumePausedMutations",value:function(){return Jn.isOnline()?f(this,mn).resumePausedMutations():Promise.resolve()}},{key:"getQueryCache",value:function(){return f(this,Ae)}},{key:"getMutationCache",value:function(){return f(this,mn)}},{key:"getDefaultOptions",value:function(){return f(this,dn)}},{key:"setDefaultOptions",value:function(r){R(this,dn,r)}},{key:"setQueryDefaults",value:function(r,o){f(this,ba).set(ro(r),{queryKey:r,defaultOptions:o})}},{key:"getQueryDefaults",value:function(r){var o=[...f(this,ba).values()],n={};return o.forEach(i=>{Kn(r,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}},{key:"setMutationDefaults",value:function(r,o){f(this,Sa).set(ro(r),{mutationKey:r,defaultOptions:o})}},{key:"getMutationDefaults",value:function(r){var o=[...f(this,Sa).values()],n={};return o.forEach(i=>{Kn(r,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}},{key:"defaultQueryOptions",value:function(r){if(r._defaulted)return r;var o={...f(this,dn).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return o.queryHash||(o.queryHash=ua(o.queryKey,o)),o.refetchOnReconnect===void 0&&(o.refetchOnReconnect=o.networkMode!=="always"),o.throwOnError===void 0&&(o.throwOnError=!!o.suspense),!o.networkMode&&o.persister&&(o.networkMode="offlineFirst"),o.enabled!==!0&&o.queryFn===hf&&(o.enabled=!1),o}},{key:"defaultMutationOptions",value:function(r){return r?._defaulted?r:{...f(this,dn).mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}},{key:"clear",value:function(){f(this,Ae).clear(),f(this,mn).clear()}}]),e}())});function og(e,t){return Mt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ph(e,t){return og(e,t)||e.state.data!==void 0&&Cf(e,t,t.refetchOnMount)}function Cf(e,t,r){if(Mt(t.enabled,e)!==!1){var o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&Pf(e,t)}return!1}function Oh(e,t,r,o){return(e!==t||Mt(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Pf(e,r)}function Pf(e,t){return Mt(t.enabled,e)!==!1&&e.isStaleByTime(Mo(t.staleTime,e))}function ng(e,t){return!qn(e.getCurrentResult(),t)}function dl(e){G(this,ml,Bh).call(this);var t=f(this,K).fetch(this.options,e);return e?.throwOnError||(t=t.catch(ot)),t}function Lh(){G(this,cl,Nh).call(this);var e=Mo(this.options.staleTime,f(this,K));if(!(_r||f(this,gt).isStale||!la(e))){var t=qs(f(this,gt).dataUpdatedAt,e),r=t+1;R(this,ni,setTimeout(()=>{f(this,gt).isStale||this.updateResult()},r))}}function Mh(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,K)):this.options.refetchInterval)??!1}function Dh(e){G(this,fl,Fh).call(this),R(this,hn,e),!(_r||Mt(this.options.enabled,f(this,K))===!1||!la(f(this,hn))||f(this,hn)===0)&&R(this,ii,setInterval(()=>{(this.options.refetchIntervalInBackground||Xn.isFocused())&&G(this,oi,dl).call(this)},f(this,hn)))}function Ih(){G(this,sl,Lh).call(this),G(this,ul,Dh).call(this,G(this,ll,Mh).call(this))}function Nh(){f(this,ni)&&(clearTimeout(f(this,ni)),R(this,ni,void 0))}function Fh(){f(this,ii)&&(clearInterval(f(this,ii)),R(this,ii,void 0))}function Bh(){var e=f(this,Dt).getQueryCache().build(f(this,Dt),this.options);if(e!==f(this,K)){var t=f(this,K);R(this,K,e),R(this,al,e.state),this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}}function ig(e){ie.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(f(this,gt))}),f(this,Dt).getQueryCache().notify({query:f(this,K),type:"observerResultsUpdated"})})}var Dt,K,al,gt,ri,wa,so,nl,Ta,Ra,ni,ii,hn,Ca,oi,sl,ll,ul,il,cl,fl,ml,Rf,Ah,Af,kh=h(()=>{a();s();wr();Je();hr();vr();yr();pa();ha();st();Ut();jt();tr();oo();Xs();ln();Sf();Af=(Dt=new WeakMap,K=new WeakMap,al=new WeakMap,gt=new WeakMap,ri=new WeakMap,wa=new WeakMap,so=new WeakMap,nl=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,ni=new WeakMap,ii=new WeakMap,hn=new WeakMap,Ca=new WeakMap,oi=new WeakSet,sl=new WeakSet,ll=new WeakSet,ul=new WeakSet,il=new WeakSet,cl=new WeakSet,fl=new WeakSet,ml=new WeakSet,Rf=new WeakSet,Ah=function(e){"use strict";Ee(r,e);var t=we(r);function r(o,n){te(this,r);var i;return i=t.call(this),Ye(w(i),oi),Ye(w(i),sl),Ye(w(i),ll),Ye(w(i),ul),Ye(w(i),il),Ye(w(i),cl),Ye(w(i),fl),Ye(w(i),ml),Ye(w(i),Rf),D(w(i),Dt,{writable:!0,value:void 0}),D(w(i),K,{writable:!0,value:void 0}),D(w(i),al,{writable:!0,value:void 0}),D(w(i),gt,{writable:!0,value:void 0}),D(w(i),ri,{writable:!0,value:void 0}),D(w(i),wa,{writable:!0,value:void 0}),D(w(i),so,{writable:!0,value:void 0}),D(w(i),nl,{writable:!0,value:void 0}),D(w(i),Ta,{writable:!0,value:void 0}),D(w(i),Ra,{writable:!0,value:void 0}),D(w(i),ni,{writable:!0,value:void 0}),D(w(i),ii,{writable:!0,value:void 0}),D(w(i),hn,{writable:!0,value:void 0}),D(w(i),Ca,{writable:!0,value:new Set}),i.options=n,R(w(i),Dt,o),R(w(i),so,null),i.bindMethods(),i.setOptions(n),i}return ne(r,[{key:"bindMethods",value:function(){this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){this.listeners.size===1&&(f(this,K).addObserver(this),Ph(f(this,K),this.options)?G(this,oi,dl).call(this):this.updateResult(),G(this,il,Ih).call(this))}},{key:"onUnsubscribe",value:function(){this.hasListeners()||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return Cf(f(this,K),this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return Cf(f(this,K),this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=new Set,G(this,cl,Nh).call(this),G(this,fl,Fh).call(this),f(this,K).removeObserver(this)}},{key:"setOptions",value:function(n,i){var l=this.options,c=f(this,K);if(this.options=f(this,Dt).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mt(this.options.enabled,f(this,K))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,ml,Bh).call(this),f(this,K).setOptions(this.options),l._defaulted&&!qn(this.options,l)&&f(this,Dt).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,K),observer:this});var p=this.hasListeners();p&&Oh(f(this,K),c,this.options,l)&&G(this,oi,dl).call(this),this.updateResult(i),p&&(f(this,K)!==c||Mt(this.options.enabled,f(this,K))!==Mt(l.enabled,f(this,K))||Mo(this.options.staleTime,f(this,K))!==Mo(l.staleTime,f(this,K)))&&G(this,sl,Lh).call(this);var x=G(this,ll,Mh).call(this);p&&(f(this,K)!==c||Mt(this.options.enabled,f(this,K))!==Mt(l.enabled,f(this,K))||x!==f(this,hn))&&G(this,ul,Dh).call(this,x)}},{key:"getOptimisticResult",value:function(n){var i=f(this,Dt).getQueryCache().build(f(this,Dt),n),l=this.createResult(i,n);return ng(this,l)&&(R(this,gt,l),R(this,wa,this.options),R(this,ri,f(this,K).state)),l}},{key:"getCurrentResult",value:function(){return f(this,gt)}},{key:"trackResult",value:function(n,i){var l={};return Object.keys(n).forEach(c=>{Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(c),i?.(c),n[c])})}),l}},{key:"trackProp",value:function(n){f(this,Ca).add(n)}},{key:"getCurrentQuery",value:function(){return f(this,K)}},{key:"refetch",value:function({...n}={}){return this.fetch({...n})}},{key:"fetchOptimistic",value:function(n){var i=f(this,Dt).defaultQueryOptions(n),l=f(this,Dt).getQueryCache().build(f(this,Dt),i);return l.isFetchingOptimistic=!0,l.fetch().then(()=>this.createResult(l,i))}},{key:"fetch",value:function(n){return G(this,oi,dl).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,gt)))}},{key:"createResult",value:function(n,i){var l=f(this,K),c=this.options,p=f(this,gt),x=f(this,ri),_=f(this,wa),U=n!==l,A=U?n.state:f(this,al),{state:H}=n,V={...H},Ge=!1,Le;if(i._optimisticResults){var fe=this.hasListeners(),or=!fe&&Ph(n,i),bt=fe&&Oh(n,l,i,c);(or||bt)&&(V={...V,...bf(H.data,n.options)}),i._optimisticResults==="isRestoring"&&(V.fetchStatus="idle")}var{error:nt,errorUpdatedAt:St,status:be}=V;if(i.select&&V.data!==void 0)if(p&&V.data===x?.data&&i.select===f(this,nl))Le=f(this,Ta);else try{R(this,nl,i.select),Le=i.select(V.data),Le=ca(p?.data,Le,i),R(this,Ta,Le),R(this,so,null)}catch(nr){R(this,so,nr)}else Le=V.data;if(i.placeholderData!==void 0&&Le===void 0&&be==="pending"){var Pe;if(p?.isPlaceholderData&&i.placeholderData===_?.placeholderData)Pe=p.data;else if(Pe=typeof i.placeholderData=="function"?i.placeholderData(f(this,Ra)?.state.data,f(this,Ra)):i.placeholderData,i.select&&Pe!==void 0)try{Pe=i.select(Pe),R(this,so,null)}catch(nr){R(this,so,nr)}Pe!==void 0&&(be="success",Le=ca(p?.data,Pe,i),Ge=!0)}f(this,so)&&(nt=f(this,so),Le=f(this,Ta),St=Date.now(),be="error");var xt=V.fetchStatus==="fetching",Ve=be==="pending",it=be==="error",fo=Ve&&xt,Ft=Le!==void 0,Br={status:be,fetchStatus:V.fetchStatus,isPending:Ve,isSuccess:be==="success",isError:it,isInitialLoading:fo,isLoading:fo,data:Le,dataUpdatedAt:V.dataUpdatedAt,error:nt,errorUpdatedAt:St,failureCount:V.fetchFailureCount,failureReason:V.fetchFailureReason,errorUpdateCount:V.errorUpdateCount,isFetched:V.dataUpdateCount>0||V.errorUpdateCount>0,isFetchedAfterMount:V.dataUpdateCount>A.dataUpdateCount||V.errorUpdateCount>A.errorUpdateCount,isFetching:xt,isRefetching:xt&&!Ve,isLoadingError:it&&!Ft,isPaused:V.fetchStatus==="paused",isPlaceholderData:Ge,isRefetchError:it&&Ft,isStale:Pf(n,i),refetch:this.refetch};return Br}},{key:"updateResult",value:function(n){var i=f(this,gt),l=this.createResult(f(this,K),this.options);if(R(this,ri,f(this,K).state),R(this,wa,this.options),f(this,ri).data!==void 0&&R(this,Ra,f(this,K)),!qn(l,i)){R(this,gt,l);var c={},p=()=>{if(!i)return!0;var{notifyOnChangeProps:x}=this.options,_=typeof x=="function"?x():x;if(_==="all"||!_&&!f(this,Ca).size)return!0;var U=new Set(_??f(this,Ca));return this.options.throwOnError&&U.add("error"),Object.keys(f(this,gt)).some(A=>{var H=A,V=f(this,gt)[H]!==i[H];return V&&U.has(H)})};n?.listeners!==!1&&p()&&(c.listeners=!0),G(this,Rf,ig).call(this,{...c,...n})}}},{key:"onQueryUpdate",value:function(){this.updateResult(),this.hasListeners()&&G(this,il,Ih).call(this)}}]),r}(er),Ah)});function Of(){var e=f(this,Nt)?.state??Ef();R(this,yn,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})}function jh(e){ie.batch(()=>{if(f(this,No)&&this.hasListeners()){var t=f(this,yn).variables,r=f(this,yn).context;e?.type==="success"?(f(this,No).onSuccess?.(e.data,t,r),f(this,No).onSettled?.(e.data,null,t,r)):e?.type==="error"&&(f(this,No).onError?.(e.error,t,r),f(this,No).onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(o=>{o(f(this,yn))})})}var vn,yn,Nt,No,Aa,pl,Uh,If,Hh=h(()=>{a();s();wr();Je();hr();vr();yr();pa();ha();st();Ut();jt();wf();oo();ln();tr();If=(vn=new WeakMap,yn=new WeakMap,Nt=new WeakMap,No=new WeakMap,Aa=new WeakSet,pl=new WeakSet,Uh=function(e){"use strict";Ee(r,e);var t=we(r);function r(o,n){te(this,r);var i;return i=t.call(this),Ye(w(i),Aa),Ye(w(i),pl),D(w(i),vn,{writable:!0,value:void 0}),D(w(i),yn,{writable:!0,value:void 0}),D(w(i),Nt,{writable:!0,value:void 0}),D(w(i),No,{writable:!0,value:void 0}),R(w(i),vn,o),i.setOptions(n),i.bindMethods(),G(i,Aa,Of).call(w(i)),i}return ne(r,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(n){var i=this.options;this.options=f(this,vn).defaultMutationOptions(n),qn(this.options,i)||f(this,vn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:f(this,Nt),observer:this}),i?.mutationKey&&this.options.mutationKey&&ro(i.mutationKey)!==ro(this.options.mutationKey)?this.reset():f(this,Nt)?.state.status==="pending"&&f(this,Nt).setOptions(this.options)}},{key:"onUnsubscribe",value:function(){this.hasListeners()||f(this,Nt)?.removeObserver(this)}},{key:"onMutationUpdate",value:function(n){G(this,Aa,Of).call(this),G(this,pl,jh).call(this,n)}},{key:"getCurrentResult",value:function(){return f(this,yn)}},{key:"reset",value:function(){f(this,Nt)?.removeObserver(this),R(this,Nt,void 0),G(this,Aa,Of).call(this),G(this,pl,jh).call(this)}},{key:"mutate",value:function(n,i){return R(this,No,i),f(this,Nt)?.removeObserver(this),R(this,Nt,f(this,vn).getMutationCache().build(f(this,vn),this.options)),f(this,Nt).addObserver(this),f(this,Nt).execute(n)}}]),r}(er),Uh)});var Gh=h(()=>{a();s()});var Pa=h(()=>{a();s();Ch();kh();Hh();oo();Gh()});var Vh=h(()=>{a();s()});var ai,Lf,Oa,Mf,hl=h(()=>{"use client";a();s();ai=z(vt(),1);re();Lf=ai.createContext(void 0),Oa=e=>{var t=ai.useContext(Lf);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Mf=({client:e,children:t})=>(ai.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u(Lf.Provider,{value:e,children:t}))});var vl,zh,$h,NN,Qh=h(()=>{"use client";a();s();vl=z(vt(),1),zh=vl.createContext(!1),$h=()=>vl.useContext(zh),NN=zh.Provider});function ag(){var e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ia,sg,Wh,Kh=h(()=>{"use client";a();s();Ia=z(vt(),1);re();sg=Ia.createContext(ag()),Wh=()=>Ia.useContext(sg)});function yl(e,t){return typeof e=="function"?e(...t):!!e}function qh(){}var Df=h(()=>{a();s()});var Yh,Xh,Jh,Zh,ev=h(()=>{"use client";a();s();Yh=z(vt(),1);Df();Xh=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Jh=e=>{Yh.useEffect(()=>{e.clearReset()},[e])},Zh=({result:e,errorResetBoundary:t,throwOnError:r,query:o})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&yl(r,[e.error,o])});var tv,rv,ov,nv=h(()=>{a();s();tv=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},rv=(e,t)=>e?.suspense&&t.isPending,ov=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()})});function iv(e,t,r){var o=Oa(r),n=$h(),i=Wh(),l=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",tv(l),Xh(l,i),Jh(i);var[c]=Fo.useState(()=>new t(o,l)),p=c.getOptimisticResult(l);if(Fo.useSyncExternalStore(Fo.useCallback(x=>{var _=n?()=>{}:c.subscribe(ie.batchCalls(x));return c.updateResult(),_},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Fo.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),rv(l,p))throw ov(l,c,i);if(Zh({result:p,errorResetBoundary:i,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash)}))throw p.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,p),l.notifyOnChangeProps?p:c.trackResult(p)}var Fo,av=h(()=>{"use client";a();s();Fo=z(vt(),1);Pa();Kh();hl();Qh();ev();nv()});function _l(e,t){return iv(e,Af,t)}var sv=h(()=>{"use client";a();s();Pa();av()});function Nf(e,t){var r=Oa(t),[o]=lo.useState(()=>new If(r,e));lo.useEffect(()=>{o.setOptions(e)},[o,e]);var n=lo.useSyncExternalStore(lo.useCallback(l=>o.subscribe(ie.batchCalls(l)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),i=lo.useCallback((l,c)=>{o.mutate(l,c).catch(qh)},[o]);if(n.error&&yl(o.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}var lo,lv=h(()=>{"use client";a();s();lo=z(vt(),1);Pa();hl();Df()});var uv=h(()=>{a();s();Pa();Vh();sv();hl();lv()});var pv={};k(pv,{default:()=>dv});function lg(e){return Ff.apply(this,arguments)}function Ff(){return Ff=g(function*(e){var t=[];{var r=!1,o=!1,n;try{for(var i=Wp(e),l;r=!(l=yield i.next()).done;r=!1){var c=l.value,p=c;t.push(p)}}catch(x){o=!0,n=x}finally{try{r&&i.return!=null&&(yield i.return())}finally{if(o)throw n}}}return t}),Ff.apply(this,arguments)}function mv(e,t){return Bf.apply(this,arguments)}function Bf(){return Bf=g(function*(e,t){var r=new URL(`plugins/${t}/manifest.json`,e),o=yield We(r).then(n=>n.json());return fv.setQueryData(["plugin-manifest-dist",{id:t}],o),o}),Bf.apply(this,arguments)}function ug(e){return kf.apply(this,arguments)}function kf(){return kf=Xp(function*(e){var t=yield Qs(We(e)),r=Object.keys(yield Qs(t.json()));for(var o of Il(r,5)){var n=o.map(l=>mv(Hr,l));for(var i of n)yield yield Qs(i)}}),kf.apply(this,arguments)}function cg(e){var[t,r]=(0,cv.useState)(Jt(e.id)),o=Nf({mutationFn:function(){var n=g(function*({install:i}){yield(i?nf:Gs)(e.id,!0)});return function(i){return n.apply(this,arguments)}}(),onSettled(){r(Jt(e.id))},onError(n){W(n instanceof Error?n.message:String(n))}});return u(ge,{size:"sm",loading:o.isPending,text:t?"Uninstall":"Install",onPress:()=>o.mutate({install:!t}),variant:t?"destructive":"primary",icon:b(t?"TrashIcon":"DownloadIcon")})}function fg(e){return T(Ie,{spacing:8,direction:"horizontal",children:[u(ct,{size:"sm",onPress:()=>{},variant:"secondary",icon:b("CircleInformationIcon")}),u(cg,{id:e.id})]})}function mg(e){var{isPending:t,error:r,data:o}=_l({queryKey:["plugin-manifest-dist",{id:e.id}],queryFn:()=>mv(e.repoUrl,e.id)});return T(Wr,{children:[!o&&u(_n.View,{style:{justifyContent:"center",alignItems:"center"},children:T(ue,{color:"text-muted",variant:"heading-lg/semibold",children:[t&&"Loading...",r&&`An error has occured while fetching plugin: ${r.message}`]})}),o&&T(Ie,{spacing:16,children:[T(_n.View,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[T(_n.View,{style:{flexShrink:1},children:[u(ue,{numberOfLines:1,variant:"heading-lg/semibold",children:o.name}),T(ue,{variant:"text-md/semibold",color:"text-muted",children:["by ",o.authors.map(n=>typeof n=="string"?n:n.name).join(", ")]})]}),u(_n.View,{children:u(fg,{id:e.id})})]}),u(ue,{variant:"text-md/medium",children:o.description})]})]})}function dg(){var{data:e,error:t,isPending:r,refetch:o}=_l({queryKey:["plugins-repo-fetch"],queryFn:()=>lg(ug(Hr))});return t?u(_n.View,{style:{flex:1,paddingHorizontal:8,justifyContent:"center",alignItems:"center"},children:T(Wr,{style:{gap:8},children:[u(ue,{style:{textAlign:"center"},variant:"heading-lg/bold",children:"An error occured while fetching the repository!"}),u(ue,{style:{textAlign:"center"},variant:"text-sm/medium",color:"text-muted",children:t instanceof Error?t.message:String(t)}),u(ge,{size:"lg",text:"Refetch",onPress:o,icon:b("RetryIcon")})]})}):u(hs,{data:e,refreshing:r,onRefresh:o,estimatedItemSize:136,contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},renderItem:({item:n})=>u(_n.View,{style:{paddingVertical:6,paddingHorizontal:8},children:u(mg,{repoUrl:Hr,id:n.id,manifest:n})})})}function dv(){return u(Mf,{client:fv,children:u(dg,{})})}var cv,_n,fv,hv=h(()=>{"use strict";a();s();Kp();se();qp();Jp();re();de();Lo();pr();zt();Gr();ce();uv();za();cv=z(vt()),_n=z(ve()),fv=new Tf});var _v={};k(_v,{default:()=>yv});function pg(e){e.push("BUNNY_CUSTOM_PAGE",{title:"Plugin Browser",render:React.lazy(()=>Promise.resolve().then(()=>(hv(),pv)))})}function vv(e){var t=e.useItems();return u(en,{card:bc,title:v.PLUGINS,searchKeywords:["name","description",r=>r.authors?.map(o=>typeof o=="string"?o:o.name).join()],safeModeMessage:v.SAFE_MODE_NOTICE_PLUGINS,items:t,...e})}function yv(){Q(N);var e=Re.useNavigation(),{width:t}=(0,gn.useWindowDimensions)(),r=Cd({pageWidth:t,items:[{label:"Vendetta",id:"vendetta-plugins",page:u(vv,{useItems:()=>Q($.plugins)&&Object.values($.plugins),resolveItem:uf,fetchFunction:o=>$.installPlugin(o)})},{label:"Bunny",id:"bunny-plugins",page:u(vv,{useItems:()=>(Ds(qe),[...Ne.values()].filter(o=>Jt(o.id))),resolveItem:lf,ListHeaderComponent:()=>u(gn.View,{style:{marginBottom:10},children:u(Fn,{messageType:0,children:"Bunny plugin system is in no way ready, try not getting yourself burnt \u26A0\uFE0F"})}),ListFooterComponent:()=>T(gn.View,{style:{alignItems:"center",justifyContent:"center",paddingTop:16,gap:12},children:[u(ue,{variant:"heading-lg/bold",children:"Looking for more?"}),u(ge,{size:"lg",text:"Browse plugins",icon:b("discover"),onPress:()=>pg(e)})]})})}]});return T(gn.View,{style:{alignItems:"center",justifyContent:"center",height:"100%"},children:[u(gn.View,{style:{padding:8,paddingBottom:0},children:u(Td,{state:r})}),u(Rd,{state:r})]})}var gn,gv=h(()=>{"use strict";a();s();re();Se();Ls();lp();Jr();de();Ke();Te();qi();Lo();X();ce();gn=z(ve());Gp();Qp()});function Uf(e){var t=yg();return u(Wr,{children:T(Ie,{spacing:16,children:[T(bn.View,{style:{flexDirection:"row",alignItems:"center"},children:[T(bn.View,{style:t.headerLeading,children:[u(ue,{style:t.headerLabel,children:e.headerLabel}),e.headerSublabel&&u(ue,{style:t.headerSubtitle,children:e.headerSublabel})]}),T(bn.View,{style:[t.headerTrailing,{marginLeft:"auto"}],children:[T(bn.View,{style:t.actions,children:[e.overflowActions&&u(ct,{onPress:()=>vg({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&u(Kr.Icon,{style:{marginRight:8},source:b(e.headerIcon)}),onClose:()=>hg()},options:e.overflowActions?.map(r=>({...r,icon:b(r.icon)}))}),size:"sm",variant:"secondary",icon:b("CircleInformationIcon-primary")}),e.actions?.map(({icon:r,onPress:o,disabled:n})=>u(ct,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:b(r)}))]}),e.toggleType&&(e.toggleType==="switch"?u(Ed,{value:e.toggleValue(),onValueChange:e.onToggleChange}):u(bn.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:u(wd,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&u(ue,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var bn,hg,vg,yg,bv=h(()=>{"use strict";a();s();re();de();lt();ce();he();Ao();Lr();bn=z(ve()),{hideActionSheet:hg}=pe(()=>Y("openLazy","hideActionSheet")),{showSimpleActionSheet:vg}=pe(()=>Y("showSimpleActionSheet")),yg=qr({card:{backgroundColor:De?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...qt["heading-md/semibold"],color:De.TEXT_NORMAL},headerSubtitle:{...qt["text-md/semibold"],color:De.TEXT_MUTED},descriptionLabel:{...qt["text-md/semibold"],color:De.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:De.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function Sv(e,t){try{$r(e?t:null),Oi(e?t:null)}catch(r){console.error("Error while selectAndApply,",r)}}function jf({item:e}){Q(e);var[t,r]=React.useState(!1);if(t)return null;var{authors:o}=e.data;return u(Uf,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:N.safeMode?.enabled?void 0:"radio",toggleValue:()=>ye[e.id].selected,onToggleChange:n=>{Sv(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:v.REFETCH,onPress:()=>{Wo(e.id,e.selected).then(()=>{W(v.THEME_REFETCH_SUCCESSFUL,b("toast_image_saved"))}).catch(()=>{W(v.THEME_REFETCH_FAILED,b("Small"))})}},{icon:"copy",label:v.COPY_URL,onPress:()=>{It.setString(e.id),W.showCopyToClipboard()}},{icon:"ic_message_delete",label:v.DELETE,isDestructive:!0,onPress:()=>Xt({title:v.HOLD_UP,content:Lt("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:v.DELETE,cancelText:v.CANCEL,confirmColor:Zt.RED,onConfirm:()=>{Ko(e.id).then(n=>{r(!0),n&&Sv(!1,e)}).catch(n=>{W(n.message,b("Small"))})}})}]})}var xv=h(()=>{"use strict";a();s();re();Se();bv();de();Ke();Te();Ot();aa();X();Oo();pr()});var wv={};k(wv,{default:()=>Ev});function Ev(){return Q(N),Q(ye),u(en,{title:v.THEMES,searchKeywords:["manifest.name","manifest.description",e=>e.manifest.authors?.map(t=>t.name).join()],fetchFunction:zr,items:Object.values(ye),safeModeMessage:Lt("SAFE_MODE_NOTICE_THEMES",{enabled:!!N.safeMode?.currentThemeId}),safeModeExtras:N.safeMode?.currentThemeId?u(ge,{text:v.DISABLE_THEME,size:"small",onPress:()=>delete N.safeMode?.currentThemeId,style:{marginTop:8}}):void 0,card:jf})}var Tv=h(()=>{"use strict";a();s();re();Se();Ls();xv();Ke();Te();Ot();ce()});var Da={};k(Da,{fonts:()=>_e,installFont:()=>Wf,removeFont:()=>gl,saveFont:()=>si,selectFont:()=>Ma,updateFonts:()=>Kf,validateFont:()=>La});function Rv(e){return Hf.apply(this,arguments)}function Hf(){return Hf=g(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield Zr("fonts.json",JSON.stringify(e)):yield on("fonts.json")}),Hf.apply(this,arguments)}function La(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var t=["name","main"];if(t.some(r=>!e[r]))throw new Error(`Font is missing one of the fields: ${t}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in _e)throw new Error(`There is already a font named '${e.name}' installed`)}function si(e){return Gf.apply(this,arguments)}function Gf(){return Gf=g(function*(e,t=!1){var r;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{r=yield(yield We(e)).json(),r.__source=e}catch(o){throw new Error(`Failed to fetch fonts at ${e}`,{cause:o})}else r=e;La(r);try{yield Promise.all(Object.entries(r.main).map(function(){var o=g(function*([n,i]){var l=i.split(".").pop();l!=="ttf"&&l!=="otf"&&(l="ttf");var c=`downloads/fonts/${r.name}/${n}.${l}`;(yield nn(c))||(yield Ac(i,c))});return function(n){return o.apply(this,arguments)}}()))}catch(o){throw new Error("Failed to download font assets",{cause:o})}return _e[r.name]=r,t&&Rv(_e[r.name]),r}),Gf.apply(this,arguments)}function Wf(e){return Vf.apply(this,arguments)}function Vf(){return Vf=g(function*(e,t=!1){if(typeof e!="string"||Object.values(_e).some(o=>typeof o=="object"&&o.__source===e))throw new Error("Invalid source or font was already installed");var r=yield si(e);t&&(yield Ma(r.name))}),Vf.apply(this,arguments)}function Ma(e){return zf.apply(this,arguments)}function zf(){return zf=g(function*(e){if(e&&!(e in _e))throw new Error("Selected font does not exist!");e?_e.__selected=e:delete _e.__selected,yield Rv(e==null?null:_e[e])}),zf.apply(this,arguments)}function gl(e){return $f.apply(this,arguments)}function $f(){return $f=g(function*(e){var t=_e.__selected===e;t&&(yield Ma(null)),delete _e[e];try{yield Cc(`downloads/fonts/${e}`)}catch{}}),$f.apply(this,arguments)}function Kf(){return Qf.apply(this,arguments)}function Qf(){return Qf=g(function*(){yield jr(_e),yield m(Object.keys(_e).map(e=>si(_e[e],_e.__selected===e)))}),Qf.apply(this,arguments)}var _e,Sn=h(()=>{"use strict";a();s();se();an();Te();zt();_e=Vt(pt(Pt("BUNNY_FONTS")))});function _g(e){var t=e.map(o=>{var{pathname:n}=new URL(o),i=n.replace(/\.[^/.]+$/,"");return i.split("/").pop()}).filter(Boolean),r=t.reduce((o,n)=>n.length<o.length?n:o,t[0]||"");return r?.replace(/-[A-Za-z]*$/,"")||null}function gg({fonts:e,setName:t}){var r=os().data,o=r.fonts,[n,i]=(0,He.useState)(_g(Object.values(o))),[l,c]=(0,He.useState)(void 0);return T(uo.View,{style:{padding:8,paddingBottom:16,gap:12},children:[u(Kt,{autoFocus:!0,size:"md",label:v.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:i,errorMessage:l,state:l?"error":void 0}),u(ue,{variant:"text-xs/normal",color:"text-muted",children:Lt("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(v.SEPARATOR)})}),u(ge,{size:"md",variant:"primary",text:v.EXTRACT,disabled:!n,onPress:()=>{if(n)try{La({spec:1,name:n,main:o}),t(n),Object.assign(e,o),Yf.hideActionSheet()}catch(p){c(String(p))}}})]})}function bg({fonts:e,setName:t,setSource:r}){var[o,n]=(0,He.useState)(""),[i,l]=(0,He.useState)(!1),[c,p]=(0,He.useState)(void 0);return T(uo.View,{style:{padding:8,paddingBottom:16,gap:12},children:[u(Kt,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:c,state:c?"error":void 0}),u(ge,{size:"md",variant:"primary",text:"Import",disabled:!o||i,loading:i,onPress:()=>{l(!0),g(function*(){var x=yield We(o,{cache:"no-store"}),_=yield x.json();La(_),t(_.name),r(o),Object.assign(e,_.main)})().then(()=>Yf.hideActionSheet()).catch(x=>p(String(x))).finally(()=>l(!1))}})]})}function Sg(e){var[t,r]=(0,He.useState)(e.name),[o,n]=(0,He.useState)(e.fontEntries[e.name]);return T(uo.View,{style:{padding:8,paddingBottom:16,gap:12},children:[u(Kt,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:t,placeholder:"ggsans-Bold",onChange:r}),u(Kt,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),u(ge,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[t]=o}})]})}function qf(e,t,r){Yf.openLazy(Promise.resolve({default:()=>u(Ce,{children:T(Bn,{children:[u(Pd,{title:"Import Font"}),u(e,{fonts:t,...r})]})})}),"FontEditorActionSheet")}function xg({fontEntry:e}){var t=(0,He.useRef)(),r=(0,He.useRef)(),[o,n]=(0,He.useState)(!1),[i,l]=(0,He.useState)();return T(uo.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[u(uo.View,{style:{flex:1},children:u(Kt,{isRound:!0,size:"md",label:o?t.current:void 0,placeholder:o?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>o?null:u(P.Icon,{source:b("PlusSmallIcon")}),leadingText:o?t.current:"",onChange:c=>(o?r:t).current=c,errorMessage:i,state:i?"error":void 0})}),o&&u(ct,{size:"md",variant:"secondary",onPress:()=>{t.current="",n(!1)},icon:b("TrashIcon")}),u(ct,{size:"md",variant:"primary",onPress:()=>{if(!o&&t.current)n(!0);else if(o&&t.current&&r.current)try{var c=new URL(r.current);if(!c.protocol||!c.host)throw"Invalid URL";e[t.current]=r.current,t.current=void 0,r.current=void 0,n(!1)}catch(p){l(String(p))}},icon:b(o?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function Na(e){var[t,r]=(0,He.useState)(e.name),[o,n]=(0,He.useState)(),[i,l]=(0,He.useState)(!1),c=(0,He.useMemo)(()=>An(e.name?{..._e[e.name].main}:{}).proxy,[e.name]),p=Q(c),x=Re.useNavigation();return u(uo.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:T(Ie,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?T(rt,{title:"Actions",children:[u(P,{label:"Refetch fonts from source",icon:u(P.Icon,{source:b("RetryIcon")}),onPress:g(function*(){var _={..._e[e.name]};yield gl(e.name),yield si(_),x.goBack()})}),u(P,{label:"Delete font pack",icon:u(P.Icon,{source:b("TrashIcon")}),onPress:()=>gl(e.name).then(()=>x.goBack())})]}):T(rt,{title:"Import",children:[os()?.data?.fonts&&u(P,{label:v.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:v.DESC_EXTRACT_FONTS_FROM_THEME,icon:u(P.Icon,{source:b("HammerIcon")}),onPress:()=>qf(gg,p,{setName:r})}),u(P,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:u(P.Icon,{source:b("LinkIcon")}),onPress:()=>qf(bg,p,{setName:r,setSource:n})})]}),u(Kt,{size:"lg",value:t,label:v.FONT_NAME,placeholder:"Whitney",onChange:r}),T(rt,{title:"Font Entries",children:[Object.entries(p).map(([_,U])=>u(P,{label:_,subLabel:U,trailing:T(Ie,{spacing:2,direction:"horizontal",children:[u(ct,{size:"sm",variant:"secondary",icon:b("PencilIcon"),onPress:()=>qf(Sg,p,{name:_,fontEntries:p})}),u(ct,{size:"sm",variant:"secondary",icon:b("TrashIcon"),onPress:()=>delete p[_]})]})})),u(P,{label:u(xg,{fontEntry:p})})]}),u(uo.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:u(ge,{size:"lg",loading:i,disabled:i||!t||Object.keys(p).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:g(function*(){t&&(l(!0),e.name?(Object.assign(_e[e.name],{name:t,main:p,__edited:!0}),l(!1),x.goBack()):si({spec:1,name:t,main:p,__source:o}).then(()=>x.goBack()).finally(()=>l(!1)))}),icon:b(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var He,uo,Yf,Xf=h(()=>{"use strict";a();s();se();re();Se();de();Te();Sn();Ot();zt();X();ce();he();dr();He=z(vt()),uo=z(ve()),Yf=L("hideActionSheet")});var bl={};k(bl,{common:()=>cs,factories:()=>Si,filters:()=>Gl,findAllExports:()=>bo,findAllModule:()=>zl,findAllModuleId:()=>Ly,findByDisplayName:()=>Xl,findByDisplayNameAll:()=>Zl,findByDisplayNameLazy:()=>Jl,findByFilePath:()=>ky,findByFilePathLazy:()=>ou,findByName:()=>Za,findByNameAll:()=>Yl,findByNameLazy:()=>Qe,findByProps:()=>Y,findByPropsAll:()=>ql,findByPropsLazy:()=>L,findByStoreName:()=>ru,findByStoreNameLazy:()=>Ri,findByTypeName:()=>eu,findByTypeNameAll:()=>tu,findByTypeNameLazy:()=>By,findExports:()=>$e,findModule:()=>Vl,findModuleId:()=>Iy,lazy:()=>Wl});var Sl=h(()=>{"use strict";a();s();X();Wa();wi();Tn();Ti();he()});var Av=br((uk,Cv)=>{a();s();Cv.exports=So()["@shopify/react-native-skia"]});function wg({font:e}){var t=Eg(ki.colors.TEXT_NORMAL),{fontFamily:r,fontSize:o}=qt["text-md/medium"],n=r.split(/,/g)[0],i=ui.useFont(e.main[n])?.getTypeface(),l=(0,Pv.useMemo)(()=>{if(!i)return null;var c=SkiaApi.TypefaceFontProvider.Make();return c.registerFont(i,n),SkiaApi.ParagraphBuilder.Make({},c).pushStyle({color:SkiaApi.Color(t),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[i]);return u(li.View,{style:{height:64},children:i?u(ui.Canvas,{style:{height:64},children:u(ui.Paragraph,{paragraph:l,x:0,y:0,width:300})}):u(li.View,{style:{justifyContent:"center",alignItems:"center"},children:u(ue,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function Jf({item:e}){Q(_e);var t=Re.useNavigation(),r=_e.__selected===e.name;return u(Wr,{children:T(Ie,{spacing:16,children:[T(li.View,{style:{flexDirection:"row",alignItems:"center"},children:[u(li.View,{children:u(ue,{variant:"heading-lg/semibold",children:e.name})}),u(li.View,{style:{marginLeft:"auto"},children:T(Ie,{spacing:12,direction:"horizontal",children:[u(ct,{onPress:()=>{t.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>u(Na,{name:e.name})})},size:"sm",variant:"secondary",disabled:r,icon:b("PencilIcon")}),u(ge,{size:"sm",variant:r?"secondary":"primary",text:r?"Unapply":"Apply",onPress:g(function*(){yield Ma(r?null:e.name),Xt({title:v.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:v.RELOAD,cancelText:v.CANCEL,confirmColor:Zt.RED,onConfirm:di.reload})})})]})})]}),u(wg,{font:e})]})})}var ui,Pv,li,Eg,Ov=h(()=>{"use strict";a();s();se();re();Se();de();ar();Te();Sn();lt();aa();Sl();X();ce();ui=z(Av());Oo();Lr();Pv=z(vt()),li=z(ve());Xf();({useToken:Eg}=pe(()=>Y("useToken")))});var Lv={};k(Lv,{default:()=>Iv});function Iv(){Q(N),Q(_e);var e=Re.useNavigation();return u(en,{title:v.FONTS,searchKeywords:["name","description"],fetchFunction:Wf,items:Object.values(_e),safeModeMessage:v.SAFE_MODE_NOTICE_FONTS,card:Jf,onFabPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>u(Na,{})})}})}var Mv=h(()=>{"use strict";a();s();re();Se();Ls();Xf();Ke();Te();Sn();X();Ov()});function Dv(e,t){var[r,o]=(0,ci.useState)(2),n=()=>nn(e,t).then(l=>o(l?1:0)).catch(()=>o(3)),i=(0,ci.useMemo)(()=>new Proxy(Wi,{get(l,c,p){var x=Reflect.get(l,c,p);if(typeof x=="function")return(..._)=>{var U=(n(),x(..._));return U?.constructor?.name==="Promise"&&(o(2),U.finally(n)),U}}}),[]);return(0,ci.useEffect)(()=>void n(),[]),[r,i]}var ci,Fr,Nv=h(()=>{"use strict";a();s();an();ci=z(vt());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Fr||(Fr={}))});function Zf({asset:e}){return u(Kr,{label:`${e.name} - ${e.id}`,trailing:u(Fv.Image,{source:e.id,style:{width:32,height:32}}),onPress:()=>{It.setString(e.name),W.showCopyToClipboard()}})}var Fv,Bv=h(()=>{"use strict";a();s();re();X();ce();pr();Fv=z(ve())});function em(){var[e,t]=React.useState("");return u(Ce,{children:T(xl.View,{style:{flex:1},children:[u(Po,{style:{margin:10},onChangeText:r=>t(r)}),u(xl.FlatList,{data:Object.values(vo).filter(r=>r.name.includes(e)||r.id.toString()===e),renderItem:({item:r})=>u(Zf,{asset:r}),ItemSeparatorComponent:Od,keyExtractor:r=>r.name})]})})}var xl,kv=h(()=>{"use strict";a();s();re();Bv();de();ce();dr();xl=z(ve())});var jv={};k(jv,{default:()=>Uv});function Uv(){var[e,t]=Dv("preloads/reactDevtools.js"),r=Ag(),o=Re.useNavigation();return Q(N),Q(Qt),u(Ce,{children:u(El.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:T(Ie,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[u(Kt,{label:v.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>u(kn,{style:r.leadingText,children:"ws://"}),defaultValue:N.debuggerUrl,onChange:n=>N.debuggerUrl=n}),T(rt,{title:v.DEBUG,children:[u(P,{label:v.CONNECT_TO_DEBUG_WEBSOCKET,icon:u(P.Icon,{source:b("copy")}),onPress:()=>zi(N.debuggerUrl)}),In()&&u(Or,{children:u(P,{label:v.CONNECT_TO_REACT_DEVTOOLS,icon:u(P.Icon,{source:b("ic_badge_staff")}),onPress:()=>window[Iu()||"__vendetta_rdc"]?.connectToDevTools({host:N.debuggerUrl.split(":")?.[0],resolveRNStyle:El.StyleSheet.flatten})})})]}),is()&&u(Or,{children:T(rt,{title:"Loader config",children:[u(Jo,{label:v.LOAD_FROM_CUSTOM_URL,subLabel:v.LOAD_FROM_CUSTOM_URL_DEC,icon:u(P.Icon,{source:b("copy")}),value:Qt.customLoadUrl.enabled,onValueChange:n=>{Qt.customLoadUrl.enabled=n}}),Qt.customLoadUrl.enabled&&u(P,{label:u(Kt,{defaultValue:Qt.customLoadUrl.url,size:"md",onChange:n=>Qt.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:v.BUNNY_URL})}),In()&&tt()&&u(Jo,{label:v.LOAD_REACT_DEVTOOLS,subLabel:`${v.VERSION}: ${Lu()}`,icon:u(P.Icon,{source:b("ic_badge_staff")}),value:Qt.loadReactDevTools,onValueChange:n=>{Qt.loadReactDevTools=n}})]})}),T(rt,{title:"Other",children:[u(P,{arrow:!0,label:v.ASSET_BROWSER,icon:u(P.Icon,{source:b("ic_image")}),trailing:P.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:v.ASSET_BROWSER,render:em})}),u(P,{arrow:!0,label:v.ERROR_BOUNDARY_TOOLS_LABEL,icon:u(P.Icon,{source:b("ic_warning_24px")}),onPress:()=>Rg({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:u(P.Icon,{style:{marginRight:8},source:b("ic_warning_24px")}),onClose:()=>Tg()},options:[{label:v.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>u("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),u(P,{label:v.INSTALL_REACT_DEVTOOLS,subLabel:v.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:u(P.Icon,{source:b("DownloadIcon")}),trailing:u(ge,{size:"sm",loading:e===Fr.LOADING,disabled:e===Fr.LOADING,variant:e===Fr.TRUE?"secondary":"primary",text:e===Fr.TRUE?v.UNINSTALL:v.INSTALL,onPress:g(function*(){e===Fr.FALSE?t.downloadFile(Cg,"preloads/reactDevtools.js"):e===Fr.TRUE&&t.removeFile("preloads/reactDevtools.js")}),icon:b(e===Fr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),u(Jo,{label:v.ENABLE_EVAL_COMMAND,subLabel:v.ENABLE_EVAL_COMMAND_DESC,icon:u(P.Icon,{source:b("PencilIcon")}),value:N.enableEvalCommand,onValueChange:n=>{N.enableEvalCommand=n}})]})]})})})}var El,Tg,Rg,Cg,Ag,Hv=h(()=>{"use strict";a();s();se();re();Se();Nv();kv();de();Xr();cr();Ke();Te();lt();X();ce();he();Ao();dr();Lr();El=z(ve()),{hideActionSheet:Tg}=pe(()=>Y("openLazy","hideActionSheet")),{showSimpleActionSheet:Rg}=pe(()=>Y("showSimpleActionSheet")),Cg="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",Ag=qr({leadingText:{...qt["heading-md/semibold"],color:De.TEXT_MUTED,marginRight:-4}})});function tm(){Ss({name:"Bunny",items:[{key:"BUNNY",title:()=>v.BUNNY,icon:{uri:fs},render:()=>Promise.resolve().then(()=>(qd(),Kd)),rawTabsConfig:{useTrailing:()=>"(60a95ab-dev)"}},{key:"BUNNY_PLUGINS",title:()=>v.PLUGINS,icon:b("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(gv(),_v))},{key:"BUNNY_THEMES",title:()=>v.THEMES,icon:b("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(Tv(),wv)),usePredicate:()=>$t()},{key:"BUNNY_FONTS",title:()=>v.FONTS,icon:b("ic_add_text"),render:()=>Promise.resolve().then(()=>(Mv(),Lv)),usePredicate:()=>Nu()},{key:"BUNNY_DEVELOPER",title:()=>v.DEVELOPER,icon:b("WrenchIcon"),render:()=>Promise.resolve().then(()=>(Hv(),jv)),usePredicate:()=>Q(N).developerSettings??!1}]}),Ss({name:"Vendetta",items:[]})}var vc=h(()=>{"use strict";a();s();gd();Se();de();cr();Ke();Te();Hn()});var Vv=br((D0,Gv)=>{a();s();Gv.exports=So().lodash});var $v=br((B0,zv)=>{a();s();zv.exports=So().util});var wl,Qv,Wv,Kv=h(()=>{"use strict";a();s();re();de();Zi();Xr();cr();At();Ke();Te();Te();Ot();zt();du();Vr();Sl();X();ce();ce();Oo();Ao();dr();Lr();pr();za();wl=z(vt()),Qv=z(ve());Jr();Wv=()=>{var e=r=>o=>r(Si.createSimpleFilter(o,Nm(new Error().stack))),t=window.vendetta={patcher:{before:yi.before,after:yi.after,instead:yi.instead},metro:{modules:window.modules,find:e($e),findAll:e(bo),findByProps:(...r)=>{r.length===1&&r[0]==="KeyboardAwareScrollView"&&r.push("listenToKeyboardEvents");var o=Y(...r);if(o==null&&r.includes("ActionSheetTitleHeader")){var n=Y("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:i})=>((0,wl.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,wl.createElement)(Qv.View,null,i))}}return o},findByPropsAll:(...r)=>ql(...r),findByName:(r,o)=>r==="create"&&typeof o>"u"?Za("create",!1).default:Za(r,o??!0),findByNameAll:(r,o=!0)=>Yl(r,o),findByDisplayName:(r,o=!0)=>Xl(r,o),findByDisplayNameAll:(r,o=!0)=>Zl(r,o),findByTypeName:(r,o=!0)=>eu(r,o),findByTypeNameAll:(r,o=!0)=>tu(r,o),findByStoreName:r=>ru(r),common:{constants:To,channels:Fi,i18n:Ro,url:Co,toasts:Bi,stylesheet:{createThemedStyleSheet:Zo},clipboard:It,assets:qu,invites:Yu,commands:Yo,navigation:Xu,navigationStack:Ju,NavigationNative:Re,Flux:Zu,FluxDispatcher:fr,React:Ui,ReactNative:us,moment:ec(),chroma:_u(),lodash:Vv(),util:$v()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(r,o)=>lr(r,o),findInTree:(r,o,n)=>Pn(r,o,n),safeFetch:(r,o,n)=>We(r,o,n),unfreeze:r=>Object.isFrozen(r)?{...r}:r,without:(r,...o)=>Nl(r,o)},debug:{connectToDebugger:r=>zi(r),getDebugInfo:()=>Yr()},ui:{components:{Forms:rc,General:us,Alert:ms,Button:ds,HelpMessage:(...r)=>u(Fn,{...r}),SafeAreaView:(...r)=>u(ps,{...r}),Summary:Hi,ErrorBoundary:Ce,Codeblock:mr,Search:Po},toasts:{showToast:(r,o)=>W(r,o)},alerts:{showConfirmationAlert:r=>Xt(r),showCustomAlert:(r,o)=>As(r,o),showInputAlert:r=>$i(r)},assets:{all:vo,find:r=>gi(r),getAssetByName:r=>gi(r),getAssetByID:r=>gi(r),getAssetIDByName:r=>b(r)},semanticColors:De,rawColors:nc},plugins:{plugins:$.plugins,fetchPlugin:r=>$.fetchPlugin(r),installPlugin:(r,o=!0)=>$.installPlugin(r,o),startPlugin:r=>$.startPlugin(r),stopPlugin:(r,o=!0)=>$.stopPlugin(r,o),removePlugin:r=>$.removePlugin(r),getSettings:r=>$.getSettings(r)},themes:{themes:ye,fetchTheme:(r,o)=>Wo(r,o),installTheme:r=>zr(r),selectTheme:r=>$r(r==="default"?null:ye[r]),removeTheme:r=>Ko(r),getCurrentTheme:()=>wo(),updateThemes:()=>rs()},commands:{registerCommand:zn},storage:{createProxy:r=>An(r),useProxy:r=>Q(r),createStorage:r=>pt(r),wrapSync:r=>Vt(r),awaitSyncWrapper:r=>jr(r),createMMKVBackend:r=>Pt(r),createFileBackend:r=>(Oe()&&r==="vendetta_theme.json"&&(r="pyoncord/current-theme.json"),Ur(r))},settings:N,loader:{identity:Li()??void 0,config:Qt},logger:{log:(...r)=>console.log(...r),info:(...r)=>console.info(...r),warn:(...r)=>console.warn(...r),error:(...r)=>console.error(...r),time:(...r)=>console.time(...r),trace:(...r)=>console.trace(...r),verbose:(...r)=>console.log(...r)},version:Gi,unload:()=>{delete window.vendetta}};return()=>t.unload()}});function Og(){var e=Qe("ErrorBoundary")[Ja];return new Promise(t=>{e.getExports(r=>{t(r.prototype)})})}var co,pU,Pg,Fa,qv,Yv,Xv=h(()=>{"use strict";a();s();re();Se();Xr();ar();At();Ke();lt();aa();ce();Ti();he();Ao();dr();Lr();co=z(ve()),pU=Qe("ErrorBoundary"),{BadgableTabBar:Pg}=pe(()=>Y("BadgableTabBar")),Fa=Zo({container:{flex:1,backgroundColor:De.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...qt["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:De.HEADER_PRIMARY},headerDescription:{...qt["text-sm/medium"],textAlign:"center",color:De.TEXT_MUTED},footer:{flexDirection:Er.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),qv=[{id:"message",title:()=>v.MESSAGE},{id:"stack",title:()=>v.STACK_TRACE},{id:"componentStack",title:()=>v.COMPONENT,trimWhitespace:!0}];Yv=()=>me.await("render",Og(),function(e,t){if(this.state.error){this.state.activeTab??="message";var r=qv.find(i=>i.id===this.state.activeTab),o=this.state.error[this.state.activeTab],n=[{text:v.RELOAD_DISCORD,onPress:this.handleReload},...N.safeMode?.enabled?[]:[{text:v.RELOAD_IN_SAFE_MODE,onPress:Vi}],{text:v.RETRY_RENDER,color:Zt.RED,onPress:()=>this.setState({info:null,error:null})}];return u(Ce,{children:T(ps,{style:Fa.container,children:[T(co.View,{style:Fa.header,children:[u(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),T(co.View,{style:{flex:2,paddingLeft:24},children:[u(co.Text,{style:Fa.headerTitle,children:t.props.title}),u(co.Text,{style:Fa.headerDescription,children:t.props.body})]})]}),T(co.View,{style:{flex:6},children:[u(co.View,{style:{paddingBottom:8},children:u(Pg,{tabs:qv.map(i=>({...i,title:i.title()})),activeTab:this.state.activeTab,onTabSelected:i=>{this.setState({activeTab:i})}})}),u(mr,{selectable:!0,style:{flex:1,textAlignVertical:"top"},children:r?.trimWhitespace?o.split(`
`).filter(i=>i.length!==0).map(i=>i.trim()).join(`
`):o})]}),u(co.View,{style:Fa.footer,children:n.map(i=>{var l=n.indexOf(i)!==0?8:0;return u(ds,{text:i.text,color:i.color??Zt.BRAND,size:i.size??"small",onPress:i.onPress,style:{...Er.isTablet?{flex:`0.${n.length}`,marginLeft:l}:{marginTop:l},borderRadius:16}})})})]})})}})});var Jv=h(()=>{"use strict";a();s()});var Zv=h(()=>{"use strict";a();s()});var rm={};k(rm,{alerts:()=>Ps,color:()=>vs,components:()=>_s,settings:()=>mc,styles:()=>sc,toasts:()=>xs});var ey=h(()=>{"use strict";a();s();Oo();Ao();dr();Hn();Lr();pr()});var om={};k(om,{api:()=>Hc,fonts:()=>Da,managers:()=>Ig,metro:()=>bl,plugins:()=>na,themes:()=>qo,ui:()=>rm,unload:()=>Ba,utils:()=>ts});function Ba(){for(var e of ty)typeof e=="function"&&e();delete window.bunny}var Ig,ty,ry=h(()=>{"use strict";a();s();Jv();Zv();Gc();Sn();Lo();Ot();ey();zt();Sl();Sn();Lo();Ot();lt();Ig=ke(()=>(console.warn("bunny.managers.* is deprecated, and moved the top level (bunny.*). bunny.managers will be eventually removed soon"),{get fonts(){return Da},get plugins(){return na},get themes(){return qo}}),{hint:"object"}),ty=[];Ba.push=e=>{ty.push(e)}});var oy={};k(oy,{default:()=>Lg});var Lg,ny=h(()=>{"use strict";a();s();se();dd();Se();vc();Kv();Jr();Zi();Xr();Uc();an();cr();ar();Sn();Lo();Ot();Vr();Xv();Hn();ry();Lg=g(function*(){if($t())try{Oe()&&(ee.removeFile!=null?on("vendetta_theme.json",""):Zr("vendetta_theme.json","null","")),Au()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}yield Promise.all([Bc(),fc(),pc(),Fc(),Cu(),Wv(),_d(),tm(),md(),Yv(),af()]).then(e=>e.forEach(t=>t&&Ba.push(t))),window.bunny=om,$.initPlugins().then(e=>Ba.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),sf(),Kf(),et.log("Bunny is ready!")})});a();s();se();var{instead:Mg}=ja();globalThis.window=globalThis;function iy(){return nm.apply(this,arguments)}function nm(){return nm=g(function*(){try{Object.freeze=Object.seal=Object,yield($o(),dt(ld)).initMetroCache(),yield(ny(),dt(oy)).default()}catch(r){var{ClientInfoManager:e}=(ar(),dt(Ha)),t=r instanceof Error?r.stack:void 0;console.log(t??r?.toString?.()??r),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: 60a95ab-dev",t||r?.toString?.()].join(`
`))}}),nm.apply(this,arguments)}if(typeof globalThis.__r<"u")iy();else{var e=function(t){var r=window.__fbBatchedBridge,o=new Array,n=Mg("callFunctionReturnFlushedQueue",r,(l,c)=>l[0]==="AppRegistry"||!r.getCallableModule(l[0])?(o.push(l),r.flushedQueue()):c.apply(r,l)),i=function(){var l=g(function*(){yield iy(),n(),t(0),o.forEach(c=>r.getCallableModule(c[0])&&r.__callFunction(...c))});return function(){return l.apply(this,arguments)}}();i()};Dg=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>Tl,set(t){Tl=function(o){if(o===0)e(t),Tl=t;else return t(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(t){this.value=t}}})}var Tl,Dg;})();
//# sourceURL=bunny
