"use strict";(()=>{var e,t,n,r,o,i,a,s,u,c,l,f,d,p,m,g,h,v,y,_,E,b,S,w,A,T,R,C,O,I,N,L,D,P,M,x,B,F,U,k,j,V,G,H,$,z,Y,K,W,X,J,q,Q,Z,ee,et,en,er,eo,ei,ea,es,eu,ec,el,ef,ed,ep,em,eg,eh,ev,ey,e_,eE,eb,eS,ew,eA,eT,eR,eC,eO,eI,eN,eL,eD,eP,eM,ex,eB,eF,eU,ek,ej,eV,eG,eH,e$,ez,eY,eK,eW,eX,eJ,eq,eQ,eZ,e0,e1,e2,e4,e8,e6,e5,e9,e3,e7,te,tt,tn,tr,to,ti,ta,ts,tu,tc,tl,tf,td,tp,tm,tg,th,tv,ty,t_,tE,tb,tS,tw,tA,tT,tR,tC,tO,tI,tN,tL,tD,tP,tM,tx,tB,tF,tU,tk,tj,tV,tG,tH,t$,tz,tY,tK,tW,tX,tJ,tq,tQ,tZ,t0,t1,t2,t4,t8,t6,t5,t9,t3,t7,ne,nt,nn,nr,no,ni,na,ns,nu,nc,nl,nf,nd,np,nm,ng,nh,nv,ny,n_,nE,nb,nS,nw,nA,nT,nR,nC,nO,nI,nN,nL,nD,nP,nM,nx,nB,nF,nU,nk,nj,nV,nG,nH,n$,nz,nY,nK,nW,nX,nJ,nq,nQ,nZ,n0,n1,n2,n4,n8,n6,n5,n9,n3,n7,re,rt,rn,rr,ro,ri,ra,rs,ru,rc,rl,rf,rd,rp,rm,rg,rh,rv,ry,r_,rE,rb,rS,rw,rA,rT,rR,rC,rO,rI,rN,rL,rD,rP,rM,rx,rB,rF,rU,rk,rj,rV,rG,rH,r$,rz,rY,rK,rW,rX,rJ,rq,rQ,rZ,r0,r1,r2,r4,r8,r6,r5,r9,r3,r7,oe,ot,on,or,oo,oi,oa,os,ou,oc,ol,of,od,op,om,og,oh,ov,oy,o_,oE,ob,oS,ow,oA,oT,oR,oC,oO,oI=Object.create,oN=Object.defineProperty,oL=Object.getOwnPropertyDescriptor,oD=Object.getOwnPropertyNames,oP=Object.getPrototypeOf,oM=Object.prototype.hasOwnProperty,ox=(e,t)=>function(){return e&&(t=(0,e[oD(e)[0]])(e=0)),t},oB=(e,t)=>function(){return t||(0,e[oD(e)[0]])((t={exports:{}}).exports,t),t.exports},oF=(e,t)=>{for(var n in t)oN(e,n,{get:t[n],enumerable:!0})},oU=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(var o,i=oD(t),a=0,s=i.length;a<s;a++)o=i[a],oM.call(e,o)||o===n||oN(e,o,{get:(e=>t[e]).bind(null,o),enumerable:!(r=oL(t,o))||r.enumerable});return e},ok=(e,t,n)=>(n=null!=e?oI(oP(e)):{},oU(!t&&e&&e.__esModule?n:oN(n,"default",{value:e,enumerable:!0}),e)),oj=e=>oU(oN({},"__esModule",{value:!0}),e),oV=oB({"node_modules/.pnpm/spitroast@1.4.4/node_modules/spitroast/dist/cjs.js"(e,t){var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};!function(e,t){for(var r in t)n(e,r,{get:t[r],enumerable:!0})}(a,{after:function(){return m},before:function(){return d},instead:function(){return p},unpatchAll:function(){return l}}),t.exports=function(e,t,a,s){if(t&&"object"==typeof t||"function"==typeof t){var u=function(o){i.call(e,o)||void 0===o||n(e,o,{get:function(){return t[o]},enumerable:!(s=r(t,o))||s.enumerable})};for(var c of o(t))u(c)}return e}(n({},"__esModule",{value:!0}),a);var s=["a","b","i"],u=new Map;function c(e,t,n,r){var o=u.get(e),i=o?.[t];return!!i?.[r].has(n)&&(i[r].delete(n),s.every(function(e){return 0===i[e].size})&&(Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0})||(e[t]=i.o),delete o[t]),0==Object.keys(o).length&&u.delete(e),!0)}function l(){for(var[e,t]of u.entries())for(var n in t)for(var r of s)for(var o of t[n]?.[r].keys()??[])c(e,n,o,r)}var f=function(e){return function(t,n,r,o=!1){if("function"!=typeof n[t])throw Error(`${t} is not a function in ${n.constructor.name}`);u.has(n)||u.set(n,Object.create(null));var i=u.get(n);if(!i[t]){var a=n[t];i[t]={o:a,b:new Map,i:new Map,a:new Map};var s=function(e,r,i){var a=function(e,t,n,r,o){var i=u.get(t)?.[e];if(!i)return o?Reflect.construct(t[e],n,r):t[e].apply(r,n);for(var a of i.b.values()){var s=a.call(r,n);Array.isArray(s)&&(n=s)}var c=[...i.i.values()].reduce(function(e,t){return function(...n){return t.call(r,n,e)}},function(...e){return o?Reflect.construct(i.o,e,r):i.o.apply(r,e)})(...n);for(var l of i.a.values())c=l.call(r,n,c)??c;return c}(t,n,r,e,i);return o&&d(),a},l=new Proxy(a,{apply:function(e,t,n){return s(t,n,!1)},construct:function(e,t){return s(a,t,!0)},get:function(e,t,n){return"toString"==t?a.toString.bind(a):Reflect.get(e,t,n)}});Reflect.defineProperty(n,t,{value:l,configurable:!0,writable:!0})||(n[t]=l)}var f=Symbol(),d=function(){return c(n,t,f,e)};return i[t][e].set(f,r),d}},d=f("b"),p=f("i"),m=f("a")}}),oG={};oF(oG,{BundleUpdaterManager:()=>i,ClientInfoManager:()=>r,DeviceManager:()=>o,FileManager:()=>n,MMKVManager:()=>t,ThemeManager:()=>a});var oH=ox({"src/lib/api/native/modules.ts"(){t=(e=window.nativeModuleProxy).MMKVManager,n=e.DCDFileManager??e.RTNFileManager,r=e.InfoDictionaryManager??e.RTNClientInfoManager,o=e.DCDDeviceManager??e.RTNDeviceManager,({BundleUpdaterManager:i}=e),a=e.RTNThemeManager??e.DCDTheme}});function o$(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}var oz=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_class_call_check.js"(){}});function oY(e,t){return(oY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oK=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_set_prototype_of.js"(){}});function oW(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oY(e,t)}var oX=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_inherits.js"(){oK()}});function oJ(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var oq=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_is_native_reflect_construct.js"(){}});function oQ(e,t,n){return(oQ=oJ()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&oY(o,n.prototype),o}).apply(null,arguments)}var oZ=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_construct.js"(){oq(),oK()}});function o0(e){return(o0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o1=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_get_prototype_of.js"(){}}),o2=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_is_native_function.js"(){}});function o4(e){var t="function"==typeof Map?new Map:void 0;return(o4=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return oQ(e,arguments,o0(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),oY(n,e)})(e)}var o8=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_wrap_native_super.js"(){oZ(),o1(),o2(),oK()}}),o6=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_assert_this_initialized.js"(){}}),o5=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_type_of.js"(){}}),o9=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_possible_constructor_return.js"(){o6(),o5()}});function o3(e){var t=oJ();return function(){var n,r=o0(e);return n=t?Reflect.construct(r,arguments,o0(this).constructor):r.apply(this,arguments),n&&("object"==(n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof n)?n:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}}var o7=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_create_super.js"(){o1(),oq(),o9()}}),ie=ox({"node_modules/.pnpm/es-toolkit@1.13.1/node_modules/es-toolkit/dist/chunk-24FKGR6U.mjs"(){s=Object.defineProperty,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,f=function(e,t,n){return t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},d=function(e,t){for(var n in t||(t={}))c.call(t,n)&&f(e,n,t[n]);if(u)for(var n of u(t))l.call(t,n)&&f(e,n,t[n]);return e}}});function it(e){return null!=e}var ir=ox({"node_modules/.pnpm/es-toolkit@1.13.1/node_modules/es-toolkit/dist/chunk-BMRTZMRE.mjs"(){}}),io=ox({"node_modules/.pnpm/es-toolkit@1.13.1/node_modules/es-toolkit/dist/chunk-WFZXCGEG.mjs"(){ie()}}),ii=ox({"node_modules/.pnpm/es-toolkit@1.13.1/node_modules/es-toolkit/dist/chunk-237HGSZS.mjs"(){}}),ia=ox({"node_modules/.pnpm/es-toolkit@1.13.1/node_modules/es-toolkit/dist/chunk-3IP4JVLL.mjs"(){}}),is=ox({"node_modules/.pnpm/es-toolkit@1.13.1/node_modules/es-toolkit/dist/index.mjs"(){ir(),io(),ii(),ia()}}),iu=ox({"src/metro/enums.ts"(){var e,t;(e=p||(p={}))[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED",(t=m||(m={}))[t.FULL_LOOKUP=0]="FULL_LOOKUP",t[t.NOT_FOUND=1]="NOT_FOUND"}}),ic={};function il(e){function t(...n){var r=this;if(y in n[1]){var o=n[1][y],i=!1,a=function(){return i=!0};return o(function(t){i||(n[1]=t,a=e.apply(r,n))}),function(){return a()}}return e.apply(this,n)}return Object.assign(t,{await:function(...e){var n=this,r=e[1];if(!r||!("then"in r))throw Error("target is not a then-able object");var o=!1,i=function(){return o=!0};return r.then(function(r){o||(e[1]=r,i=t.apply(n,e))}),function(){return i()}}})}oF(ic,{_patcherDelaySymbol:()=>y,after:()=>_,before:()=>E,default:()=>S,instead:()=>b});var id=ox({"src/lib/api/patcher.ts"(){({after:g,before:h,instead:v}=oV()),y=Symbol.for("bunny.api.patcher.delay"),_=il(g),E=il(h),b=il(v),S={after:_,before:E,instead:b}}}),ip={};function im(e){if(!A)return _("registerAsset",A=e,function([e]){var t=tL;-1!==t&&a6(e.name,t)})}function ig(e){return"number"==typeof e?A.getAssetByID(e):"string"==typeof e?w[e]:Object.values(w).find(e)}function ih(e){return w[e]?.index}oF(ip,{assetsMap:()=>w,findAsset:()=>ig,findAssetId:()=>ih,patchAssets:()=>im});var iv=ox({"src/lib/api/assets.ts"(){id(),a5(),aJ(),w=new Proxy({},{get(e,t){if("string"==typeof t){if(e[t])return e[t];var n=tB().assetsIndex[t];if(null!=n){for(var r in n){var o=aK(Number(r));if("number"==typeof o){var i=A.getAssetByID(o);i&&(i.index??=i.id??=o,i.moduleId??=r,e[t]??=i)}}return e[t]}}},ownKeys(e){var t=[];for(var n in tB().assetsIndex)e[n]=this.get(e,n,{}),e[n]&&t.push(n);return t}})}}),iy=ox({"src/core/polyfills/allSettled.ts"(){T=function(e){return{status:"fulfilled",value:e}},R=function(e){return{status:"rejected",reason:e}},C=function(e){return Promise.resolve(e).then(T,R)},O=function(e){return Promise.all(Array.from(e).map(C))},Promise.allSettled??=O}});function i_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iE(e,t,n){return t&&i_(e.prototype,t),n&&i_(e,n),e}var ib=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_create_class.js"(){}});function iS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iw=ox({"node_modules/.pnpm/@swc+helpers@0.5.12/node_modules/@swc/helpers/esm/_define_property.js"(){}}),iA=ox({"src/lib/utils/emitter.ts"(){var e;oz(),ib(),iw(),(e=I||(I={})).GET="GET",e.SET="SET",e.DEL="DEL",N=function(){function e(){o$(this,e),iS(this,"listeners",Object.values(I).reduce(function(e,t){return e[t]=new Set,e},{}))}return iE(e,[{key:"on",value:function(e,t){this.listeners[e].has(t)||this.listeners[e].add(t)}},{key:"off",value:function(e,t){this.listeners[e].delete(t)}},{key:"once",value:function(e,t){var n=this,r=function(e,o){n.off(e,r),t(e,o)};this.on(e,r)}},{key:"emit",value:function(e,t){for(var n of this.listeners[e])n(e,t)}}]),e}()}});function iT(e,t={}){var n,r="object"!==t.hint?function(){}:{},o=new Proxy(r,x);return P.set(o,function(){return n??=e()}),M.set(r,{factory:e,options:t}),o}function iR(e,t={}){var n=iT(e);return new Proxy({},{get:(e,r)=>r===Symbol.iterator?function*(){throw yield n,yield new Proxy({},{get:function(e,r){return iT(function(){return n[r]},t)}}),Error("This is not a real iterator, this is likely used incorrectly")}:iT(function(){return n[r]},t)})}var iC=ox({"src/lib/utils/lazy.ts"(){L=new Set(["arguments","caller","prototype"]),D=function(e){return"string"==typeof e&&L.has(e)},P=new WeakMap,M=new WeakMap,x={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(e){return[e,function(t,...n){var r=M.get(t),o=r?.factory();if(!o)throw Error(`Trying to Reflect.${e} of ${typeof o}`);return Reflect[e](o,...n)}]})),has(e,t){var n=M.get(e);if(n?.options){var{exemptedEntries:r}=n.options;if(r&&t in r)return!0}var o=n?.factory();if(!o)throw Error(`Trying to Reflect.has of ${typeof o}`);return Reflect.has(o,t)},get(e,t,n){var r=M.get(e);if(r?.options){var{exemptedEntries:o}=r.options;if(o?.[t])return o[t]}var i=r?.factory();if(!i)throw Error(`Trying to Reflect.get of ${typeof i}`);return Reflect.get(i,t,n)},ownKeys:function(e){var t=M.get(e),n=t?.factory();if(!n)throw Error(`Trying to Reflect.ownKeys of ${typeof n}`);var r=Reflect.ownKeys(n);return L.forEach(function(e){return!r.includes(e)&&r.push(e)}),r},getOwnPropertyDescriptor:function(e,t){var n=M.get(e),r=n?.factory();if(!r)throw Error(`Trying to getOwnPropertyDescriptor of ${typeof r}`);if(D(t))return Reflect.getOwnPropertyDescriptor(e,t);var o=Reflect.getOwnPropertyDescriptor(r,t);return o&&Object.defineProperty(e,t,o),o}}}}),iO=ox({"src/metro/filters.ts"(){aJ(),iV(),B=ik(function(e,t){return 0===e.length?t[e[0]]:e.every(function(e){return t[e]})},function(e){return`bunny.metro.byProps(${e.join(",")})`}),F=ik(function([e],t){return t.name===e},function(e){return`bunny.metro.byName(${e})`}),U=ik(function([e],t){return t.displayName===e},function(e){return`bunny.metro.byDisplayName(${e})`}),k=ik(function([e],t){return t.type?.name===e},function(e){return`bunny.metro.byTypeName(${e})`}),j=ik(function([e],t){return t.getName?.length===0&&t.getName()===e},function(e){return`bunny.metro.byStoreName(${e})`}),V=ik(function([e],t,n,r){return!r&&tw[n]?.__filePath===e},function(e){return`bunny.metro.byFilePath(${e})`}),G=ik(function([e],t){return t?.[e]&&!Object.getOwnPropertyDescriptor(t,e)?.get},function(e){return`bunny.metro.byMutableProp(${e})`})}});function iI(e,t,n){return e.default&&e.__esModule&&n(e.default,t,!0)?[n.raw?e:e.default,!n.raw]:!n.raw&&n(e,t,!1)?[e,!1]:[void 0,!1]}function iN(e){var{cacheId:t,finish:n}=a4(e.uniq,!1);for(var[r,o]of aW(e.uniq,!1)){var[i,a]=iI(o,r,e);if(void 0!==i)return t(r,i),[r,a]}return n(!0),[]}function iL(e){return iN(e)?.[0]}function iD(e){var[t,n]=iN(e);if(null!=t)return n?aK(t).default:aK(t)}function iP(e){var{cacheId:t,finish:n}=a4(e.uniq,!0),r=[];for(var[o,i]of aW(e.uniq,!0)){var[a,s]=iI(i,o,e);void 0!==a&&(r.push([o,s]),t(o,a))}return n(0===r.length),r}function iM(e){return iP(e).map(function(e){return e[0]})}function ix(e){return iP(e).map(function(e){if(e.length){var[t,n]=e;return n?aK(t).default:aK(t)}})}var iB=ox({"src/metro/finders.ts"(){a5(),aJ()}});function iF(e){var t=void 0,n=function(e){var t=tB().findIndex[e.uniq];if(t){for(var n in t)if("_"!==n[0])return Number(n)}}(e),r={filter:e,indexed:!!n,moduleId:n,getExports(e){return!n||tw[n]?.isInitialized?(e(this.forceLoad()),function(){}):this.subscribe(e)},subscribe:e=>(function(e,t){var n=$.get(e);if(!n)throw Error("Subscribing a module for non-proxy-find");if(!n.indexed)throw Error("Attempting to subscribe to a non-indexed find");return aY(n.moduleId,function(){t(iD(n.filter))})})(o,e),get cache(){return t},forceLoad(){if(!(t??=iD(e)))throw Error(`${e.uniq} is ${typeof t}! (id ${r.moduleId??"unknown"})`);return t}},o=iT(function(){return r.forceLoad()},{exemptedEntries:{[H]:r,[y]:function(e){return r.getExports(e)}}});return $.set(o,r),o}var iU=ox({"src/metro/lazy.ts"(){id(),iC(),a5(),iB(),aJ(),H=Symbol.for("bunny.metro.lazyContext"),$=new WeakMap}});function ik(e,t){var n=function(n){return function(...r){return Object.assign(function(t,n,o){return e(r,t,n,o)},{filter:e,raw:n,uniq:[n&&"raw::",t(r)].filter(Boolean).join("")})}};return Object.assign(n(!1),{byRaw:n(!0),uniqMaker:t})}function ij(e,t){return ik(function(t,n){return e(n)},function(){return`dynamic::${t}`})()}var iV=ox({"src/metro/utils.ts"(){iO(),iB(),iU(),z=function(...e){return iD(B(...e))},Y=function(...e){return iF(B(...e))},K=function(...e){return ix(B(...e))},W=function(e,t=!0){return iD(t?F(e):F.byRaw(e))},X=function(e,t=!0){return iF(t?F(e):F.byRaw(e))},J=function(e,t=!0){return ix(t?F(e):F.byRaw(e))},q=function(e,t=!0){return iD(t?U(e):U.byRaw(e))},Q=function(e,t=!0){return iF(t?U(e):U.byRaw(e))},Z=function(e,t=!0){return ix(t?U(e):U.byRaw(e))},ee=function(e,t=!0){return iD(t?k(e):k.byRaw(e))},et=function(e,t=!0){return iF(t?k(e):k.byRaw(e))},en=function(e,t=!0){return ix(t?k(e):k.byRaw(e))},er=function(e){return iD(j(e))},eo=function(e){return iF(j(e))},ei=function(e){return iD(V(e))},ea=function(e){return iF(V(e))}}}),iG={};oF(iG,{Flux:()=>eS,FluxDispatcher:()=>ew,NavigationNative:()=>e_,React:()=>eA,ReactNative:()=>eT,assets:()=>ed,channels:()=>eu,clipboard:()=>ef,commands:()=>em,constants:()=>es,i18n:()=>ec,invites:()=>ep,messageUtil:()=>ev,navigation:()=>eg,navigationStack:()=>ey,semver:()=>eb,toasts:()=>eh,tokens:()=>eE,url:()=>el});var iH=ox({"src/metro/common/index.ts"(){iC(),iV(),es=Y("Fonts","Permissions"),eu=Y("getVoiceChannelId"),ec=Y("Messages"),el=Y("openURL","openDeeplink"),ef=Y("setString","getString","hasString"),ed=Y("registerAsset"),ep=Y("acceptInviteAndTransitionToInviteChannel"),em=Y("getBuiltInCommands"),eg=Y("pushLazy"),eh=iT(function(){return ei("modules/toast/native/ToastActionCreators.tsx").default}),ev=Y("sendBotMessage"),ey=Y("createStackNavigator"),e_=Y("NavigationContainer"),eE=Y("colors","unsafe_rawColors"),eb=Y("parse","clean"),eS=Y("connectStores"),ew=z("_interceptors"),eA=window.React=Y("createElement"),eT=window.ReactNative=Y("AppRegistry")}}),i$={};oF(i$,{byDisplayName:()=>U,byFilePath:()=>V,byMutableProp:()=>G,byName:()=>F,byProps:()=>B,byStoreName:()=>j,byTypeName:()=>k,common:()=>iG,createFilterDefinition:()=>ik,createSimpleFilter:()=>ij,findAllExports:()=>ix,findAllModule:()=>iP,findAllModuleId:()=>iM,findByDisplayName:()=>q,findByDisplayNameAll:()=>Z,findByDisplayNameLazy:()=>Q,findByFilePath:()=>ei,findByFilePathLazy:()=>ea,findByName:()=>W,findByNameAll:()=>J,findByNameLazy:()=>X,findByProps:()=>z,findByPropsAll:()=>K,findByPropsLazy:()=>Y,findByStoreName:()=>er,findByStoreNameLazy:()=>eo,findByTypeName:()=>ee,findByTypeNameAll:()=>en,findByTypeNameLazy:()=>et,findExports:()=>iD,findModule:()=>iN,findModuleId:()=>iL});var iz=ox({"src/metro/index.ts"(){iH(),iO(),iB(),iV()}}),iY=oB({"shims/depsModule.ts"(e,t){iz(),t.exports={react:Y("createElement"),"react-native":Y("AppRegistry"),util:Y("inspect","isNullOrUndefined"),moment:Y("isMoment"),"chroma-js":Y("brewer"),lodash:Y("forEachRight"),"@shopify/react-native-skia":Y("useFont")}}}),iK=oB({"globals:react-native"(e,t){t.exports=iY()["react-native"]}}),iW=ox({"src/lib/api/storage/backends.ts"(){oH(),eR=ok(iK()),eC=/[<>:"/\\|?*]/g,eO=function(e){return eR.Platform.select({default:e,ios:n.saveFileToGallery?e:`Documents/${e}`})},eI=function(e){return eC.test(e)&&(e=e.replace(eC,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`},eN=async function(e){await t.getItem(e)&&t.removeItem(e);var r=eI(e);await n.fileExists(`${n.getConstants().DocumentsDirPath}/${r}`)&&await n.removeFile?.("documents",r)},eL=function(e,r={}){var o=eI(e),i=JSON.stringify(r);return eD(o,r,async function(){var r=`${n.getConstants().DocumentsDirPath}/${o}`;if(!await n.fileExists(r)){var a=await t.getItem(e)??i;if("!!LARGE_VALUE!!"===a){var s=`${n.getConstants().CacheDirPath}/mmkv/${e}`;await n.fileExists(s)?a=await n.readFile(s,"utf8"):(console.log(`${e}: Experienced data loss :(`),a=i)}try{JSON.parse(a)}catch(t){console.error(`${e} had an unparseable data while migrating`),a=i}await n.writeFile("documents",eO(o),a,"utf8"),await t.getItem(e)!==null&&(t.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}}())},eD=function(e,t={},r){return{get:async function(){await r;var o=`${n.getConstants().DocumentsDirPath}/${e}`;if(await n.fileExists(o)){var i=await n.readFile(o,"utf8");try{return JSON.parse(i)}catch(e){}}return await n.writeFile("documents",eO(e),JSON.stringify(t),"utf8"),JSON.parse(await n.readFile(o,"utf8"))},set:async function(t){await r,await n.writeFile("documents",eO(e),JSON.stringify(t),"utf8")}}}}}),iX={};function iJ(e={}){var t=new N;return{proxy:function e(n,r){return new Proxy(n,{get(n,o){if(o===eP)return t;var i=[...r,o],a=n[o];return null!=a&&(t.emit("GET",{path:i,value:a}),"object"==typeof a)?e(a,i):a},set:(e,n,o)=>(e[n]=o,t.emit("SET",{path:[...r,n],value:o}),!0),deleteProperty(e,n){var o=delete e[n];return o&&t.emit("DEL",{path:[...r,n]}),o}})}(e,[]),emitter:t}}function iq(e){var t=e[eP],[,n]=React.useReducer(function(e){return~e},0);return React.useEffect(function(){var e=function(){return n()};return t.on("SET",e),t.on("DEL",e),function(){t.off("SET",e),t.off("DEL",e)}},[]),e}async function iQ(e){var{proxy:t,emitter:n}=iJ(await e.get()),r=function(){return e.set(t)};return n.on("SET",r),n.on("DEL",r),t}function iZ(e){var t=void 0,n=[],r=function(e){return t?e():n.push(e)};return e.then(function(e){t=e,n.forEach(function(e){return e()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(e){return[e,function(n,...r){return Reflect[e](t??n,...r)}]})),get:(e,n,o)=>n===eM?r:Reflect.get(t??e,n,o)})}function i0(...e){return Promise.all(e.map(function(e){return new Promise(function(t){return e[eM](t)})}))}oF(iX,{awaitStorage:()=>i0,createFileBackend:()=>eD,createMMKVBackend:()=>eL,createProxy:()=>iJ,createStorage:()=>iQ,purgeStorage:()=>eN,useProxy:()=>iq,wrapSync:()=>iZ});var i1=ox({"src/lib/api/storage/index.ts"(){iA(),iW(),eP=Symbol.for("vendetta.storage.emitter"),eM=Symbol.for("vendetta.storage.accessor")}}),i2={};oF(i2,{BUNNY_PROXY_PREFIX:()=>ej,DISCORD_SERVER:()=>ex,DISCORD_SERVER_ID:()=>eG,GITHUB:()=>eB,HTTP_REGEX:()=>eF,HTTP_REGEX_MULTI:()=>eU,OLD_BUNNY_PROXY_PREFIX:()=>eV,PLUGINS_CHANNEL_ID:()=>eH,THEMES_CHANNEL_ID:()=>e$,VD_PROXY_PREFIX:()=>ek});var i4=ox({"src/lib/utils/constants.ts"(){ex="https://discord.gg/XjYgWXHb9Q",eB="https://github.com/pyoncord",eF=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,eU=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,ek="https://vd-plugins.github.io/proxy",ej="https://bn-plugins.github.io/vd-proxy",eV="https://bunny-mod.github.io/plugins-proxy",eG="1015931589865246730",eH="1091880384561684561",e$="1091880434939482202"}}),i8=ox({"src/lib/utils/findInReactTree.ts"(){ar(),ez=function(e,t){return eY(e,t,{walkable:["props","children","child","sibling"]})}}}),i6=ox({"src/lib/utils/findInTree.ts"(){eY=function(e,t,{walkable:n=[],ignore:r=[],maxDepth:o=100}={}){return function e(t,n,r,o){if(!(o>r.maxDepth)&&t){try{if(n(t))return t}catch(e){}if(Array.isArray(t)){for(var i of t)if("object"==typeof i&&null!==i)try{var a=e(i,n,r,o+1);if(a)return a}catch(e){}}else if("object"==typeof t){for(var s of Object.keys(t))if("object"==typeof t[s]&&null!==t[s]&&(!r.walkable.length||r.walkable.includes(s))&&!r.ignore.includes(s))try{var u=e(t[s],n,r,o+1);if(u)return u}catch(e){}}}}(e,t,{walkable:n,ignore:r,maxDepth:o},0)}}}),i5={};oF(i5,{DiscordLogger:()=>eK,logger:()=>eW});var i9=ox({"src/lib/utils/logger.ts"(){iV(),eW=new(eK=X("Logger"))("Bunny")}});async function i3(e,t,n=1e4){var r,o=await fetch(e,{signal:(r=new AbortController,setTimeout(function(){return r.abort(`Timed out after ${n}ms`)},n),r.signal),...t});if(!o.ok)throw Error("Request returned non-ok");return o}var i7=ox({"src/lib/utils/safeFetch.ts"(){}}),ae={};oF(ae,{ButtonColors:()=>eX});var at=ox({"src/lib/utils/types.ts"(){var e;(e=eX||(eX={})).BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"}}),an={};oF(an,{Emitter:()=>N,constants:()=>i2,findInReactTree:()=>ez,findInTree:()=>eY,logger:()=>i5,safeFetch:()=>i3,types:()=>ae});var ar=ox({"src/lib/utils/index.ts"(){i4(),iA(),i8(),i6(),i9(),i7(),at()}}),ao=oB({"globals:chroma-js"(e,t){t.exports=iY()["chroma-js"]}}),ai={};async function aa(e){if("object"!=typeof e)throw Error("Theme must be an object");await eD(aI()||"theme.json").set(e)}function as(){var e=[_("default",e4,function(e,t){return tn?React.createElement(eq.ImageBackground,{style:{flex:1,height:"100%"},source:tr?.data?.background?.url&&{uri:tr.data.background.url}||0,blurRadius:"number"==typeof tr?.data?.background?.blur?tr?.data?.background?.blur:0,children:t}):t}),_("render",e8.prototype,function(e,t){if(tn&&tr?.data?.background?.url){var n=ez(t,function(e){return e&&"HACK_fixModalInteraction"in e.props&&e?.props?.style});n?n.props.style=[n.props.style,{backgroundColor:(0,eJ.default)(n.props.style.backgroundColor||"black").alpha(1-(tr?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return function(){return e.forEach(function(e){return e()})}}function au(e){if(eJ.default.valid(e))return(0,eJ.default)(e).hex();var t=Number((0,eq.processColor)(e));return eJ.default.rgb(t>>16&255,t>>8&255,255&t,t>>24&255).hex()}async function ac(e,t=!1){var n;try{n=await (await i3(e,{cache:"no-store"})).json()}catch(t){throw Error(`Failed to fetch theme at ${e}`)}e5[e]={id:e,selected:t,data:function(e){if(e.semanticColors){var{semanticColors:t}=e;for(var n in t)for(var r in t[n])t[n][r]&&=au(t[n][r])}if(e.rawColors){var{rawColors:o}=e;for(var i in o)e.rawColors[i]=au(o[i]);"android"===eq.Platform.OS&&function(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var n in t){var[r,o]=t[n];e[r]&&(e[n]=(0,eJ.default)(e[r]).alpha(o).hex())}}(o)}return e.spec??=2,e}(n)},t&&(aa(e5[e]),ah(e5[e],tt))}async function al(e){if("string"!=typeof e||e in e5)throw Error("Theme already installed");await ac(e)}function af(e,t=!0){return(e&&(e.selected=!0),Object.keys(e5).forEach(function(t){return e5[t].selected=e5[t].id===e?.id}),null==e&&t)?aa({}):e?aa(e):void 0}async function ad(e){var t=e5[e];return t.selected&&await af(null),delete e5[e],t.selected}function ap(){return aO()}async function am(){await i0(e5);var e=ap();await O(Object.keys(e5).map(function(t){return ac(t,e?.id===t)}))}function ag(){return tr}function ah(e,t){t||(t=function(e=tt){var t=e1.theme.toLowerCase();return ti.has(t)?t:e}()),tn=!!(tr=e),tt=t,te=`vd-theme-${e7++}-${t}`,e&&(eQ.Theme[te.toUpperCase()]=te,e2.DIVIDER_COLORS[te]=e2.DIVIDER_COLORS[tt],Object.keys(eQ.Shadow).forEach(function(e){return eQ.Shadow[e][te]=eQ.Shadow[e][tt]}),Object.keys(eQ.SemanticColor).forEach(function(t){eQ.SemanticColor[t][te]={...eQ.SemanticColor[t][tt],override:e?.data?.semanticColors?.[t]?.[0]}})),to&&(e0.setShouldSyncAppearanceSettings(!1),e0.updateTheme(e?te:t))}function av(){var e,t=ap();tn=!!t,e=function([e]){return e===te?[tt]:void 0},Object.keys(eQ.RawColor).forEach(function(e){Object.defineProperty(eQ.RawColor,e,{configurable:!0,enumerable:!0,get:function(){return tn?tr?.data?.rawColors?.[e]??e3[e]:e3[e]}})}),E("isThemeDark",e6,e),E("isThemeLight",e6,e),E("updateTheme",a,e),_("get",eZ,function([e],t){"SelectivelySyncedUserSettingsStore"===e?(to=!0,t?._state?.appearance?.settings?.theme&&tn&&(tt=t._state.appearance.settings.theme,t._state.appearance.settings.theme=te)):"ThemeStore"===e&&(to=!0,t?._state?.theme&&tn&&(tt=t._state.theme,t._state.theme=te))}),E("set",eZ,function(e){if(e[1]){var t=e[0],n=JSON.parse(JSON.stringify(e[1])),r={SelectivelySyncedUserSettingsStore:function(){if(n._state?.appearance?.settings?.theme){var{theme:e}=n._state?.appearance?.settings??{};ti.has(e)?tt=e:n._state.appearance.settings.theme=tt}},ThemeStore:function(){if(n._state?.theme){var{theme:e}=n._state;ti.has(e)?tt=e:n._state.theme=tt}}};return t in r?(r[t](),[t,n]):e}}),b("resolveSemanticColor",eQ.default.meta??eQ.default.internal,function(e,t){if(!tn||!tr||e[0]!==te)return t(...e);e[0]=tt;var[n,r]=function e(t,n){var r=n[e._sym??=Object.getOwnPropertySymbols(n)[0]],o=eQ.SemanticColor[r];return[r,o[t]]}(tt,e[1]),o="midnight"===tt?2:"light"===tt?1:0,i=e9[n]??n,a=(tr.data?.semanticColors?.[n]??tr.data?.semanticColors?.[i])?.[o];if(a)return a;var s=tr.data?.rawColors?.[r.raw];return s?1===r.opacity?s:(0,eJ.default)(s).alpha(r.opacity).hex():t(...e)}),ah(t,tt),am().catch(function(e){return console.error("Failed to update themes",e)})}oF(ai,{applyTheme:()=>ah,color:()=>eQ,fetchTheme:()=>ac,getCurrentTheme:()=>ag,getThemeFromLoader:()=>ap,initThemes:()=>av,installTheme:()=>al,patchChatBackground:()=>as,removeTheme:()=>ad,selectTheme:()=>af,themes:()=>e5,updateThemes:()=>am});var ay=ox({"src/lib/managers/themes.ts"(){iy(),aF(),oH(),id(),i1(),ar(),iC(),iO(),iU(),iV(),eJ=ok(ao()),eq=ok(iK()),eQ=Y("SemanticColor"),eZ=iT(function(){var e=z("impl");return"object"==typeof e?.impl?e.impl:z("storage")}),e0=Y("updateTheme"),e1=eo("ThemeStore"),e2=Y("DIVIDER_COLORS"),e4=X("MessagesWrapperConnected",!1),({MessagesWrapper:e8}=iR(function(){return z("MessagesWrapper")})),e6=iF(G("isThemeDark")),e5=iZ(iQ(eL("VENDETTA_THEMES"))),e9={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"},e3={...eQ.RawColor},e7=0,te="vd-theme",tt="darker",tn=!1,to=!1,ti=new Set(["darker","midnight","dark","light"])}}),a_={};function aE(){return null!=ts}function ab(){return null!=ta}function aS(){return ab()?ta:aE()?aw():null}function aw(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:function(){if(!ab()||aE())return null;var e={name:ta.loaderName,features:{}};return aR()&&(e.features.loaderConfig=!0),aP()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return aM()},configurable:!0})),aC()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){var e=aO()?.id;if(!e)return null;var{themes:t}=(ay(),oj(ai));return t[e]??aO()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}()}function aA(){return ab()?ta.loaderName:aE()?ts.name:"Unknown"}function aT(){return ab()?ta.loaderVersion:null}function aR(){return!!ab()||!!aE()&&ts.features.loaderConfig}function aC(){return ab()?ta.hasThemeSupport:!!aE()&&null!=ts.features.themes}function aO(){if(ab())return ta.storedTheme;if(aE()){var e=ts.features.themes?.prop;return e&&globalThis[e]||null}return null}function aI(){return ab()?"pyoncord/current-theme.json":aE()?"vendetta_theme.json":null}function aN(){return ab()?!!window.__reactDevTools:!!aE()&&null!=ts.features.devtools}function aL(){return aN()?ab()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):aE()?ts.features.devtools.prop:null:null}function aD(){return aN()?ab()?window.__reactDevTools.version||null:aE()?ts.features.devtools.version:null:null}function aP(){return ab()?ta.isSysColorsSupported:!!aE()&&null!=ts.features.syscolors}function aM(){return aP()?ab()?ta.sysColors:aE()?ts.features.syscolors.prop:null:null}function ax(){return ab()?"pyoncord/loader.json":aE()?"vendetta_loader.json":"loader.json"}function aB(){return!!ab()&&2===ta.fontPatch}oF(a_,{getLoaderConfigPath:()=>ax,getLoaderIdentity:()=>aS,getLoaderName:()=>aA,getLoaderVersion:()=>aT,getReactDevToolsProp:()=>aL,getReactDevToolsVersion:()=>aD,getStoredTheme:()=>aO,getSysColors:()=>aM,getThemeFilePath:()=>aI,getVendettaLoaderIdentity:()=>aw,isFontSupported:()=>aB,isLoaderConfigSupported:()=>aR,isPyonLoader:()=>ab,isReactDevToolsPreloaded:()=>aN,isSysColorsSupported:()=>aP,isThemeSupported:()=>aC,isVendettaLoader:()=>aE});var aF=ox({"src/lib/api/native/loader.ts"(){ta=globalThis.__PYON_LOADER__,ts=globalThis.__vendetta_loader,aw()}}),aU={};oF(aU,{loaderConfig:()=>tc,settings:()=>tu});var ak=ox({"src/lib/settings.ts"(){aF(),i1(),tu=iZ(iQ(eL("VENDETTA_SETTINGS"))),tc=iZ(iQ(eD(ax(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))}}),aj={};oF(aj,{default:()=>t_});var aV=ox({"src/metro/polyfills/redesign.ts"(){for([tv,ty]of(a5(),tl=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),tf={},td={},(tp=a8("redesign_module")).getModules()))for(th of tl){if(tm=void 0,ty[th])tm=ty;else{if(!ty.default?.[th])continue;tm=ty.default}tg=Reflect.ownKeys(tm).length,td[th]&&tg>=td[th]||(tf[th]=tm[th],td[th]=Reflect.ownKeys(tm).length,tp.cacheId(tv),1===tg&&tl.delete(th))}tp.finish(),t_=tf}}),aG={};function aH(e){Object.defineProperty(tw,e,{enumerable:!1}),tR.add(e),a2(Number(e))}function a$(e){return!e||e===window||null===e["<!@ pylix was here :fuyusquish: !@>"]||e.__proto__===Object.prototype&&0===Reflect.ownKeys(e).length}function az(){return tL}function aY(e,t){var n=tT.get(e)??new Set;return n.add(t),tT.set(e,n),function(){return n.delete(t)}}function aK(e){if(tw[0]?.isInitialized||tA(0),!tR.has(e)){if(-1===Number(e))return aV(),oj(aj);if(tw[e]?.isInitialized&&!tw[e]?.hasError)return tA(e);var t,n=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(tC);try{t=tA(e)}catch(n){aH(e),t=void 0}return ErrorUtils.setGlobalHandler(n),t}}function*aW(e,t=!1){yield[-1,(aV(),oj(aj))];var n=tB().findIndex[e];if(t&&!n?.[`_${m.FULL_LOOKUP}`]&&(n=void 0),!n?.[`_${m.NOT_FOUND}`]){for(var r in n)if("_"!==r[0]){var o=aK(Number(r));a$(o)||(yield[r,o])}for(var i in tw){var a=aK(Number(i));a$(a)||(yield[i,a])}}}function*aX(e){var t=tB().polyfillIndex[e];for(var n in t){var r=aK(Number(n));a$(r)||(yield[n,r])}if(!t[`_${m.FULL_LOOKUP}`])for(var o in tw){var i=aK(Number(o));a$(i)||(yield[o,i])}}oF(aG,{getCachedPolyfillModules:()=>aX,getImportingModuleId:()=>az,getModules:()=>aW,metroModules:()=>tw,requireModule:()=>aK,subscribeModule:()=>aY});var aJ=ox({"src/metro/modules.ts"(){for(tD in a5(),iu(),tE=function(e){var t=Number(e),n=tw[t];if(tB().exportsIndex[t]&p.BLACKLISTED)return aH(t),"continue";n.factory&&tS("factory",n,function(e,n){var r=tL;tL=t;var{1:o,4:i}=e;e[2]=function(e){var t=o(e);return t&&t.__esModule?t.default:t},e[3]=function(e){var t=o(e);if(t&&t.__esModule)return t;var n={};return t&&Object.assign(n,t),n.default=t,n},n(...e),a$(i.exports)?aH(t):function(e,t){if(a1(t,e),e.initSentry&&=function(){},e.default?.track&&e.default.trackMaker&&(e.default.track=function(){return Promise.resolve()}),e.registerAsset&&(iv(),oj(ip)).patchAssets(e),e?.default?.name==="requireNativeComponent"&&tS("default",e,function(e,t){try{return t(...e)}catch(t){return e[0]}}),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(e,t,n){if("isDeveloper"===t){var{settings:r}=(ak(),oj(aU));return r.enableDiscordDeveloperSettings??!1}return Reflect.get(e,t,n)}})),!tN&&e.fileFinishedImporting&&(tb("fileFinishedImporting",e,function([e]){-1!==tL&&e&&(tw[tL].__filePath=e)}),tN=!0),!tI&&window["__core-js_shared__"]&&(window["__core-js_shared__"].inspectSource=function(e){return"function"==typeof e&&tO.apply(e,[])},tI=!0),e.findHostInstance_DEPRECATED){var n=tw[t-1]?.publicModule.exports,r=n.default?.reactProfilingEnabled?1:-1;tw[t+r]?.isInitialized||aH(t+r)}e.isMoment&&tS("defineLocale",e,function(t,n){var r=e.locale();n(...t),e.locale(r)});var o=tT.get(Number(t));o&&(o.forEach(function(e){return e()}),tT.delete(Number(t)))}(i.exports,t),tL=r})},{before:tb,instead:tS}=oV(),tw=window.modules,tA=window.__r,tT=new Map,tR=new Set,tC=function(){},tO=Function.prototype.toString,tI=!1,tN=!1,tL=-1,tw)tE(tD)}}),aq={};function aQ(){var e={_v:tP,_buildNumber:r.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(function(){for(var e in window.modules)(aJ(),oj(aG)).requireModule(e)},100),tx=e,e}async function aZ(){var e=await t.getItem(tM);if(null==e)return void aQ();try{if((tx=JSON.parse(e))._v!==tP)throw tx=null,"cache invalidated; cache version outdated";if(tx._buildNumber!==r.Build)throw tx=null,"cache invalidated; version mismatch";if(tx._modulesCount!==Object.keys(window.modules).length)throw tx=null,"cache invalidated; modules count mismatch"}catch(e){aQ()}}function a0(e){if(e)return p.EXISTS}function a1(e,t){var n=a0(t);n&&n!==p.EXISTS&&(tx.exportsIndex[e]=n)}function a2(e){tx.exportsIndex[e]|=p.BLACKLISTED}function a4(e,t){var n=tx.findIndex[e]??={};return{cacheId(e,t){n[e]??=a0(t),tF()},finish(e){t&&(n[`_${m.FULL_LOOKUP}`]=1),e&&(n[`_${m.NOT_FOUND}`]=1),tF()}}}function a8(e){var t=tx.polyfillIndex[e]??={};return{getModules:()=>(aJ(),oj(aG)).getCachedPolyfillModules(e),cacheId(e){t[e]=1,tF()},finish(){t[`_${m.FULL_LOOKUP}`]=1,tF()}}}function a6(e,t){isNaN(t)||((tx.assetsIndex[e]??={})[t]=1,tF())}oF(aq,{getCacherForUniq:()=>a4,getMetroCache:()=>tB,getPolyfillModuleCacher:()=>a8,indexAssetName:()=>a6,indexBlacklistFlag:()=>a2,indexExportsFlags:()=>a1,initMetroCache:()=>aZ});var a5=ox({"src/metro/caches.ts"(){oH(),is(),iu(),tP=52,tM="__bunny_metro_cache_key__",tx=null,tB=window.__getMetroCache=function(){return tx},tF=function(e,t,{signal:n}={}){var r=null,o=function(...t){null!==r&&clearTimeout(r),null!=n&&n.aborted||(r=setTimeout(function(){e(...t),r=null},1e3))};return o.cancel=function(){null!==r&&(clearTimeout(r),r=null)},null==n||n.addEventListener("abort",function(){o.cancel()},{once:!0}),o}(function(){t.setItem(tM,JSON.stringify(tx))},0)}}),a9=oB({"globals:moment"(e,t){t.exports=iY().moment}});function a3({locale:e}){try{tU.default.locale(e.toLowerCase())}catch(e){eW.error("Failed to fix timestamps...",e)}ew.unsubscribe("I18N_LOAD_SUCCESS",a3)}var a7=ox({"src/core/fixes.ts"(){i9(),iH(),tU=ok(a9())}}),se=ox({"src/core/i18n/default.json"(){tk={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}}});function st(e,t){var n=tz[e];return new tj(n).format(t)}var sn=ox({"src/core/i18n/index.ts"(){iH(),iV(),se(),tj=X("MessageFormat"),tV=null,tG=null,tH=new Set,t$={},tz=new Proxy({},{get:function(e,t){return tV&&t$[tV]?.[t]?t$[tV]?.[t]:tk[t]}})}});function sr(e){var t,n=(t=e[0],P.get(t));return n&&(e[0]=n()),e}var so=ox({"shims/jsxRuntime.ts"(){iC(),iV(),tY=Y("jsx","jsxs","Fragment"),tK=Symbol.for("react.fragment"),tW=function(...e){return tY.jsx(...sr(e))},tX=function(...e){return tY.jsxs(...sr(e))}}}),si=ox({"src/core/vendetta/plugins.ts"(){iy(),i1(),ak(),ar(),i4(),i9(),tJ=iZ(iQ(eL("VENDETTA_PLUGINS"))),tq={},tQ={plugins:tJ,pluginFetch:async e=>(e.startsWith(ek)&&(e=e.replace(ek,ej)),await i3(e,{cache:"no-store"})),async fetchPlugin(e){e.endsWith("/")||(e+="/");var t,n,r=tJ[e];try{t=await (await this.pluginFetch(e+"manifest.json")).json()}catch(t){throw Error(`Failed to fetch manifest for ${e}`)}if(r?.manifest.hash!==t.hash)try{n=await (await this.pluginFetch(e+(t.main||"index.js"))).text()}catch(e){}if(!n&&!r)throw Error(`Failed to fetch JS for ${e}`);tJ[e]={id:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:n??r.js}},async installPlugin(e,t=!0){if(e.endsWith("/")||(e+="/"),"string"!=typeof e||e in tJ)throw Error("Plugin already installed");await this.fetchPlugin(e),t&&await this.startPlugin(e)},async evalPlugin(e){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await iQ(eL(e.id))},logger:new eK(`Bunny \xbb ${e.manifest.name}`)},n=(0,eval)(`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`)(t),r="function"==typeof n?n():n;return r?.default??r??{}},async startPlugin(e){e.endsWith("/")||(e+="/");var t=tJ[e];if(!t)throw Error("Attempted to start non-existent plugin");try{if(!tu.safeMode?.enabled){var n=await this.evalPlugin(t);tq[e]=n,n.onLoad?.()}t.enabled=!0}catch(n){eW.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,n);try{tq[t.id]?.onUnload?.()}catch(e){eW.error(`Plugin ${t.id} errored whilst unloading`,e)}delete tq[e],t.enabled=!1}},stopPlugin(e,t=!0){e.endsWith("/")||(e+="/");var n=tJ[e],r=tq[e];if(!n)throw Error("Attempted to stop non-existent plugin");if(!tu.safeMode?.enabled){try{r?.onUnload?.()}catch(e){eW.error(`Plugin ${n.id} errored whilst unloading`,e)}delete tq[e]}t&&(n.enabled=!1)},async removePlugin(e){e.endsWith("/")||(e+="/"),tJ[e].enabled&&this.stopPlugin(e),delete tJ[e],await eN(e)},async initPlugins(){var e=this;await i0(tu,tJ);var t=Object.keys(tJ);return tu.safeMode?.enabled||(await O(t.filter(function(e){return tJ[e].enabled}).map(async function(t){return tJ[t].update&&await e.fetchPlugin(t).catch(function(e){return eW.error(e.message)}),await e.startPlugin(t)})),t.filter(function(e){return!tJ[e].enabled&&tJ[e].update}).forEach(function(t){return e.fetchPlugin(t)})),function(){return e.stopAllPlugins()}},stopAllPlugins(){var e=this;return Object.keys(tq).forEach(function(t){return e.stopPlugin(t,!1)})},getSettings:function(e){return tq[e]?.settings}}}}),sa=ox({"src/metro/common/components.ts"(){iC(),iB(),iV(),tZ=ik(function([e],t){return t[e]&&1===Object.keys(t).length},function(e){return`bunny.metro.common.components.bySingularProp(${e})`}),t0=function(e){return iT(function(){return iD(tZ(e))?.[e]})},t1=function(e){return iT(function(){return z(e)[e]})},t2=Q("FluxContainer(Alert)"),t4=Y("Looks","Colors","Sizes"),t8=X("HelpMessage"),t6=iT(function(){return z("useSafeAreaInsets").SafeAreaView}),t5=t1("ActionSheetRow"),t9=t0("Button"),t1("TwinButtons"),t3=t0("IconButton"),t1("RowButton"),t1("PressableScale"),t7=t1("TableRow"),t1("TableRowIcon"),t1("TableRowTrailingText"),ne=t1("TableRowGroup"),nt=t1("TableSwitchRow"),nn=t0("FormSwitch"),t0("FormRadio"),t0("FormCheckbox"),nr=t0("FormSwitch"),no=t0("FormRadio"),t0("FormCheckbox"),ni=t1("Card"),iT(function(){return z("RedesignCompat").RedesignCompat}),na=t1("Stack"),ns=t0("TextInput"),t1("SegmentedControl"),t1("CompatSegmentedControl"),nu=t1("FloatingActionButton"),nc=t1("ActionSheet"),nl=t1("BottomSheetTitleHeader"),nf=Y("Text","LegacyText"),nd=iT(function(){return nf.Text}),np=Y("Form","FormSection"),{Form:nm,FormArrow:ng,FormCTA:nh,FormCTAButton:nv,FormCardSection:ny,FormCheckbox:n_,FormCheckboxRow:nE,FormCheckmark:nb,FormDivider:nS,FormHint:nw,FormIcon:nA,FormInput:nT,FormLabel:nR,FormRadio:nC,FormRadioGroup:nO,FormRadioRow:nI,FormRow:nN,FormSection:nL,FormSelect:nD,FormSliderRow:nP,FormSubLabel:nM,FormSwitch:nx,FormSwitchRow:nB,FormTernaryCheckBox:nF,FormText:nU,FormTitle:nk}=iR(function(){return np})}}),ss={};function su(e){return nH.isSemanticColor(e)}function sc(e,t=nG.theme){return nH.resolveSemanticColor(t,e)}oF(ss,{isSemanticColor:()=>su,rawColors:()=>nV,resolveSemanticColor:()=>sc,semanticColors:()=>nj});var sl=ox({"src/lib/ui/color.ts"(){ay(),iH(),iV(),nj=eQ?.default?.colors??es?.ThemeColorMap,nV=eQ?.default?.unsafe_rawColors??es?.Colors,nG=eo("ThemeStore"),nH=eQ.default.meta??=eQ.default.internal}}),sf={};function sd(e){return iT(function(){return nz.createStyles(e)})}function sp(e){for(var t in e)e[t]=new Proxy(n$.StyleSheet.flatten(e[t]),{get(e,t,n){var r=Reflect.get(e,t,n);return su(r)?sc(r):r}});return e}oF(sf,{TextStyleSheet:()=>nY,createStyles:()=>sd,createThemedStyleSheet:()=>sp});var sm=ox({"src/lib/ui/styles.ts"(){iC(),iV(),sl(),n$=ok(iK()),nz=Y("createStyles"),{TextStyleSheet:nY}=iR(function(){return z("TextStyleSheet")})}});function sg({selectable:e,style:t,children:n}){return e?nK.Platform.select({ios:tW(nX,{style:t,children:n}),default:tW(nJ,{style:t,children:n,selectable:!0})}):tW(nJ,{style:t,children:n})}var sh=ox({"src/lib/ui/components/Codeblock.tsx"(){so(),iH(),sl(),sm(),nK=ok(iK()),nW=sd({codeBlock:{fontFamily:es.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:nj.BACKGROUND_SECONDARY,color:nj.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:nj.BACKGROUND_TERTIARY,padding:10}}),nX=function({style:e,children:t}){return tW(nK.TextInput,{editable:!1,multiline:!0,style:[nW().codeBlock,e&&e],value:t})},nJ=function({selectable:e,style:t,children:n}){return tW(nK.Text,{selectable:e,style:[nW().codeBlock,t&&t],children:n})}}});function sv(e){var t=React.useRef(null);return React.useEffect(function(){if("android"===nq.Platform.OS){var e=t.current?._children?.[0]?._nativeTag;return function(){if(e)var t=b("setAccessibilityFocus",nq.AccessibilityInfo,function([n],r){if(n!==e)return r.apply(nq.AccessibilityInfo,[n]);t()})}}},[]),tW(nq.View,{ref:t,children:tW(nQ,{...e})})}var sy=ox({"src/lib/ui/components/ContextMenu.tsx"(){so(),id(),iC(),iV(),nq=ok(iK()),{ContextMenu:nQ}=iR(function(){return z("ContextMenu")})}}),s_=ox({"src/lib/ui/components/ErrorBoundary.tsx"(){oz(),ib(),iw(),oX(),o7(),so(),sn(),iH(),sa(),sR(),sm(),nZ=ok(iK()),n0=sp({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),iS(n1=function(e){oW(n,e);var t=o3(n);function n(e){var r;return o$(this,n),(r=t.call(this,e)).state={hasErr:!1},r}return iE(n,[{key:"render",value:function(){var e=this;return this.state.hasErr?tX(nZ.ScrollView,{style:n0.view,children:[tW(nU,{style:n0.title,children:tz.UH_OH}),tW(sg,{selectable:!0,style:{marginBottom:5},children:this.state.error.name}),tW(sg,{selectable:!0,style:{marginBottom:5},children:this.state.error.message}),this.state.error.stack&&tW(nZ.ScrollView,{style:{maxHeight:420,marginBottom:5},children:tW(sg,{selectable:!0,children:this.state.error.stack})}),tW(t9,{size:"md",variant:"destructive",onPress:function(){return e.setState({hasErr:!1})},text:tz.RETRY})]}):this.props.children}}]),n}(eA.Component),"getDerivedStateFromError",function(e){return{hasErr:!0,error:e}})}});function sE(){return tW(n2.Image,{style:{width:16,height:16},source:ih("search")})}function sb({onChangeText:e,placeholder:t,style:n}){var[r,o]=React.useState("");return tW(n1,{children:tW(n2.View,{style:n,children:tW(ns,{grow:!0,isClearable:!0,leadingIcon:sE,placeholder:t??tz.SEARCH,onChange:function(t){o(t),e?.(t)},returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:r})})})}var sS=ox({"src/lib/ui/components/Search.tsx"(){so(),sn(),iv(),sa(),s_(),n2=ok(iK())}});function sw({label:e,icon:t,noPadding:n=!1,noAnimation:r=!1,children:o}){var[i,a]=React.useState(!0);return tX(tK,{children:[tW(t7,{label:e,icon:t&&tW(t7.Icon,{source:ih(t)}),trailing:tW(nN.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:function(){a(!i),r||n4.LayoutAnimation.configureNext(n4.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&tW(tK,{children:tW(n4.View,{style:!n&&{paddingHorizontal:15},children:o})})]})}var sA=ox({"src/lib/ui/components/Summary.tsx"(){so(),iv(),sa(),n4=ok(iK())}}),sT={};oF(sT,{Codeblock:()=>sg,ContextMenu:()=>sv,ErrorBoundary:()=>n1,Search:()=>sb,Summary:()=>sw});var sR=ox({"src/lib/ui/components/index.ts"(){sh(),sy(),s_(),sS(),sA()}}),sC={};oF(sC,{showToast:()=>n6});var sO=ox({"src/lib/ui/toasts.ts"(){sn(),iv(),iC(),iH(),iV(),({uuid4:n8}=iR(function(){return z("uuid4")})),(n6=function(e,t){return eh.open({key:`vd-toast-${n8()}`,content:e,source:t,icon:t})}).showCopyToClipboard=function(e=tz.COPIED_TO_CLIPBOARD){n6(e,ih("toast_copy_link"))}}}),sI=ox({"src/core/plugins/quickInstall/forumPost.tsx"(){so(),sn(),si(),iv(),aF(),id(),i1(),ay(),i4(),iC(),sa(),iV(),sR(),sO(),({useFirstForumPostMessage:n5}=iR(function(){return z("useFirstForumPostMessage")})),n9=Y("MostCommonForumPostReaction"),n3={Plugin:{storage:tQ.plugins,urlsFilter:function(e){return e.startsWith(ek)},installOrRemove:function(e){return n3.Plugin.storage[e]?tQ.removePlugin(e):tQ.installPlugin(e)}},Theme:{storage:e5,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){return n3.Theme.storage[e]?ad(e):al(e)}}},n7=function(){return _("MostCommonForumPostReaction",n9,function([{thread:e,firstMessage:t}],n){var[r,o,i,a,s]=function(e,t=null,n=!1){var[r,o]=function(e,t=null,n=!1){if(e.guild_id===eG){if(e.parent_id===eH)r="Plugin";else{if(!(e.parent_id===e$&&aC()))return;r="Theme"}var r,{firstMessage:o}=n?n5(e):{firstMessage:t},i=o?.content?.match(eU)?.filter(n3[r].urlsFilter);if(i&&i[0])return"Plugin"!==r||i[0].endsWith("/")||(i[0]+="/"),[r,i[0]]}}(e,t,n)??[];iq(tQ.plugins),iq(e5);var[i,a]=React.useState(!1);if(!r||!o)return[!0];var s=!!n3[r].storage[o],u=async function(){a(!0);try{await n3[r].installOrRemove(o)}catch(e){n6(e.message,ih("Small"))}finally{a(!1)}};return[!1,r,s,i,u]}(e,t,!0);if(!r)return tX(tK,{children:[n,tW(n1,{children:tW(t9,{size:"sm",loading:a,disabled:a,variant:i?"secondary":"primary",text:i?tz.UNINSTALL:tz.INSTALL,onPress:s,icon:ih(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})})}}});function sN({title:e,confirmText:t,confirmColor:n,onConfirm:r,cancelText:o,placeholder:i,initialValue:a="",secureTextEntry:s}){var[u,c]=React.useState(a),[l,f]=React.useState("");function d(){Promise.resolve(r(u)).then(function(){re.close()}).catch(function(e){f(e.message)})}return tW(t2,{title:e,confirmText:t,confirmColor:n,isConfirmButtonDisabled:0!==l.length,onConfirm:d,cancelText:o,onCancel:function(){return re.close()},children:tW(nT,{placeholder:i,value:u,onChange:function(e){c("string"==typeof e?e:e.text),l&&f("")},returnKeyType:"done",onSubmitEditing:d,error:l||void 0,secureTextEntry:s,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var sL=ox({"src/lib/ui/components/InputAlert.tsx"(){so(),sa(),iV(),re=Y("openLazy","close")}}),sD={};function sP(e){return e.body=e.content,delete e.content,e.isDismissable??=!0,rt.show(e)}oF(sD,{showConfirmationAlert:()=>sP,showCustomAlert:()=>rn,showInputAlert:()=>rr});var sM=ox({"src/lib/ui/alerts.ts"(){iV(),sL(),rt=Y("openLazy","close"),rn=function(e,t){return rt.openLazy({importer:async function(){return function(){return React.createElement(e,t)}}})},rr=function(e){return rn(sN,e)}}});function sx(e){return e.startsWith(ek)?"plugin":e.endsWith(".json")&&aC()?"theme":void 0}function sB(e,t){("plugin"===e?tQ.installPlugin.bind(tQ):al)(t).then(function(){n6(tz.SUCCESSFULLY_INSTALLED,ih("Check"))}).catch(function(e){n6(e.message,ih("Small"))})}var sF=ox({"src/core/plugins/quickInstall/url.tsx"(){sn(),si(),iv(),aF(),id(),ay(),i4(),iC(),iH(),iO(),iB(),iV(),sM(),sO(),ro=iD(G("showSimpleActionSheet")),ri=Y("handleClick"),({openURL:ra}=iR(function(){return el})),({getChannelId:rs}=iR(function(){return eu})),{getChannel:ru}=iR(function(){return z("getChannel")})}}),sU={};function sk(){var e,t,n=[];return n.push((e=[n7()],function(){return e.map(function(e){return e()})})),n.push(((t=[]).push(_("showSimpleActionSheet",ro,function(e){if("LongPressUrl"===e[0].key){var{header:{title:t},options:n}=e[0],r=sx(t);r&&n.push({label:tz.INSTALL_ADDON,onPress:function(){return sB(r,t)}})}})),t.push(b("handleClick",ri,async function(e,t){var{href:n}=e[0],r=sx(n);if(!r||"theme"===r&&ru(rs())?.parent_id!==e$)return t.apply(this,e);sP({title:tz.HOLD_UP,content:st("CONFIRMATION_LINK_IS_A_TYPE",{urlType:r}),onConfirm:function(){return sB(r,n)},confirmText:tz.INSTALL,cancelText:tz.CANCEL,secondaryConfirmText:tz.OPEN_IN_BROWSER,onConfirmSecondary:function(){return ra(n)}})})),function(){return t.forEach(function(e){return e()})})),function(){return n.forEach(function(e){return e()})}}oF(sU,{default:()=>sk});var sj=ox({"src/core/plugins/quickInstall/index.ts"(){sI(),sF()}}),sV=ox({"src/core/plugins/index.ts"(){}}),sG=ox({"src/assets/icons/pyoncord.png"(){rc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"}});function sH(e,t,n,r,o){return async function(){if(e)return void e();var i=await n().then(function(e){return e.default});"string"==typeof r&&(r={title:r}),(t??=rl.getRootNavigationRef()).navigate("VendettaCustomPage",{...r,render:function(){return tW(i,{...o})}})}}var s$=ox({"src/lib/ui/settings/patches/shared.tsx"(){so(),iH(),iV(),sR(),rl=Y("getRootNavigationRef"),rf=React.memo(function(){var e=e_.useNavigation(),{render:t,...n}=e_.useRoute().params;return React.useEffect(function(){e.setOptions({...n})},[]),tW(n1,{children:tW(t,{})})})}});function sz(){var e=e_.useNavigation();return tW(tK,{children:Object.keys(rm).map(function(t){return tW(nL,{title:t,children:rm[t].filter(function(e){return e.usePredicate?.()??!0}).map(function(t){return tW(nN,{label:t.title(),leading:tW(nA,{source:t.icon}),trailing:nN.Arrow,onPress:sH(t.onPress,e,t.render,t.title())})})},t)})})}var sY=ox({"src/lib/ui/settings/patches/panel.tsx"(){so(),id(),ar(),iH(),sa(),iV(),sq(),s$()}}),sK=ox({"src/lib/ui/settings/patches/tabs.tsx"(){id(),ar(),iH(),iV(),sq(),s$(),rd=Y("SETTING_RENDERER_CONFIG"),rp=X("SettingsOverviewScreen",!1)}}),sW={};function sX(e){return rm[e.name]=e.items,function(){return delete rm[e.name]}}function sJ(){var e,t,n=[];return!function(e){e.push(_("default",X("getScreens",!1),function(e,t){return{...t,VendettaCustomPage:{title:"Bnuuy",render:function(){return tW(rf,{})}}}}));var t=_("default",X("UserSettingsOverviewWrapper",!1),function(t,n){var r=ez(n.props.children,function(e){return e.type?.name==="UserSettingsOverview"});e.push(_("renderSupportAndAcknowledgements",r.type.prototype,function(e,{props:{children:t}}){var n=t.findIndex(function(e){return e?.type?.name==="UploadLogsButton"});-1!==n&&t.splice(n,1)})),e.push(_("render",r.type.prototype,function(e,t){var n=[ec.Messages.BILLING_SETTINGS,ec.Messages.PREMIUM_SETTINGS],r=ez(t.props.children,function(e){return e?.children?.[1]?.type===nL})?.children;if(r){var o=r.findIndex(function(e){return n.includes(e?.props.label)});r.splice(-~o||4,0,tW(sz,{}))}}))},!0);e.push(t)}(n),e=rd.SETTING_RENDERER_CONFIG,t=rd.SETTING_RENDERER_CONFIG,Object.defineProperty(rd,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:function(){return{...t,VendettaCustomPage:{type:"route",title:function(){return"Bunny"},screen:{route:"VendettaCustomPage",getComponent:function(){return rf}}},...Object.values(rm).flatMap(function(e){return e.map(function(e){return{[e.key]:{type:"pressable",title:e.title,icon:e.icon,usePredicate:e.usePredicate,onPress:sH(e.onPress,null,e.render,e.title()),withArrow:!0,...e.rawTabsConfig}}})}).reduce(function(e,t){return Object.assign(e,t)})}},set:function(e){return t=e}}),n.push(function(){Object.defineProperty(rd,"SETTING_RENDERER_CONFIG",{value:e,writable:!0,get:void 0,set:void 0})}),n.push(_("default",rp,function(e,t){var n;if(n=!1,React.useEffect(function(){n=!0},[]),!n){var{sections:r}=ez(t,function(e){return e.props?.sections}).props,o=-~r.findIndex(function(e){return e.label===ec.Messages.ACCOUNT_SETTINGS})||1;Object.keys(rm).forEach(function(e){r.splice(o++,0,{label:e,title:e,settings:rm[e].map(function(e){return e.key})})})}})),function(){return n.forEach(function(e){return e()})}}oF(sW,{patchSettings:()=>sJ,registerSection:()=>sX,registeredSections:()=>rm});var sq=ox({"src/lib/ui/settings/index.tsx"(){sY(),sK(),rm={}}});function sQ({label:e,version:t,icon:n}){return tW(t7,{label:e,icon:tW(t7.Icon,{source:ih(n)}),trailing:tW(nU,{children:t}),onPress:function(){ef.setString(`${e} - ${t}`),n6.showCopyToClipboard()}})}var sZ=ox({"src/core/ui/settings/pages/General/Version.tsx"(){so(),iv(),iH(),sa(),sO()}}),s0={};async function s1(){tu.safeMode={...tu.safeMode,enabled:!tu.safeMode?.enabled},aC()&&(ap()?.id&&(tu.safeMode.currentThemeId=ap().id),tu.safeMode?.enabled?await af(null):tu.safeMode?.currentThemeId&&await af(e5[tu.safeMode?.currentThemeId])),setTimeout(i.reload,400)}function s2(e){if(void 0!==rh&&rh.readyState!==WebSocket.CLOSED&&rh.close(),!e){n6("Invalid debugger URL!",ih("Small"));return}(rh=new WebSocket(`ws://${e}`)).addEventListener("open",function(){return n6("Connected to debugger.",ih("Check"))}),rh.addEventListener("message",function(e){try{(0,eval)(e.data)}catch(e){console.error(e)}}),rh.addEventListener("error",function(e){console.log(`Debugger error: ${e.message}`),n6("An error occurred with the debugger connection!",ih("Small"))})}function s4(){var e=_("nativeLoggingHook",globalThis,function(e){rh?.readyState===WebSocket.OPEN&&rh.send(JSON.stringify({message:e[0],level:e[1]})),eW.log(e[0])});return function(){rh&&rh.close(),e()}}function s8(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],n="for RN ",i=rg.Platform.constants,a=i.reactNativeVersion;return{vendetta:{version:rv,loader:aA()},bunny:{version:rv,loader:{name:aA(),version:aT()}},discord:{version:r.Version,build:r.Build},react:{version:React.version,nativeVersion:t.startsWith(n)?t.substring(n.length):`${a.major}.${a.minor}.${a.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...rg.Platform.select({android:{os:{name:"Android",version:i.Release,sdk:i.Version}},ios:{os:{name:i.systemName,version:i.osVersion}}}),...rg.Platform.select({android:{device:{manufacturer:i.Manufacturer,brand:i.Brand,model:i.Model,codename:o.device}},ios:{device:{manufacturer:o.deviceManufacturer,brand:o.deviceBrand,model:o.deviceModel,codename:o.device}}})}}oF(s0,{connectToDebugger:()=>s2,getDebugInfo:()=>s8,patchLogHook:()=>s4,socket:()=>rh,toggleSafeMode:()=>s1,versionHash:()=>rv});var s6=ox({"src/lib/debug.ts"(){iv(),aF(),oH(),id(),ay(),ak(),i9(),sO(),rg=ok(iK()),rv="d09ce38-dev"}});function s5(){var e=s8();iq(tu);var t=[{label:tz.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:tz.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],n=[{label:tz.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:tz.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:tz.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:tz.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:tz.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:ry.Platform.select({android:tz.CODENAME,ios:tz.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return tW(ry.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:tX(na,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[tW(ne,{title:tz.VERSIONS,children:t.map(function(e){return tW(sQ,{label:e.label,version:e.version,icon:e.icon})})}),tW(ne,{title:tz.PLATFORM,children:n.map(function(e){return tW(sQ,{label:e.label,version:e.version,icon:e.icon})})})]})})}var s9=ox({"src/core/ui/settings/pages/General/About.tsx"(){so(),sn(),sZ(),i1(),s6(),ak(),sa(),ry=ok(iK())}}),s3={};function s7(){iq(tu);var e=s8(),t=e_.useNavigation();return tW(r_.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:tX(na,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[tX(ne,{title:tz.INFO,children:[tW(t7,{label:tz.BUNNY,icon:tW(t7.Icon,{source:{uri:rc}}),trailing:tW(t7.TrailingText,{text:e.bunny.version})}),tW(t7,{label:"Discord",icon:tW(t7.Icon,{source:ih("Discord")}),trailing:tW(t7.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),tW(t7,{arrow:!0,label:tz.ABOUT,icon:tW(t7.Icon,{source:ih("CircleInformationIcon-primary")}),trailing:t7.Arrow,onPress:function(){return t.push("VendettaCustomPage",{title:tz.ABOUT,render:function(){return tW(s5,{})}})}})]}),tX(ne,{title:tz.LINKS,children:[tW(t7,{label:tz.DISCORD_SERVER,icon:tW(t7.Icon,{source:ih("Discord")}),trailing:t7.Arrow,onPress:function(){return el.openDeeplink(ex)}}),tW(t7,{label:tz.GITHUB,icon:tW(t7.Icon,{source:ih("img_account_sync_github_white")}),trailing:t7.Arrow,onPress:function(){return el.openURL(eB)}})]}),tX(ne,{title:tz.ACTIONS,children:[tW(t7,{label:tz.RELOAD_DISCORD,icon:tW(t7.Icon,{source:ih("ic_message_retry")}),onPress:function(){return r_.NativeModules.BundleUpdaterManager.reload()}}),tW(t7,{label:tu.safeMode?.enabled?tz.RELOAD_IN_NORMAL_MODE:tz.RELOAD_IN_SAFE_MODE,subLabel:tu.safeMode?.enabled?tz.RELOAD_IN_NORMAL_MODE_DESC:tz.RELOAD_IN_SAFE_MODE_DESC,icon:tW(t7.Icon,{source:ih("ic_privacy_24px")}),onPress:s1}),tW(nt,{label:tz.DEVELOPER_SETTINGS,icon:tW(t7.Icon,{source:ih("ic_progress_wrench_24px")}),value:tu.developerSettings,onValueChange:function(e){tu.developerSettings=e}})]}),tW(ne,{title:tz.MISCELLANEOUS,children:tW(nt,{label:tz.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:tz.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:tW(t7.Icon,{source:ih("ic_progress_wrench_24px")}),value:tu.enableDiscordDeveloperSettings,onValueChange:function(e){tu.enableDiscordDeveloperSettings=e}})})]})})}oF(s3,{default:()=>s7});var ue=ox({"src/core/ui/settings/pages/General/index.tsx"(){so(),sn(),ct(),s9(),iv(),i1(),s6(),ak(),i4(),iH(),sa(),r_=ok(iK())}}),ut=oB({"node_modules/.pnpm/fuzzysort@3.0.2/node_modules/fuzzysort/fuzzysort.js"(e,t){var n;oz(),ib(),oX(),o8(),o7(),n=function(e){var t,n,r,o,i=function(e,t="<b>",n="</b>"){for(var r="function"==typeof t?t:void 0,o=e.target,i=o.length,a=e.indexes,s="",u=0,c=0,l=!1,f=[],d=0;d<i;++d){var p=o[d];if(a[c]===d){if(++c,l||(l=!0,r?(f.push(s),s=""):s+=t),c===a.length){r?(s+=p,f.push(r(s,u++)),s="",f.push(o.substr(d+1))):s+=p+n+o.substr(d+1);break}}else l&&(l=!1,r?(f.push(r(s,u++)),s=""):s+=n);s+=p}return r?f:s},a=function(e){"number"==typeof e?e=""+e:"string"!=typeof e&&(e="");var t=y(e);return c(e,{_targetLower:t._lower,_targetLowerCodes:t.lowerCodes,_bitflags:t.bitflags})},s=function(){function e(){o$(this,e)}return iE(e,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort(function(e,t){return e-t})}},{key:"indexes",set:function(e){return this._indexes=e}},{key:"highlight",value:function(e,t){return i(this,e,t)}},{key:"score",get:function(){return l(this._score)}},{key:"score",set:function(e){this._score=f(e)}}]),e}(),u=function(e){oW(n,e);var t=o3(n);function n(){return o$(this,n),t.apply(this,arguments)}return iE(n,[{key:"score",get:function(){return l(this._score)}},{key:"score",set:function(e){this._score=f(e)}}]),n}(o4(Array)),c=function(e,t){var n=new s;return n.target=e,n.obj=t.obj??x,n._score=t._score??P,n._indexes=t._indexes??[],n._targetLower=t._targetLower??"",n._targetLowerCodes=t._targetLowerCodes??x,n._nextBeginningIndexes=t._nextBeginningIndexes??x,n._bitflags=t._bitflags??0,n},l=function(e){return e===P?0:e>1?e:Math.E**-(((-e+1)**.04307-1)*2)},f=function(e){return 0===e?P:e>1?e:1-Math.pow(-(Math.log(e)/2)+1,1/.04307)},d=function(e){"number"==typeof e?e=""+e:"string"!=typeof e&&(e="");var t=y(e=e.trim()),n=[];if(t.containsSpace){var r=e.split(/\s+/);r=[...new Set(r)];for(var o=0;o<r.length;o++)if(""!==r[o]){var i=y(r[o]);n.push({lowerCodes:i.lowerCodes,_lower:r[o].toLowerCase(),containsSpace:!1})}}return{lowerCodes:t.lowerCodes,_lower:t._lower,containsSpace:t.containsSpace,bitflags:t.bitflags,spaceSearches:n}},p=function(e){if(e.length>999)return a(e);var t=b.get(e);return void 0!==t||(t=a(e),b.set(e,t)),t},m=function(e){if(e.length>999)return d(e);var t=S.get(e);return void 0!==t||(t=d(e),S.set(e,t)),t},g=function(e,t){var n=[];n.total=e.length;var r=t?.limit||D;if(t?.key)for(var o=0;o<e.length;o++){var i=e[o],a=N(i,t.key);if(a!=x){L(a)||(a=p(a));var s=c(a.target,{_score:a._score,obj:i});if(n.push(s),n.length>=r)break}}else if(t?.keys)for(var o=0;o<e.length;o++){for(var i=e[o],l=new u(t.keys.length),f=t.keys.length-1;f>=0;--f){var a=N(i,t.keys[f]);if(!a){l[f]=B;continue}L(a)||(a=p(a)),a._score=P,a._indexes.len=0,l[f]=a}if(l.obj=i,l._score=P,n.push(l),n.length>=r)break}else for(var o=0;o<e.length;o++){var a=e[o];if(a!=x&&(L(a)||(a=p(a)),a._score=P,a._indexes.len=0,n.push(a),n.length>=r))break}return n},h=function(e,t,n=!1,r=!1){if(!1===n&&e.containsSpace)return v(e,t,r);for(var o=e._lower,i=e.lowerCodes,a=i[0],u=t._targetLowerCodes,c=i.length,l=u.length,f=0,d=0,p=0;;){var m=a===u[d];if(m){if(w[p++]=d,++f===c)break;a=i[f]}if(++d>=l)return x}var f=0,g=!1,h=0,y=t._nextBeginningIndexes;y===x&&(y=t._nextBeginningIndexes=E(t.target));var _=0;if((d=0===w[0]?0:y[w[0]-1])!==l)for(;;)if(d>=l){if(f<=0||++_>200)break;--f,d=y[A[--h]]}else{var m=i[f]===u[d];if(m){if(A[h++]=d,++f===c){g=!0;break}++d}else d=y[d]}var b=c<=1?-1:t._targetLower.indexOf(o,w[0]),S=!!~b,T=!!S&&(0===b||t._nextBeginningIndexes[b-1]===b);if(S&&!T){for(var R=0;R<y.length;R=y[R])if(!(R<=b)){for(var C=0;C<c&&i[C]===t._targetLowerCodes[R+C];C++);if(C===c){b=R,T=!0;break}}}var O=function(e){for(var t=0,n=0,r=1;r<c;++r)e[r]-e[r-1]!=1&&(t-=e[r],++n);if(t-=(12+(e[c-1]-e[0]-(c-1)))*n,0!==e[0]&&(t-=e[0]*e[0]*.2),g){for(var o=1,r=y[0];r<l;r=y[r])++o;o>24&&(t*=(o-24)*10)}else t*=1e3;return t-=(l-c)/2,S&&(t/=1+c*c*1),T&&(t/=1+c*c*1),t-=(l-c)/2};if(g){if(T){for(var R=0;R<c;++R)w[R]=b+R;var I=w,N=O(w)}else var I=A,N=O(A)}else{if(S)for(var R=0;R<c;++R)w[R]=b+R;var I=w,N=O(I)}t._score=N;for(var R=0;R<c;++R)t._indexes[R]=I[R];t._indexes.len=c;var L=new s;return L.target=t.target,L._score=t._score,L._indexes=t._indexes,L},v=function(e,t,n){for(var r=new Set,o=0,i=x,a=0,s=e.spaceSearches,u=s.length,c=0,l=function(){for(var e=c-1;e>=0;e--)t._nextBeginningIndexes[T[2*e+0]]=T[2*e+1]},f=!1,d=0;d<u;++d){if(C[d]=P,i=h(s[d],t),n){if(i===x)continue;f=!0}else if(i===x)return l(),x;if(d!==u-1){for(var p=i._indexes,m=!0,g=0;g<p.len-1;g++)if(p[g+1]-p[g]!=1){m=!1;break}if(m)for(var v=p[p.len-1]+1,y=t._nextBeginningIndexes[v-1],_=v-1;_>=0&&y===t._nextBeginningIndexes[_];_--)t._nextBeginningIndexes[_]=v,T[2*c+0]=_,T[2*c+1]=y,c++}o+=i._score/u,C[d]=i._score/u,i._indexes[0]<a&&(o-=(a-i._indexes[0])*2),a=i._indexes[0];for(var E=0;E<i._indexes.len;++E)r.add(i._indexes[E])}if(n&&!f)return x;l();var b=h(e,t,!0);if(b!==x&&b._score>o){if(n)for(var d=0;d<u;++d)C[d]=b._score/u;return b}n&&(i=t),i._score=o;var d=0;for(var S of r)i._indexes[d++]=S;return i._indexes.len=d,i},y=function(e){for(var t=e.length,n=e.toLowerCase(),r=[],o=0,i=!1,a=0;a<t;++a){var s=r[a]=n.charCodeAt(a);if(32===s){i=!0;continue}o|=1<<(s>=97&&s<=122?s-97:s>=48&&s<=57?26:s<=127?30:31)}return{lowerCodes:r,bitflags:o,containsSpace:i,_lower:n}},_=function(e){for(var t=e.length,n=[],r=0,o=!1,i=!1,a=0;a<t;++a){var s=e.charCodeAt(a),u=s>=65&&s<=90,c=u||s>=97&&s<=122||s>=48&&s<=57,l=u&&!o||!i||!c;o=u,i=c,l&&(n[r++]=a)}return n},E=function(e){for(var t=e.length,n=_(e),r=[],o=n[0],i=0,a=0;a<t;++a)o>a?r[a]=o:(o=n[++i],r[a]=void 0===o?t:o);return r},b=new Map,S=new Map,w=[],A=[],T=[],R=[],C=[],O=[],I=[],N=function(e,t){var n=e[t];if(void 0!==n)return n;if("function"==typeof t)return t(e);var r=t;Array.isArray(t)||(r=t.split("."));for(var o=r.length,i=-1;e&&++i<o;)e=e[r[i]];return e},L=function(e){return"object"==typeof e&&"number"==typeof e._bitflags},D=1/0,P=-1/0,M=[];M.total=0;var x=null,B=a(""),F=(t=[],n=0,r={},o=function(e){for(var r=0,o=t[r],i=1;i<n;){var a=i+1;r=i,a<n&&t[a]._score<t[i]._score&&(r=a),t[r-1>>1]=t[r],i=1+(r<<1)}for(var s=r-1>>1;r>0&&o._score<t[s]._score;s=(r=s)-1>>1)t[r]=t[s];t[r]=o},r.add=function(e){var r=n;t[n++]=e;for(var o=r-1>>1;r>0&&e._score<t[o]._score;o=(r=o)-1>>1)t[r]=t[o];t[r]=e},r.poll=function(e){if(0!==n){var r=t[0];return t[0]=t[--n],o(),r}},r.peek=function(e){if(0!==n)return t[0]},r.replaceTop=function(e){t[0]=e,o()},r);return{single:function(e,t){if(!e||!t)return x;var n=m(e);L(t)||(t=p(t));var r=n.bitflags;return(r&t._bitflags)!==r?x:h(n,t)},go:function(e,t,n){if(!e)return n?.all?g(t,n):M;var r=m(e),o=r.bitflags,i=r.containsSpace,a=f(n?.threshold||0),s=n?.limit||D,c=0,l=0,d=t.length;function v(e){c<s?(F.add(e),++c):(++l,e._score>F.peek()._score&&F.replaceTop(e))}if(n?.key)for(var y=n.key,_=0;_<d;++_){var E=t[_],b=N(E,y);if(b&&(L(b)||(b=p(b)),(o&b._bitflags)===o)){var S=h(r,b);S!==x&&(S._score<a||(S.obj=E,v(S)))}}else if(n?.keys){var w=n.keys,A=w.length;e:for(var _=0;_<d;++_){for(var E=t[_],T=0,U=0;U<A;++U){var y=w[U],b=N(E,y);if(!b){O[U]=B;continue}L(b)||(b=p(b)),O[U]=b,T|=b._bitflags}if((o&T)===o){if(i)for(var k=0;k<r.spaceSearches.length;k++)R[k]=P;for(var U=0;U<A;++U){if((b=O[U])===B||(I[U]=h(r,b,!1,i),I[U]===x)){I[U]=B;continue}if(i)for(var j=0;j<r.spaceSearches.length;j++){if(C[j]>-1e3&&R[j]>P){var V=(R[j]+C[j])/4;V>R[j]&&(R[j]=V)}C[j]>R[j]&&(R[j]=C[j])}}if(i){for(var G=0;G<r.spaceSearches.length;G++)if(R[G]===P)continue e}else{for(var H=!1,$=0;$<A;$++)if(I[$]._score!==P){H=!0;break}if(!H)continue}for(var z=new u(A),Y=0;Y<A;Y++)z[Y]=I[Y];if(i)for(var K=0,W=0;W<r.spaceSearches.length;W++)K+=R[W];else for(var K=P,X=0;X<A;X++){var S=z[X];if(S._score>-1e3&&K>P){var V=(K+S._score)/4;V>K&&(K=V)}S._score>K&&(K=S._score)}if(z.obj=E,z._score=K,n?.scoreFn){if(!(K=n.scoreFn(z)))continue;K=f(K),z._score=K}K<a||v(z)}}}else for(var _=0;_<d;++_){var b=t[_];if(b&&(L(b)||(b=p(b)),(o&b._bitflags)===o)){var S=h(r,b);S!==x&&(S._score<a||v(S))}}if(0===c)return M;for(var J=Array(c),_=c-1;_>=0;--_)J[_]=F.poll();return J.total=c+l,J},prepare:a,cleanup:function(){b.clear(),S.clear()}}},"function"==typeof define&&define.amd?define([],n):"object"==typeof t&&t.exports?t.exports=n():e.fuzzysort=n()}}),un=oB({"globals:react"(e,t){t.exports=iY().react}});function ur({card:e,...t}){iq(tu),iq(t.items);var[n,r]=React.useState(""),o=(0,rb.useMemo)(function(){var e=Object.values(t.items);return t.resolveItem&&(e=e.map(t.resolveItem)),e.filter(function(e){return e&&"object"==typeof e})},[t.items]),i=(0,rb.useMemo)(function(){return n?rE.default.go(n,o,{keys:t.searchKeywords}).map(function(e){return e.obj}):o},[o,n]),a=(0,rb.useMemo)(function(){return tX(rS.View,{children:[tu.safeMode?.enabled&&tX(rS.View,{style:{marginBottom:10},children:[tW(t8,{messageType:0,children:t.safeModeMessage}),t.safeModeExtras]}),tW(sb,{style:{padding:8},onChangeText:function(e){return r(e.toLowerCase())},placeholder:tz.SEARCH})]})},[]);return tX(n1,{children:[tW(rw,{data:i,estimatedItemSize:136,ListHeaderComponent:a,onLoad:console.log,contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},renderItem:function({item:t}){return tW(rS.View,{style:{paddingVertical:6,paddingHorizontal:8},children:tW(e,{item:t})})}}),tW(nu,{icon:ih("PlusLargeIcon"),onPress:t.onFABPress??function(){ef.getString().then(function(e){return rr({initialValue:e.match(eU)?.[0]??"",placeholder:tz.URL_PLACEHOLDER,onConfirm:function(e){return t.fetchFunction(e)},confirmText:tz.INSTALL,cancelText:tz.CANCEL})})}})]})}var uo=ox({"src/core/ui/components/AddonPage.tsx"(){so(),sn(),iv(),i1(),ak(),i4(),iz(),iH(),sa(),sM(),sR(),rE=ok(ut()),rb=ok(un()),rS=ok(iK()),{FlashList:rw}=z("FlashList")}});function ui(e){rA.hideActionSheet(e)}var ua=ox({"src/lib/ui/sheets.ts"(){iV(),rA=Y("openLazy","hideActionSheet")}}),us=ox({"src/core/ui/settings/pages/Plugins/usePluginCardStyles.ts"(){sm(),iH(),rT=sd({smallIcon:{tintColor:eE.colors.LOGO_PRIMARY,height:18,width:18}})}}),uu={};function uc({plugin:e,navigation:t}){iq(e);var n=tQ.getSettings(e.id);return tW(nc,{children:tX(rR.ScrollView,{children:[tX(rR.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[tW(nd,{variant:"heading-xl/semibold",children:e.manifest.name}),tW(rR.View,{style:{marginLeft:"auto"},children:n&&tW(t9,{size:"md",text:"Configure",variant:"secondary",icon:ih("WrenchIcon"),onPress:function(){ui("PluginInfoActionSheet"),t.push("VendettaCustomPage",{title:e.manifest.name,render:n})}})})]}),tX(t5.Group,{children:[tW(t5,{label:tz.REFETCH,icon:tW(t7.Icon,{source:ih("RetryIcon")}),onPress:async function(){e.enabled&&tQ.stopPlugin(e.id,!1);try{await tQ.fetchPlugin(e.id),n6(tz.PLUGIN_REFETCH_SUCCESSFUL,ih("toast_image_saved"))}catch(e){n6(tz.PLUGIN_REFETCH_FAILED,ih("Small"))}e.enabled&&await tQ.startPlugin(e.id),ui("PluginInfoActionSheet")}}),tW(t5,{label:tz.COPY_URL,icon:tW(t7.Icon,{source:ih("copy")}),onPress:function(){ef.setString(e.id),n6.showCopyToClipboard()}}),tW(t5,{label:e.update?tz.DISABLE_UPDATES:tz.ENABLE_UPDATES,icon:tW(t7.Icon,{source:ih("ic_download_24px")}),onPress:function(){e.update=!e.update,n6(st("TOASTS_PLUGIN_UPDATE",{update:e.update,name:e.manifest.name}),ih("toast_image_saved"))}}),tW(t5,{label:tz.CLEAR_DATA,icon:tW(t7.Icon,{source:ih("ic_duplicate")}),onPress:function(){return sP({title:tz.HOLD_UP,content:st("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.manifest.name}),confirmText:tz.CLEAR,cancelText:tz.CANCEL,confirmColor:eX.RED,onConfirm:async function(){var t;e.enabled&&tQ.stopPlugin(e.id,!1);try{await tQ.fetchPlugin(e.id),n6(tz.PLUGIN_REFETCH_SUCCESSFUL,ih("toast_image_saved"))}catch(e){n6(tz.PLUGIN_REFETCH_FAILED,ih("Small"))}try{eN(e.id),t=["CLEAR_DATA_SUCCESSFUL","trash"]}catch(e){t=["CLEAR_DATA_FAILED","Small"]}n6(st(t[0],{name:e.manifest.name}),ih(t[1])),e.enabled&&await tQ.startPlugin(e.id),ui("PluginInfoActionSheet")}})}}),tW(t5,{label:tz.DELETE,icon:tW(t7.Icon,{source:ih("ic_message_delete")}),onPress:function(){return sP({title:tz.HOLD_UP,content:st("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.manifest.name}),confirmText:tz.DELETE,cancelText:tz.CANCEL,confirmColor:eX.RED,onConfirm:function(){try{tQ.removePlugin(e.id)}catch(e){n6(String(e),ih("Small"))}ui("PluginInfoActionSheet")}})}})]})]})})}oF(uu,{default:()=>uc});var ul=ox({"src/core/ui/settings/pages/Plugins/sheets/PluginInfoActionSheet.tsx"(){so(),sn(),si(),iv(),i1(),sM(),ua(),sO(),at(),iH(),sa(),rR=ok(iK())}});function uf(){var e=rL(),t=["by "];for(var n of e.manifest.authors)t.push(n.name),t.push(", ");return t.pop(),tW(nd,{variant:"text-md/semibold",color:"text-muted",children:t})}function ud(){var e=rT(),t=rL(),n=t.manifest.vendetta?.icon,r=n&&ih(n),o=tW(nd,{numberOfLines:1,variant:"heading-lg/semibold",children:t.manifest.name});return r?tX(rO.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[tW(rO.Image,{style:e.smallIcon,source:r}),o]}):o}function up({item:e}){return iq(e),tW(rN.Provider,{value:e,children:tW(ni,{children:tX(na,{spacing:16,children:[tX(rO.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[tX(rO.View,{style:{flexShrink:1},children:[tW(ud,{}),tW(uf,{})]}),tW(rO.View,{children:tX(na,{spacing:12,direction:"horizontal",children:[tW(rD,{}),tW(nn,{value:e.enabled,onValueChange:function(t){t?tQ.startPlugin(e.id):tQ.stopPlugin(e.id)}})]})})]}),tW(nd,{variant:"text-md/medium",children:e.manifest.description})]})})})}var um=ox({"src/core/ui/settings/pages/Plugins/PluginCard.tsx"(){so(),si(),iv(),i1(),ua(),iC(),iz(),iH(),sa(),rC=ok(un()),rO=ok(iK()),us(),({useToken:rI}=iR(function(){return z("useToken")})),rN=(0,rC.createContext)(null),rL=function(){return(0,rC.useContext)(rN)},rD=(0,rC.memo)(function(){var e=rL(),t=e_.useNavigation();return tX(rO.View,{style:{flexDirection:"row",gap:6},children:[tW(t3,{size:"sm",variant:"secondary",icon:ih("WrenchIcon"),disabled:!tQ.getSettings(e.id),onPress:function(){return t.push("VendettaCustomPage",{title:e.manifest.name,render:tQ.getSettings(e.id)})}}),tW(t3,{size:"sm",variant:"secondary",icon:ih("CircleInformationIcon-primary"),onPress:function(){var n,r,o;n="PluginInfoActionSheet",r=Promise.resolve().then(()=>(ul(),uu)),o={plugin:e,navigation:t},rA.openLazy(r,n,o??{})}})]})})}}),ug={};function uh(){return iq(tu),tW(ur,{title:tz.PLUGINS,searchKeywords:["manifest.name","manifest.description",function(e){return e.manifest.authors?.map(function(e){return e.name}).join()}],items:tQ.plugins,fetchFunction:tQ.installPlugin.bind(tQ),safeModeMessage:tz.SAFE_MODE_NOTICE_PLUGINS,card:up})}oF(ug,{default:()=>uh});var uv=ox({"src/core/ui/settings/pages/Plugins/index.tsx"(){so(),sn(),uo(),um(),si(),i1(),ak()}});function uy(e){var t=rB();return tW(ni,{children:tX(na,{spacing:16,children:[tX(rP.View,{style:{flexDirection:"row",alignItems:"center"},children:[tX(rP.View,{style:t.headerLeading,children:[tW(nd,{style:t.headerLabel,children:e.headerLabel}),e.headerSublabel&&tW(nd,{style:t.headerSubtitle,children:e.headerSublabel})]}),tX(rP.View,{style:[t.headerTrailing,{marginLeft:"auto"}],children:[tX(rP.View,{style:t.actions,children:[e.overflowActions&&tW(t3,{onPress:function(){return rx({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&tW(nN.Icon,{style:{marginRight:8},source:ih(e.headerIcon)}),onClose:function(){return rM()}},options:e.overflowActions?.map(function(e){return{...e,icon:ih(e.icon)}})})},size:"sm",variant:"secondary",icon:ih("CircleInformationIcon-primary")}),e.actions?.map(function({icon:e,onPress:t,disabled:n}){return tW(t3,{onPress:t,disabled:n,size:"sm",variant:"secondary",icon:ih(e)})})]}),e.toggleType&&("switch"===e.toggleType?tW(nr,{value:e.toggleValue(),onValueChange:e.onToggleChange}):tW(rP.TouchableOpacity,{onPress:function(){e.onToggleChange?.(!e.toggleValue())},children:tW(no,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&tW(nd,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var u_=ox({"src/core/ui/components/AddonCard.tsx"(){so(),iv(),iC(),sa(),iV(),sl(),sm(),rP=ok(iK()),({hideActionSheet:rM}=iR(function(){return z("openLazy","hideActionSheet")})),({showSimpleActionSheet:rx}=iR(function(){return z("showSimpleActionSheet")})),rB=sd({card:{backgroundColor:nj?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...nY["heading-md/semibold"],color:nj.TEXT_NORMAL},headerSubtitle:{...nY["text-md/semibold"],color:nj.TEXT_MUTED},descriptionLabel:{...nY["text-md/semibold"],color:nj.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:nj.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})}});function uE(e,t){try{af(e?t:null),ah(e?t:null)}catch(e){console.error("Error while selectAndApply,",e)}}function ub({item:e,index:t}){iq(e);var[n,r]=React.useState(!1);if(n)return null;var{authors:o}=e.data;return tW(uy,{index:t,headerLabel:e.data.name,headerSublabel:o?`by ${o.map(function(e){return e.name}).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:tu.safeMode?.enabled?void 0:"radio",toggleValue:function(){return e5[e.id].selected},onToggleChange:function(t){uE(t,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:tz.REFETCH,onPress:function(){ac(e.id,e.selected).then(function(){n6(tz.THEME_REFETCH_SUCCESSFUL,ih("toast_image_saved"))}).catch(function(){n6(tz.THEME_REFETCH_FAILED,ih("Small"))})}},{icon:"copy",label:tz.COPY_URL,onPress:function(){ef.setString(e.id),n6.showCopyToClipboard()}},{icon:"ic_message_delete",label:tz.DELETE,isDestructive:!0,onPress:function(){return sP({title:tz.HOLD_UP,content:st("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:tz.DELETE,cancelText:tz.CANCEL,confirmColor:eX.RED,onConfirm:function(){ad(e.id).then(function(t){r(!0),t&&uE(!1,e)}).catch(function(e){n6(e.message,ih("Small"))})}})}}]})}var uS=ox({"src/core/ui/settings/pages/Themes/ThemeCard.tsx"(){so(),sn(),u_(),iv(),i1(),ay(),ak(),at(),iH(),sM(),sO()}}),uw={};function uA(){return iq(tu),iq(e5),tW(ur,{title:tz.THEMES,searchKeywords:["manifest.name","manifest.description",function(e){return e.manifest.authors?.map(function(e){return e.name}).join()}],fetchFunction:al,items:e5,safeModeMessage:st("SAFE_MODE_NOTICE_THEMES",{enabled:!!tu.safeMode?.currentThemeId}),safeModeExtras:tu.safeMode?.currentThemeId?tW(t9,{text:tz.DISABLE_THEME,size:"small",onPress:function(){return delete tu.safeMode?.currentThemeId},style:{marginTop:8}}):void 0,card:ub})}oF(uw,{default:()=>uA});var uT=ox({"src/core/ui/settings/pages/Themes/index.tsx"(){so(),sn(),uo(),uS(),i1(),ay(),ak(),sa()}}),uR={};async function uC(e,t="pyoncord/"){if("function"!=typeof n.clearFolder)throw Error("'fs.clearFolder' is not supported");await n.clearFolder("documents",`${t}${e}`)}async function uO(e,t="pyoncord/"){if("function"!=typeof n.removeFile)throw Error("'fs.removeFile' is not supported");await n.removeFile("documents",`${t}${e}`)}async function uI(e,t="pyoncord/"){return await n.fileExists(`${n.getConstants().DocumentsDirPath}/${t}${e}`)}async function uN(e,t,r="pyoncord/"){if("string"!=typeof t)throw Error("Argument 'data' must be a string");await n.writeFile("documents",`${r}${e}`,t,"utf8")}async function uL(e,t,r="pyoncord/"){try{return await n.readFile(`${n.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch(n){if(null==t)throw Error(`Errored while reading ${e} doesn't exist`);return await uN(e,t),t}}async function uD(e,t,r="pyoncord/"){var o,i=await fetch(e).then(function(e){return e.blob()}),a=await new Promise(function(e){var t=new FileReader;t.onload=function(){return e(t.result)},t.readAsDataURL(i)});if(null==a)throw Error("Failed to convert blob to data URL");var s=a.indexOf("base64,");if(-1===s)throw Error("dataURL does not contain base64");o=a.slice(s+7),await n.writeFile("documents",`${r}${t}`,o,"base64")}oF(uR,{clearFolder:()=>uC,downloadFile:()=>uD,fileExists:()=>uI,readFile:()=>uL,removeFile:()=>uO,writeFile:()=>uN});var uP=ox({"src/lib/api/native/fs.ts"(){oH()}}),uM={};async function ux(e){if(!e&&null!==e)throw Error("Arg font must be a valid object or null");e?await uN("fonts.json",JSON.stringify(e)):await uO("fonts.json")}function uB(e){if(!e||"object"!=typeof e)throw Error("URL returned a null/non-object JSON");if("number"!=typeof e.spec)throw Error("Invalid font 'spec' number");if(1!==e.spec)throw Error("Only fonts which follows spec:1 are supported");var t=["name","main"];if(t.some(function(t){return!e[t]}))throw Error(`Font is missing one of the fields: ${t}`);if(e.name.startsWith("__"))throw Error("Font names cannot start with __");if(e.name in rF)throw Error(`There is already a font named '${e.name}' installed`)}async function uF(e,t=!1){var n;if("object"==typeof e&&e.__source&&(e=e.__source),"string"==typeof e)try{(n=await (await i3(e)).json()).__source=e}catch(t){throw Error(`Failed to fetch fonts at ${e}`,{cause:t})}else n=e;uB(n);try{await Promise.all(Object.entries(n.main).map(async function([e,t]){var r=t.split(".").pop();"ttf"!==r&&"otf"!==r&&(r="ttf");var o=`downloads/fonts/${n.name}/${e}.${r}`;await uI(o)||await uD(t,o)}))}catch(e){throw Error("Failed to download font assets",{cause:e})}return rF[n.name]=n,t&&ux(rF[n.name]),n}async function uU(e,t=!1){if("string"!=typeof e||Object.values(rF).some(function(t){return"object"==typeof t&&t.__source===e}))throw Error("Invalid source or font was already installed");var n=await uF(e);t&&await uk(n.name)}async function uk(e){if(e&&!(e in rF))throw Error("Selected font does not exist!");e?rF.__selected=e:delete rF.__selected,await ux(null==e?null:rF[e])}async function uj(e){rF.__selected===e&&await uk(null),delete rF[e];try{await uC(`downloads/fonts/${e}`)}catch(e){}}async function uV(){await i0(rF),await Promise.allSettled(Object.keys(rF).map(function(e){return uF(rF[e],rF.__selected===e)}))}oF(uM,{fonts:()=>rF,installFont:()=>uU,removeFont:()=>uj,saveFont:()=>uF,selectFont:()=>uk,updateFonts:()=>uV,validateFont:()=>uB});var uG=ox({"src/lib/managers/fonts.ts"(){uP(),i1(),ar(),rF=iZ(iQ(eL("BUNNY_FONTS")))}});function uH({fonts:e,setName:t}){var n,r,o=tr.data.fonts,[i,a]=(0,rU.useState)((r=(n=Object.values(o).map(function(e){var{pathname:t}=new URL(e);return t.replace(/\.[^/.]+$/,"").split("/").pop()}).filter(Boolean)).reduce(function(e,t){return t.length<e.length?t:e},n[0]||""),r?.replace(/-[A-Za-z]*$/,"")||null)),[s,u]=(0,rU.useState)(void 0);return tX(rk.View,{style:{padding:8,paddingBottom:16,gap:12},children:[tW(ns,{autoFocus:!0,size:"md",label:tz.FONT_NAME,value:i,placeholder:i||"Whitney",onChange:a,errorMessage:s,state:s?"error":void 0}),tW(nd,{variant:"text-xs/normal",color:"text-muted",children:st("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(tz.SEPARATOR)})}),tW(t9,{size:"md",variant:"primary",text:tz.EXTRACT,disabled:!i,onPress:function(){if(i)try{uB({spec:1,name:i,main:o}),t(i),Object.assign(e,o),rj.hideActionSheet()}catch(e){u(String(e))}}})]})}function u$({fonts:e,setName:t,setSource:n}){var[r,o]=(0,rU.useState)(""),[i,a]=(0,rU.useState)(!1),[s,u]=(0,rU.useState)(void 0);return tX(rk.View,{style:{padding:8,paddingBottom:16,gap:12},children:[tW(ns,{autoFocus:!0,size:"md",label:"Font Link",value:r,placeholder:"https://link.to/font/pack.json",onChange:o,errorMessage:s,state:s?"error":void 0}),tW(t9,{size:"md",variant:"primary",text:"Import",disabled:!r||i,loading:i,onPress:function(){a(!0),(async function(){var o=await i3(r,{cache:"no-store"}),i=await o.json();uB(i),t(i.name),n(r),Object.assign(e,i.main)})().then(function(){return rj.hideActionSheet()}).catch(function(e){return u(String(e))}).finally(function(){return a(!1)})}})]})}function uz(e){var[t,n]=(0,rU.useState)(e.name),[r,o]=(0,rU.useState)(e.fontEntries[e.name]);return tX(rk.View,{style:{padding:8,paddingBottom:16,gap:12},children:[tW(ns,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:t,placeholder:"ggsans-Bold",onChange:n}),tW(ns,{size:"md",label:"Font URL",value:r,placeholder:"https://link.to/the/font.ttf",onChange:o}),tW(t9,{size:"md",variant:"primary",text:"Apply",onPress:function(){delete e.fontEntries[e.name],e.fontEntries[t]=r}})]})}function uY(e,t,n){rj.openLazy(Promise.resolve({default:function(){return tW(n1,{children:tX(nc,{children:[tW(nl,{title:"Import Font"}),tW(e,{fonts:t,...n})]})})}}),"FontEditorActionSheet")}function uK({fontEntry:e}){var t=(0,rU.useRef)(),n=(0,rU.useRef)(),[r,o]=(0,rU.useState)(!1),[i,a]=(0,rU.useState)();return tX(rk.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[tW(rk.View,{style:{flex:1},children:tW(ns,{isRound:!0,size:"md",label:r?t.current:void 0,placeholder:r?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:function(){return r?null:tW(t7.Icon,{source:ih("PlusSmallIcon")})},leadingText:r?t.current:"",onChange:function(e){return(r?n:t).current=e},errorMessage:i,state:i?"error":void 0})}),r&&tW(t3,{size:"md",variant:"secondary",onPress:function(){t.current="",o(!1)},icon:ih("TrashIcon")}),tW(t3,{size:"md",variant:"primary",onPress:function(){if(!r&&t.current)o(!0);else if(r&&t.current&&n.current)try{var i=new URL(n.current);if(!i.protocol||!i.host)throw"Invalid URL";e[t.current]=n.current,t.current=void 0,n.current=void 0,o(!1)}catch(e){a(String(e))}},icon:ih(r?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function uW(e){var[t,n]=(0,rU.useState)(e.name),[r,o]=(0,rU.useState)(),[i,a]=(0,rU.useState)(!1),s=iq((0,rU.useMemo)(function(){return iJ(e.name?{...rF[e.name].main}:{}).proxy},[e.name])),u=e_.useNavigation();return tW(rk.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:tX(na,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?tX(ne,{title:"Actions",children:[tW(t7,{label:"Refetch fonts from source",icon:tW(t7.Icon,{source:ih("RetryIcon")}),onPress:async function(){var t={...rF[e.name]};await uj(e.name),await uF(t),u.goBack()}}),tW(t7,{label:"Delete font pack",icon:tW(t7.Icon,{source:ih("TrashIcon")}),onPress:function(){return uj(e.name).then(function(){return u.goBack()})}})]}):tX(ne,{title:"Import",children:[tr?.data?.fonts&&tW(t7,{label:tz.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:tz.DESC_EXTRACT_FONTS_FROM_THEME,icon:tW(t7.Icon,{source:ih("HammerIcon")}),onPress:function(){return uY(uH,s,{setName:n})}}),tW(t7,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:tW(t7.Icon,{source:ih("LinkIcon")}),onPress:function(){return uY(u$,s,{setName:n,setSource:o})}})]}),tW(ns,{size:"lg",value:t,label:tz.FONT_NAME,placeholder:"Whitney",onChange:n}),tX(ne,{title:"Font Entries",children:[Object.entries(s).map(function([e,t]){return tW(t7,{label:e,subLabel:t,trailing:tX(na,{spacing:2,direction:"horizontal",children:[tW(t3,{size:"sm",variant:"secondary",icon:ih("PencilIcon"),onPress:function(){return uY(uz,s,{name:e,fontEntries:s})}}),tW(t3,{size:"sm",variant:"secondary",icon:ih("TrashIcon"),onPress:function(){return delete s[e]}})]})})}),tW(t7,{label:tW(uK,{fontEntry:s})})]}),tW(rk.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:tW(t9,{size:"lg",loading:i,disabled:i||!t||0===Object.keys(s).length,variant:"primary",text:e.name?"Save":"Import",onPress:async function(){t&&(a(!0),e.name?(Object.assign(rF[e.name],{name:t,main:s,__edited:!0}),a(!1),u.goBack()):uF({spec:1,name:t,main:s,__source:r}).then(function(){return u.goBack()}).finally(function(){return a(!1)}))},icon:ih(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var uX=ox({"src/core/ui/settings/pages/Fonts/FontEditor.tsx"(){so(),sn(),iv(),i1(),uG(),ay(),ar(),iH(),sa(),iV(),sR(),rU=ok(un()),rk=ok(iK()),rj=Y("hideActionSheet")}}),uJ=oB({"globals:@shopify/react-native-skia"(e,t){t.exports=iY()["@shopify/react-native-skia"]}});function uq({font:e}){var t=r$(eE.colors.TEXT_NORMAL),{fontFamily:n,fontSize:r}=nY["text-md/medium"],o=n.split(/,/g)[0],i=rV.useFont(e.main[o])?.getTypeface(),a=(0,rG.useMemo)(function(){if(!i)return null;var e=SkiaApi.TypefaceFontProvider.Make();return e.registerFont(i,o),SkiaApi.ParagraphBuilder.Make({},e).pushStyle({color:SkiaApi.Color(t),fontFamilies:[o],fontSize:r}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[i]);return tW(rH.View,{style:{height:64},children:i?tW(rV.Canvas,{style:{height:64},children:tW(rV.Paragraph,{paragraph:a,x:0,y:0,width:300})}):tW(rH.View,{style:{justifyContent:"center",alignItems:"center"},children:tW(nd,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function uQ({item:e}){iq(rF);var t=e_.useNavigation(),n=rF.__selected===e.name;return tW(ni,{children:tX(na,{spacing:16,children:[tX(rH.View,{style:{flexDirection:"row",alignItems:"center"},children:[tW(rH.View,{children:tW(nd,{variant:"heading-lg/semibold",children:e.name})}),tW(rH.View,{style:{marginLeft:"auto"},children:tX(na,{spacing:12,direction:"horizontal",children:[tW(t3,{onPress:function(){t.push("VendettaCustomPage",{title:"Edit Font",render:function(){return tW(uW,{name:e.name})}})},size:"sm",variant:"secondary",disabled:n,icon:ih("PencilIcon")}),tW(t9,{size:"sm",variant:n?"secondary":"primary",text:n?"Unapply":"Apply",onPress:async function(){await uk(n?null:e.name),sP({title:tz.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:tz.RELOAD,cancelText:tz.CANCEL,confirmColor:eX.RED,onConfirm:i.reload})}})]})})]}),tW(uq,{font:e})]})})}var uZ=ox({"src/core/ui/settings/pages/Fonts/FontCard.tsx"(){so(),sn(),iv(),oH(),i1(),uG(),sM(),sm(),iC(),at(),iz(),iH(),sa(),rV=ok(uJ()),rG=ok(un()),rH=ok(iK()),uX(),{useToken:r$}=iR(function(){return z("useToken")})}}),u0={};function u1(){iq(tu),iq(rF);var e=e_.useNavigation();return tW(ur,{title:tz.FONTS,searchKeywords:["name","description"],fetchFunction:uU,items:rF,safeModeMessage:tz.SAFE_MODE_NOTICE_FONTS,card:uQ,onFABPress:function(){e.push("VendettaCustomPage",{title:"Import Font",render:function(){return tW(uW,{})}})}})}oF(u0,{default:()=>u1});var u2=ox({"src/core/ui/settings/pages/Fonts/index.tsx"(){so(),sn(),uo(),uX(),i1(),uG(),ak(),iH(),uZ()}}),u4=ox({"src/core/ui/settings/hooks/useFS.ts"(){var e;uP(),rz=ok(un()),(e=rY||(rY={}))[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"}});function u8({asset:e}){return tW(nN,{label:`${e.name} - ${e.id}`,trailing:tW(rK.Image,{source:e.id,style:{width:32,height:32}}),onPress:function(){ef.setString(e.name),n6.showCopyToClipboard()}})}var u6=ox({"src/core/ui/settings/pages/Developer/AssetDisplay.tsx"(){so(),iH(),sa(),sO(),rK=ok(iK())}});function u5(){var[e,t]=React.useState("");return tW(n1,{children:tX(rW.View,{style:{flex:1},children:[tW(sb,{style:{margin:10},onChangeText:function(e){return t(e)}}),tW(rW.FlatList,{data:Object.values(w).filter(function(t){return t.name.includes(e)||t.id.toString()===e}),renderItem:function({item:e}){return tW(u8,{asset:e})},ItemSeparatorComponent:nS,keyExtractor:function(e){return e.name}})]})})}var u9=ox({"src/core/ui/settings/pages/Developer/AssetBrowser.tsx"(){so(),u6(),iv(),sa(),sR(),rW=ok(iK())}}),u3={};function u7(){var[e,t]=function(e,t){var[n,r]=(0,rz.useState)(2),o=function(){return uI(e,void 0).then(function(e){return r(e?1:0)}).catch(function(){return r(3)})},i=(0,rz.useMemo)(function(){return new Proxy(uR,{get(e,t,n){var i=Reflect.get(e,t,n);if("function"==typeof i)return function(...e){var t=(o(),i(...e));return t?.constructor?.name==="Promise"&&(r(2),t.finally(o)),t}}})},[]);return(0,rz.useEffect)(function(){o()},[]),[n,i]}("preloads/reactDevtools.js"),n=rZ(),r=e_.useNavigation();return iq(tu),iq(tc),tW(n1,{children:tW(rX.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:tX(na,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[tW(ns,{label:tz.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return tW(nU,{style:n.leadingText,children:"ws://"})},defaultValue:tu.debuggerUrl,onChange:function(e){return tu.debuggerUrl=e}}),tX(ne,{title:tz.DEBUG,children:[tW(t7,{label:tz.CONNECT_TO_DEBUG_WEBSOCKET,icon:tW(t7.Icon,{source:ih("copy")}),onPress:function(){return s2(tu.debuggerUrl)}}),aN()&&tW(tK,{children:tW(t7,{label:tz.CONNECT_TO_REACT_DEVTOOLS,icon:tW(t7.Icon,{source:ih("ic_badge_staff")}),onPress:function(){return window[aL()||"__vendetta_rdc"]?.connectToDevTools({host:tu.debuggerUrl.split(":")?.[0],resolveRNStyle:rX.StyleSheet.flatten})}})})]}),aR()&&tW(tK,{children:tX(ne,{title:"Loader config",children:[tW(nt,{label:tz.LOAD_FROM_CUSTOM_URL,subLabel:tz.LOAD_FROM_CUSTOM_URL_DEC,icon:tW(t7.Icon,{source:ih("copy")}),value:tc.customLoadUrl.enabled,onValueChange:function(e){tc.customLoadUrl.enabled=e}}),tc.customLoadUrl.enabled&&tW(t7,{label:tW(ns,{defaultValue:tc.customLoadUrl.url,size:"md",onChange:function(e){return tc.customLoadUrl.url=e},placeholder:"http://localhost:4040/vendetta.js",label:tz.BUNNY_URL})}),aN()&&aE()&&tW(nt,{label:tz.LOAD_REACT_DEVTOOLS,subLabel:`${tz.VERSION}: ${aD()}`,icon:tW(t7.Icon,{source:ih("ic_badge_staff")}),value:tc.loadReactDevTools,onValueChange:function(e){tc.loadReactDevTools=e}})]})}),tX(ne,{title:"Other",children:[tW(t7,{arrow:!0,label:tz.ASSET_BROWSER,icon:tW(t7.Icon,{source:ih("ic_image")}),trailing:t7.Arrow,onPress:function(){return r.push("VendettaCustomPage",{title:tz.ASSET_BROWSER,render:u5})}}),tW(t7,{arrow:!0,label:tz.ERROR_BOUNDARY_TOOLS_LABEL,icon:tW(t7.Icon,{source:ih("ic_warning_24px")}),onPress:function(){return rq({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:tW(t7.Icon,{style:{marginRight:8},source:ih("ic_warning_24px")}),onClose:function(){return rJ()}},options:[{label:tz.BUNNY,onPress:function(){return r.push("VendettaCustomPage",{render:function(){return tW("undefined",{})}})}},{label:"Discord",isDestructive:!0,onPress:function(){return r.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}}),tW(t7,{label:tz.INSTALL_REACT_DEVTOOLS,subLabel:tz.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:tW(t7.Icon,{source:ih("DownloadIcon")}),trailing:tW(t9,{size:"sm",loading:e===rY.LOADING,disabled:e===rY.LOADING,variant:e===rY.TRUE?"secondary":"primary",text:e===rY.TRUE?tz.UNINSTALL:tz.INSTALL,onPress:async function(){e===rY.FALSE?t.downloadFile(rQ,"preloads/reactDevtools.js"):e===rY.TRUE&&t.removeFile("preloads/reactDevtools.js")},icon:ih(e===rY.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),tW(nt,{label:tz.ENABLE_EVAL_COMMAND,subLabel:tz.ENABLE_EVAL_COMMAND_DESC,icon:tW(t7.Icon,{source:ih("PencilIcon")}),value:tu.enableEvalCommand,onValueChange:function(e){tu.enableEvalCommand=e}})]})]})})})}oF(u3,{default:()=>u7});var ce=ox({"src/core/ui/settings/pages/Developer/index.tsx"(){so(),sn(),u4(),u9(),iv(),aF(),i1(),s6(),ak(),iC(),iH(),sa(),iV(),sl(),sR(),sm(),rX=ok(iK()),({hideActionSheet:rJ}=iR(function(){return z("openLazy","hideActionSheet")})),({showSimpleActionSheet:rq}=iR(function(){return z("showSimpleActionSheet")})),rQ="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",rZ=sd({leadingText:{...nY["heading-md/semibold"],color:nj.TEXT_MUTED,marginRight:-4}})}}),ct=ox({"src/core/ui/settings/index.ts"(){sG(),sn(),iv(),aF(),i1(),ak(),sq()}}),cn=ox({"src/lib/api/commands/types.ts"(){var e,t,n;(e=r0||(r0={}))[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER",(t=r1||(r1={}))[t.SUB_COMMAND=1]="SUB_COMMAND",t[t.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",t[t.STRING=3]="STRING",t[t.INTEGER=4]="INTEGER",t[t.BOOLEAN=5]="BOOLEAN",t[t.USER=6]="USER",t[t.CHANNEL=7]="CHANNEL",t[t.ROLE=8]="ROLE",t[t.MENTIONABLE=9]="MENTIONABLE",t[t.NUMBER=10]="NUMBER",t[t.ATTACHMENT=11]="ATTACHMENT",(n=r2||(r2={}))[n.CHAT=1]="CHAT",n[n.USER=2]="USER",n[n.MESSAGE=3]="MESSAGE"}}),cr={};function co(e){return"```js\n"+e.replaceAll("`","`"+r6)+"\n```"}function ci(){return{name:"eval",description:tz.COMMAND_EVAL_DESC,shouldHide:function(){return!0===tu.enableEvalCommand},options:[{name:"code",type:r1.STRING,description:tz.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:r1.BOOLEAN,description:tz.COMMAND_EVAL_OPT_ASYNC}],async execute([e,t],n){try{var r=r4.inspect(t?.value?await r8(e.value)():eval?.(e.value)),o=r.length>2e3?r.slice(0,2e3)+"...":r;ev.sendBotMessage(n.channel.id,co(o))}catch(e){ev.sendBotMessage(n.channel.id,co(e?.stack??e))}}}}oF(cr,{default:()=>ci});var ca=ox({"src/core/commands/eval.ts"(){sn(),cn(),ak(),iH(),iV(),r4=Y("inspect"),r8=(async function(){}).constructor,r6="​"}}),cs={};function cu(){return{name:"debug",description:tz.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:r1.BOOLEAN,description:tz.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var n=s8(),r=["**Bunny Debug Info**",`> Bunny: ${n.bunny.version} (${n.bunny.loader.name} ${n.bunny.loader.version})`,`> Discord: ${n.discord.version} (${n.discord.build})`,`> React: ${n.react.version} (RN ${n.react.nativeVersion})`,`> Hermes: ${n.hermes.version} (bcv${n.hermes.bytecodeVersion})`,`> System: ${n.os.name} ${n.os.version} ${n.os.sdk?`(SDK ${n.os.sdk})`:""}`.trimEnd(),`> Device: ${n.device.model} (${n.device.codename})`].join("\n");e?.value?ev.sendBotMessage(t.channel.id,r):ev.sendMessage(t.channel.id,{content:r})}}}oF(cs,{default:()=>cu});var cc=ox({"src/core/commands/debug.ts"(){sn(),cn(),s6(),iH()}}),cl={};function cf(){return{name:"plugins",description:tz.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:r1.BOOLEAN,description:tz.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var n=Object.values(tQ.plugins).filter(Boolean);n.sort(function(e,t){return e.manifest.name.localeCompare(t.manifest.name)});var r=n.filter(function(e){return e.enabled}).map(function(e){return e.manifest.name}),o=n.filter(function(e){return!e.enabled}).map(function(e){return e.manifest.name}),i=[`**Installed Plugins (${n.length}):**`,...r.length>0?[`Enabled (${r.length}):`,"> "+r.join(", ")]:[],...o.length>0?[`Disabled (${o.length}):`,"> "+o.join(", ")]:[]].join("\n");e?.value?ev.sendBotMessage(t.channel.id,i):ev.sendMessage(t.channel.id,{content:i})}}}oF(cl,{default:()=>cf});var cd=ox({"src/core/commands/plugins.ts"(){sn(),si(),cn(),iH()}}),cp={};function cm(){var e=_("getBuiltInCommands",em,function([e],t){if(e===r2.CHAT)return t.concat(r5.filter(function(e){return e.__bunny?.shouldHide?.()!==!1}))});return[(ca(),oj(cr)),(cc(),oj(cs)),(cd(),oj(cl))].forEach(function(e){return cg(e.default())}),function(){r5=[],e()}}function cg(e){var t=em.getBuiltInCommands(r2.CHAT,!0,!1);t.sort(function(e,t){return parseInt(t.id)-parseInt(e.id)});var n=t[t.length-1];if(e.id=(parseInt(n.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=r2.CHAT,e.inputType=r0.BUILT_IN,e.displayName??=e.name,e.displayDescription??=e.description,e.options)for(var r of e.options)r.displayName??=r.name,r.displayDescription??=r.description;return b("execute",e,function(t,n){Promise.resolve(n.apply(e,t)).then(function(e){e&&"object"==typeof e&&ev.sendMessage(t[1].channel.id,e)}).catch(function(e){eW.error("Failed to execute command",e)})}),r5.push(e),function(){return r5=r5.filter(function({id:t}){return t!==e.id})}}oF(cp,{patchCommands:()=>cm,registerCommand:()=>cg});var ch=ox({"src/lib/api/commands/index.ts"(){cn(),id(),i9(),iH(),r5=[]}});function cv(e,t=0){var[n,r]=function(e,t=0){for(var n,r=3735928559^t,o=1103547991^t,i=0;i<e.length;i++)r=Math.imul(r^(n=e.charCodeAt(i)),2654435761),o=Math.imul(o^n,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(o^o>>>13,3266489909),[(o=Math.imul(o^o>>>16,2246822507)^Math.imul(r^r>>>13,3266489909))>>>0,r>>>0]}(e,t);return n.toString(36).padStart(7,"0")+r.toString(36).padStart(7,"0")}var cy=ox({"src/lib/utils/cyrb64.ts"(){}}),c_=oB({"globals:lodash"(e,t){t.exports=iY().lodash}}),cE=oB({"globals:util"(e,t){t.exports=iY().util}});async function cb(e){return{...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await iQ(eL(e.id))},logger:new eK(`Bunny \xbb ${e.manifest.name}`)}}var cS=ox({"src/core/vendetta/api.tsx"(){so(),iv(),ch(),aF(),id(),i1(),i1(),s6(),ay(),ak(),ar(),cy(),i9(),iz(),iH(),sa(),sa(),sM(),sl(),sR(),sm(),sO(),is(),r9=ok(un()),r3=ok(iK()),si(),r7=function(){var e=window.vendetta={patcher:{before:S.before,after:S.after,instead:S.instead},metro:{modules:window.modules,find:function(e){return iD(ij(e,cv(Error().stack)))},findAll:function(e){return ix(ij(e,cv(Error().stack)))},findByProps:function(...e){1===e.length&&"KeyboardAwareScrollView"===e[0]&&e.push("listenToKeyboardEvents");var t=z(...e);if(null==t&&e.includes("ActionSheetTitleHeader")){var n=z("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:function({children:e}){return(0,r9.useEffect)(function(){return console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View")},[]),(0,r9.createElement)(r3.View,null,e)}}}return t},findByPropsAll:function(...e){return K(...e)},findByName:function(e,t){return"create"===e&&void 0===t?W("create",!1).default:W(e,t??!0)},findByNameAll:function(e,t=!0){return J(e,t)},findByDisplayName:function(e,t=!0){return q(e,t)},findByDisplayNameAll:function(e,t=!0){return Z(e,t)},findByTypeName:function(e,t=!0){return ee(e,t)},findByTypeNameAll:function(e,t=!0){return en(e,t)},findByStoreName:function(e){return er(e)},common:{constants:es,channels:eu,i18n:ec,url:el,toasts:eh,stylesheet:{createThemedStyleSheet:sp},clipboard:ef,assets:ed,invites:ep,commands:em,navigation:eg,navigationStack:ey,NavigationNative:e_,Flux:eS,FluxDispatcher:ew,React:eA,ReactNative:eT,moment:a9(),chroma:ao(),lodash:c_(),util:cE()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(e,t){return ez(e,t)},findInTree:function(e,t,n){return eY(e,t,n)},safeFetch:function(e,t,n){return i3(e,t,n)},unfreeze:function(e){return Object.isFrozen(e)?{...e}:e},without:function(e,...t){return function(e,t){var n=d({},e);for(var r of t)delete n[r];return n}(e,t)}},debug:{connectToDebugger:function(e){return s2(e)},getDebugInfo:function(){return s8()}},ui:{components:{Forms:np,General:eT,Alert:t2,Button:t4,HelpMessage:function(...e){return tW(t8,{...e})},SafeAreaView:function(...e){return tW(t6,{...e})},Summary:sw,ErrorBoundary:n1,Codeblock:sg,Search:sb},toasts:{showToast:function(e,t){return n6(e,t)}},alerts:{showConfirmationAlert:function(e){return sP(e)},showCustomAlert:function(e,t){return rn(e,t)},showInputAlert:function(e){return rr(e)}},assets:{all:w,find:function(e){return ig(e)},getAssetByName:function(e){return ig(e)},getAssetByID:function(e){return ig(e)},getAssetIDByName:function(e){return ih(e)}},semanticColors:nj,rawColors:nV},plugins:{plugins:tQ.plugins,fetchPlugin:function(e){return tQ.fetchPlugin(e)},installPlugin:function(e,t=!0){return tQ.installPlugin(e,t)},startPlugin:function(e){return tQ.startPlugin(e)},stopPlugin:function(e,t=!0){return tQ.stopPlugin(e,t)},removePlugin:function(e){return tQ.removePlugin(e)},getSettings:function(e){return tQ.getSettings(e)}},themes:{themes:e5,fetchTheme:function(e,t){return ac(e,t)},installTheme:function(e){return al(e)},selectTheme:function(e){return af("default"===e?null:e5[e])},removeTheme:function(e){return ad(e)},getCurrentTheme:function(){return ap()},updateThemes:function(){return am()}},commands:{registerCommand:cg},storage:{createProxy:function(e){return iJ(e)},useProxy:function(e){return iq(e)},createStorage:function(e){return iQ(e)},wrapSync:function(e){return iZ(e)},awaitSyncWrapper:function(e){return i0(e)},createMMKVBackend:function(e){return eL(e)},createFileBackend:function(e){return ab()&&"vendetta_theme.json"===e&&(e="pyoncord/current-theme.json"),eD(e)}},settings:tu,loader:{identity:aw()??void 0,config:tc},logger:{log:function(...e){return console.log(...e)},info:function(...e){return console.info(...e)},warn:function(...e){return console.warn(...e)},error:function(...e){return console.error(...e)},time:function(...e){return console.time(...e)},trace:function(...e){return console.trace(...e)},verbose:function(...e){return console.log(...e)}},version:rv,unload:function(){delete window.vendetta}};return function(){return e.unload()}}}}),cw={};function cA(){var e=function(e){for(var t of or){var n=t(e);null!=n&&(n?"object"==typeof n&&(Object.assign(e,n),e[ot]=!0):e[oe]=!0)}return oe in e};return(on._interceptors??=[]).unshift(e),function(){return on._interceptors&&=on._interceptors.filter(function(t){return t!==e})}}function cT(e){return or.push(e),function(){or=or.filter(function(t){return t!==e})}}oF(cw,{dispatcher:()=>on,injectFluxInterceptor:()=>cA,intercept:()=>cT});var cR=ox({"src/lib/api/flux/index.ts"(){iH(),oe=Symbol.for("bunny.flux.blocked"),ot=Symbol.for("bunny.flux.modified"),on=ew,or=[]}});function cC(e,t={}){return{get:async function(){try{var n=await uL(e,JSON.stringify(t));return JSON.parse(n)}catch(t){throw Error(`Failed to parse storage '${e}: ${t}'`)}},set:async function(t){if(!t||"object"!=typeof t)throw Error("data needs to be an object");await uN(e,JSON.stringify(t))}}}async function cO(e,t){os[e]=t,await cC(e).set(t)}async function cI(e){if(!os[e]&&await uI(e)){var t=await cC(e).get();os[e]=t}}function cN(...e){return Promise.all(e.map(function(e){return e[oa]}))}var cL=ox({"src/lib/api/storage/new.ts"(){uP(),iA(),oo=Symbol.for("bunny.storage.emitter"),oi=Symbol.for("bunny.storage.initError"),oa=Symbol.for("bunny.storage.promise"),os={},ou=function(e,t={}){var n,r,o,i=new Promise(function(e){return o=e});!function(e,t={},n){var r=function(e){var{proxy:t,emitter:r}=function(e={}){var t=new N;return{proxy:function e(t,n,r){return new Proxy(t,{get(t,o){if(o===oo)return r;var i=[...n,o],a=t[o];return null!=a&&(r.emit("GET",{path:i,value:a}),"object"==typeof a)?e(a,i,r):a},set:(e,t,o)=>(e[t]=o,r.emit("SET",{path:[...n,t],value:o}),!0),deleteProperty(e,t){var o=delete e[t];return o&&r.emit("DEL",{path:[...n,t]}),o}})}(e,[],t),emitter:t}}(e),i=function(){return o.set(t)};r.on("SET",i),r.on("DEL",i),n(t)},o=cC(e,t);os[e]?r(os[e]):o.get().then(function(e){return r(e)})}(e,t,function(e){n=e,o()});var a=function(){if(n)return!0;throw Error("Attempted to access storage without initializing")};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(e){return[e,function(t,...r){return a()&&Reflect[e](n,...r)}]})),get:(e,t,o)=>t===oi?r:t===oa?i:a()&&Reflect.get(n??e,t,o)})}}}),cD={};oF(cD,{fs:()=>uR,loader:()=>a_,modules:()=>oG});var cP=ox({"src/lib/api/native/index.ts"(){uP(),aF(),oH()}}),cM={};oF(cM,{assets:()=>ip,commands:()=>cp,flux:()=>cw,native:()=>cD,patcher:()=>ic,storage:()=>iX});var cx=ox({"src/lib/api/index.ts"(){iv(),ch(),cR(),cP(),id(),i1()}});function cB(e,t){return function(...n){var r=t(...n);return e.push(r),r}}var cF=ox({"src/lib/plugins/api.ts"(){cx(),ch(),cL(),i9(),c8()}}),cU={};function ck(e,t,n){if(!e)throw Error(`[${t}] Attempted to ${n}`)}function cj(e,t){if(eb.gt(e,t))return!0;var n=eb.coerce(e);return null!=n&&eb.prerelease(e)?.includes("dev")&&eb.eq(n,t)}function cV(e){return"parentRepository"in e}function cG(e){var t=og.get(e);return ck(t,e?.name??"unknown","getting ID from an unregistered/invalid manifest"),t}function cH(e){var t=of.get(e);return t&&t.SettingsComponent?t.SettingsComponent:null}function c$(e){return null!=om[e]}function cz(e){return!!om[e]?.enabled}async function cY(e,t,n){var r=await oy(e,`plugins/${t}/manifest.json`);if(r.parentRepository=e,n){r.jsPath=`plugins/scripts/${t}.js`;var o=await ov(e,`plugins/${t}/index.js`);await uN(r.jsPath,o)}return(await cO(`plugins/manifests/${t}.json`,r),ol.has(t))?Object.assign(ol.get(t),r):r}async function cK(e,t){var n=ol.get(e);ck(n,e,"refresh a non-registered plugin"),ck(of.get(e),e,"refresh a non-started plugin"),c1(e),cV(n)&&(n=await cY(t??n.parentRepository,e,!0)),ol.delete(e),ol.set(e,n),og.set(n,e),await c0(e)}async function cW(e){var t=await oy(e,"repo.json"),n=op[e],r=!1;if(n)for(var o in n)t[o]||delete n[o];else{for(var i in t)if(oc.has(i))throw Error(`Plugins can't have the same ID as any of Bunny core plugin '${i}'`);r=!0,op[e]=t}for(var a in await Promise.all(Object.keys(t).map(async function(o){!n||!n[o]||t[o].alwaysFetch||cj(t[o].version,n[o].version)?(r=!0,op[e][o]=t[o],await cY(e,o,!!(n&&om[o]))):await cI(`plugins/manifests/${o}.json`)})),t){var s=ou(`plugins/manifests/${a}.json`),u=ol.get(a);(!u||cj(s.version,u.version))&&(ol.set(a,s),og.set(s,a))}return r}async function cX(e){ck(op[e],e,"delete a non-registered repository");var t=[];for(var[n,r]of ol)cV(r)&&r.parentRepository===e&&(c$(n)&&t.push(cZ(n)),ol.delete(n));delete op[e],await Promise.all(t)}async function cJ(e,t){ck(c$(e),e,"enable a non-installed plugin"),om[e].enabled=!0,t&&await c0(e)}function cq(e){ck(c$(e),e,"disable a non-installed plugin"),of.has(e)&&c1(e),om[e].enabled=!1}async function cQ(e,t){var n=ol.get(e);ck(n,e,"install an non-registered plugin"),ck(!c$(e),e,"install an already installed plugin"),ck(cV(n),e,"install a core plugin"),await cY(n.parentRepository,e,!0),om[e]={enabled:!0},t&&c0(e)}async function cZ(e){var t=ol.get(e);ck(t,e,"uninstall an unregistered plugin"),ck(c$(e),e,"uninstall a non-installed plugin"),ck(cV(t),e,"uninstall a core plugin"),of.has(e)&&c1(e),delete om[e],await uO(`plugins/scripts/${e}.js`)}async function c0(e){var t,n=ol.get(e);if(ck(n,e,"start a non-registered plugin"),ck(c$(e),e,"start a non-installed plugin"),ck(om[e]?.enabled,e,"start a disabled plugin"),ck(!of.has(e),e,"start an already started plugin"),await cI(`plugins/storage/${e}.json`),cV(n)){try{var r=await uL(n.jsPath),o=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${r};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${n.version}`)}catch(e){throw Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:e})}try{var i,a=(i=[],{object:{...window.bunny,api:{...window.bunny.api,patcher:{before:cB(i,ic.before),after:cB(i,ic.after),instead:cB(i,ic.instead)},commands:{...window.bunny.api.commands,registerCommand:cB(i,cg)},flux:{...window.bunny.api.flux,intercept:cB(i,window.bunny.api.flux.intercept)}},plugin:{createStorage:function(){return ou(`plugins/storage/${e}.json`)},manifest:ol.get(e),logger:eW}},disposers:i});if(!(t=o(a.object,function(e){return Object.assign(e,{manifest:n})})))throw Error(`Plugin '${e}' does not export a valid plugin instance`);od.set(e,a),of.set(e,t)}catch(e){throw Error("An error occured while instantiating plugin's code",{cause:e})}}else ck(t=oc.get(e),e,"start a non-existent core plugin"),of.set(e,t);try{t.start?.()}catch(e){throw Error("An error occured while starting the plugin",{cause:e})}}function c1(e){var t=of.get(e);ck(t,e,"stop a non-started plugin"),t.stop?.();var n=od.get(e);n?.disposers.forEach(function(e){return e()}),of.delete(e)}async function c2(){await cN(op,om);var e={};for(var t in e){var{default:n,preenabled:r}=e[t];om[t]??={enabled:r??!0},ol.set(t,n.manifest),og.set(n.manifest,t),oc.set(t,n)}await O(Object.keys(op).map(async function(e){await cW(e)}))}async function c4(){await cN(op,om),await O([...ol.keys()].map(async function(e){cz(e)&&await c0(e)}))}oF(cU,{apiObjects:()=>od,checkAndRegisterUpdates:()=>c2,corePluginInstances:()=>oc,deleteRepository:()=>cX,disablePlugin:()=>cq,enablePlugin:()=>cJ,getId:()=>cG,getPluginSettingsComponent:()=>cH,initPlugins:()=>c4,installPlugin:()=>cQ,isPluginEnabled:()=>cz,isPluginInstalled:()=>c$,pluginInstances:()=>of,pluginRepositories:()=>op,pluginSettings:()=>om,refreshPlugin:()=>cK,registeredPlugins:()=>ol,startPlugin:()=>c0,stopPlugin:()=>c1,uninstallPlugin:()=>cZ,updateAndWritePlugin:()=>cY,updateRepository:()=>cW});var c8=ox({"src/lib/plugins/index.ts"(){iy(),uP(),cL(),ar(),iH(),cF(),oc=new Map,ol=new Map,of=new Map,od=new Map,op=ou("plugins/repositories.json"),om=ou("plugins/settings.json"),og=new WeakMap,oh=function(e,t){return i3(new URL(t,e),{cache:"no-store"})},ov=function(e,t){return oh(e,t).then(function(e){return e.text()})},oy=function(e,t){return oh(e,t).then(function(e){return e.json()})}}}),c6=ox({"src/lib/ui/safeMode.tsx"(){so(),sn(),oH(),id(),s6(),ak(),iC(),at(),sa(),iU(),iV(),sl(),sR(),sm(),o_=ok(iK()),X("ErrorBoundary"),({BadgableTabBar:oE}=iR(function(){return z("BadgableTabBar")})),ob=sp({container:{flex:1,backgroundColor:nj.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...nY["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:nj.HEADER_PRIMARY},headerDescription:{...nY["text-sm/medium"],textAlign:"center",color:nj.TEXT_MUTED},footer:{flexDirection:o.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),oS=[{id:"message",title:function(){return tz.MESSAGE}},{id:"stack",title:function(){return tz.STACK_TRACE}},{id:"componentStack",title:function(){return tz.COMPONENT},trimWhitespace:!0}]}}),c5=ox({"src/global.d.ts"(){}});function c9(e,t){if(!e){var n="function"==typeof t?t():t,r="[Invariant Violation]";throw Error(n?`${r}: ${n}`:r)}}var c3=ox({"src/lib/utils/invariant.ts"(){}}),c7={};function le(e){if(e){if(!oR[e]){for(var t of Object.values(oT))if(t?.id===e)return t}return oT[oR[e]]}}async function lt(e){e.endsWith("/")||(e+="/");var t,n,r=oT[e],o=function(e){return i3(e.replace(ek,ej).replace(eV,ej),{cache:"no-store"})};try{t=await (await o(e+"manifest.json")).json()}catch(t){throw Error(`Failed to fetch manifest for ${e}`)}for(var i of["id","main","hash","bunny"])c9(t[i],`Plugin manifest does not contain mandatory field: '${i}'`);if(r?.manifest.hash!==t.hash)try{n=await (await o(e+t.main)).text()}catch(e){}return c9(n||r,`Failed to fetch JS from ${e}`),oT[e]={id:t.id,source:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:n??r.js,error:r?.error}}async function ln(e,t=!0){e.endsWith("/")||(e+="/"),c9(!(e in oT),"Source was already installed");var n=await lt(e);t&&await lo(n.id)}async function lr(e){var t=await cb(e),n=(0,eval)(`vendetta=>{return ${e.js}}
//# sourceURL=${e.source}?hash=${e.manifest.hash}`)(t),r="function"==typeof n?n():n;return r?.default??r??{}}async function lo(e){var t=le(e);c9(t,"Attempted to start non-existent plugin");try{if(ow()){var n=await lr(t);oA[e]=n,n.onLoad?.()}delete t.error,t.enabled=!0}catch(n){eW.error(`Plugin ${t.source} errored whilst loading, and will be unloaded`,n),t.error=n instanceof Error?n.stack:String(n);try{oA[e]?.onUnload?.()}catch(e){eW.error(`Plugin ${t.source} errored whilst unloading`,e)}delete oA[e],t.enabled=!1}}function li(e,t=!0){var n=le(e),r=oA[e];if(c9(n,"Attempted to stop non-existent plugin"),ow()){try{r?.onUnload?.()}catch(e){eW.error(`Plugin ${n.source} errored whilst unloading`,e)}delete oA[e]}t&&(n.enabled=!1)}async function la(e){var t=le(e);c9(t,"Removing non-existent plugin"),t.enabled&&li(e),delete oT[t.source],await eN(t.source)}async function ls(){if(await i0(oT,oR,tu),ow()){var e=function(e,t){var n=function(e){r.every(function(n){return!t(n,e)})&&r.push(e)},r=[];for(var o of e)n(o);return r}(Object.values(oT).map(function(e){return le(e.id)}).filter(it),function(e,t){return e?.id===t?.id}),t=[],n=async function(e){if(e.update)try{await lt(e.id)}catch(e){eW.error(e)}await lo(e.id)};for(var r of e)r.enabled?t.push(n(r)):r.update&&lt(r.id);await O(t)}return function(){return Object.keys(oA).forEach(function(e){return li(e,!1)})}}function lu(e){return oA[e]?.settings}oF(c7,{fetchAndStorePlugin:()=>lt,getPluginById:()=>le,getSettingsComponent:()=>lu,initPlugins:()=>ls,installPlugin:()=>ln,preferredSourceStore:()=>oR,removePlugin:()=>la,sourceStore:()=>oT,startPlugin:()=>lo,stopPlugin:()=>li});var lc=ox({"src/lib/managers/plugins.ts"(){iy(),cS(),i1(),ak(),ar(),i4(),c3(),i9(),is(),ow=function(){return!tu.safeMode?.enabled},oA={},oT=iZ(iQ(eL("PLUGIN_SOURCES_STORE"))),oR=iZ(iQ(eL("PREFERRED_PLUGIN_SOURCE")))}}),ll={};oF(ll,{fonts:()=>uM,plugins:()=>c7,themes:()=>ai});var lf=ox({"src/lib/managers/index.ts"(){uG(),lc(),ay()}}),ld={};oF(ld,{alerts:()=>sD,color:()=>ss,components:()=>sT,settings:()=>sW,styles:()=>sf,toasts:()=>sC});var lp=ox({"src/lib/ui/index.ts"(){sM(),sl(),sR(),sq(),sm(),sO()}}),lm={};function lg(){for(var e of oC)"function"==typeof e&&e();delete window.bunny}oF(lm,{api:()=>cM,debug:()=>s0,managers:()=>ll,metro:()=>i$,plugins:()=>cU,settings:()=>aU,ui:()=>ld,unload:()=>lg,utils:()=>an});var lh=ox({"src/lib/index.ts"(){c5(),cx(),s6(),lf(),c8(),ak(),lp(),ar(),iz(),oC=[],lg.push=function(e){oC.push(e)}}}),lv={};async function ly(){var e,t,r;if(aC())try{ab()&&(null!=n.removeFile?uO("vendetta_theme.json",""):uN("vendetta_theme.json","null","")),av()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}await Promise.all([cA(),sJ(),s4(),cm(),as(),r7(),(e=function({locale:e}){var t=tG=({"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"})[e]??e;if(t.startsWith("en-")){tV=null;return}tH.has(t)?tV=t:(tH.add(t),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${t}/bunny.json`).then(function(e){return e.json()}).then(function(e){return t$[t]=e}).then(function(){return t===tG&&(tV=t)}).catch(function(e){return console.error(`An error occured while fetching strings for ${t}: ${e}`)}))},ew.subscribe("I18N_LOAD_SUCCESS",e),function(){return ew.unsubscribe("I18N_LOAD_SUCCESS",e)}),void(sX({name:"Bunny",items:[{key:"BUNNY",title:function(){return tz.BUNNY},icon:{uri:rc},render:function(){return Promise.resolve().then(()=>(ue(),s3))},rawTabsConfig:{useTrailing:function(){return"(d09ce38-dev)"}}},{key:"BUNNY_PLUGINS",title:function(){return tz.PLUGINS},icon:ih("ActivitiesIcon"),render:function(){return Promise.resolve().then(()=>(uv(),ug))}},{key:"BUNNY_THEMES",title:function(){return tz.THEMES},icon:ih("PaintPaletteIcon"),render:function(){return Promise.resolve().then(()=>(uT(),uw))},usePredicate:function(){return aC()}},{key:"BUNNY_FONTS",title:function(){return tz.FONTS},icon:ih("ic_add_text"),render:function(){return Promise.resolve().then(()=>(u2(),u0))},usePredicate:function(){return aB()}},{key:"BUNNY_DEVELOPER",title:function(){return tz.DEVELOPER},icon:ih("WrenchIcon"),render:function(){return Promise.resolve().then(()=>(ce(),u3))},usePredicate:function(){return iq(tu).developerSettings??!1}}]}),sX({name:"Vendetta",items:[]})),void ew.subscribe("I18N_LOAD_SUCCESS",a3),_.await("render",(t=X("ErrorBoundary")[H],new Promise(function(e){t.getExports(function(t){e(t.prototype)})})),function(e,t){var n=this;if(this.state.error){this.state.activeTab??="message";var r=oS.find(function(e){return e.id===n.state.activeTab}),i=this.state.error[this.state.activeTab],a=[{text:tz.RELOAD_DISCORD,onPress:this.handleReload},...tu.safeMode?.enabled?[]:[{text:tz.RELOAD_IN_SAFE_MODE,onPress:s1}],{text:tz.RETRY_RENDER,color:eX.RED,onPress:function(){return n.setState({info:null,error:null})}}];return tW(n1,{children:tX(t6,{style:ob.container,children:[tX(o_.View,{style:ob.header,children:[tW(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),tX(o_.View,{style:{flex:2,paddingLeft:24},children:[tW(o_.Text,{style:ob.headerTitle,children:t.props.title}),tW(o_.Text,{style:ob.headerDescription,children:t.props.body})]})]}),tX(o_.View,{style:{flex:6},children:[tW(o_.View,{style:{paddingBottom:8},children:tW(oE,{tabs:oS.map(function(e){return{...e,title:e.title()}}),activeTab:this.state.activeTab,onTabSelected:function(e){n.setState({activeTab:e})}})}),tW(sg,{selectable:!0,style:{flex:1,textAlignVertical:"top"},children:r?.trimWhitespace?i.split("\n").filter(function(e){return 0!==e.length}).map(function(e){return e.trim()}).join("\n"):i})]}),tW(o_.View,{style:ob.footer,children:a.map(function(e){var t=0!==a.indexOf(e)?8:0;return tW(t4,{text:e.text,color:e.color??eX.BRAND,size:e.size??"small",onPress:e.onPress,style:{...o.isTablet?{flex:`0.${a.length}`,marginLeft:t}:{marginTop:t},borderRadius:16}})})})]})})}}),(r=[(sj(),oj(sU))].map(function(e){return e.default()}),function(){return r.forEach(function(e){return"function"==typeof e&&e()})}),c2()]).then(function(e){return e.forEach(function(e){return e&&lg.push(e)})}),window.bunny=lm,tQ.initPlugins().then(function(e){return lg.push(e)}).catch(function(){return alert("Failed to initialize Vendetta plugins")}),c4(),uV(),eW.log("Bunny is ready!")}oF(lv,{default:()=>ly});var l_=ox({"src/index.ts"(){a7(),sn(),sV(),ct(),cS(),si(),ch(),cR(),uP(),aF(),oH(),s6(),uG(),ay(),c8(),i9(),c6(),sq(),lh()}}),{instead:lE}=oV();async function lb(){try{Object.freeze=Object.seal=Object,await (a5(),oj(aq)).initMetroCache(),await (l_(),oj(lv)).default()}catch(n){var{ClientInfoManager:e}=(oH(),oj(oG)),t=n instanceof Error?n.stack:void 0;console.log(t??n?.toString?.()??n),alert(["Failed to load Bunny!\n",`Build Number: ${e.Build}`,"Bunny: d09ce38-dev",t||n?.toString?.()].join("\n"))}}if(globalThis.window=globalThis,void 0!==globalThis.__r)lb();else{var lS=function(e){var t=window.__fbBatchedBridge,n=[],r=lE("callFunctionReturnFlushedQueue",t,function(e,r){return"AppRegistry"!==e[0]&&t.getCallableModule(e[0])?r.apply(t,e):(n.push(e),t.flushedQueue())});!async function(){await lb(),r(),e(0),n.forEach(function(e){return t.getCallableModule(e[0])&&t.__callFunction(...e)})}()};Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return oO},set(e){oO=function(t){if(0!==t)return e(t);lS(e),oO=e}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(e){this.value=e}}})}})();//# sourceURL=bunny