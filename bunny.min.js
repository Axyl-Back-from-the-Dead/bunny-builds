"use strict";(()=>{var Um=Object.create;var jn=Object.defineProperty;var jm=Object.getOwnPropertyDescriptor;var km=Object.getOwnPropertyNames;var Hm=Object.getPrototypeOf,Gm=Object.prototype.hasOwnProperty;var g=(e,r)=>()=>(e&&(r=e(e=0)),r);var br=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),D=(e,r)=>{for(var t in r)jn(e,t,{get:r[t],enumerable:!0})},ou=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(var n=km(r),a=0,u=n.length,c;a<u;a++)c=n[a],!Gm.call(e,c)&&c!==t&&jn(e,c,{get:(h=>r[h]).bind(null,c),enumerable:!(o=jm(r,c))||o.enumerable});return e};var U=(e,r,t)=>(t=e!=null?Um(Hm(e)):{},ou(r||!e||!e.__esModule?jn(t,"default",{value:e,enumerable:!0}):t,e)),Ue=e=>ou(jn({},"__esModule",{value:!0}),e);var d,i=g(()=>{"use strict";d=Symbol("Symbol.asyncIterator")});var Vm,zm,$m,m,s=g(()=>{"use strict";Vm=e=>({status:"fulfilled",value:e}),zm=e=>({status:"rejected",reason:e}),$m=e=>Promise.resolve(e).then(Vm,zm),m=Promise.allSettled??=e=>Promise.all(Array.from(e).map($m))});function nu(e,r,t,o,n,a,u){try{var c=e[a](u),h=c.value}catch(w){t(w);return}c.done?r(h):Promise.resolve(h).then(o,n)}function y(e){return function(){var r=this,t=arguments;return new Promise(function(o,n){var a=e.apply(r,t);function u(h){nu(a,o,n,u,c,"next",h)}function c(h){nu(a,o,n,u,c,"throw",h)}u(void 0)})}}var re=g(()=>{i();s()});var kn=br((ug,lu)=>{i();s();var ii=Object.defineProperty,Ym=Object.getOwnPropertyDescriptor,Wm=Object.getOwnPropertyNames,Km=Object.prototype.hasOwnProperty,qm=(e,r)=>{for(var t in r)ii(e,t,{get:r[t],enumerable:!0})},Xm=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function"){var n=function(u){!Km.call(e,u)&&u!==t&&ii(e,u,{get:()=>r[u],enumerable:!(o=Ym(r,u))||o.enumerable})};for(var a of Wm(r))n(a)}return e},Jm=e=>Xm(ii({},"__esModule",{value:!0}),e),au={};qm(au,{after:()=>td,before:()=>ed,instead:()=>rd,unpatchAll:()=>Zm});lu.exports=Jm(au);var iu=["a","b","i"],Nt=new Map;function Qm(e,r,t,o,n){var a=Nt.get(r)?.[e];if(!a)return n?Reflect.construct(r[e],t,o):r[e].apply(o,t);for(var u of a.b.values()){var c=u.call(o,t);Array.isArray(c)&&(t=c)}var h=[...a.i.values()].reduce((S,q)=>(...ge)=>q.call(o,ge,S),(...S)=>n?Reflect.construct(a.o,S,o):a.o.apply(o,S))(...t);for(var w of a.a.values())h=w.call(o,t,h)??h;return h}function su(e,r,t,o){var n=Nt.get(e),a=n?.[r];if(!a?.[o].has(t))return!1;if(a[o].delete(t),iu.every(c=>a[c].size===0)){var u=Reflect.defineProperty(e,r,{value:a.o,writable:!0,configurable:!0});u||(e[r]=a.o),delete n[r]}return Object.keys(n).length==0&&Nt.delete(e),!0}function Zm(){for(var[e,r]of Nt.entries())for(var t in r)for(var o of iu)for(var n of r[t]?.[o].keys()??[])su(e,t,n,o)}var si=e=>(r,t,o,n=!1)=>{if(typeof t[r]!="function")throw new Error(`${r} is not a function in ${t.constructor.name}`);Nt.has(t)||Nt.set(t,Object.create(null));var a=Nt.get(t);if(!a[r]){var u=t[r];a[r]={o:u,b:new Map,i:new Map,a:new Map};var c=(ge,Se,jr)=>{var at=Qm(r,t,Se,ge,jr);return n&&q(),at},h=new Proxy(u,{apply:(ge,Se,jr)=>c(Se,jr,!1),construct:(ge,Se)=>c(u,Se,!0),get:(ge,Se,jr)=>Se=="toString"?u.toString.bind(u):Reflect.get(ge,Se,jr)}),w=Reflect.defineProperty(t,r,{value:h,configurable:!0,writable:!0});w||(t[r]=h)}var S=Symbol(),q=()=>su(t,r,S,e);return a[r][e].set(S,o),q},ed=si("b"),rd=si("i"),td=si("a")});var Hn={};D(Hn,{BundleUpdaterManager:()=>Do,ClientInfoManager:()=>Ot,DeviceManager:()=>Ar,FileManager:()=>V,MMKVManager:()=>Rr,ThemeManager:()=>li});var Tr,Rr,V,Ot,Ar,Do,li,gr=g(()=>{"use strict";i();s();Tr=window.nativeModuleProxy,Rr=Tr.MMKVManager;V=Tr.DCDFileManager??Tr.RTNFileManager;Ot=Tr.InfoDictionaryManager??Tr.RTNClientInfoManager;Ar=Tr.DCDDeviceManager??Tr.RTNDeviceManager,{BundleUpdaterManager:Do}=Tr,li=Tr.RTNThemeManager??Tr.DCDTheme});function Dt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var Gn=g(()=>{i();s()});function it(e,r){return it=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},it(e,r)}var Vn=g(()=>{i();s()});function zn(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&it(e,r)}var ui=g(()=>{i();s();Vn()});function $n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var fi=g(()=>{i();s()});function Mo(e,r,t){return $n()?Mo=Reflect.construct:Mo=function(n,a,u){var c=[null];c.push.apply(c,a);var h=Function.bind.apply(n,c),w=new h;return u&&it(w,u.prototype),w},Mo.apply(null,arguments)}var uu=g(()=>{i();s();fi();Vn()});function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(e)}var ci=g(()=>{i();s()});function fu(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var cu=g(()=>{i();s()});function Yn(e){var r=typeof Map=="function"?new Map:void 0;return Yn=function(o){if(o===null||!fu(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(o))return r.get(o);r.set(o,n)}function n(){return Mo(o,arguments,Mt(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),it(n,o)},Yn(e)}var mu=g(()=>{i();s();uu();ci();cu();Vn()});function du(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var pu=g(()=>{i();s()});function gu(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var hu=g(()=>{i();s()});function vu(e,r){return r&&(gu(r)==="object"||typeof r=="function")?r:du(e)}var yu=g(()=>{i();s();pu();hu()});function Wn(e){var r=$n();return function(){var o=Mt(e),n;if(r){var a=Mt(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return vu(this,n)}}var mi=g(()=>{i();s();ci();fi();yu()});function di(e,r,{signal:t}={}){var o=null,n=function(...c){o!==null&&clearTimeout(o),!t?.aborted&&(o=setTimeout(()=>{e(...c),o=null},r))},a=function(){n.cancel()};return n.cancel=function(){o!==null&&(clearTimeout(o),o=null)},t?.addEventListener("abort",a,{once:!0}),n}var _u=g(()=>{i();s()});function pi(e,r){var t={...e};for(var o of r)delete t[o];return t}var xu=g(()=>{i();s()});var gi=g(()=>{i();s();_u();xu()});var st,wr,hi=g(()=>{"use strict";i();s();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED"})(st||(st={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(wr||(wr={}))});var Ft={};D(Ft,{_patcherDelaySymbol:()=>Bo,after:()=>X,before:()=>Bt,default:()=>Fo,instead:()=>lt});function vi(e){function r(...o){if(Bo in o[1]){var n=o[1][Bo],a=!1,u=()=>a=!0;return n(c=>{a||(o[1]=c,u=e.apply(this,o))}),()=>u()}return e.apply(this,o)}function t(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var a=!1,u=()=>a=!0;return n.then(c=>{a||(o[1]=c,u=r.apply(this,o))}),()=>u()}return Object.assign(r,{await:t})}var od,nd,ad,Bo,X,Bt,lt,Fo,Ke=g(()=>{"use strict";i();s();({after:od,before:nd,instead:ad}=kn()),Bo=Symbol.for("bunny.api.patcher.delay");X=vi(od),Bt=vi(nd),lt=vi(ad),Fo={after:X,before:Bt,instead:lt}});var ko={};D(ko,{assetsMap:()=>ut,findAsset:()=>jo,findAssetId:()=>_,patchAssets:()=>id});function id(e){if(!Uo){Uo=e;var r=X("registerAsset",Uo,([t])=>{var o=yi();o!==-1&&_i(t.name,o)});return r}}function jo(e){return typeof e=="number"?Uo.getAssetByID(e):typeof e=="string"?ut[e]:Object.values(ut).find(e)}function _(e){return ut[e]?.index}var ut,Uo,ae=g(()=>{"use strict";i();s();Ke();jt();Ut();ut=new Proxy({},{get(e,r){if(typeof r=="string"){if(e[r])return e[r];var t=Cr().assetsIndex[r];if(t!=null){for(var o in t){var n=or(Number(o));if(typeof n=="number"){var a=Uo.getAssetByID(n);a&&(a.index??=a.id??=n,a.moduleId??=o,e[r]??=a)}}return e[r]}}},ownKeys(e){var r=[];for(var t in Cr().assetsIndex)e[t]=this.get(e,t,{}),e[t]&&r.push(t);return r}})});function Su(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function kt(e,r,t){return r&&Su(e.prototype,r),t&&Su(e,t),e}var Kn=g(()=>{i();s()});function qn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var xi=g(()=>{i();s()});var Si,lo,Xn=g(()=>{"use strict";i();s();Gn();Kn();xi();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Si||(Si={}));lo=function(){"use strict";function e(){Dt(this,e),qn(this,"listeners",Object.values(Si).reduce((r,t)=>(r[t]=new Set,r),{}))}return kt(e,[{key:"on",value:function(t,o){this.listeners[t].has(o)||this.listeners[t].add(o)}},{key:"off",value:function(t,o){this.listeners[t].delete(o)}},{key:"once",value:function(t,o){var n=(a,u)=>{this.off(a,n),o(a,u)};this.on(t,n)}},{key:"emit",value:function(t,o){for(var n of this.listeners[t])n(t,o)}}]),e}()});var Ho={};D(Ho,{createFilterDefinition:()=>nr,createSimpleFilter:()=>sd});function nr(e,r){function t(n,a,u){return Object.assign(n,{filter:e,raw:u,uniq:[u&&"raw::",r(a)].filter(Boolean).join("")})}var o=n=>(...a)=>t((u,c,h)=>e(a,u,c,h),a,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:r})}function sd(e,r){return nr((t,o)=>e(o),()=>`dynamic::${r}`)()}var Jn=g(()=>{"use strict";i();s()});var Ei={};D(Ei,{byDisplayName:()=>ct,byFilePath:()=>Zn,byMutableProp:()=>Vo,byName:()=>ft,byProps:()=>Go,byStoreName:()=>Qn,byTypeName:()=>mt});var Go,ft,ct,mt,Qn,Zn,Vo,zo=g(()=>{"use strict";i();s();Jn();Ut();Go=nr((e,r)=>e.length===0?r[e[0]]:e.every(t=>r[t]),e=>`bunny.metro.byProps(${e.join(",")})`),ft=nr(([e],r)=>r.name===e,e=>`bunny.metro.byName(${e})`),ct=nr(([e],r)=>r.displayName===e,e=>`bunny.metro.byDisplayName(${e})`),mt=nr(([e],r)=>r.type?.name===e,e=>`bunny.metro.byTypeName(${e})`),Qn=nr(([e],r)=>r.getName?.length===0&&r.getName()===e,e=>`bunny.metro.byStoreName(${e})`),Zn=nr(([e,r],t,o,n)=>r===n&&Le[o]?.__filePath===e,([e,r])=>`bunny.metro.byFilePath(${e},${r})`),Vo=nr(([e],r)=>r?.[e]&&!Object.getOwnPropertyDescriptor(r,e)?.get,e=>`bunny.metro.byMutableProp(${e})`)});function Eu(e,r,t){return e.default&&e.__esModule&&t(e.default,r,!0)?{exports:t.raw?e:e.default,defaultExport:!t.raw}:!t.raw&&t(e,r,!1)?{exports:e,defaultExport:!1}:{}}function bi(e){var{cacheId:r,finish:t}=ra(e.uniq,!1);for(var[o,n]of ea(e.uniq,!1)){var{exports:a,defaultExport:u}=Eu(n,o,e);if(a!==void 0)return r(o,a),{id:o,defaultExport:u}}return t(!0),{}}function ld(e){return bi(e)?.id}function be(e){var{id:r,defaultExport:t}=bi(e);if(r!=null)return t?or(r).default:or(r)}function Ti(e){var{cacheId:r,finish:t}=ra(e.uniq,!0),o=[];for(var[n,a]of ea(e.uniq,!0)){var{exports:u,defaultExport:c}=Eu(a,n,e);u!==void 0&&typeof c=="boolean"&&(o.push({id:n,defaultExport:c}),r(n,u))}return t(o.length===0),o}function ud(e){return Ti(e).map(r=>r.id)}function dt(e){return Ti(e).map(r=>{if(r.id){var{id:t,defaultExport:o}=r;return o?or(t).default:or(t)}})}var uo=g(()=>{"use strict";i();s();jt();Ut()});var Ai={};D(Ai,{getProxyFactory:()=>Ri,lazyDestructure:()=>J,proxyLazy:()=>ve});function ve(e,r={}){var t,o=r.hint!=="object"?function(){}:{},n=()=>t??=e(),a=new Proxy(o,cd);return Tu.set(a,n),fo.set(o,{factory:e,options:r}),a}function J(e,r={}){var t=ve(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:(a,u)=>ve(()=>t[u],r)}),new Error("This is not a real iterator, this is likely used incorrectly")}:ve(()=>t[n],r)}})}function Ri(e){return Tu.get(e)}var bu,fd,Tu,fo,cd,Me=g(()=>{"use strict";i();s();bu=new Set(["arguments","caller","prototype"]),fd=e=>typeof e=="string"&&bu.has(e),Tu=new WeakMap,fo=new WeakMap,cd={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(r,...t)=>{var o=fo.get(r),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...t)}])),has(e,r){var t=fo.get(e);if(t?.options){var{exemptedEntries:o}=t.options;if(o&&r in o)return!0}var n=t?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,r)},get(e,r,t){var o=fo.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[r])return n[r]}var a=o?.factory();if(!a)throw new Error(`Trying to Reflect.get of ${typeof a}`);return Reflect.get(a,r,t)},ownKeys:e=>{var r=fo.get(e),t=r?.factory();if(!t)throw new Error(`Trying to Reflect.ownKeys of ${typeof t}`);var o=Reflect.ownKeys(t);return bu.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,r)=>{var t=fo.get(e),o=t?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(fd(r))return Reflect.getOwnPropertyDescriptor(e,r);var n=Reflect.getOwnPropertyDescriptor(o,r);return n&&Object.defineProperty(e,r,n),n}}});var wi={};D(wi,{_lazyContextSymbol:()=>ta,createLazyModule:()=>Ir,getLazyContext:()=>Au});function md(e){var r=Cr().findIndex[e.uniq];if(r){for(var t in r)if(t[0]!=="_")return Number(t)}}function dd(e,r){var t=Au(e);if(!t)throw new Error("Subscribing a module for non-proxy-find");if(!t.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return Ci(t.moduleId,()=>{r(be(t.filter))})}function Au(e){return Ru.get(e)}function Ir(e){var r=void 0,t=md(e),o={filter:e,indexed:!!t,moduleId:t,getExports(a){return!t||Le[t]?.isInitialized?(a(this.forceLoad()),()=>{}):this.subscribe(a)},subscribe(a){return dd(n,a)},get cache(){return r},forceLoad(){if(r??=be(e),!r)throw new Error(`${e.uniq} is ${typeof r}! (id ${o.moduleId??"unknown"})`);return r}},n=ve(()=>o.forceLoad(),{exemptedEntries:{[ta]:o,[Bo]:a=>o.getExports(a)}});return Ru.set(n,o),n}var ta,Ru,$o=g(()=>{"use strict";i();s();Ke();Me();uo();jt();Ut();ta=Symbol.for("bunny.metro.lazyContext"),Ru=new WeakMap});var j,C,Ii,oa,Te,Li,Pi,Ni,Oi,Di,pd,Mi,Bi,Yo,gd,Fi,Q=g(()=>{"use strict";i();s();zo();uo();$o();j=(...e)=>be(Go(...e)),C=(...e)=>Ir(Go(...e)),Ii=(...e)=>dt(Go(...e)),oa=(e,r=!0)=>be(r?ft(e):ft.byRaw(e)),Te=(e,r=!0)=>Ir(r?ft(e):ft.byRaw(e)),Li=(e,r=!0)=>dt(r?ft(e):ft.byRaw(e)),Pi=(e,r=!0)=>be(r?ct(e):ct.byRaw(e)),Ni=(e,r=!0)=>Ir(r?ct(e):ct.byRaw(e)),Oi=(e,r=!0)=>dt(r?ct(e):ct.byRaw(e)),Di=(e,r=!0)=>be(r?mt(e):mt.byRaw(e)),pd=(e,r=!0)=>Ir(r?mt(e):mt.byRaw(e)),Mi=(e,r=!0)=>dt(r?mt(e):mt.byRaw(e)),Bi=e=>be(Qn(e)),Yo=e=>Ir(Qn(e)),gd=(e,r=!1)=>be(Zn(e,r)),Fi=(e,r=!1)=>Ir(Zn(e,r))});var pt=br((pv,wu)=>{"use strict";i();s();Q();wu.exports={react:C("createElement"),"react-native":C("AppRegistry"),util:C("inspect","isNullOrUndefined"),moment:C("isMoment"),"chroma-js":C("brewer"),lodash:C("forEachRight"),"@shopify/react-native-skia":C("useFont")}});var ie=br((vv,Cu)=>{i();s();Cu.exports=pt()["react-native"]});var Lu,Iu,Ui,Pu,co,qe,Vr,Nu=g(()=>{"use strict";i();s();re();gr();Lu=U(ie()),Iu=/[<>:"/\\|?*]/g,Ui=e=>Lu.Platform.select({default:e,ios:V.saveFileToGallery?e:`Documents/${e}`}),Pu=e=>(Iu.test(e)&&(e=e.replace(Iu,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),co=function(){var e=y(function*(r){(yield Rr.getItem(r))&&Rr.removeItem(r);var t=Pu(r);(yield V.fileExists(`${V.getConstants().DocumentsDirPath}/${t}`))&&(yield V.removeFile?.("documents",t))});return function(t){return e.apply(this,arguments)}}(),qe=(e,r={})=>{var t=Pu(e),o=JSON.stringify(r);return Vr(t,r,y(function*(){var n=`${V.getConstants().DocumentsDirPath}/${t}`;if(!(yield V.fileExists(n))){var a=(yield Rr.getItem(e))??o;if(a==="!!LARGE_VALUE!!"){var u=`${V.getConstants().CacheDirPath}/mmkv/${e}`;(yield V.fileExists(u))?a=yield V.readFile(u,"utf8"):(console.log(`${e}: Experienced data loss :(`),a=o)}try{JSON.parse(a)}catch{console.error(`${e} had an unparseable data while migrating`),a=o}yield V.writeFile("documents",Ui(t),a,"utf8"),(yield Rr.getItem(e))!==null&&(Rr.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},Vr=(e,r={},t)=>({get:y(function*(){yield t;var o=`${V.getConstants().DocumentsDirPath}/${e}`;if(yield V.fileExists(o)){var n=yield V.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield V.writeFile("documents",Ui(e),JSON.stringify(r),"utf8"),JSON.parse(yield V.readFile(o,"utf8"))}),set:function(){var o=y(function*(n){yield t,yield V.writeFile("documents",Ui(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});var na={};D(na,{awaitStorage:()=>zr,createFileBackend:()=>Vr,createMMKVBackend:()=>qe,createProxy:()=>mo,createStorage:()=>je,purgeStorage:()=>co,useProxy:()=>B,wrapSync:()=>ar});function mo(e={}){var r=new lo,t=e,o=new WeakMap;function n(a,u){return new Proxy(a,{get(c,h){if(h===Ou)return r;var w=[...u,h],S=c[h];if(S!=null){if(r.emit("GET",{parent:t,path:w,value:S}),typeof S=="object"){if(o.has(S))return o.get(S);var q=n(S,w);return o.set(S,q),q}return S}return S},set(c,h,w){if(typeof w=="object"){if(o.has(w))return o.get(w);var S=n(w,[...u,h]);o.set(w,S),c[h]=S}else c[h]=w;return r.emit("SET",{parent:t,path:[...u,h],value:w}),!0},deleteProperty(c,h){var w=typeof c[h]=="object"?o.get(c[h]):c[h],S=delete c[h];return S&&r.emit("DEL",{value:w,parent:t,path:[...u,h]}),S}})}return{proxy:n(e,[]),emitter:r}}function B(e){var r=e?.[Ou];if(!r)throw new Error("storage?.[emitterSymbol] is undefined");var[,t]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=(n,a)=>{n==="DEL"&&a.value===e||(console.log({event:n,data:a}),t())};return r.on("SET",o),r.on("DEL",o),()=>{r.off("SET",o),r.off("DEL",o)}},[e]),e}function je(e){return ji.apply(this,arguments)}function ji(){return ji=y(function*(e){var r=yield e.get(),{proxy:t,emitter:o}=mo(r),n=()=>e.set(t);return o.on("SET",n),o.on("DEL",n),t}),ji.apply(this,arguments)}function ar(e){var r=void 0,t=[],o=n=>r?n():t.push(n);return e.then(n=>{r=n,t.forEach(a=>a())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(a,...u)=>Reflect[n](r??a,...u)])),get(n,a,u){return a===Du?o:Reflect.get(r??n,a,u)}})}function zr(...e){return Promise.all(e.map(r=>new Promise(t=>r[Du](t))))}var Ou,Du,se=g(()=>{"use strict";i();s();re();Xn();Nu();Ou=Symbol.for("vendetta.storage.emitter"),Du=Symbol.for("vendetta.storage.accessor")});var $i={};D($i,{BUNNY_PROXY_PREFIX:()=>Gi,DISCORD_SERVER:()=>ki,DISCORD_SERVER_ID:()=>Vi,GITHUB:()=>Hi,HTTP_REGEX:()=>hd,HTTP_REGEX_MULTI:()=>Wo,OFFICIAL_PLUGINS_REPO_URL:()=>Ko,OLD_BUNNY_PROXY_PREFIX:()=>vd,PLUGINS_CHANNEL_ID:()=>zi,THEMES_CHANNEL_ID:()=>qo,VD_PROXY_PREFIX:()=>gt});var ki,Hi,hd,Wo,gt,Gi,vd,Ko,Vi,zi,qo,ht=g(()=>{"use strict";i();s();ki="https://discord.gg/XjYgWXHb9Q",Hi="https://github.com/pyoncord",hd=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Wo=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,gt="https://vd-plugins.github.io/proxy",Gi="https://bn-plugins.github.io/vd-proxy",vd="https://bunny-mod.github.io/plugins-proxy",Ko="https://bn-plugins.github.io/dist/repo.json",Vi="1015931589865246730",zi="1091880384561684561",qo="1091880434939482202"});function Yi(e,r=0){for(var t=3735928559^r,o=1103547991^r,n=0,a;n<e.length;n++)a=e.charCodeAt(n),t=Math.imul(t^a,2654435761),o=Math.imul(o^a,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(t^t>>>13,3266489909),[o>>>0,t>>>0]}function Mu(e,r=0){var[t,o]=Yi(e,r);return t.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var Wi=g(()=>{"use strict";i();s()});var hr,Bu=g(()=>{"use strict";i();s();vr();hr=(e,r)=>po(e,r,{walkable:["props","children","child","sibling"]})});function Ki(e,r,t,o){if(!(o>t.maxDepth)&&e){try{if(r(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var a=Ki(n,r,t,o+1);if(a)return a}catch{}}else if(typeof e=="object"){for(var u of Object.keys(e))if(!(typeof e[u]!="object"||e[u]===null)&&!(t.walkable.length&&!t.walkable.includes(u))&&!t.ignore.includes(u))try{var c=Ki(e[u],r,t,o+1);if(c)return c}catch{}}}}var po,Fu=g(()=>{"use strict";i();s();po=(e,r,{walkable:t=[],ignore:o=[],maxDepth:n=100}={})=>Ki(e,r,{walkable:t,ignore:o,maxDepth:n},0)});function Uu(e,r,t){var o=e;if(r in e)return void t(o[r]);var n;return Object.defineProperty(o,r,{get:()=>n,set(a){n=t(a)??a},configurable:!0,enumerable:!1}),()=>{delete o[r],o[r]=n}}var ju=g(()=>{"use strict";i();s()});function qi(e,r){if(!e){var t=typeof r=="function"?r():r,o="[Invariant Violation]",n=t?`${o}: ${t}`:o;throw new Error(n)}}var ku=g(()=>{"use strict";i();s()});var Xi={};D(Xi,{DiscordLogger:()=>Xo,logger:()=>Pe});var Xo,Pe,$r=g(()=>{"use strict";i();s();Q();Xo=Te("Logger"),Pe=new Xo("Bunny")});function ke(e,r){return Ji.apply(this,arguments)}function Ji(){return Ji=y(function*(e,r,t=1e4){var o=yield fetch(e,{signal:yd(t),...r});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),Ji.apply(this,arguments)}function yd(e){var r=new AbortController;return setTimeout(()=>r.abort(`Timed out after ${e}ms`),e),r.signal}var Hu=g(()=>{"use strict";i();s();re()});var aa={};D(aa,{Emitter:()=>lo,constants:()=>$i,cyrb64:()=>Yi,findInReactTree:()=>hr,findInTree:()=>po,hookDefineProperty:()=>Uu,invariant:()=>qi,lazy:()=>Ai,logger:()=>Xi,safeFetch:()=>ke});var vr=g(()=>{"use strict";i();s();ht();Wi();Xn();Bu();Fu();ju();ku();Me();$r();Hu()});var ia=br((fy,Gu)=>{i();s();Gu.exports=pt()["chroma-js"]});var zt={};D(zt,{applyTheme:()=>Jo,color:()=>ce,fetchTheme:()=>Gt,getCurrentTheme:()=>la,getThemeFromLoader:()=>yt,initThemes:()=>ss,installTheme:()=>Yr,patchChatBackground:()=>is,removeTheme:()=>Vt,selectTheme:()=>Wr,themes:()=>Z,updateThemes:()=>sa});function Qi(e){return Zi.apply(this,arguments)}function Zi(){return Zi=y(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield Vr(ls()||"theme.json").set(e)}),Zi.apply(this,arguments)}function is(){var e=[X("default",xd,(r,t)=>vt?React.createElement(go.ImageBackground,{style:{flex:1,height:"100%"},source:He?.data?.background?.url&&{uri:He.data.background.url}||0,blurRadius:typeof He?.data?.background?.blur=="number"?He?.data?.background?.blur:0,children:t}):t),X("render",Sd.prototype,(r,t)=>{if(!(!vt||!He?.data?.background?.url)){var o=hr(t,n=>n&&"HACK_fixModalInteraction"in n.props&&n?.props?.style);o?o.props.style=[o.props.style,{backgroundColor:(0,Ht.default)(o.props.style.backgroundColor||"black").alpha(1-(He?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return()=>e.forEach(r=>r())}function Wu(e){if(Ht.default.valid(e))return(0,Ht.default)(e).hex();var r=Number((0,go.processColor)(e));return Ht.default.rgb(r>>16&255,r>>8&255,r&255,r>>24&255).hex()}function bd(e){if(e.semanticColors){var{semanticColors:r}=e;for(var t in r)for(var o in r[t])r[t][o]&&=Wu(r[t][o])}if(e.rawColors){var{rawColors:n}=e;for(var a in n)e.rawColors[a]=Wu(n[a]);go.Platform.OS==="android"&&Td(n)}return e.spec??=2,e}function Td(e){var r={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var t in r){var[o,n]=r[t];e[o]&&(e[t]=(0,Ht.default)(e[o]).alpha(n).hex())}}function Gt(e){return es.apply(this,arguments)}function es(){return es=y(function*(e,r=!1){var t;try{t=yield(yield ke(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}Z[e]={id:e,selected:r,data:bd(t)},r&&(Qi(Z[e]),Jo(Z[e],ye))}),es.apply(this,arguments)}function Yr(e){return rs.apply(this,arguments)}function rs(){return rs=y(function*(e){if(typeof e!="string"||e in Z)throw new Error("Theme already installed");yield Gt(e)}),rs.apply(this,arguments)}function Wr(e,r=!0){if(e&&(e.selected=!0),Object.keys(Z).forEach(t=>Z[t].selected=Z[t].id===e?.id),e==null&&r)return Qi({});if(e)return Qi(e)}function Vt(e){return ts.apply(this,arguments)}function ts(){return ts=y(function*(e){var r=Z[e];return r.selected&&(yield Wr(null)),delete Z[e],r.selected}),ts.apply(this,arguments)}function yt(){return Qo()}function sa(){return os.apply(this,arguments)}function os(){return os=y(function*(){yield zr(Z);var e=yt();yield m(Object.keys(Z).map(r=>Gt(r,e?.id===r)))}),os.apply(this,arguments)}function la(){return He}function as(e){return Ad.has(e)}function wd(){var e=([r])=>r===yr?[ye]:void 0;Object.keys(ce.RawColor).forEach(r=>{Object.defineProperty(ce.RawColor,r,{configurable:!0,enumerable:!0,get:()=>vt?He?.data?.rawColors?.[r]??Ku[r]:Ku[r]})}),Bt("isThemeDark",Yu,e),Bt("isThemeLight",Yu,e),Bt("updateTheme",li,e),X("get",Vu,([r],t)=>{r==="SelectivelySyncedUserSettingsStore"?(ns=!0,t?._state?.appearance?.settings?.theme&&vt&&(ye=t._state.appearance.settings.theme,t._state.appearance.settings.theme=yr)):r==="ThemeStore"&&(ns=!0,t?._state?.theme&&vt&&(ye=t._state.theme,t._state.theme=yr))}),Bt("set",Vu,r=>{if(r[1]){var t=r[0],o=JSON.parse(JSON.stringify(r[1])),n={SelectivelySyncedUserSettingsStore:()=>{if(o._state?.appearance?.settings?.theme){var{theme:a}=o._state?.appearance?.settings??{};as(a)?ye=a:o._state.appearance.settings.theme=ye}},ThemeStore:()=>{if(o._state?.theme){var{theme:a}=o._state;as(a)?ye=a:o._state.theme=ye}}};return t in n?(n[t](),[t,o]):r}}),lt("resolveSemanticColor",ce.default.meta??ce.default.internal,(r,t)=>{if(!vt||!He)return t(...r);if(r[0]!==yr)return t(...r);r[0]=ye;var[o,n]=qu(ye,r[1]),a=ye==="midnight"?2:ye==="light"?1:0;var u=Ed[o]??o,c=(He.data?.semanticColors?.[o]??He.data?.semanticColors?.[u])?.[a];if(c)return c;var h=He.data?.rawColors?.[n.raw];return h?n.opacity===1?h:(0,Ht.default)(h).alpha(n.opacity).hex():t(...r)})}function Cd(e=ye){var r=_d.theme.toLowerCase();return as(r)?r:e}function Jo(e,r){r||(r=Cd()),He=e,vt=!!He,ye=r,yr=`vd-theme-${Rd++}-${r}`,e&&(ce.Theme[yr.toUpperCase()]=yr,$u.DIVIDER_COLORS[yr]=$u.DIVIDER_COLORS[ye],Object.keys(ce.Shadow).forEach(t=>ce.Shadow[t][yr]=ce.Shadow[t][ye]),Object.keys(ce.SemanticColor).forEach(t=>{ce.SemanticColor[t][yr]={...ce.SemanticColor[t][ye],override:e?.data?.semanticColors?.[t]?.[0]}})),ns&&(zu.setShouldSyncAppearanceSettings(!1),zu.updateTheme(e?yr:r))}function ss(){var e=yt();vt=!!e,wd(),Jo(e,ye),sa().catch(r=>console.error("Failed to update themes",r))}function qu(e,r){var t=r[qu._sym??=Object.getOwnPropertySymbols(r)[0]],o=ce.SemanticColor[t];return[t,o[e]]}var Ht,go,ce,Vu,zu,_d,$u,xd,Sd,Yu,Z,Ed,Ku,Rd,yr,ye,vt,He,ns,Ad,Xe=g(()=>{"use strict";i();s();re();_r();gr();Ke();se();vr();Me();zo();$o();Q();Ht=U(ia()),go=U(ie());ce=C("SemanticColor"),Vu=ve(()=>{var e=j("impl");return typeof e?.impl=="object"?e.impl:j("storage")}),zu=C("updateTheme"),_d=Yo("ThemeStore"),$u=C("DIVIDER_COLORS"),xd=Te("MessagesWrapperConnected",!1),{MessagesWrapper:Sd}=J(()=>j("MessagesWrapper")),Yu=Ir(Vo("isThemeDark")),Z=ar(je(qe("VENDETTA_THEMES"))),Ed={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};Ku={...ce.RawColor},Rd=0,yr="vd-theme",ye="darker",vt=!1,ns=!1,Ad=new Set(["darker","midnight","dark","light"])});var gs={};D(gs,{getLoaderConfigPath:()=>ds,getLoaderIdentity:()=>Ld,getLoaderName:()=>ua,getLoaderVersion:()=>us,getReactDevToolsProp:()=>fs,getReactDevToolsVersion:()=>cs,getStoredTheme:()=>Qo,getSysColors:()=>Xu,getThemeFilePath:()=>ls,getVendettaLoaderIdentity:()=>Zo,isFontSupported:()=>ps,isLoaderConfigSupported:()=>fa,isPyonLoader:()=>ue,isReactDevToolsPreloaded:()=>ho,isSysColorsSupported:()=>ms,isThemeSupported:()=>ir,isVendettaLoader:()=>Ne});function Ne(){return Pr!=null}function ue(){return Lr!=null}function Id(){if(!ue()||Ne())return null;var e={name:Lr.loaderName,features:{}};return fa()&&(e.features.loaderConfig=!0),ms()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>Xu(),configurable:!0})),ir()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var r=Qo()?.id;if(!r)return null;var{themes:t}=(Xe(),Ue(zt));return t[r]??Qo()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function Ld(){return ue()?Lr:Ne()?Zo():null}function Zo(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:Id()}function ua(){return ue()?Lr.loaderName:Ne()?Pr.name:"Unknown"}function us(){return ue()?Lr.loaderVersion:null}function fa(){return ue()?!0:Ne()?Pr.features.loaderConfig:!1}function ir(){return ue()?Lr.hasThemeSupport:Ne()?Pr.features.themes!=null:!1}function Qo(){if(ue())return Lr.storedTheme;if(Ne()){var e=Pr.features.themes?.prop;return e&&globalThis[e]||null}return null}function ls(){return ue()?"pyoncord/current-theme.json":Ne()?"vendetta_theme.json":null}function ho(){return ue()?!!window.__reactDevTools:Ne()?Pr.features.devtools!=null:!1}function fs(){return ho()?ue()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):Ne()?Pr.features.devtools.prop:null:null}function cs(){return ho()?ue()?window.__reactDevTools.version||null:Ne()?Pr.features.devtools.version:null:null}function ms(){return ue()?Lr.isSysColorsSupported:Ne()?Pr.features.syscolors!=null:!1}function Xu(){return ms()?ue()?Lr.sysColors:Ne()?Pr.features.syscolors.prop:null:null}function ds(){return ue()?"pyoncord/loader.json":Ne()?"vendetta_loader.json":"loader.json"}function ps(){return ue()?Lr.fontPatch===2:!1}var Lr,Pr,_r=g(()=>{"use strict";i();s();Lr=globalThis.__PYON_LOADER__,Pr=globalThis.__vendetta_loader;Zo()});var ca={};D(ca,{loaderConfig:()=>sr,settings:()=>L});var L,sr,Re=g(()=>{"use strict";i();s();_r();se();L=ar(je(qe("VENDETTA_SETTINGS"))),sr=ar(je(Vr(ds(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var _s={};D(_s,{default:()=>Pd});var Ju,Zu,hs,ys,vo,vs,Kr,Qu,en,Pd,xs=g(()=>{"use strict";i();s();jt();Ju=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),Zu={},hs={},ys=Ss("redesign_module");for([Qu,en]of ys.getModules())for(Kr of Ju){if(vo=void 0,en[Kr])vo=en;else if(en.default?.[Kr])vo=en.default;else continue;vs=Reflect.ownKeys(vo).length,!(hs[Kr]&&vs>=hs[Kr])&&(Zu[Kr]=vo[Kr],hs[Kr]=Reflect.ownKeys(vo).length,ys.cacheId(Qu),vs===1&&Ju.delete(Kr))}ys.finish();Pd=Zu});var Ts={};D(Ts,{getCachedPolyfillModules:()=>Fd,getImportingModuleId:()=>yi,getModules:()=>ea,metroModules:()=>Le,requireModule:()=>or,subscribeModule:()=>Ci});function da(e){Object.defineProperty(Le,e,{enumerable:!1}),of.add(e),As(Number(e))}function rn(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function Bd(e,r){if(Rs(r,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(ae(),Ue(ko)).patchAssets(e),e?.default?.name==="requireNativeComponent"&&bs("default",e,(u,c)=>{try{return c(...u)}catch{return u[0]}}),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(u,c,h){if(c==="isDeveloper"){var{settings:w}=(Re(),Ue(ca));return w.enableDiscordDeveloperSettings??!1}return Reflect.get(u,c,h)}})),!rf&&e.fileFinishedImporting&&(Od("fileFinishedImporting",e,([u])=>{yo===-1||!u||(Le[yo].__filePath=u)}),rf=!0),!ef&&window["__core-js_shared__"]){var t=u=>typeof u=="function"&&Md.apply(u,[]);window["__core-js_shared__"].inspectSource=t,ef=!0}if(e.findHostInstance_DEPRECATED){var o=Le[r-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;Le[r+n]?.isInitialized||da(r+n)}e.isMoment&&bs("defineLocale",e,(u,c)=>{var h=e.locale();c(...u),e.locale(h)});var a=ma.get(Number(r));a&&(a.forEach(u=>u()),ma.delete(Number(r)))}function yi(){return yo}function Ci(e,r){var t=ma.get(e)??new Set;return t.add(r),ma.set(e,t),()=>t.delete(r)}function or(e){if(Le[0]?.isInitialized||Es(0),!of.has(e)){if(Number(e)===-1)return xs(),Ue(_s);if(Le[e]?.isInitialized&&!Le[e]?.hasError)return Es(e);var r=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(Dd);var t;try{t=Es(e)}catch{da(e),t=void 0}return ErrorUtils.setGlobalHandler(r),t}}function*ea(e,r=!1){yield[-1,(xs(),Ue(_s))];var t=Cr().findIndex[e];if(r&&!t?.[`_${wr.FULL_LOOKUP}`]&&(t=void 0),!t?.[`_${wr.NOT_FOUND}`]){for(var o in t)if(o[0]!=="_"){var n=or(Number(o));rn(n)||(yield[o,n])}for(var a in Le){var u=or(Number(a));rn(u)||(yield[a,u])}}}function*Fd(e){var r=Cr().polyfillIndex[e];for(var t in r){var o=or(Number(t));rn(o)||(yield[t,o])}if(!r[`_${wr.FULL_LOOKUP}`])for(var n in Le){var a=or(Number(n));rn(a)||(yield[n,a])}}var Nd,Od,bs,Le,Es,ma,of,Dd,Md,ef,rf,yo,tf,Ut=g(()=>{"use strict";i();s();jt();hi();Nd=function(e){var r=Number(e),t=Le[r],o=Cr().exportsIndex[r];if(o&st.BLACKLISTED)return da(r),"continue";t.factory&&bs("factory",t,(n,a)=>{var u=yo;yo=r;var{1:c,4:h}=n;n[2]=w=>{var S=c(w);return S&&S.__esModule?S.default:S},n[3]=w=>{var S=c(w);if(S&&S.__esModule)return S;var q={};return S&&Object.assign(q,S),q.default=S,q},a(...n),rn(h.exports)?da(r):Bd(h.exports,r),yo=u})},{before:Od,instead:bs}=kn(),Le=window.modules,Es=window.__r,ma=new Map,of=new Set,Dd=()=>{},Md=Function.prototype.toString,ef=!1,rf=!1,yo=-1;for(tf in Le)Nd(tf)});var uf={};D(uf,{getCacherForUniq:()=>ra,getMetroCache:()=>Cr,getPolyfillModuleCacher:()=>Ss,indexAssetName:()=>_i,indexBlacklistFlag:()=>As,indexExportsFlags:()=>Rs,initMetroCache:()=>Ud});function nf(){var e={_v:af,_buildNumber:Ot.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(()=>{for(var r in window.modules)(Ut(),Ue(Ts)).requireModule(r)},100),Be=e,e}function Ud(){return ws.apply(this,arguments)}function ws(){return ws=y(function*(){var e=yield Rr.getItem(sf);if(e==null)return void nf();try{if(Be=JSON.parse(e),Be._v!==af)throw Be=null,"cache invalidated; cache version outdated";if(Be._buildNumber!==Ot.Build)throw Be=null,"cache invalidated; version mismatch";if(Be._modulesCount!==Object.keys(window.modules).length)throw Be=null,"cache invalidated; modules count mismatch"}catch{nf()}}),ws.apply(this,arguments)}function lf(e){if(e){var r=st.EXISTS;return r}}function Rs(e,r){var t=lf(r);t&&t!==st.EXISTS&&(Be.exportsIndex[e]=t)}function As(e){Be.exportsIndex[e]|=st.BLACKLISTED}function ra(e,r){var t=Be.findIndex[e]??={};return{cacheId(o,n){t[o]??=lf(n),tn()},finish(o){r&&(t[`_${wr.FULL_LOOKUP}`]=1),o&&(t[`_${wr.NOT_FOUND}`]=1),tn()}}}function Ss(e){var r=Be.polyfillIndex[e]??={};return{getModules(){return(Ut(),Ue(Ts)).getCachedPolyfillModules(e)},cacheId(t){r[t]=1,tn()},finish(){r[`_${wr.FULL_LOOKUP}`]=1,tn()}}}function _i(e,r){isNaN(r)||((Be.assetsIndex[e]??={})[r]=1,tn())}var af,sf,Be,Cr,tn,jt=g(()=>{"use strict";i();s();re();gr();gi();hi();af=52,sf="__bunny_metro_cache_key__",Be=null,Cr=window.__getMetroCache=()=>Be;tn=di(()=>{Rr.setItem(sf,JSON.stringify(Be))},1e3)});var ga={};D(ga,{Flux:()=>Ns,FluxDispatcher:()=>xr,NavigationNative:()=>fe,React:()=>an,ReactNative:()=>pa,assets:()=>Cs,channels:()=>on,clipboard:()=>Je,commands:()=>$t,constants:()=>_t,i18n:()=>xt,invites:()=>Is,messageUtil:()=>lr,navigation:()=>Ls,navigationStack:()=>Ps,semver:()=>_o,toasts:()=>nn,tokens:()=>Yt,url:()=>St});var _t,on,xt,St,Je,Cs,Is,$t,Ls,nn,lr,Ps,fe,Yt,_o,Ns,xr,an,pa,z=g(()=>{"use strict";i();s();Q();_t=C("Fonts","Permissions"),on=C("getVoiceChannelId"),xt=C("Messages"),St=C("openURL","openDeeplink"),Je=C("setString","getString","hasString"),Cs=C("registerAsset"),Is=C("acceptInviteAndTransitionToInviteChannel"),$t=C("getBuiltInCommands"),Ls=C("pushLazy"),nn=Fi("modules/toast/native/ToastActionCreators.tsx",!0),lr=C("sendBotMessage"),Ps=C("createStackNavigator"),fe=C("NavigationContainer"),Yt=C("colors","unsafe_rawColors"),_o=C("parse","clean"),Ns=C("connectStores"),xr=j("_interceptors"),an=window.React=C("createElement"),pa=window.ReactNative=C("AppRegistry")});var Os=br((Wy,ff)=>{i();s();ff.exports=pt().moment});function mf({locale:e}){try{cf.default.locale(e.toLowerCase())}catch(r){Pe.error("Failed to fix timestamps...",r)}xr.unsubscribe("I18N_LOAD_SUCCESS",mf)}var cf,df,pf=g(()=>{"use strict";i();s();$r();z();cf=U(Os());df=()=>{xr.subscribe("I18N_LOAD_SUCCESS",mf)}});var hf,gf=g(()=>{hf={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function _f(){var e=({locale:r})=>{var t={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=vf=t[r]??r;if(o.startsWith("en-")){xo=null;return}yf.has(o)?xo=o:(yf.add(o),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${o}/bunny.json`).then(n=>n.json()).then(n=>Ds[o]=n).then(()=>o===vf&&(xo=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return xr.subscribe("I18N_LOAD_SUCCESS",e),()=>xr.unsubscribe("I18N_LOAD_SUCCESS",e)}function Qe(e,r){var t=f[e];return new kd(t).format(r)}var kd,xo,vf,yf,Ds,f,te=g(()=>{"use strict";i();s();z();Q();gf();kd=Te("MessageFormat"),xo=null,vf=null,yf=new Set,Ds={},f=new Proxy({},{get:(e,r)=>xo&&Ds[xo]?.[r]?Ds[xo]?.[r]:hf[r]})});var ha,xf=g(()=>{ha="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});function Ef(e){var r=Ri(e[0]);return r&&(e[0]=r()),e}var Sf,Nr,l,T,W=g(()=>{"use strict";i();s();Me();Q();Sf=C("jsx","jsxs","Fragment");Nr=Symbol.for("react.fragment"),l=(...e)=>Sf.jsx(...Ef(e)),T=(...e)=>Sf.jsxs(...Ef(e))});var Gd,Or,_e,va,ya,_a,xa,Wt,Ae,y_,Ze,__,x_,b,S_,E_,Oe,Kt,bf,b_,T_,Tf,Rf,R_,So,A_,we,ur,w_,C_,I_,L_,Af,Sa,wf,Vd,me,Ms,P_,N_,O_,D_,M_,B_,F_,U_,Cf,j_,If,Lf,k_,H_,G_,V_,qr,Bs,z_,$_,Y_,W_,K_,q_,Eo,X_,Pf,oe=g(()=>{"use strict";i();s();Me();Jn();uo();Q();Gd=nr(([e],r)=>r[e]&&Object.keys(r).length===1,e=>`bunny.metro.common.components.bySingularProp(${e})`),Or=e=>ve(()=>be(Gd(e))?.[e]),_e=e=>ve(()=>j(e)[e]),va=Ni("FluxContainer(Alert)"),ya=C("Looks","Colors","Sizes"),_a=Te("HelpMessage"),xa=ve(()=>j("useSafeAreaInsets").SafeAreaView),Wt=_e("ActionSheetRow"),Ae=Or("Button"),y_=_e("TwinButtons"),Ze=Or("IconButton"),__=_e("RowButton"),x_=_e("PressableScale"),b=_e("TableRow"),S_=_e("TableRowIcon"),E_=_e("TableRowTrailingText"),Oe=_e("TableRowGroup"),Kt=_e("TableSwitchRow"),bf=Or("FormSwitch"),b_=Or("FormRadio"),T_=Or("FormCheckbox"),Tf=Or("FormSwitch"),Rf=Or("FormRadio"),R_=Or("FormCheckbox"),So=_e("Card"),A_=ve(()=>j("RedesignCompat").RedesignCompat),we=_e("Stack"),ur=Or("TextInput"),w_=_e("SegmentedControl"),C_=_e("SegmentedControlPages"),I_=Or("useSegmentedControlState"),L_=_e("CompatSegmentedControl"),Af=_e("FloatingActionButton"),Sa=_e("ActionSheet"),wf=_e("BottomSheetTitleHeader"),Vd=C("Text","LegacyText"),me=ve(()=>Vd.Text),Ms=C("Form","FormSection"),{Form:P_,FormArrow:N_,FormCTA:O_,FormCTAButton:D_,FormCardSection:M_,FormCheckbox:B_,FormCheckboxRow:F_,FormCheckmark:U_,FormDivider:Cf,FormHint:j_,FormIcon:If,FormInput:Lf,FormLabel:k_,FormRadio:H_,FormRadioGroup:G_,FormRadioRow:V_,FormRow:qr,FormSection:Bs,FormSelect:z_,FormSliderRow:$_,FormSubLabel:Y_,FormSwitch:W_,FormSwitchRow:K_,FormTernaryCheckBox:q_,FormText:Eo,FormTitle:X_}=J(()=>Ms),Pf=_e("FlashList")});var Ea={};D(Ea,{isSemanticColor:()=>Us,rawColors:()=>Fs,resolveSemanticColor:()=>js,semanticColors:()=>de});function Us(e){return Nf.isSemanticColor(e)}function js(e,r=$d.theme){return Nf.resolveSemanticColor(r,e)}var de,Fs,$d,Nf,Et=g(()=>{"use strict";i();s();Xe();z();Q();de=ce?.default?.colors??_t?.ThemeColorMap,Fs=ce?.default?.unsafe_rawColors??_t?.Colors,$d=Yo("ThemeStore"),Nf=ce.default.meta??=ce.default.internal});var ks={};D(ks,{TextStyleSheet:()=>fr,createStyles:()=>Xr,createThemedStyleSheet:()=>qt});function Xr(e){return ve(()=>Yd.createStyles(e))}function qt(e){for(var r in e)e[r]=new Proxy(Of.StyleSheet.flatten(e[r]),{get(t,o,n){var a=Reflect.get(t,o,n);return Us(a)?js(a):a}});return e}var Of,Yd,fr,Dr=g(()=>{"use strict";i();s();Me();Q();Et();Of=U(ie()),Yd=C("createStyles"),{TextStyleSheet:fr}=J(()=>j("TextStyleSheet"))});function Sr({selectable:e,style:r,children:t}){return e?bo.Platform.select({ios:l(Wd,{style:r,children:t}),default:l(Df,{style:r,children:t,selectable:!0})}):l(Df,{style:r,children:t})}var bo,Mf,Wd,Df,Bf=g(()=>{"use strict";i();s();W();z();Et();Dr();bo=U(ie()),Mf=Xr({codeBlock:{fontFamily:_t.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:de.BACKGROUND_SECONDARY,color:de.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:de.BACKGROUND_TERTIARY,padding:10}}),Wd=({style:e,children:r})=>l(bo.TextInput,{editable:!1,multiline:!0,style:[Mf().codeBlock,e&&e],value:r}),Df=({selectable:e,style:r,children:t})=>l(bo.Text,{selectable:e,style:[Mf().codeBlock,r&&r],children:t})});var Hs,Ff,Kd,le,Gs=g(()=>{"use strict";i();s();Gn();Kn();xi();ui();mi();W();te();z();oe();Er();Dr();Hs=U(ie()),Ff=qt({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),le=function(e){"use strict";zn(t,e);var r=Wn(t);function t(o){Dt(this,t);var n;return n=r.call(this,o),n.state={hasErr:!1},n}return kt(t,[{key:"render",value:function(){return this.state.hasErr?T(Hs.ScrollView,{style:Ff.view,children:[l(Eo,{style:Ff.title,children:f.UH_OH}),l(Sr,{selectable:!0,style:{marginBottom:5},children:this.state.error.name}),l(Sr,{selectable:!0,style:{marginBottom:5},children:this.state.error.message}),this.state.error.stack&&l(Hs.ScrollView,{style:{maxHeight:420,marginBottom:5},children:l(Sr,{selectable:!0,children:this.state.error.stack})}),l(Ae,{size:"md",variant:"destructive",onPress:()=>this.setState({hasErr:!1}),text:f.RETRY})]}):this.props.children}}]),t}(Kd=an.Component);qn(le,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function qd(){return l(ba.Image,{style:{width:16,height:16},source:_("search")})}var ba,bt,Uf=g(()=>{"use strict";i();s();W();te();ae();oe();Gs();ba=U(ie());bt=({onChangeText:e,placeholder:r,style:t})=>{var[o,n]=React.useState(""),a=u=>{n(u),e?.(u)};return l(le,{children:l(ba.View,{style:t,children:l(ur,{grow:!0,isClearable:!0,leadingIcon:qd,placeholder:r??f.SEARCH,onChange:a,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:o})})})}});function ln({label:e,icon:r,noPadding:t=!1,noAnimation:o=!1,children:n}){var[a,u]=React.useState(!0);return T(Nr,{children:[l(b,{label:e,icon:r&&l(b.Icon,{source:_(r)}),trailing:l(qr.Arrow,{style:{transform:[{rotate:`${a?180:90}deg`}]}}),onPress:()=>{u(!a),o||sn.LayoutAnimation.configureNext(sn.LayoutAnimation.Presets.easeInEaseOut)}}),!a&&l(Nr,{children:l(sn.View,{style:!t&&{paddingHorizontal:15},children:n})})]})}var sn,jf=g(()=>{"use strict";i();s();W();ae();oe();sn=U(ie())});var Ta={};D(Ta,{Codeblock:()=>Sr,ErrorBoundary:()=>le,Search:()=>bt,Summary:()=>ln});var Er=g(()=>{"use strict";i();s();Bf();Gs();Uf();jf()});function Ra(e,r,t,o,n){return y(function*(){if(e)return void e();var a=yield t().then(u=>u.default);typeof o=="string"&&(o={title:o}),r??=Xd.getRootNavigationRef(),r.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>l(a,{...n})})})}var Xd,To,Vs=g(()=>{"use strict";i();s();re();W();z();Q();Er();Xd=C("getRootNavigationRef"),To=React.memo(()=>{var e=fe.useNavigation(),r=fe.useRoute(),{render:t,...o}=r.params;return React.useEffect(()=>void e.setOptions({...o}),[]),l(le,{children:l(t,{})})})});function Jd(){var e=fe.useNavigation();return l(Nr,{children:Object.keys(Mr).map(r=>l(Bs,{title:r,children:Mr[r].filter(t=>t.usePredicate?.()??!0).map(t=>l(qr,{label:t.title(),leading:l(If,{source:t.icon}),trailing:qr.Arrow,onPress:Ra(t.onPress,e,t.render,t.title())}))},r))})}function kf(e){e.push(X("default",Te("getScreens",!1),(t,o)=>({...o,VendettaCustomPage:{title:"Bunny",render:()=>l(To,{})},BUNNY_CUSTOM_PAGE:{title:"Bunny",render:()=>l(To,{})}})));var r=X("default",Te("UserSettingsOverviewWrapper",!1),(t,o)=>{var n=hr(o.props.children,a=>a.type?.name==="UserSettingsOverview");e.push(X("renderSupportAndAcknowledgements",n.type.prototype,(a,{props:{children:u}})=>{var c=u.findIndex(h=>h?.type?.name==="UploadLogsButton");c!==-1&&u.splice(c,1)})),e.push(X("render",n.type.prototype,(a,u)=>{var c=[xt.Messages.BILLING_SETTINGS,xt.Messages.PREMIUM_SETTINGS],h=hr(u.props.children,S=>S?.children?.[1]?.type===Bs)?.children;if(h){var w=h.findIndex(S=>c.includes(S?.props.label));h.splice(-~w||4,0,l(Jd,{}))}}))},!0);e.push(r)}var Hf=g(()=>{"use strict";i();s();W();Ke();vr();z();oe();Q();Ro();Vs()});function Zd(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function Gf(e){var r=()=>Object.values(Mr).flatMap(n=>n.map(a=>({[a.key]:{type:"pressable",title:a.title,icon:a.icon,usePredicate:a.usePredicate,onPress:Ra(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}))).reduce((n,a)=>Object.assign(n,a)),t=Aa.SETTING_RENDERER_CONFIG,o=Aa.SETTING_RENDERER_CONFIG;Object.defineProperty(Aa,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>"Bunny",screen:{route:"VendettaCustomPage",getComponent:()=>To}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>"Bunny",screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>To}},...r()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(Aa,"SETTING_RENDERER_CONFIG",{value:t,writable:!0,get:void 0,set:void 0})}),e.push(X("default",Qd,(n,a)=>{if(!Zd()){var{sections:u}=hr(a,h=>h.props?.sections).props,c=-~u.findIndex(h=>h.label===xt.Messages.ACCOUNT_SETTINGS)||1;Object.keys(Mr).forEach(h=>{u.splice(c++,0,{label:h,title:h,settings:Mr[h].map(w=>w.key)})})}}))}var Aa,Qd,Vf=g(()=>{"use strict";i();s();Ke();vr();z();Q();Ro();Vs();Aa=C("SETTING_RENDERER_CONFIG"),Qd=Te("SettingsOverviewScreen",!1)});var $s={};D($s,{patchSettings:()=>zs,registerSection:()=>wa,registeredSections:()=>Mr});function wa(e){return Mr[e.name]=e.items,()=>delete Mr[e.name]}function zs(){var e=new Array;return kf(e),Gf(e),()=>e.forEach(r=>r())}var Mr,Ro=g(()=>{"use strict";i();s();Hf();Vf();Mr={}});var Ca={};D(Ca,{showToast:()=>k});var ep,k,Br=g(()=>{"use strict";i();s();te();ae();Me();z();Q();({uuid4:ep}=J(()=>j("uuid4"))),k=(e,r)=>nn.open({key:`vd-toast-${ep()}`,content:e,source:r,icon:r});k.showCopyToClipboard=(e=f.COPIED_TO_CLIPBOARD)=>{k(e,_("toast_copy_link"))}});function Ia({label:e,version:r,icon:t}){return l(b,{label:e,icon:l(b.Icon,{source:_(t)}),trailing:l(Eo,{children:r}),onPress:()=>{Je.setString(`${e} - ${r}`),k.showCopyToClipboard()}})}var zf=g(()=>{"use strict";i();s();W();ae();z();oe();Br()});var Pa={};D(Pa,{connectToDebugger:()=>cn,getDebugInfo:()=>Jr,patchLogHook:()=>Ws,socket:()=>cr,toggleSafeMode:()=>fn,versionHash:()=>un});function fn(){return Ys.apply(this,arguments)}function Ys(){return Ys=y(function*(){L.safeMode={...L.safeMode,enabled:!L.safeMode?.enabled},ir()&&(yt()?.id&&(L.safeMode.currentThemeId=yt().id),L.safeMode?.enabled?yield Wr(null):L.safeMode?.currentThemeId&&(yield Wr(Z[L.safeMode?.currentThemeId]))),setTimeout(Do.reload,400)}),Ys.apply(this,arguments)}function cn(e){if(cr!==void 0&&cr.readyState!==WebSocket.CLOSED&&cr.close(),!e){k("Invalid debugger URL!",_("Small"));return}cr=new WebSocket(`ws://${e}`),cr.addEventListener("open",()=>k("Connected to debugger.",_("Check"))),cr.addEventListener("message",r=>{try{(0,eval)(r.data)}catch(t){console.error(t)}}),cr.addEventListener("error",r=>{console.log(`Debugger error: ${r.message}`),k("An error occurred with the debugger connection!",_("Small"))})}function Ws(){var e=X("nativeLoggingHook",globalThis,r=>{cr?.readyState===WebSocket.OPEN&&cr.send(JSON.stringify({message:r[0],level:r[1]})),Pe.log(r[0])});return()=>{cr&&cr.close(),e()}}function Jr(){var e=window.HermesInternal.getRuntimeProperties(),r=e["OSS Release Version"],t="for RN ",o=La.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:un.split("-")[0],loader:ua()},bunny:{version:un,loader:{name:ua(),version:us()}},discord:{version:Ot.Version,build:Ot.Build},react:{version:React.version,nativeVersion:r.startsWith(t)?r.substring(t.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:r,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...La.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...La.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:Ar.device}},ios:{device:{manufacturer:Ar.deviceManufacturer,brand:Ar.deviceBrand,model:Ar.deviceModel,codename:Ar.device}}})}}var La,cr,un,Qr=g(()=>{"use strict";i();s();re();ae();_r();gr();Ke();Re();Xe();$r();Br();La=U(ie());un="f542e8c-dev"});function Ks(){var e=Jr();B(L);var r=[{label:f.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:f.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:f.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:f.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:f.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:f.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:f.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:Na.Platform.select({android:f.CODENAME,ios:f.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return l(Na.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:T(we,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[l(Oe,{title:f.VERSIONS,children:r.map(o=>l(Ia,{label:o.label,version:o.version,icon:o.icon}))}),l(Oe,{title:f.PLATFORM,children:t.map(o=>l(Ia,{label:o.label,version:o.version,icon:o.icon}))})]})})}var Na,$f=g(()=>{"use strict";i();s();W();te();zf();Qr();Re();se();oe();Na=U(ie())});var Wf={};D(Wf,{default:()=>Yf});function Yf(){B(L);var e=Jr(),r=fe.useNavigation();return l(Oa.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:T(we,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[T(Oe,{title:f.INFO,children:[l(b,{label:f.BUNNY,icon:l(b.Icon,{source:{uri:ha}}),trailing:l(b.TrailingText,{text:e.bunny.version})}),l(b,{label:"Discord",icon:l(b.Icon,{source:_("Discord")}),trailing:l(b.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),l(b,{arrow:!0,label:f.ABOUT,icon:l(b.Icon,{source:_("CircleInformationIcon-primary")}),trailing:b.Arrow,onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:f.ABOUT,render:()=>l(Ks,{})})})]}),T(Oe,{title:f.LINKS,children:[l(b,{label:f.DISCORD_SERVER,icon:l(b.Icon,{source:_("Discord")}),trailing:b.Arrow,onPress:()=>St.openDeeplink(ki)}),l(b,{label:f.GITHUB,icon:l(b.Icon,{source:_("img_account_sync_github_white")}),trailing:b.Arrow,onPress:()=>St.openURL(Hi)})]}),T(Oe,{title:f.ACTIONS,children:[l(b,{label:f.RELOAD_DISCORD,icon:l(b.Icon,{source:_("ic_message_retry")}),onPress:()=>Oa.NativeModules.BundleUpdaterManager.reload()}),l(b,{label:L.safeMode?.enabled?f.RELOAD_IN_NORMAL_MODE:f.RELOAD_IN_SAFE_MODE,subLabel:L.safeMode?.enabled?f.RELOAD_IN_NORMAL_MODE_DESC:f.RELOAD_IN_SAFE_MODE_DESC,icon:l(b.Icon,{source:_("ic_privacy_24px")}),onPress:fn}),l(Kt,{label:f.DEVELOPER_SETTINGS,icon:l(b.Icon,{source:_("ic_progress_wrench_24px")}),value:L.developerSettings,onValueChange:t=>{L.developerSettings=t}})]}),l(Oe,{title:f.MISCELLANEOUS,children:l(Kt,{label:f.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:f.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:l(b.Icon,{source:_("ic_progress_wrench_24px")}),value:L.enableDiscordDeveloperSettings,onValueChange:t=>{L.enableDiscordDeveloperSettings=t}})})]})})}var Oa,Kf=g(()=>{"use strict";i();s();W();te();qs();$f();ae();Qr();Re();se();ht();z();oe();Oa=U(ie())});function Xs({title:e,confirmText:r,confirmColor:t,onConfirm:o,cancelText:n,placeholder:a,initialValue:u="",secureTextEntry:c}){var[h,w]=React.useState(u),[S,q]=React.useState("");function ge(){var Se=Promise.resolve(o(h));Se.then(()=>{qf.close()}).catch(jr=>{q(jr.message)})}return l(va,{title:e,confirmText:r,confirmColor:t,isConfirmButtonDisabled:S.length!==0,onConfirm:ge,cancelText:n,onCancel:()=>qf.close(),children:l(Lf,{placeholder:a,value:h,onChange:Se=>{w(typeof Se=="string"?Se:Se.text),S&&q("")},returnKeyType:"done",onSubmitEditing:ge,error:S||void 0,secureTextEntry:c,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var qf,Xf=g(()=>{"use strict";i();s();W();oe();Q();qf=C("openLazy","close")});var Ma={};D(Ma,{showConfirmationAlert:()=>mr,showCustomAlert:()=>Da,showInputAlert:()=>mn});function mr(e){var r=e;return r.body=e.content,delete r.content,r.isDismissable??=!0,Jf.show(r)}var Jf,Da,mn,Tt=g(()=>{"use strict";i();s();re();Q();Xf();Jf=C("openLazy","close");Da=(e,r)=>Jf.openLazy({importer:y(function*(){return()=>React.createElement(e,r)})}),mn=e=>Da(Xs,e)});var Zf=br((Qf,Ba)=>{i();s();Gn();Kn();ui();mu();mi();((e,r)=>{typeof define=="function"&&define.amd?define([],r):typeof Ba=="object"&&Ba.exports?Ba.exports=r():e.fuzzysort=r()})(Qf,e=>{"use strict";var r=(v,p)=>{if(!v||!p)return he;var x=Se(v);Ct(p)||(p=ge(p));var R=x.bitflags;return(R&p._bitflags)!==R?he:at(x,p)},t=(v,p,x)=>{if(!v)return x?.all?jr(p,x):ai;var R=Se(v),I=R.bitflags,A=R.containsSpace,E=S(x?.threshold||0),O=x?.limit||ni,P=0,H=0,F=p.length;function Fe(Pt){P<O?(Un.add(Pt),++P):(++H,Pt._score>Un.peek()._score&&Un.replaceTop(Pt))}if(x?.key)for(var Ie=x.key,G=0;G<F;++G){var De=p[G],$=Fn(De,Ie);if($&&(Ct($)||($=ge($)),(I&$._bitflags)===I)){var Y=at(R,$);Y!==he&&(Y._score<E||(Y.obj=De,Fe(Y)))}}else if(x?.keys){var Gr=x.keys,pr=Gr.length;e:for(var G=0;G<F;++G){var De=p[G];{for(var Ee=0,ne=0;ne<pr;++ne){var Ie=Gr[ne],$=Fn(De,Ie);if(!$){oi[ne]=No;continue}Ct($)||($=ge($)),oi[ne]=$,Ee|=$._bitflags}if((I&Ee)!==I)continue}if(A)for(var ze=0;ze<R.spaceSearches.length;ze++)Hr[ze]=Ve;for(var ne=0;ne<pr;++ne){if($=oi[ne],$===No){io[ne]=No;continue}if(io[ne]=at(R,$,!1,A),io[ne]===he){io[ne]=No;continue}if(A)for(var N=0;N<R.spaceSearches.length;N++){if(wt[N]>-1e3&&Hr[N]>Ve){var $e=(Hr[N]+wt[N])/4;$e>Hr[N]&&(Hr[N]=$e)}wt[N]>Hr[N]&&(Hr[N]=wt[N])}}if(A){for(var rr=0;rr<R.spaceSearches.length;rr++)if(Hr[rr]===Ve)continue e}else{for(var It=!1,Lt=0;Lt<pr;Lt++)if(io[Lt]._score!==Ve){It=!0;break}if(!It)continue}for(var tr=new c(pr),Ye=0;Ye<pr;Ye++)tr[Ye]=io[Ye];if(A)for(var K=0,so=0;so<R.spaceSearches.length;so++)K+=Hr[so];else for(var K=Ve,We=0;We<pr;We++){var Y=tr[We];if(Y._score>-1e3&&K>Ve){var $e=(K+Y._score)/4;$e>K&&(K=$e)}Y._score>K&&(K=Y._score)}if(tr.obj=De,tr._score=K,x?.scoreFn){if(K=x.scoreFn(tr),!K)continue;K=S(K),tr._score=K}K<E||Fe(tr)}}else for(var G=0;G<F;++G){var $=p[G];if($&&(Ct($)||($=ge($)),(I&$._bitflags)===I)){var Y=at(R,$);Y!==he&&(Y._score<E||Fe(Y))}}if(P===0)return ai;for(var Oo=new Array(P),G=P-1;G>=0;--G)Oo[G]=Un.poll();return Oo.total=P+H,Oo},o=(v,p="<b>",x="</b>")=>{for(var R=typeof p=="function"?p:void 0,I=v.target,A=I.length,E=v.indexes,O="",P=0,H=0,F=!1,Fe=[],Ie=0;Ie<A;++Ie){var G=I[Ie];if(E[H]===Ie){if(++H,F||(F=!0,R?(Fe.push(O),O=""):O+=p),H===E.length){R?(O+=G,Fe.push(R(O,P++)),O="",Fe.push(I.substr(Ie+1))):O+=G+x+I.substr(Ie+1);break}}else F&&(F=!1,R?(Fe.push(R(O,P++)),O=""):O+=x);O+=G}return R?Fe:O},n=v=>{typeof v=="number"?v=""+v:typeof v!="string"&&(v="");var p=ei(v);return h(v,{_targetLower:p._lower,_targetLowerCodes:p.lowerCodes,_bitflags:p.bitflags})},a=()=>{ri.clear(),ti.clear()},u=function(){function v(){Dt(this,v)}return kt(v,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((x,R)=>x-R)}},{key:"indexes",set:function(x){return this._indexes=x}},{key:"highlight",value:function(x,R){return o(this,x,R)}},{key:"score",get:function(){return w(this._score)}},{key:"score",set:function(x){this._score=S(x)}}]),v}(),c=function(v){zn(x,v);var p=Wn(x);function x(){return Dt(this,x),p.apply(this,arguments)}return kt(x,[{key:"score",get:function(){return w(this._score)}},{key:"score",set:function(I){this._score=S(I)}}]),x}(Yn(Array)),h=(v,p)=>{var x=new u;return x.target=v,x.obj=p.obj??he,x._score=p._score??Ve,x._indexes=p._indexes??[],x._targetLower=p._targetLower??"",x._targetLowerCodes=p._targetLowerCodes??he,x._nextBeginningIndexes=p._nextBeginningIndexes??he,x._bitflags=p._bitflags??0,x},w=v=>v===Ve?0:v>1?v:Math.E**(((-v+1)**.04307-1)*-2),S=v=>v===0?Ve:v>1?v:1-Math.pow(Math.log(v)/-2+1,1/.04307),q=v=>{typeof v=="number"?v=""+v:typeof v!="string"&&(v=""),v=v.trim();var p=ei(v),x=[];if(p.containsSpace){var R=v.split(/\s+/);R=[...new Set(R)];for(var I=0;I<R.length;I++)if(R[I]!==""){var A=ei(R[I]);x.push({lowerCodes:A.lowerCodes,_lower:R[I].toLowerCase(),containsSpace:!1})}}return{lowerCodes:p.lowerCodes,_lower:p._lower,containsSpace:p.containsSpace,bitflags:p.bitflags,spaceSearches:x}},ge=v=>{if(v.length>999)return n(v);var p=ri.get(v);return p!==void 0||(p=n(v),ri.set(v,p)),p},Se=v=>{if(v.length>999)return q(v);var p=ti.get(v);return p!==void 0||(p=q(v),ti.set(v,p)),p},jr=(v,p)=>{var x=[];x.total=v.length;var R=p?.limit||ni;if(p?.key)for(var I=0;I<v.length;I++){var A=v[I],E=Fn(A,p.key);if(E!=he){Ct(E)||(E=ge(E));var O=h(E.target,{_score:E._score,obj:A});if(x.push(O),x.length>=R)return x}}else if(p?.keys)for(var I=0;I<v.length;I++){for(var A=v[I],P=new c(p.keys.length),H=p.keys.length-1;H>=0;--H){var E=Fn(A,p.keys[H]);if(!E){P[H]=No;continue}Ct(E)||(E=ge(E)),E._score=Ve,E._indexes.len=0,P[H]=E}if(P.obj=A,P._score=Ve,x.push(P),x.length>=R)return x}else for(var I=0;I<v.length;I++){var E=v[I];if(E!=he&&(Ct(E)||(E=ge(E)),E._score=Ve,E._indexes.len=0,x.push(E),x.length>=R))return x}return x},at=(v,p,x=!1,R=!1)=>{if(x===!1&&v.containsSpace)return Dm(v,p,R);for(var I=v._lower,A=v.lowerCodes,E=A[0],O=p._targetLowerCodes,P=A.length,H=O.length,G=0,F=0,Fe=0;;){var Ie=E===O[F];if(Ie){if(kr[Fe++]=F,++G,G===P)break;E=A[G]}if(++F,F>=H)return he}var G=0,De=!1,$=0,Y=p._nextBeginningIndexes;Y===he&&(Y=p._nextBeginningIndexes=Bm(p.target)),F=kr[0]===0?0:Y[kr[0]-1];var Gr=0;if(F!==H)for(;;)if(F>=H){if(G<=0||(++Gr,Gr>200))break;--G;var pr=Mn[--$];F=Y[pr]}else{var Ie=A[G]===O[F];if(Ie){if(Mn[$++]=F,++G,G===P){De=!0;break}++F}else F=Y[F]}var Ee=P<=1?-1:p._targetLower.indexOf(I,kr[0]),ne=!!~Ee,ze=ne?Ee===0||p._nextBeginningIndexes[Ee-1]===Ee:!1;if(ne&&!ze){for(var N=0;N<Y.length;N=Y[N])if(!(N<=Ee)){for(var $e=0;$e<P&&A[$e]===p._targetLowerCodes[N+$e];$e++);if($e===P){Ee=N,ze=!0;break}}}var rr=Ye=>{for(var K=0,so=0,We=1;We<P;++We)Ye[We]-Ye[We-1]!==1&&(K-=Ye[We],++so);var Oo=Ye[P-1]-Ye[0]-(P-1);if(K-=(12+Oo)*so,Ye[0]!==0&&(K-=Ye[0]*Ye[0]*.2),!De)K*=1e3;else{for(var Pt=1,We=Y[0];We<H;We=Y[We])++Pt;Pt>24&&(K*=(Pt-24)*10)}return K-=(H-P)/2,ne&&(K/=1+P*P*1),ze&&(K/=1+P*P*1),K-=(H-P)/2,K};if(De)if(ze){for(var N=0;N<P;++N)kr[N]=Ee+N;var It=kr,Lt=rr(kr)}else var It=Mn,Lt=rr(Mn);else{if(ne)for(var N=0;N<P;++N)kr[N]=Ee+N;var It=kr,Lt=rr(It)}p._score=Lt;for(var N=0;N<P;++N)p._indexes[N]=It[N];p._indexes.len=P;var tr=new u;return tr.target=p.target,tr._score=p._score,tr._indexes=p._indexes,tr},Dm=(v,p,x)=>{for(var R=new Set,I=0,A=he,E=0,O=v.spaceSearches,P=O.length,H=0,F=()=>{for(var rr=H-1;rr>=0;rr--)p._nextBeginningIndexes[Bn[rr*2+0]]=Bn[rr*2+1]},Fe=!1,N=0;N<P;++N){wt[N]=Ve;var Ie=O[N];if(A=at(Ie,p),x){if(A===he)continue;Fe=!0}else if(A===he)return F(),he;var G=N===P-1;if(!G){for(var De=A._indexes,$=!0,Y=0;Y<De.len-1;Y++)if(De[Y+1]-De[Y]!==1){$=!1;break}if($)for(var Gr=De[De.len-1]+1,pr=p._nextBeginningIndexes[Gr-1],Ee=Gr-1;Ee>=0&&pr===p._nextBeginningIndexes[Ee];Ee--)p._nextBeginningIndexes[Ee]=Gr,Bn[H*2+0]=Ee,Bn[H*2+1]=pr,H++}I+=A._score/P,wt[N]=A._score/P,A._indexes[0]<E&&(I-=(E-A._indexes[0])*2),E=A._indexes[0];for(var ne=0;ne<A._indexes.len;++ne)R.add(A._indexes[ne])}if(x&&!Fe)return he;F();var ze=at(v,p,!0);if(ze!==he&&ze._score>I){if(x)for(var N=0;N<P;++N)wt[N]=ze._score/P;return ze}x&&(A=p),A._score=I;var N=0;for(var $e of R)A._indexes[N++]=$e;return A._indexes.len=N,A},ei=v=>{for(var p=v.length,x=v.toLowerCase(),R=[],I=0,A=!1,E=0;E<p;++E){var O=R[E]=x.charCodeAt(E);if(O===32){A=!0;continue}var P=O>=97&&O<=122?O-97:O>=48&&O<=57?26:O<=127?30:31;I|=1<<P}return{lowerCodes:R,bitflags:I,containsSpace:A,_lower:x}},Mm=v=>{for(var p=v.length,x=[],R=0,I=!1,A=!1,E=0;E<p;++E){var O=v.charCodeAt(E),P=O>=65&&O<=90,H=P||O>=97&&O<=122||O>=48&&O<=57,F=P&&!I||!A||!H;I=P,A=H,F&&(x[R++]=E)}return x},Bm=v=>{for(var p=v.length,x=Mm(v),R=[],I=x[0],A=0,E=0;E<p;++E)I>E?R[E]=I:(I=x[++A],R[E]=I===void 0?p:I);return R},ri=new Map,ti=new Map,kr=[],Mn=[],Bn=[],Hr=[],wt=[],oi=[],io=[],Fn=(v,p)=>{var x=v[p];if(x!==void 0)return x;if(typeof p=="function")return p(v);var R=p;Array.isArray(p)||(R=p.split("."));for(var I=R.length,A=-1;v&&++A<I;)v=v[R[A]];return v},Ct=v=>typeof v=="object"&&typeof v._bitflags=="number",ni=1/0,Ve=-ni,ai=[];ai.total=0;var he=null,No=n(""),Fm=v=>{var p=[],x=0,R={},I=A=>{for(var E=0,O=p[E],P=1;P<x;){var H=P+1;E=P,H<x&&p[H]._score<p[P]._score&&(E=H),p[E-1>>1]=p[E],P=1+(E<<1)}for(var F=E-1>>1;E>0&&O._score<p[F]._score;F=(E=F)-1>>1)p[E]=p[F];p[E]=O};return R.add=A=>{var E=x;p[x++]=A;for(var O=E-1>>1;E>0&&A._score<p[O]._score;O=(E=O)-1>>1)p[E]=p[O];p[E]=A},R.poll=A=>{if(x!==0){var E=p[0];return p[0]=p[--x],I(),E}},R.peek=A=>{if(x!==0)return p[0]},R.replaceTop=A=>{p[0]=A,I()},R},Un=Fm();return{single:r,go:t,prepare:n,cleanup:a}})});var Xt=br((HE,ec)=>{i();s();ec.exports=pt().react});function Jt({card:e,...r}){B(L);var[t,o]=React.useState(""),n=(0,tc.useMemo)(()=>{var u=r.items;r.resolveItem&&(u=u.map(r.resolveItem));var c=u.filter(h=>h&&typeof h=="object");return rc.default.go(t,c,{keys:r.searchKeywords,all:!0})},[r.items,t]),a=T(Fa.View,{style:{paddingBottom:8},children:[r.ListHeaderComponent&&l(r.ListHeaderComponent,{}),L.safeMode?.enabled&&T(Fa.View,{style:{marginBottom:10},children:[l(_a,{messageType:0,children:r.safeModeMessage}),r.safeModeExtras]}),l(bt,{onChangeText:u=>o(u)})]});return T(le,{children:[l(Pf,{data:n,extraData:t,estimatedItemSize:136,ListHeaderComponent:a,contentContainerStyle:{padding:8,paddingHorizontal:12},ItemSeparatorComponent:()=>l(Fa.View,{style:{height:8}}),ListFooterComponent:r.ListFooterComponent,renderItem:({item:u})=>l(e,{item:u.obj,result:u})}),(r.fetchFunction??r.onFabPress)&&l(Af,{icon:_("PlusLargeIcon"),onPress:r.onFabPress??(()=>{Je.getString().then(u=>mn({initialValue:u.match(Wo)?.[0]??"",placeholder:f.URL_PLACEHOLDER,onConfirm:c=>r.fetchFunction(c),confirmText:f.INSTALL,cancelText:f.CANCEL}))})})]})}var rc,tc,Fa,Ua=g(()=>{"use strict";i();s();W();te();ae();Re();se();ht();z();oe();Tt();Er();rc=U(Zf()),tc=U(Xt()),Fa=U(ie())});var oc,nc=g(()=>{"use strict";i();s();z();Dr();oc=Xr({smallIcon:{tintColor:Yt.colors.LOGO_PRIMARY,height:18,width:18}})});function ic(e,r,t){ac.openLazy(r,e,t??{})}function dn(e){ac.hideActionSheet(e)}var ac,Js=g(()=>{"use strict";i();s();Q();ac=C("openLazy","hideActionSheet")});function Qs(){return(0,sc.default)(Yt.unsafe_rawColors.YELLOW_300).alpha(.3).hex()}function rp(){var e=oc(),{plugin:r,result:t}=ja(),o=t[0].highlight((u,c)=>l(me,{style:{backgroundColor:Qs()},children:u},c)),n=r.icon&&_(r.icon),a=l(me,{numberOfLines:1,variant:"heading-lg/semibold",children:o.length?o:r.name});return T(Rt.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[n&&l(Rt.Image,{style:e.smallIcon,source:n}),a]})}function tp(){var{plugin:e,result:r}=ja();if(!e.authors)return null;var t=r[2].highlight((a,u)=>l(me,{style:{backgroundColor:Qs()},children:a},u));if(t.length>0)return T(me,{variant:"text-md/semibold",color:"text-muted",children:["by ",t]});var o=["by "];for(var n of e.authors)o.push(typeof n=="string"?n:n.name),o.push(", ");return o.pop(),l(me,{variant:"text-md/semibold",color:"text-muted",children:o})}function op(){var{plugin:e,result:r}=ja(),t=r[1].highlight((o,n)=>l(me,{style:{backgroundColor:Qs()},children:o},n));return l(me,{variant:"text-md/medium",children:t.length?t:e.description})}function Zs({result:e,item:r}){r.usePluginState();var t=(0,At.useMemo)(()=>({plugin:r,result:e}),[r,e]);return l(lc.Provider,{value:t,children:l(So,{children:T(we,{spacing:16,children:[T(Rt.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[T(Rt.View,{style:{flexShrink:1},children:[l(rp,{}),l(tp,{})]}),l(Rt.View,{children:T(we,{spacing:12,direction:"horizontal",children:[l(np,{}),l(bf,{value:r.isEnabled(),onValueChange:o=>{r.toggle(o)}})]})})]}),l(op,{})]})})})}var sc,At,Rt,lc,ja,np,uc=g(()=>{"use strict";i();s();W();nc();ae();z();oe();Js();sc=U(ia()),At=U(Xt()),Rt=U(ie()),lc=(0,At.createContext)(null),ja=()=>(0,At.useContext)(lc);np=(0,At.memo)(()=>{var{plugin:e}=ja(),r=fe.useNavigation();return T(Rt.View,{style:{flexDirection:"row",gap:6},children:[l(Ze,{size:"sm",variant:"secondary",icon:_("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),l(Ze,{size:"sm",variant:"secondary",icon:_("CircleInformationIcon-primary"),onPress:()=>void ic("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:r})})]})})});var Ge,Qt,M,Zr=g(()=>{"use strict";i();s();re();Re();se();vr();ht();$r();Ge=ar(je(qe("VENDETTA_PLUGINS"))),Qt={},M={plugins:Ge,pluginFetch(e){return y(function*(){return e.startsWith(gt)&&(e=e.replace(gt,Gi)),yield ke(e,{cache:"no-store"})})()},fetchPlugin(e){return y(function*(){e.endsWith("/")||(e+="/");var r=Ge[e],t;try{t=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(r?.manifest.hash!==t.hash)try{o=yield(yield this.pluginFetch(e+(t.main||"index.js"))).text()}catch{}if(!o&&!r)throw new Error(`Failed to fetch JS for ${e}`);Ge[e]={id:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:o??r.js}}).apply(this)},installPlugin(e,r=!0){return y(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in Ge)throw new Error("Plugin already installed");yield this.fetchPlugin(e),r&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return y(function*(){var r={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield je(qe(e.id))},logger:new Xo(`Bunny \xBB ${e.manifest.name}`)},t=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(t)(r),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return y(function*(){e.endsWith("/")||(e+="/");var r=Ge[e];if(!r)throw new Error("Attempted to start non-existent plugin");try{if(!L.safeMode?.enabled){var t=yield this.evalPlugin(r);Qt[e]=t,t.onLoad?.()}r.enabled=!0}catch(o){Pe.error(`Plugin ${r.id} errored whilst loading, and will be unloaded`,o);try{Qt[r.id]?.onUnload?.()}catch(n){Pe.error(`Plugin ${r.id} errored whilst unloading`,n)}delete Qt[e],r.enabled=!1}}).apply(this)},stopPlugin(e,r=!0){e.endsWith("/")||(e+="/");var t=Ge[e],o=Qt[e];if(!t)throw new Error("Attempted to stop non-existent plugin");if(!L.safeMode?.enabled){try{o?.onUnload?.()}catch(n){Pe.error(`Plugin ${t.id} errored whilst unloading`,n)}delete Qt[e]}r&&(t.enabled=!1)},removePlugin(e){return y(function*(){e.endsWith("/")||(e+="/");var r=Ge[e];r.enabled&&this.stopPlugin(e),delete Ge[e],yield co(e)}).apply(this)},initPlugins(){return y(function*(){yield zr(L,Ge);var e=Object.keys(Ge);if(!L.safeMode?.enabled){var r=this;yield m(e.filter(t=>Ge[t].enabled).map(function(){var t=y(function*(o){return Ge[o].update&&(yield r.fetchPlugin(o).catch(n=>Pe.error(n.message))),yield r.startPlugin(o)});return function(o){return t.apply(this,arguments)}}())),e.filter(t=>!Ge[t].enabled&&Ge[t].update).forEach(t=>this.fetchPlugin(t))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(Qt).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>Qt[e]?.settings}});var dr,pn=g(()=>{"use strict";i();s();(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(dr||(dr={}))});var cc={};D(cc,{default:()=>fc});function fc({plugin:e,navigation:r}){e.usePluginState();var t=M.plugins[e.id],o=e.getPluginSettingsComponent();return l(Sa,{children:T(gn.ScrollView,{children:[T(gn.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[l(me,{variant:"heading-xl/semibold",children:e.name}),l(gn.View,{style:{marginLeft:"auto"},children:o&&l(Ae,{size:"md",text:"Configure",variant:"secondary",icon:_("WrenchIcon"),onPress:()=>{dn("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),T(Wt.Group,{children:[l(Wt,{label:f.REFETCH,icon:l(b.Icon,{source:_("RetryIcon")}),onPress:y(function*(){t.enabled&&M.stopPlugin(e.id,!1);try{yield M.fetchPlugin(e.id),k(f.PLUGIN_REFETCH_SUCCESSFUL,_("toast_image_saved"))}catch{k(f.PLUGIN_REFETCH_FAILED,_("Small"))}t.enabled&&(yield M.startPlugin(e.id)),dn("PluginInfoActionSheet")})}),l(Wt,{label:f.COPY_URL,icon:l(b.Icon,{source:_("copy")}),onPress:()=>{Je.setString(e.id),k.showCopyToClipboard()}}),l(Wt,{label:t.update?f.DISABLE_UPDATES:f.ENABLE_UPDATES,icon:l(b.Icon,{source:_("ic_download_24px")}),onPress:()=>{t.update=!t.update,k(Qe("TOASTS_PLUGIN_UPDATE",{update:t.update,name:e.name}),_("toast_image_saved"))}}),l(Wt,{label:f.CLEAR_DATA,icon:l(b.Icon,{source:_("ic_duplicate")}),onPress:()=>mr({title:f.HOLD_UP,content:Qe("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:f.CLEAR,cancelText:f.CANCEL,confirmColor:dr.RED,onConfirm:y(function*(){t.enabled&&M.stopPlugin(e.id,!1);try{yield M.fetchPlugin(e.id),k(f.PLUGIN_REFETCH_SUCCESSFUL,_("toast_image_saved"))}catch{k(f.PLUGIN_REFETCH_FAILED,_("Small"))}var n;try{co(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}k(Qe(n[0],{name:e.name}),_(n[1])),t.enabled&&(yield M.startPlugin(e.id)),dn("PluginInfoActionSheet")})})}),l(Wt,{label:f.DELETE,icon:l(b.Icon,{source:_("ic_message_delete")}),onPress:()=>mr({title:f.HOLD_UP,content:Qe("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:f.DELETE,cancelText:f.CANCEL,confirmColor:dr.RED,onConfirm:()=>{try{M.removePlugin(e.id)}catch(n){k(String(n),_("Small"))}dn("PluginInfoActionSheet")}})})]})]})})}var gn,mc=g(()=>{"use strict";i();s();re();W();te();Zr();ae();se();pn();z();oe();Tt();Js();Br();gn=U(ie())});function el(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,isEnabled:()=>e.enabled,isInstalled:()=>!!(e&&M.plugins[e.id]),usePluginState(){B(M.plugins[e.id])},toggle(r){r?M.startPlugin(e.id):M.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(mc(),cc))},getPluginSettingsComponent(){return M.getSettings(e.id)}}}var dc=g(()=>{"use strict";i();s();Zr();se()});var gc={};D(gc,{default:()=>pc});function ap(e){var r=e.useItems();return l(Jt,{card:Zs,title:f.PLUGINS,searchKeywords:["name","description",t=>t.authors?.map(o=>typeof o=="string"?o:o.name).join()],safeModeMessage:f.SAFE_MODE_NOTICE_PLUGINS,items:r,...e})}function pc(){return B(L),l(ap,{useItems:()=>B(M.plugins)&&Object.values(M.plugins),resolveItem:el,fetchFunction:e=>M.installPlugin(e)})}var hc=g(()=>{"use strict";i();s();W();te();Ua();uc();Zr();Re();se();dc()});function rl(e){var r=lp();return l(So,{children:T(we,{spacing:16,children:[T(Zt.View,{style:{flexDirection:"row",alignItems:"center"},children:[T(Zt.View,{style:r.headerLeading,children:[l(me,{style:r.headerLabel,children:e.headerLabel}),e.headerSublabel&&l(me,{style:r.headerSubtitle,children:e.headerSublabel})]}),T(Zt.View,{style:[r.headerTrailing,{marginLeft:"auto"}],children:[T(Zt.View,{style:r.actions,children:[e.overflowActions&&l(Ze,{onPress:()=>sp({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&l(qr.Icon,{style:{marginRight:8},source:_(e.headerIcon)}),onClose:()=>ip()},options:e.overflowActions?.map(t=>({...t,icon:_(t.icon)}))}),size:"sm",variant:"secondary",icon:_("CircleInformationIcon-primary")}),e.actions?.map(({icon:t,onPress:o,disabled:n})=>l(Ze,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:_(t)}))]}),e.toggleType&&(e.toggleType==="switch"?l(Tf,{value:e.toggleValue(),onValueChange:e.onToggleChange}):l(Zt.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:l(Rf,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&l(me,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var Zt,ip,sp,lp,vc=g(()=>{"use strict";i();s();W();ae();Me();oe();Q();Et();Dr();Zt=U(ie()),{hideActionSheet:ip}=J(()=>j("openLazy","hideActionSheet")),{showSimpleActionSheet:sp}=J(()=>j("showSimpleActionSheet")),lp=Xr({card:{backgroundColor:de?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...fr["heading-md/semibold"],color:de.TEXT_NORMAL},headerSubtitle:{...fr["text-md/semibold"],color:de.TEXT_MUTED},descriptionLabel:{...fr["text-md/semibold"],color:de.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:de.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function yc(e,r){try{Wr(e?r:null),Jo(e?r:null)}catch(t){console.error("Error while selectAndApply,",t)}}function tl({item:e}){B(e);var[r,t]=React.useState(!1);if(r)return null;var{authors:o}=e.data;return l(rl,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:L.safeMode?.enabled?void 0:"radio",toggleValue:()=>Z[e.id].selected,onToggleChange:n=>{yc(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:f.REFETCH,onPress:()=>{Gt(e.id,e.selected).then(()=>{k(f.THEME_REFETCH_SUCCESSFUL,_("toast_image_saved"))}).catch(()=>{k(f.THEME_REFETCH_FAILED,_("Small"))})}},{icon:"copy",label:f.COPY_URL,onPress:()=>{Je.setString(e.id),k.showCopyToClipboard()}},{icon:"ic_message_delete",label:f.DELETE,isDestructive:!0,onPress:()=>mr({title:f.HOLD_UP,content:Qe("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:f.DELETE,cancelText:f.CANCEL,confirmColor:dr.RED,onConfirm:()=>{Vt(e.id).then(n=>{t(!0),n&&yc(!1,e)}).catch(n=>{k(n.message,_("Small"))})}})}]})}var _c=g(()=>{"use strict";i();s();W();te();vc();ae();Re();se();Xe();pn();z();Tt();Br()});var Sc={};D(Sc,{default:()=>xc});function xc(){return B(L),B(Z),l(Jt,{title:f.THEMES,searchKeywords:["data.name","data.description",e=>e.data.authors?.map(r=>r.name).join(", ")],fetchFunction:Yr,items:Object.values(Z),safeModeMessage:Qe("SAFE_MODE_NOTICE_THEMES",{enabled:!!L.safeMode?.currentThemeId}),safeModeExtras:L.safeMode?.currentThemeId?l(Ae,{text:f.DISABLE_THEME,size:"small",onPress:()=>delete L.safeMode?.currentThemeId,style:{marginTop:8}}):void 0,card:tl})}var Ec=g(()=>{"use strict";i();s();W();te();Ua();_c();Re();se();Xe();oe()});var vn={};D(vn,{clearFolder:()=>ul,downloadFile:()=>fl,fileExists:()=>ro,readFile:()=>hn,removeFile:()=>eo,writeFile:()=>et});function ul(e){return ol.apply(this,arguments)}function ol(){return ol=y(function*(e,r="pyoncord/"){if(typeof V.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield V.clearFolder("documents",`${r}${e}`))}),ol.apply(this,arguments)}function eo(e){return nl.apply(this,arguments)}function nl(){return nl=y(function*(e,r="pyoncord/"){if(typeof V.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield V.removeFile("documents",`${r}${e}`))}),nl.apply(this,arguments)}function ro(e){return al.apply(this,arguments)}function al(){return al=y(function*(e,r="pyoncord/"){return yield V.fileExists(`${V.getConstants().DocumentsDirPath}/${r}${e}`)}),al.apply(this,arguments)}function et(e,r){return il.apply(this,arguments)}function il(){return il=y(function*(e,r,t="pyoncord/"){if(typeof r!="string")throw new Error("Argument 'data' must be a string");return void(yield V.writeFile("documents",`${t}${e}`,r,"utf8"))}),il.apply(this,arguments)}function hn(e){return sl.apply(this,arguments)}function sl(){return sl=y(function*(e,r="pyoncord/"){try{return yield V.readFile(`${V.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch(t){throw new Error(`An error occured while writing to '${e}'`,{cause:t})}}),sl.apply(this,arguments)}function fl(e,r){return ll.apply(this,arguments)}function ll(){return ll=y(function*(e,r,t="pyoncord/"){var o=yield fetch(e).then(c=>c.blob()),n=yield new Promise(c=>{var h=new FileReader;h.onload=()=>c(h.result),h.readAsDataURL(o)}),a;if(n==null)throw new Error("Failed to convert blob to data URL");var u=n.indexOf("base64,");if(u===-1)throw new Error("dataURL does not contain base64");return a=n.slice(u+7),void(yield V.writeFile("documents",`${t}${r}`,a,"base64"))}),ll.apply(this,arguments)}var to=g(()=>{"use strict";i();s();re();gr()});var xn={};D(xn,{fonts:()=>ee,installFont:()=>vl,removeFont:()=>ka,saveFont:()=>Ao,selectFont:()=>_n,updateFonts:()=>yl,validateFont:()=>yn});function bc(e){return cl.apply(this,arguments)}function cl(){return cl=y(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield et("fonts.json",JSON.stringify(e)):yield eo("fonts.json")}),cl.apply(this,arguments)}function yn(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var r=["name","main"];if(r.some(t=>!e[t]))throw new Error(`Font is missing one of the fields: ${r}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in ee)throw new Error(`There is already a font named '${e.name}' installed`)}function Ao(e){return ml.apply(this,arguments)}function ml(){return ml=y(function*(e,r=!1){var t;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{t=yield(yield ke(e)).json(),t.__source=e}catch(o){throw new Error(`Failed to fetch fonts at ${e}`,{cause:o})}else t=e;yn(t);try{yield Promise.all(Object.entries(t.main).map(function(){var o=y(function*([n,a]){var u=a.split(".").pop();u!=="ttf"&&u!=="otf"&&(u="ttf");var c=`downloads/fonts/${t.name}/${n}.${u}`;(yield ro(c))||(yield fl(a,c))});return function(n){return o.apply(this,arguments)}}()))}catch(o){throw new Error("Failed to download font assets",{cause:o})}return ee[t.name]=t,r&&bc(ee[t.name]),t}),ml.apply(this,arguments)}function vl(e){return dl.apply(this,arguments)}function dl(){return dl=y(function*(e,r=!1){if(typeof e!="string"||Object.values(ee).some(o=>typeof o=="object"&&o.__source===e))throw new Error("Invalid source or font was already installed");var t=yield Ao(e);r&&(yield _n(t.name))}),dl.apply(this,arguments)}function _n(e){return pl.apply(this,arguments)}function pl(){return pl=y(function*(e){if(e&&!(e in ee))throw new Error("Selected font does not exist!");e?ee.__selected=e:delete ee.__selected,yield bc(e==null?null:ee[e])}),pl.apply(this,arguments)}function ka(e){return gl.apply(this,arguments)}function gl(){return gl=y(function*(e){var r=ee.__selected===e;r&&(yield _n(null)),delete ee[e];try{yield ul(`downloads/fonts/${e}`)}catch{}}),gl.apply(this,arguments)}function yl(){return hl.apply(this,arguments)}function hl(){return hl=y(function*(){yield zr(ee),yield m(Object.keys(ee).map(e=>Ao(ee[e],ee.__selected===e)))}),hl.apply(this,arguments)}var ee,oo=g(()=>{"use strict";i();s();re();to();se();vr();ee=ar(je(qe("BUNNY_FONTS")))});function up(e){var r=e.map(o=>{var{pathname:n}=new URL(o),a=n.replace(/\.[^/.]+$/,"");return a.split("/").pop()}).filter(Boolean),t=r.reduce((o,n)=>n.length<o.length?n:o,r[0]||"");return t?.replace(/-[A-Za-z]*$/,"")||null}function fp({fonts:e,setName:r}){var t=la().data,o=t.fonts,[n,a]=(0,xe.useState)(up(Object.values(o))),[u,c]=(0,xe.useState)(void 0);return T(rt.View,{style:{padding:8,paddingBottom:16,gap:12},children:[l(ur,{autoFocus:!0,size:"md",label:f.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:a,errorMessage:u,state:u?"error":void 0}),l(me,{variant:"text-xs/normal",color:"text-muted",children:Qe("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(f.SEPARATOR)})}),l(Ae,{size:"md",variant:"primary",text:f.EXTRACT,disabled:!n,onPress:()=>{if(n)try{yn({spec:1,name:n,main:o}),r(n),Object.assign(e,o),xl.hideActionSheet()}catch(h){c(String(h))}}})]})}function cp({fonts:e,setName:r,setSource:t}){var[o,n]=(0,xe.useState)(""),[a,u]=(0,xe.useState)(!1),[c,h]=(0,xe.useState)(void 0);return T(rt.View,{style:{padding:8,paddingBottom:16,gap:12},children:[l(ur,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:c,state:c?"error":void 0}),l(Ae,{size:"md",variant:"primary",text:"Import",disabled:!o||a,loading:a,onPress:()=>{u(!0),y(function*(){var w=yield ke(o,{cache:"no-store"}),S=yield w.json();yn(S),r(S.name),t(o),Object.assign(e,S.main)})().then(()=>xl.hideActionSheet()).catch(w=>h(String(w))).finally(()=>u(!1))}})]})}function mp(e){var[r,t]=(0,xe.useState)(e.name),[o,n]=(0,xe.useState)(e.fontEntries[e.name]);return T(rt.View,{style:{padding:8,paddingBottom:16,gap:12},children:[l(ur,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:r,placeholder:"ggsans-Bold",onChange:t}),l(ur,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),l(Ae,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[r]=o}})]})}function _l(e,r,t){xl.openLazy(Promise.resolve({default:()=>l(le,{children:T(Sa,{children:[l(wf,{title:"Import Font"}),l(e,{fonts:r,...t})]})})}),"FontEditorActionSheet")}function dp({fontEntry:e}){var r=(0,xe.useRef)(),t=(0,xe.useRef)(),[o,n]=(0,xe.useState)(!1),[a,u]=(0,xe.useState)();return T(rt.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[l(rt.View,{style:{flex:1},children:l(ur,{isRound:!0,size:"md",label:o?r.current:void 0,placeholder:o?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>o?null:l(b.Icon,{source:_("PlusSmallIcon")}),leadingText:o?r.current:"",onChange:c=>(o?t:r).current=c,errorMessage:a,state:a?"error":void 0})}),o&&l(Ze,{size:"md",variant:"secondary",onPress:()=>{r.current="",n(!1)},icon:_("TrashIcon")}),l(Ze,{size:"md",variant:"primary",onPress:()=>{if(!o&&r.current)n(!0);else if(o&&r.current&&t.current)try{var c=new URL(t.current);if(!c.protocol||!c.host)throw"Invalid URL";e[r.current]=t.current,r.current=void 0,t.current=void 0,n(!1)}catch(h){u(String(h))}},icon:_(o?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function Sn(e){var[r,t]=(0,xe.useState)(e.name),[o,n]=(0,xe.useState)(),[a,u]=(0,xe.useState)(!1),c=(0,xe.useMemo)(()=>mo(e.name?{...ee[e.name].main}:{}).proxy,[e.name]),h=B(c),w=fe.useNavigation();return l(rt.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:T(we,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?T(Oe,{title:"Actions",children:[l(b,{label:"Refetch fonts from source",icon:l(b.Icon,{source:_("RetryIcon")}),onPress:y(function*(){var S={...ee[e.name]};yield ka(e.name),yield Ao(S),w.goBack()})}),l(b,{label:"Delete font pack",icon:l(b.Icon,{source:_("TrashIcon")}),onPress:()=>ka(e.name).then(()=>w.goBack())})]}):T(Oe,{title:"Import",children:[la()?.data?.fonts&&l(b,{label:f.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:f.DESC_EXTRACT_FONTS_FROM_THEME,icon:l(b.Icon,{source:_("HammerIcon")}),onPress:()=>_l(fp,h,{setName:t})}),l(b,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:l(b.Icon,{source:_("LinkIcon")}),onPress:()=>_l(cp,h,{setName:t,setSource:n})})]}),l(ur,{size:"lg",value:r,label:f.FONT_NAME,placeholder:"Whitney",onChange:t}),T(Oe,{title:"Font Entries",children:[Object.entries(h).map(([S,q])=>l(b,{label:S,subLabel:q,trailing:T(we,{spacing:2,direction:"horizontal",children:[l(Ze,{size:"sm",variant:"secondary",icon:_("PencilIcon"),onPress:()=>_l(mp,h,{name:S,fontEntries:h})}),l(Ze,{size:"sm",variant:"secondary",icon:_("TrashIcon"),onPress:()=>delete h[S]})]})})),l(b,{label:l(dp,{fontEntry:h})})]}),l(rt.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:l(Ae,{size:"lg",loading:a,disabled:a||!r||Object.keys(h).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:y(function*(){r&&(u(!0),e.name?(Object.assign(ee[e.name],{name:r,main:h,__edited:!0}),u(!1),w.goBack()):Ao({spec:1,name:r,main:h,__source:o}).then(()=>w.goBack()).finally(()=>u(!1)))}),icon:_(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var xe,rt,xl,Sl=g(()=>{"use strict";i();s();re();W();te();ae();se();oo();Xe();vr();z();oe();Q();Er();xe=U(Xt()),rt=U(ie()),xl=C("hideActionSheet")});var Ha={};D(Ha,{common:()=>ga,factories:()=>Ho,filters:()=>Ei,findAllExports:()=>dt,findAllModule:()=>Ti,findAllModuleId:()=>ud,findByDisplayName:()=>Pi,findByDisplayNameAll:()=>Oi,findByDisplayNameLazy:()=>Ni,findByFilePath:()=>gd,findByFilePathLazy:()=>Fi,findByName:()=>oa,findByNameAll:()=>Li,findByNameLazy:()=>Te,findByProps:()=>j,findByPropsAll:()=>Ii,findByPropsLazy:()=>C,findByStoreName:()=>Bi,findByStoreNameLazy:()=>Yo,findByTypeName:()=>Di,findByTypeNameAll:()=>Mi,findByTypeNameLazy:()=>pd,findExports:()=>be,findModule:()=>bi,findModuleId:()=>ld,lazy:()=>wi});var Ga=g(()=>{"use strict";i();s();z();Jn();zo();uo();$o();Q()});var Rc=br((vR,Tc)=>{i();s();Tc.exports=pt()["@shopify/react-native-skia"]});function gp({font:e}){var r=pp(Yt.colors.TEXT_NORMAL),{fontFamily:t,fontSize:o}=fr["text-md/medium"],n=t.split(/,/g)[0],a=Co.useFont(e.main[n])?.getTypeface(),u=(0,Ac.useMemo)(()=>{if(!a)return null;var c=SkiaApi.TypefaceFontProvider.Make();return c.registerFont(a,n),SkiaApi.ParagraphBuilder.Make({},c).pushStyle({color:SkiaApi.Color(r),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[a]);return l(wo.View,{style:{height:64},children:a?l(Co.Canvas,{style:{height:64},children:l(Co.Paragraph,{paragraph:u,x:0,y:0,width:300})}):l(wo.View,{style:{justifyContent:"center",alignItems:"center"},children:l(me,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function El({item:e}){B(ee);var r=fe.useNavigation(),t=ee.__selected===e.name;return l(So,{children:T(we,{spacing:16,children:[T(wo.View,{style:{flexDirection:"row",alignItems:"center"},children:[l(wo.View,{children:l(me,{variant:"heading-lg/semibold",children:e.name})}),l(wo.View,{style:{marginLeft:"auto"},children:T(we,{spacing:12,direction:"horizontal",children:[l(Ze,{onPress:()=>{r.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>l(Sn,{name:e.name})})},size:"sm",variant:"secondary",disabled:t,icon:_("PencilIcon")}),l(Ae,{size:"sm",variant:t?"secondary":"primary",text:t?"Unapply":"Apply",onPress:y(function*(){yield _n(t?null:e.name),mr({title:f.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:f.RELOAD,cancelText:f.CANCEL,confirmColor:dr.RED,onConfirm:Do.reload})})})]})})]}),l(gp,{font:e})]})})}var Co,Ac,wo,pp,wc=g(()=>{"use strict";i();s();re();W();te();ae();gr();se();oo();Me();pn();Ga();z();oe();Co=U(Rc());Tt();Dr();Ac=U(Xt()),wo=U(ie());Sl();({useToken:pp}=J(()=>j("useToken")))});var Ic={};D(Ic,{default:()=>Cc});function Cc(){B(L),B(ee);var e=fe.useNavigation();return l(Jt,{title:f.FONTS,searchKeywords:["name","description"],fetchFunction:vl,items:Object.values(ee),safeModeMessage:f.SAFE_MODE_NOTICE_FONTS,card:El,onFabPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>l(Sn,{})})}})}var Lc=g(()=>{"use strict";i();s();W();te();Ua();Sl();Re();se();oo();z();wc()});function Pc(e,r){var[t,o]=(0,Io.useState)(2),n=()=>ro(e,r).then(u=>o(u?1:0)).catch(()=>o(3)),a=(0,Io.useMemo)(()=>new Proxy(vn,{get(u,c,h){var w=Reflect.get(u,c,h);if(typeof w=="function")return(...S)=>{var q=(n(),w(...S));return q?.constructor?.name==="Promise"&&(o(2),q.finally(n)),q}}}),[]);return(0,Io.useEffect)(()=>void n(),[]),[t,a]}var Io,Fr,Nc=g(()=>{"use strict";i();s();to();Io=U(Xt());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Fr||(Fr={}))});function bl({asset:e}){return l(qr,{label:`${e.name} - ${e.id}`,trailing:l(Oc.Image,{source:e.id,style:{width:32,height:32}}),onPress:()=>{Je.setString(e.name),k.showCopyToClipboard()}})}var Oc,Dc=g(()=>{"use strict";i();s();W();z();oe();Br();Oc=U(ie())});function Tl(){var[e,r]=React.useState("");return l(le,{children:T(Va.View,{style:{flex:1},children:[l(bt,{style:{margin:10},onChangeText:t=>r(t)}),l(Va.FlatList,{data:Object.values(ut).filter(t=>t.name.includes(e)||t.id.toString()===e),renderItem:({item:t})=>l(bl,{asset:t}),ItemSeparatorComponent:Cf,keyExtractor:t=>t.name})]})})}var Va,Mc=g(()=>{"use strict";i();s();W();Dc();ae();oe();Er();Va=U(ie())});var Fc={};D(Fc,{default:()=>Bc});function Bc(){var[e,r]=Pc("preloads/reactDevtools.js"),t=_p(),o=fe.useNavigation();return B(L),B(sr),l(le,{children:l(za.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:T(we,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[l(ur,{label:f.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>l(Eo,{style:t.leadingText,children:"ws://"}),defaultValue:L.debuggerUrl,onChange:n=>L.debuggerUrl=n}),T(Oe,{title:f.DEBUG,children:[l(b,{label:f.CONNECT_TO_DEBUG_WEBSOCKET,icon:l(b.Icon,{source:_("copy")}),onPress:()=>cn(L.debuggerUrl)}),ho()&&l(Nr,{children:l(b,{label:f.CONNECT_TO_REACT_DEVTOOLS,icon:l(b.Icon,{source:_("ic_badge_staff")}),onPress:()=>window[fs()||"__vendetta_rdc"]?.connectToDevTools({host:L.debuggerUrl.split(":")?.[0],resolveRNStyle:za.StyleSheet.flatten})})})]}),fa()&&l(Nr,{children:T(Oe,{title:"Loader config",children:[l(Kt,{label:f.LOAD_FROM_CUSTOM_URL,subLabel:f.LOAD_FROM_CUSTOM_URL_DEC,icon:l(b.Icon,{source:_("copy")}),value:sr.customLoadUrl.enabled,onValueChange:n=>{sr.customLoadUrl.enabled=n}}),sr.customLoadUrl.enabled&&l(b,{label:l(ur,{defaultValue:sr.customLoadUrl.url,size:"md",onChange:n=>sr.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:f.BUNNY_URL})}),ho()&&Ne()&&l(Kt,{label:f.LOAD_REACT_DEVTOOLS,subLabel:`${f.VERSION}: ${cs()}`,icon:l(b.Icon,{source:_("ic_badge_staff")}),value:sr.loadReactDevTools,onValueChange:n=>{sr.loadReactDevTools=n}})]})}),T(Oe,{title:"Other",children:[l(b,{arrow:!0,label:f.ASSET_BROWSER,icon:l(b.Icon,{source:_("ic_image")}),trailing:b.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:f.ASSET_BROWSER,render:Tl})}),l(b,{arrow:!0,label:f.ERROR_BOUNDARY_TOOLS_LABEL,icon:l(b.Icon,{source:_("ic_warning_24px")}),onPress:()=>vp({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:l(b.Icon,{style:{marginRight:8},source:_("ic_warning_24px")}),onClose:()=>hp()},options:[{label:f.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>l("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),l(b,{label:f.INSTALL_REACT_DEVTOOLS,subLabel:f.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:l(b.Icon,{source:_("DownloadIcon")}),trailing:l(Ae,{size:"sm",loading:e===Fr.LOADING,disabled:e===Fr.LOADING,variant:e===Fr.TRUE?"secondary":"primary",text:e===Fr.TRUE?f.UNINSTALL:f.INSTALL,onPress:y(function*(){e===Fr.FALSE?r.downloadFile(yp,"preloads/reactDevtools.js"):e===Fr.TRUE&&r.removeFile("preloads/reactDevtools.js")}),icon:_(e===Fr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),l(Kt,{label:f.ENABLE_EVAL_COMMAND,subLabel:f.ENABLE_EVAL_COMMAND_DESC,icon:l(b.Icon,{source:_("PencilIcon")}),value:L.enableEvalCommand,onValueChange:n=>{L.enableEvalCommand=n}})]})]})})})}var za,hp,vp,yp,_p,Uc=g(()=>{"use strict";i();s();re();W();te();Nc();Mc();ae();Qr();_r();Re();se();Me();z();oe();Q();Et();Er();Dr();za=U(ie()),{hideActionSheet:hp}=J(()=>j("openLazy","hideActionSheet")),{showSimpleActionSheet:vp}=J(()=>j("showSimpleActionSheet")),yp="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",_p=Xr({leadingText:{...fr["heading-md/semibold"],color:de.TEXT_MUTED,marginRight:-4}})});function Rl(){wa({name:"Bunny",items:[{key:"BUNNY",title:()=>f.BUNNY,icon:{uri:ha},render:()=>Promise.resolve().then(()=>(Kf(),Wf)),rawTabsConfig:{useTrailing:()=>"(f542e8c-dev)"}},{key:"BUNNY_PLUGINS",title:()=>f.PLUGINS,icon:_("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(hc(),gc))},{key:"BUNNY_THEMES",title:()=>f.THEMES,icon:_("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(Ec(),Sc)),usePredicate:()=>ir()},{key:"BUNNY_FONTS",title:()=>f.FONTS,icon:_("ic_add_text"),render:()=>Promise.resolve().then(()=>(Lc(),Ic)),usePredicate:()=>ps()},{key:"BUNNY_DEVELOPER",title:()=>f.DEVELOPER,icon:_("WrenchIcon"),render:()=>Promise.resolve().then(()=>(Uc(),Fc)),usePredicate:()=>B(L).developerSettings??!1}]}),wa({name:"Vendetta",items:[]})}var qs=g(()=>{"use strict";i();s();xf();te();ae();_r();Re();se();Ro()});var $a,tt,Lo,En=g(()=>{"use strict";i();s();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})($a||($a={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(tt||(tt={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(Lo||(Lo={}))});var kc={};D(kc,{default:()=>bp});function jc(e){return"```js\n"+e.replaceAll("`","`"+Ep)+"\n```"}var xp,Sp,Ep,bp,Hc=g(()=>{"use strict";i();s();re();te();En();Re();z();Q();xp=C("inspect"),Sp=y(function*(){}).constructor,Ep="\u200B";bp=()=>({name:"eval",description:f.COMMAND_EVAL_DESC,shouldHide:()=>L.enableEvalCommand===!0,options:[{name:"code",type:tt.STRING,description:f.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:tt.BOOLEAN,description:f.COMMAND_EVAL_OPT_ASYNC}],execute([e,r],t){return y(function*(){try{var o=xp.inspect(r?.value?yield Sp(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;lr.sendBotMessage(t.channel.id,jc(n))}catch(a){lr.sendBotMessage(t.channel.id,jc(a?.stack??a))}})()}})});var Gc={};D(Gc,{default:()=>Tp});var Tp,Vc=g(()=>{"use strict";i();s();te();En();Qr();z();Tp=()=>({name:"debug",description:f.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:tt.BOOLEAN,description:f.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Jr(),o=["**Bunny Debug Info**",`> Bunny: ${t.bunny.version} (${t.bunny.loader.name} ${t.bunny.loader.version})`,`> Discord: ${t.discord.version} (${t.discord.build})`,`> React: ${t.react.version} (RN ${t.react.nativeVersion})`,`> Hermes: ${t.hermes.version} (bcv${t.hermes.bytecodeVersion})`,`> System: ${t.os.name} ${t.os.version} ${t.os.sdk?`(SDK ${t.os.sdk})`:""}`.trimEnd(),`> Device: ${t.device.model} (${t.device.codename})`].join(`
`);e?.value?lr.sendBotMessage(r.channel.id,o):lr.sendMessage(r.channel.id,{content:o})}})});var zc={};D(zc,{default:()=>Rp});var Rp,$c=g(()=>{"use strict";i();s();te();Zr();En();z();Rp=()=>({name:"plugins",description:f.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:tt.BOOLEAN,description:f.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Object.values(M.plugins).filter(Boolean);t.sort((u,c)=>u.manifest.name.localeCompare(c.manifest.name));var o=t.filter(u=>u.enabled).map(u=>u.manifest.name),n=t.filter(u=>!u.enabled).map(u=>u.manifest.name),a=[`**Installed Plugins (${t.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?lr.sendBotMessage(r.channel.id,a):lr.sendMessage(r.channel.id,{content:a})}})});var Ya={};D(Ya,{patchCommands:()=>Al,registerCommand:()=>Po});function Al(){var e=X("getBuiltInCommands",$t,([r],t)=>[...t,...bn.filter(o=>(r instanceof Array?r.includes(o.type):r===o.type)&&o.__bunny?.shouldHide?.()!==!1)]);return[(Hc(),Ue(kc)),(Vc(),Ue(Gc)),($c(),Ue(zc))].forEach(r=>Po(r.default())),()=>{bn=[],e()}}function Po(e){var r;try{r=$t.getBuiltInCommands(Lo.CHAT,!0,!1)}catch{r=$t.getBuiltInCommands(Object.values(Lo),!0,!1)}r.sort((n,a)=>parseInt(a.id)-parseInt(n.id));var t=r[r.length-1];if(e.id=(parseInt(t.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=Lo.CHAT,e.inputType=$a.BUILT_IN,e.displayName??=e.name,e.displayDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return lt("execute",e,(n,a)=>{Promise.resolve(a.apply(e,n)).then(u=>{u&&typeof u=="object"&&lr.sendMessage(n[1].channel.id,u)}).catch(u=>{Pe.error("Failed to execute command",u)})}),bn.push(e),()=>bn=bn.filter(({id:n})=>n!==e.id)}var bn,Tn=g(()=>{"use strict";i();s();En();Ke();$r();z();bn=[]});var Wc=br((vw,Yc)=>{i();s();Yc.exports=pt().lodash});var qc=br((xw,Kc)=>{i();s();Kc.exports=pt().util});var Wa,Xc,Jc,Qc=g(()=>{"use strict";i();s();W();ae();Tn();Qr();_r();Ke();Re();se();se();Xe();vr();Wi();$r();Ga();z();oe();oe();Tt();Et();Er();Dr();Br();gi();Wa=U(Xt()),Xc=U(ie());Zr();Jc=()=>{var e=t=>o=>t(Ho.createSimpleFilter(o,Mu(new Error().stack))),r=window.vendetta={patcher:{before:Fo.before,after:Fo.after,instead:Fo.instead},metro:{modules:window.modules,find:e(be),findAll:e(dt),findByProps:(...t)=>{t.length===1&&t[0]==="KeyboardAwareScrollView"&&t.push("listenToKeyboardEvents");var o=j(...t);if(o==null&&t.includes("ActionSheetTitleHeader")){var n=j("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:a})=>((0,Wa.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,Wa.createElement)(Xc.View,null,a))}}return o},findByPropsAll:(...t)=>Ii(...t),findByName:(t,o)=>t==="create"&&typeof o>"u"?oa("create",!1).default:oa(t,o??!0),findByNameAll:(t,o=!0)=>Li(t,o),findByDisplayName:(t,o=!0)=>Pi(t,o),findByDisplayNameAll:(t,o=!0)=>Oi(t,o),findByTypeName:(t,o=!0)=>Di(t,o),findByTypeNameAll:(t,o=!0)=>Mi(t,o),findByStoreName:t=>Bi(t),common:{constants:_t,channels:on,i18n:xt,url:St,toasts:nn,stylesheet:{createThemedStyleSheet:qt},clipboard:Je,assets:Cs,invites:Is,commands:$t,navigation:Ls,navigationStack:Ps,NavigationNative:fe,Flux:Ns,FluxDispatcher:xr,React:an,ReactNative:pa,moment:Os(),chroma:ia(),lodash:Wc(),util:qc()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(t,o)=>hr(t,o),findInTree:(t,o,n)=>po(t,o,n),safeFetch:(t,o,n)=>ke(t,o,n),unfreeze:t=>Object.isFrozen(t)?{...t}:t,without:(t,...o)=>pi(t,o)},debug:{connectToDebugger:t=>cn(t),getDebugInfo:()=>Jr()},ui:{components:{Forms:Ms,General:pa,Alert:va,Button:ya,HelpMessage:(...t)=>l(_a,{...t}),SafeAreaView:(...t)=>l(xa,{...t}),Summary:ln,ErrorBoundary:le,Codeblock:Sr,Search:bt},toasts:{showToast:(t,o)=>k(t,o)},alerts:{showConfirmationAlert:t=>mr(t),showCustomAlert:(t,o)=>Da(t,o),showInputAlert:t=>mn(t)},assets:{all:ut,find:t=>jo(t),getAssetByName:t=>jo(t),getAssetByID:t=>jo(t),getAssetIDByName:t=>_(t)},semanticColors:de,rawColors:Fs},plugins:{plugins:M.plugins,fetchPlugin:t=>M.fetchPlugin(t),installPlugin:(t,o=!0)=>M.installPlugin(t,o),startPlugin:t=>M.startPlugin(t),stopPlugin:(t,o=!0)=>M.stopPlugin(t,o),removePlugin:t=>M.removePlugin(t),getSettings:t=>M.getSettings(t)},themes:{themes:Z,fetchTheme:(t,o)=>Gt(t,o),installTheme:t=>Yr(t),selectTheme:t=>Wr(t==="default"?null:Z[t]),removeTheme:t=>Vt(t),getCurrentTheme:()=>yt(),updateThemes:()=>sa()},commands:{registerCommand:Po},storage:{createProxy:t=>mo(t),useProxy:t=>B(t),createStorage:t=>je(t),wrapSync:t=>ar(t),awaitSyncWrapper:t=>zr(t),createMMKVBackend:t=>qe(t),createFileBackend:t=>(ue()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),Vr(t))},settings:L,loader:{identity:Zo()??void 0,config:sr},logger:{log:(...t)=>console.log(...t),info:(...t)=>console.info(...t),warn:(...t)=>console.warn(...t),error:(...t)=>console.error(...t),time:(...t)=>console.time(...t),trace:(...t)=>console.trace(...t),verbose:(...t)=>console.log(...t)},version:un,unload:()=>{delete window.vendetta}};return()=>r.unload()}});var Cl={};D(Cl,{dispatcher:()=>Ka,injectFluxInterceptor:()=>wl,intercept:()=>wp});function wl(){var e=r=>{for(var t of qa){var o=t(r);o!=null&&(o?typeof o=="object"&&(Object.assign(r,o),r[Ap]=!0):r[Zc]=!0)}return Zc in r};return(Ka._interceptors??=[]).unshift(e),()=>Ka._interceptors&&=Ka._interceptors.filter(r=>r!==e)}function wp(e){return qa.push(e),()=>{qa=qa.filter(r=>r!==e)}}var Zc,Ap,Ka,qa,Il=g(()=>{"use strict";i();s();z();Zc=Symbol.for("bunny.flux.blocked"),Ap=Symbol.for("bunny.flux.modified"),Ka=xr,qa=[]});function Lp(e,r=null,t=!1){if(e.guild_id===Vi){var o;if(e.parent_id===zi)o="Plugin";else if(e.parent_id===qo&&ir())o="Theme";else return;var{firstMessage:n}=t?Cp(e):{firstMessage:r},a=n?.content?.match(Wo)?.filter(Rn[o].urlsFilter);if(!(!a||!a[0]))return o==="Plugin"&&!a[0].endsWith("/")&&(a[0]+="/"),[o,a[0]]}}function Pp(e,r=null,t=!1){var[o,n]=Lp(e,r,t)??[];B(M.plugins),B(Z);var[a,u]=React.useState(!1);if(!o||!n)return[!0];var c=!!Rn[o].storage[n],h=function(){var w=y(function*(){u(!0);try{yield Rn[o].installOrRemove(n)}catch(S){k(S.message,_("Small"))}finally{u(!1)}});return function(){return w.apply(this,arguments)}}();return[!1,o,c,a,h]}var Cp,Ip,Rn,Np,em,rm=g(()=>{"use strict";i();s();re();W();te();Zr();ae();_r();Ke();se();Xe();ht();Me();oe();Q();Er();Br();({useFirstForumPostMessage:Cp}=J(()=>j("useFirstForumPostMessage"))),Ip=C("MostCommonForumPostReaction"),Rn={Plugin:{storage:M.plugins,urlsFilter:e=>e.startsWith(gt),installOrRemove:e=>{var r=Rn.Plugin.storage[e];return r?M.removePlugin(e):M.installPlugin(e)}},Theme:{storage:Z,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var r=Rn.Theme.storage[e];return r?Vt(e):Yr(e)}}};Np=()=>X("MostCommonForumPostReaction",Ip,([{thread:e,firstMessage:r}],t)=>{var[o,n,a,u,c]=Pp(e,r,!0);if(!o)return T(Nr,{children:[t,l(le,{children:l(Ae,{size:"sm",loading:u,disabled:u,variant:a?"secondary":"primary",text:a?f.UNINSTALL:f.INSTALL,onPress:c,icon:_(a?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),em=()=>{var e=[Np()];return()=>e.map(r=>r())}});function tm(e){if(e.startsWith(gt))return"plugin";if(e.endsWith(".json")&&ir())return"theme"}function om(e,r){(e==="plugin"?M.installPlugin.bind(M):Yr)(r).then(()=>{k(f.SUCCESSFULLY_INSTALLED,_("Check"))}).catch(t=>{k(t.message,_("Small"))})}var Op,Dp,Mp,Bp,Fp,nm,am=g(()=>{"use strict";i();s();re();te();Zr();ae();_r();Ke();Xe();ht();Me();z();zo();uo();Q();Tt();Br();Op=be(Vo("showSimpleActionSheet")),Dp=C("handleClick"),{openURL:Mp}=J(()=>St),{getChannelId:Bp}=J(()=>on),{getChannel:Fp}=J(()=>j("getChannel"));nm=()=>{var e=new Array;return e.push(X("showSimpleActionSheet",Op,r=>{if(r[0].key==="LongPressUrl"){var{header:{title:t},options:o}=r[0],n=tm(t);n&&o.push({label:f.INSTALL_ADDON,onPress:()=>om(n,t)})}})),e.push(lt("handleClick",Dp,function(){var r=y(function*(t,o){var{href:n}=t[0],a=tm(n);if(!a)return o.apply(this,t);if(a==="theme"&&Fp(Bp())?.parent_id!==qo)return o.apply(this,t);mr({title:f.HOLD_UP,content:Qe("CONFIRMATION_LINK_IS_A_TYPE",{urlType:a}),onConfirm:()=>om(a,n),confirmText:f.INSTALL,cancelText:f.CANCEL,secondaryConfirmText:f.OPEN_IN_BROWSER,onConfirmSecondary:()=>Mp(n)})});return function(t,o){return r.apply(this,arguments)}}())),()=>e.forEach(r=>r())}});var sm={};D(sm,{default:()=>Up});var im,Up,lm=g(()=>{"use strict";i();s();Ll();rm();am();im=[],Up=um({manifest:{id:"bunny.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:["pyoncord"]},start(){im=[em(),nm()]},stop(){im.forEach(e=>e())}})});function um(e){return e[Symbol.for("bunny.core.plugin")]=!0,e}var fm,Ll=g(()=>{"use strict";i();s();fm=()=>({"bunny.quickinstall":(lm(),Ue(sm))})});function Ol(e){return{get:y(function*(){try{return JSON.parse(yield hn(e))}catch(r){throw new Error(`Failed to parse storage from '${e}'`,{cause:r})}}),set:function(){var r=y(function*(t){if(!t||typeof t!="object")throw new Error("data needs to be an object");yield et(e,JSON.stringify(t))});return function(t){return r.apply(this,arguments)}}(),exists:y(function*(){return yield ro(e)})}}function mm(e,r,t){var o=new WeakMap;return new Proxy(e,{get(n,a){if(a===jp)return t;var u=[...r,a],c=n[a];if(c&&typeof c=="object"){var h=c;c=o.get(h),c||(c=mm(h,u,t),o.set(h,c))}return c!=null&&t.emit("GET",{path:u,value:c}),c},set(n,a,u){return n[a]=u,t.emit("SET",{path:[...r,a],value:u}),!0},deleteProperty(n,a){var u=delete n[a];return u&&t.emit("DEL",{path:[...r,a]}),u}})}function Hp(e={}){var r=new lo;return{proxy:mm(e,[],r),emitter:r}}function dm(e,r){return Pl.apply(this,arguments)}function Pl(){return Pl=y(function*(e,r){no[e]=r,yield Ol(e).set(r)}),Pl.apply(this,arguments)}function Gp(e,r={},t){var o=a=>{var{proxy:u,emitter:c}=Hp(a),h=()=>n.set(u);c.on("SET",h),c.on("DEL",h),t(u)},n=Ol(e);no[e]?o(no[e]):n.exists().then(function(){var a=y(function*(u){u?o(yield n.get()):(yield n.set(r),o(r))});return function(u){return a.apply(this,arguments)}}())}function Dl(e){return Nl.apply(this,arguments)}function Nl(){return Nl=y(function*(e){if(no[e])return no[e];var r=Ol(e);if(yield r.exists())return no[e]=yield r.get();console.log("no "+e)}),Nl.apply(this,arguments)}function pm(e){return no[e]}function Ml(...e){return Promise.all(e.map(r=>r[cm]))}var jp,kp,cm,no,An,Bl=g(()=>{"use strict";i();s();re();to();Xn();jp=Symbol.for("bunny.storage.emitter"),kp=Symbol.for("bunny.storage.initError"),cm=Symbol.for("bunny.storage.promise"),no={};An=(e,r={})=>{var t=new Promise(h=>u=h),o,n,a,u;Gp(e,r,h=>{o=h,n=!0,u()});var c=()=>{if(n)return!0;throw new Error("Attempted to access storage without initializing")};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(h=>[h,(w,...S)=>c()&&Reflect[h](o,...S)])),get(h,w,S){return w===kp?a:w===cm?t:c()&&Reflect.get(o??h,w,S)}})}});var Fl={};D(Fl,{fs:()=>vn,loader:()=>gs,modules:()=>Hn});var gm=g(()=>{"use strict";i();s();to();_r();gr()});var Ul={};D(Ul,{assets:()=>ko,commands:()=>Ya,debug:()=>Pa,flux:()=>Cl,native:()=>Fl,patcher:()=>Ft,settings:()=>ca,storage:()=>na});var jl=g(()=>{"use strict";i();s();ae();Tn();Qr();Il();gm();Ke();Re();se()});function wn(e,r){return(...t)=>{var o=r(...t);return e.push(o),o}}function hm(e){var r=new Array,t={...window.bunny,api:{...window.bunny.api,patcher:{before:wn(r,Ft.before),after:wn(r,Ft.after),instead:wn(r,Ft.instead)},commands:{...window.bunny.api.commands,registerCommand:wn(r,Po)},flux:{...window.bunny.api.flux,intercept:wn(r,window.bunny.api.flux.intercept)}},plugin:{createStorage:()=>An(`plugins/storage/${e}.json`),manifest:Ce.get(e),logger:Pe}};return{object:t,disposers:r}}var vm=g(()=>{"use strict";i();s();jl();Tn();Bl();$r();Cn()});var Nn={};D(Nn,{apiObjects:()=>Jl,checkAndRegisterUpdates:()=>Ql,corePluginInstances:()=>Xa,deleteRepository:()=>Wp,disablePlugin:()=>qp,enablePlugin:()=>Kp,getId:()=>zp,getPluginSettingsComponent:()=>$p,initPlugins:()=>Zl,installPlugin:()=>Xp,isPluginEnabled:()=>Sm,isPluginInstalled:()=>ao,pluginInstances:()=>Ur,pluginRepositories:()=>ot,pluginSettings:()=>er,refreshPlugin:()=>Yp,registeredPlugins:()=>Ce,startPlugin:()=>Pn,stopPlugin:()=>Qa,uninstallPlugin:()=>Em,updateAndWritePlugin:()=>In,updateRepository:()=>Gl});function pe(e,r,t){if(!e)throw new Error(`[${r}] Attempted to ${t}`)}function ym(e,r){if(_o.gt(e,r))return!0;var t=_o.coerce(e);return t==null?!1:_o.prerelease(e)?.includes("dev")&&_o.eq(t,r)}function Ln(e){return"parentRepository"in e}function zp(e){var r=Ja.get(e);return pe(r,e?.name??"unknown","getting ID from an unregistered/invalid manifest"),r}function $p(e){var r=Ur.get(e);return r&&r.SettingsComponent?r.SettingsComponent:null}function ao(e){return er[e]!=null}function Sm(e){return!!er[e]?.enabled}function In(e,r,t){return kl.apply(this,arguments)}function kl(){return kl=y(function*(e,r,t){var o=yield xm(e,`plugins/${r}/manifest.json`);if(o.parentRepository=e,t){o.jsPath=`plugins/scripts/${r}.js`;var n=yield Vp(e,`plugins/${r}/index.js`);yield et(o.jsPath,n)}if(yield dm(`plugins/manifests/${r}.json`,o),Ce.has(r)){var a=Ce.get(r);return Object.assign(a,o)}return o}),kl.apply(this,arguments)}function Yp(e,r){return Hl.apply(this,arguments)}function Hl(){return Hl=y(function*(e,r){var t=Ce.get(e);pe(t,e,"refresh a non-registered plugin"),pe(Ur.get(e),e,"refresh a non-started plugin"),Qa(e),Ln(t)&&(t=yield In(r??t.parentRepository,e,!0)),Ce.delete(e),Ce.set(e,t),Ja.set(t,e),yield Pn(e)}),Hl.apply(this,arguments)}function Gl(e){return Vl.apply(this,arguments)}function Vl(){return Vl=y(function*(e){var r=yield xm(e,"repo.json"),t=ot[e],o=!1;if(t)for(var a in t)r[a]||delete t[a];else{for(var n in r)if(Xa.has(n))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${n}'`);o=!0,ot[e]=r}yield Promise.all(Object.keys(r).map(function(){var w=y(function*(S){if(!t||!t[S]||r[S].alwaysFetch||ym(r[S].version,t[S].version))o=!0,ot[e][S]=r[S],yield In(e,S,!!(t&&er[S]));else{var q=yield Dl(`plugins/manifests/${S}.json`);q===void 0&&(yield In(e,S,!!(t&&er[S])))}});return function(S){return w.apply(this,arguments)}}()));for(var u in r){var c=pm(`plugins/manifests/${u}.json`);if(c!==void 0){var h=Ce.get(u);h&&!ym(c.version,h.version)||(Ce.set(u,c),Ja.set(c,u))}}return o}),Vl.apply(this,arguments)}function Wp(e){return zl.apply(this,arguments)}function zl(){return zl=y(function*(e){pe(e!==Ko,e,"delete the official repository"),pe(ot[e],e,"delete a non-registered repository");var r=[];for(var[t,o]of Ce)!Ln(o)||o.parentRepository!==e||(ao(t)&&r.push(Em(t)),Ce.delete(t));delete ot[e],yield Promise.all(r)}),zl.apply(this,arguments)}function Kp(e,r){return $l.apply(this,arguments)}function $l(){return $l=y(function*(e,r){pe(ao(e),e,"enable a non-installed plugin"),er[e].enabled=!0,r&&(yield Pn(e))}),$l.apply(this,arguments)}function qp(e){pe(ao(e),e,"disable a non-installed plugin"),Ur.has(e)&&Qa(e),er[e].enabled=!1}function Xp(e,r){return Yl.apply(this,arguments)}function Yl(){return Yl=y(function*(e,r){var t=Ce.get(e);pe(t,e,"install an non-registered plugin"),pe(!ao(e),e,"install an already installed plugin"),pe(Ln(t),e,"install a core plugin"),yield In(t.parentRepository,e,!0),er[e]={enabled:!0},r&&Pn(e)}),Yl.apply(this,arguments)}function Em(e){return Wl.apply(this,arguments)}function Wl(){return Wl=y(function*(e){var r=Ce.get(e);pe(r,e,"uninstall an unregistered plugin"),pe(ao(e),e,"uninstall a non-installed plugin"),pe(Ln(r),e,"uninstall a core plugin"),Ur.has(e)&&Qa(e),delete er[e],yield eo(`plugins/scripts/${e}.js`)}),Wl.apply(this,arguments)}function Pn(e){return Kl.apply(this,arguments)}function Kl(){return Kl=y(function*(e){var r=Ce.get(e);pe(r,e,"start a non-registered plugin"),pe(ao(e),e,"start a non-installed plugin"),pe(er[e]?.enabled,e,"start a disabled plugin"),pe(!Ur.has(e),e,"start an already started plugin"),yield Dl(`plugins/storage/${e}.json`);var t;if(Ln(r)){try{var o=yield hn(r.jsPath),n=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${o};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${r.version}`)}catch(u){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:u})}try{var a=hm(e);if(t=n(a.object,u=>Object.assign(u,{manifest:r})),!t)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);Jl.set(e,a),Ur.set(e,t)}catch(u){throw new Error("An error occured while instantiating plugin's code",{cause:u})}}else t=Xa.get(e),pe(t,e,"start a non-existent core plugin"),Ur.set(e,t);try{t.start?.()}catch(u){throw new Error("An error occured while starting the plugin",{cause:u})}}),Kl.apply(this,arguments)}function Qa(e){var r=Ur.get(e);pe(r,e,"stop a non-started plugin"),r.stop?.();var t=Jl.get(e);t?.disposers.forEach(o=>o()),Ur.delete(e)}function Ql(){return ql.apply(this,arguments)}function ql(){return ql=y(function*(){yield Ml(ot,er);var e=fm();for(var r in e){var{default:t,preenabled:o}=e[r];er[r]??={enabled:o??!0},Ce.set(r,t.manifest),Ja.set(t.manifest,r),Xa.set(r,t)}yield Gl(Ko),yield m(Object.keys(ot).map(function(){var n=y(function*(a){a!==Ko&&(yield Gl(a))});return function(a){return n.apply(this,arguments)}}()))}),ql.apply(this,arguments)}function Zl(){return Xl.apply(this,arguments)}function Xl(){return Xl=y(function*(){yield Ml(ot,er),yield m([...Ce.keys()].map(function(){var e=y(function*(r){Sm(r)&&(yield Pn(r))});return function(r){return e.apply(this,arguments)}}()))}),Xl.apply(this,arguments)}var Xa,Ce,Ur,Jl,ot,er,Ja,_m,Vp,xm,Cn=g(()=>{"use strict";i();s();re();Ll();to();Bl();vr();ht();z();vm();Xa=new Map,Ce=new Map,Ur=new Map,Jl=new Map,ot=An("plugins/repositories.json"),er=An("plugins/settings.json"),Ja=new WeakMap,_m=(e,r)=>ke(new URL(r,e),{cache:"no-store"}),Vp=(e,r)=>_m(e,r).then(t=>t.text()),xm=(e,r)=>_m(e,r).then(t=>t.json())});function Qp(){var e=Te("ErrorBoundary")[ta];return new Promise(r=>{e.getExports(t=>{r(t.prototype)})})}var nt,yI,Jp,On,bm,Tm,Rm=g(()=>{"use strict";i();s();W();te();Qr();gr();Ke();Re();Me();pn();oe();$o();Q();Et();Er();Dr();nt=U(ie()),yI=Te("ErrorBoundary"),{BadgableTabBar:Jp}=J(()=>j("BadgableTabBar")),On=qt({container:{flex:1,backgroundColor:de.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...fr["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:de.HEADER_PRIMARY},headerDescription:{...fr["text-sm/medium"],textAlign:"center",color:de.TEXT_MUTED},footer:{flexDirection:Ar.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),bm=[{id:"message",title:()=>f.MESSAGE},{id:"stack",title:()=>f.STACK_TRACE},{id:"componentStack",title:()=>f.COMPONENT,trimWhitespace:!0}];Tm=()=>X.await("render",Qp(),function(e,r){if(this.state.error){this.state.activeTab??="message";var t=bm.find(a=>a.id===this.state.activeTab),o=this.state.error[this.state.activeTab],n=[{text:f.RELOAD_DISCORD,onPress:this.handleReload},...L.safeMode?.enabled?[]:[{text:f.RELOAD_IN_SAFE_MODE,onPress:fn}],{text:f.RETRY_RENDER,color:dr.RED,onPress:()=>this.setState({info:null,error:null})}];return l(le,{children:T(xa,{style:On.container,children:[T(nt.View,{style:On.header,children:[l(r.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),T(nt.View,{style:{flex:2,paddingLeft:24},children:[l(nt.Text,{style:On.headerTitle,children:r.props.title}),l(nt.Text,{style:On.headerDescription,children:r.props.body})]})]}),T(nt.View,{style:{flex:6},children:[l(nt.View,{style:{paddingBottom:8},children:l(Jp,{tabs:bm.map(a=>({...a,title:a.title()})),activeTab:this.state.activeTab,onTabSelected:a=>{this.setState({activeTab:a})}})}),l(Sr,{selectable:!0,style:{flex:1,textAlignVertical:"top"},children:t?.trimWhitespace?o.split(`
`).filter(a=>a.length!==0).map(a=>a.trim()).join(`
`):o})]}),l(nt.View,{style:On.footer,children:n.map(a=>{var u=n.indexOf(a)!==0?8:0;return l(ya,{text:a.text,color:a.color??dr.BRAND,size:a.size??"small",onPress:a.onPress,style:{...Ar.isTablet?{flex:`0.${n.length}`,marginLeft:u}:{marginTop:u},borderRadius:16}})})})]})})}})});var Am=g(()=>{"use strict";i();s()});var wm=g(()=>{"use strict";i();s()});var eu={};D(eu,{alerts:()=>Ma,color:()=>Ea,components:()=>Ta,settings:()=>$s,styles:()=>ks,toasts:()=>Ca});var Cm=g(()=>{"use strict";i();s();Tt();Et();Er();Ro();Dr();Br()});var ru={};D(ru,{api:()=>Ul,fonts:()=>xn,managers:()=>Zp,metro:()=>Ha,plugins:()=>Nn,themes:()=>zt,ui:()=>eu,unload:()=>Dn,utils:()=>aa});function Dn(){for(var e of Im)typeof e=="function"&&e();delete window.bunny}var Zp,Im,Lm=g(()=>{"use strict";i();s();Am();wm();jl();oo();Cn();Xe();Cm();vr();Ga();oo();Cn();Xe();Me();Zp=ve(()=>(console.warn("bunny.managers.* is deprecated, and moved the top level (bunny.*). bunny.managers will be eventually removed soon"),{get fonts(){return xn},get plugins(){return Nn},get themes(){return zt}}),{hint:"object"}),Im=[];Dn.push=e=>{Im.push(e)}});var Pm={};D(Pm,{default:()=>eg});var eg,Nm=g(()=>{"use strict";i();s();re();pf();te();qs();Qc();Zr();Tn();Qr();Il();to();_r();gr();oo();Cn();Xe();$r();Rm();Ro();Lm();eg=y(function*(){if(ir())try{ue()&&(V.removeFile!=null?eo("vendetta_theme.json",""):et("vendetta_theme.json","null","")),ss()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}yield Promise.all([wl(),zs(),Ws(),Al(),is(),Jc(),_f(),Rl(),df(),Tm(),Ql()]).then(e=>e.forEach(r=>r&&Dn.push(r))),window.bunny=ru,M.initPlugins().then(e=>Dn.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),Zl(),yl(),Pe.log("Bunny is ready!")})});i();s();re();var{instead:rg}=kn();globalThis.window=globalThis;function Om(){return tu.apply(this,arguments)}function tu(){return tu=y(function*(){try{Object.freeze=Object.seal=Object,yield(jt(),Ue(uf)).initMetroCache(),yield(Nm(),Ue(Pm)).default()}catch(t){var{ClientInfoManager:e}=(gr(),Ue(Hn)),r=t instanceof Error?t.stack:void 0;console.log(r??t?.toString?.()??t),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: f542e8c-dev",r||t?.toString?.()].join(`
`))}}),tu.apply(this,arguments)}if(typeof globalThis.__r<"u")Om();else{var e=function(r){var t=window.__fbBatchedBridge,o=new Array,n=rg("callFunctionReturnFlushedQueue",t,(u,c)=>u[0]==="AppRegistry"||!t.getCallableModule(u[0])?(o.push(u),t.flushedQueue()):c.apply(t,u)),a=function(){var u=y(function*(){yield Om(),n(),r(0),o.forEach(c=>t.getCallableModule(c[0])&&t.__callFunction(...c))});return function(){return u.apply(this,arguments)}}();a()};tg=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>Za,set(r){Za=function(o){if(o===0)e(r),Za=r;else return r(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(r){this.value=r}}})}var Za,tg;})();
//# sourceURL=bunny
