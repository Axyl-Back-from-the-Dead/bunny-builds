"use strict";(()=>{var um=Object.create;var Do=Object.defineProperty;var cm=Object.getOwnPropertyDescriptor;var fm=Object.getOwnPropertyNames;var lm=Object.getPrototypeOf,mm=Object.prototype.hasOwnProperty;var l=(e,r)=>()=>(e&&(r=e(e=0)),r);var _r=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),I=(e,r)=>{for(var t in r)Do(e,t,{get:r[t],enumerable:!0})},Au=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(var o=fm(r),i=0,s=o.length,u;i<s;i++)u=o[i],!mm.call(e,u)&&u!==t&&Do(e,u,{get:(m=>r[m]).bind(null,u),enumerable:!(n=cm(r,u))||n.enumerable});return e};var D=(e,r,t)=>(t=e!=null?um(lm(e)):{},Au(r||!e||!e.__esModule?Do(t,"default",{value:e,enumerable:!0}):t,e)),Be=e=>Au(Do({},"__esModule",{value:!0}),e);var Mo=_r((Dp,Pu)=>{var ia=Object.defineProperty,dm=Object.getOwnPropertyDescriptor,pm=Object.getOwnPropertyNames,vm=Object.prototype.hasOwnProperty,gm=function(e,r){for(var t in r)ia(e,t,{get:r[t],enumerable:!0})},hm=function(e,r,t,n){if(r&&typeof r=="object"||typeof r=="function"){var o=function(s){!vm.call(e,s)&&s!==t&&ia(e,s,{get:function(){return r[s]},enumerable:!(n=dm(r,s))||n.enumerable})};for(var i of pm(r))o(i)}return e},_m=function(e){return hm(ia({},"__esModule",{value:!0}),e)},Iu={};gm(Iu,{after:function(){return bm},before:function(){return Em},instead:function(){return xm},unpatchAll:function(){return Sm}});Pu.exports=_m(Iu);var Cu=["a","b","i"],Lt=new Map;function ym(e,r,t,n,o){var i=Lt.get(r)?.[e];if(!i)return o?Reflect.construct(r[e],t,n):r[e].apply(n,t);for(var s of i.b.values()){var u=s.call(n,t);Array.isArray(u)&&(t=u)}var m=[...i.i.values()].reduce(function(C,ne){return function(...ue){return ne.call(n,ue,C)}},function(...C){return o?Reflect.construct(i.o,C,n):i.o.apply(n,C)})(...t);for(var T of i.a.values())m=T.call(n,t,m)??m;return m}function Lu(e,r,t,n){var o=Lt.get(e),i=o?.[r];if(!i?.[n].has(t))return!1;if(i[n].delete(t),Cu.every(function(u){return i[u].size===0})){var s=Reflect.defineProperty(e,r,{value:i.o,writable:!0,configurable:!0});s||(e[r]=i.o),delete o[r]}return Object.keys(o).length==0&&Lt.delete(e),!0}function Sm(){for(var[e,r]of Lt.entries())for(var t in r)for(var n of Cu)for(var o of r[t]?.[n].keys()??[])Lu(e,t,o,n)}var aa=function(e){return function(r,t,n,o=!1){if(typeof t[r]!="function")throw new Error(`${r} is not a function in ${t.constructor.name}`);Lt.has(t)||Lt.set(t,Object.create(null));var i=Lt.get(t);if(!i[r]){var s=t[r];i[r]={o:s,b:new Map,i:new Map,a:new Map};var u=function(ue,ve,Fr){var ot=ym(r,t,ve,ue,Fr);return o&&ne(),ot},m=new Proxy(s,{apply:function(ue,ve,Fr){return u(ve,Fr,!1)},construct:function(ue,ve){return u(s,ve,!0)},get:function(ue,ve,Fr){return ve=="toString"?s.toString.bind(s):Reflect.get(ue,ve,Fr)}}),T=Reflect.defineProperty(t,r,{value:m,configurable:!0,writable:!0});T||(t[r]=m)}var C=Symbol(),ne=function(){return Lu(t,r,C,e)};return i[r][e].set(C,n),ne}},Em=aa("b"),xm=aa("i"),bm=aa("a")});var Bo={};I(Bo,{BundleUpdaterManager:()=>Dn,ClientInfoManager:()=>Pt,DeviceManager:()=>Er,FileManager:()=>U,MMKVManager:()=>Sr,ThemeManager:()=>sa});var yr,Sr,U,Pt,Er,Dn,sa,fr=l(()=>{"use strict";yr=window.nativeModuleProxy,Sr=yr.MMKVManager;U=yr.DCDFileManager??yr.RTNFileManager;Pt=yr.InfoDictionaryManager??yr.RTNClientInfoManager;Er=yr.DCDDeviceManager??yr.RTNDeviceManager,{BundleUpdaterManager:Dn}=yr,sa=yr.RTNThemeManager??yr.DCDTheme});function Nt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var Fo=l(()=>{});function it(e,r){return it=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},it(e,r)}var Uo=l(()=>{});function jo(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&it(e,r)}var ua=l(()=>{Uo()});function ko(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ca=l(()=>{});function Mn(e,r,t){return ko()?Mn=Reflect.construct:Mn=function(o,i,s){var u=[null];u.push.apply(u,i);var m=Function.bind.apply(o,u),T=new m;return s&&it(T,s.prototype),T},Mn.apply(null,arguments)}var Nu=l(()=>{ca();Uo()});function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ot(e)}var fa=l(()=>{});function Ou(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var Du=l(()=>{});function Ho(e){var r=typeof Map=="function"?new Map:void 0;return Ho=function(n){if(n===null||!Ou(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(n))return r.get(n);r.set(n,o)}function o(){return Mn(n,arguments,Ot(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),it(o,n)},Ho(e)}var Mu=l(()=>{Nu();fa();Du();Uo()});function Bu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Fu=l(()=>{});function Uu(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var ju=l(()=>{});function ku(e,r){return r&&(Uu(r)==="object"||typeof r=="function")?r:Bu(e)}var Hu=l(()=>{Fu();ju()});function Vo(e){var r=ko();return function(){var n=Ot(e),o;if(r){var i=Ot(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return ku(this,o)}}var la=l(()=>{fa();ca();Hu()});var wm,Vu,Tm,Rm,Gu,zu,$u=l(()=>{wm=Object.defineProperty,Vu=Object.getOwnPropertySymbols,Tm=Object.prototype.hasOwnProperty,Rm=Object.prototype.propertyIsEnumerable,Gu=function(e,r,t){return r in e?wm(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t},zu=function(e,r){for(var t in r||(r={}))Tm.call(r,t)&&Gu(e,t,r[t]);if(Vu)for(var t of Vu(r))Rm.call(r,t)&&Gu(e,t,r[t]);return e}});function ma(e){return e!=null}var Yu=l(()=>{});function da(e,r){var t=zu({},e);for(var n of r)delete t[n];return t}var Wu=l(()=>{$u()});function pa(e,r){var t=function(i){var s=n.every(function(u){return!r(u,i)});s&&n.push(i)},n=[];for(var o of e)t(o);return n}var Ku=l(()=>{});function va(e,r,{signal:t}={}){var n=null,o=function(...u){n!==null&&clearTimeout(n),!t?.aborted&&(n=setTimeout(function(){e(...u),n=null},r))},i=function(){o.cancel()};return o.cancel=function(){n!==null&&(clearTimeout(n),n=null)},t?.addEventListener("abort",i,{once:!0}),o}var Xu=l(()=>{});var Go=l(()=>{Yu();Wu();Ku();Xu()});var at,xr,ga=l(()=>{"use strict";(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED"})(at||(at={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(xr||(xr={}))});var Mt={};I(Mt,{_patcherDelaySymbol:()=>Bn,after:()=>Y,before:()=>Dt,default:()=>Fn,instead:()=>br});function ha(e){function r(...n){var o=this;if(Bn in n[1]){var i=n[1][Bn],s=!1,u=function(){return s=!0};return i(function(m){s||(n[1]=m,u=e.apply(o,n))}),function(){return u()}}return e.apply(this,n)}function t(...n){var o=this,i=n[1];if(!i||!("then"in i))throw new Error("target is not a then-able object");var s=!1,u=function(){return s=!0};return i.then(function(m){s||(n[1]=m,u=r.apply(o,n))}),function(){return u()}}return Object.assign(r,{await:t})}var Am,Im,Cm,Bn,Y,Dt,br,Fn,Fe=l(()=>{"use strict";({after:Am,before:Im,instead:Cm}=Mo()),Bn=Symbol.for("bunny.api.patcher.delay");Y=ha(Am),Dt=ha(Im),br=ha(Cm),Fn={after:Y,before:Dt,instead:br}});var kn={};I(kn,{assetsMap:()=>st,findAsset:()=>jn,findAssetId:()=>p,patchAssets:()=>Lm});function Lm(e){if(!Un){Un=e;var r=Y("registerAsset",Un,function([t]){var n=_a();n!==-1&&ya(t.name,n)});return r}}function jn(e){return typeof e=="number"?Un.getAssetByID(e):typeof e=="string"?st[e]:Object.values(st).find(e)}function p(e){return st[e]?.index}var st,Un,ee=l(()=>{"use strict";Fe();Ft();Bt();st=new Proxy({},{get(e,r){if(typeof r=="string"){if(e[r])return e[r];var t=wr().assetsIndex[r];if(t!=null){for(var n in t){var o=Je(Number(n));if(typeof o=="number"){var i=Un.getAssetByID(o);i&&(i.index??=i.id??=o,i.moduleId??=n,e[r]??=i)}}return e[r]}}},ownKeys(e){var r=[];for(var t in wr().assetsIndex)e[t]=this.get(e,t,{}),e[t]&&r.push(t);return r}})});var Pm,Nm,Om,Tr,Hn=l(()=>{"use strict";Pm=function(e){return{status:"fulfilled",value:e}},Nm=function(e){return{status:"rejected",reason:e}},Om=function(e){return Promise.resolve(e).then(Pm,Nm)},Tr=function(e){return Promise.all(Array.from(e).map(Om))};Promise.allSettled??=Tr});function qu(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ut(e,r,t){return r&&qu(e.prototype,r),t&&qu(e,t),e}var zo=l(()=>{});function $o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Sa=l(()=>{});var Ea,nn,Yo=l(()=>{"use strict";Fo();zo();Sa();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Ea||(Ea={}));nn=function(){"use strict";function e(){Nt(this,e),$o(this,"listeners",Object.values(Ea).reduce(function(r,t){return r[t]=new Set,r},{}))}return Ut(e,[{key:"on",value:function(t,n){this.listeners[t].has(n)||this.listeners[t].add(n)}},{key:"off",value:function(t,n){this.listeners[t].delete(n)}},{key:"once",value:function(t,n){var o=this,i=function(s,u){o.off(s,i),n(s,u)};this.on(t,i)}},{key:"emit",value:function(t,n){for(var o of this.listeners[t])o(t,n)}}]),e}()});function he(e,r={}){var t,n=r.hint!=="object"?function(){}:{},o=function(){return t??=e()},i=new Proxy(n,Mm);return Zu.set(i,o),on.set(n,{factory:e,options:r}),i}function V(e,r={}){var t=he(e);return new Proxy({},{get(n,o){return o===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:function(i,s){return he(function(){return t[s]},r)}}),new Error("This is not a real iterator, this is likely used incorrectly")}:he(function(){return t[o]},r)}})}function Qu(e){return Zu.get(e)}var Ju,Dm,Zu,on,Mm,Te=l(()=>{"use strict";Ju=new Set(["arguments","caller","prototype"]),Dm=function(e){return typeof e=="string"&&Ju.has(e)},Zu=new WeakMap,on=new WeakMap,Mm={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(e){return[e,function(r,...t){var n=on.get(r),o=n?.factory();if(!o)throw new Error(`Trying to Reflect.${e} of ${typeof o}`);return Reflect[e](o,...t)}]})),has(e,r){var t=on.get(e);if(t?.options){var{exemptedEntries:n}=t.options;if(n&&r in n)return!0}var o=t?.factory();if(!o)throw new Error(`Trying to Reflect.has of ${typeof o}`);return Reflect.has(o,r)},get(e,r,t){var n=on.get(e);if(n?.options){var{exemptedEntries:o}=n.options;if(o?.[r])return o[r]}var i=n?.factory();if(!i)throw new Error(`Trying to Reflect.get of ${typeof i}`);return Reflect.get(i,r,t)},ownKeys:function(e){var r=on.get(e),t=r?.factory();if(!t)throw new Error(`Trying to Reflect.ownKeys of ${typeof t}`);var n=Reflect.ownKeys(t);return Ju.forEach(function(o){return!n.includes(o)&&n.push(o)}),n},getOwnPropertyDescriptor:function(e,r){var t=on.get(e),n=t?.factory();if(!n)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof n}`);if(Dm(r))return Reflect.getOwnPropertyDescriptor(e,r);var o=Reflect.getOwnPropertyDescriptor(n,r);return o&&Object.defineProperty(e,r,o),o}}});var Vn,ut,ct,ft,Wo,Ko,Gn,zn=l(()=>{"use strict";Bt();$();Vn=Ze(function(e,r){return e.length===0?r[e[0]]:e.every(function(t){return r[t]})},function(e){return`bunny.metro.byProps(${e.join(",")})`}),ut=Ze(function([e],r){return r.name===e},function(e){return`bunny.metro.byName(${e})`}),ct=Ze(function([e],r){return r.displayName===e},function(e){return`bunny.metro.byDisplayName(${e})`}),ft=Ze(function([e],r){return r.type?.name===e},function(e){return`bunny.metro.byTypeName(${e})`}),Wo=Ze(function([e],r){return r.getName?.length===0&&r.getName()===e},function(e){return`bunny.metro.byStoreName(${e})`}),Ko=Ze(function([e],r,t,n){return!n&&Re[t]?.__filePath===e},function(e){return`bunny.metro.byFilePath(${e})`}),Gn=Ze(function([e],r){return r?.[e]&&!Object.getOwnPropertyDescriptor(r,e)?.get},function(e){return`bunny.metro.byMutableProp(${e})`})});function ec(e,r,t){return e.default&&e.__esModule&&t(e.default,r,!0)?[t.raw?e:e.default,!t.raw]:!t.raw&&t(e,r,!1)?[e,!1]:[void 0,!1]}function xa(e){var{cacheId:r,finish:t}=qo(e.uniq,!1);for(var[n,o]of Xo(e.uniq,!1)){var[i,s]=ec(o,n,e);if(i!==void 0)return r(n,i),[n,s]}return t(!0),[]}function Bm(e){return xa(e)?.[0]}function _e(e){var[r,t]=xa(e);if(r!=null)return t?Je(r).default:Je(r)}function ba(e){var{cacheId:r,finish:t}=qo(e.uniq,!0),n=[];for(var[o,i]of Xo(e.uniq,!0)){var[s,u]=ec(i,o,e);s!==void 0&&(n.push([o,u]),r(o,s))}return t(n.length===0),n}function Fm(e){return ba(e).map(function(r){return r[0]})}function lt(e){return ba(e).map(function(r){if(r.length){var[t,n]=r;return n?Je(t).default:Je(t)}})}var an=l(()=>{"use strict";Ft();Bt()});function Um(e){var r=wr().findIndex[e.uniq];if(r){for(var t in r)if(t[0]!=="_")return Number(t)}}function jm(e,r){var t=km(e);if(!t)throw new Error("Subscribing a module for non-proxy-find");if(!t.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return Ta(t.moduleId,function(){r(_e(t.filter))})}function km(e){return rc.get(e)}function Hr(e){var r=void 0,t=Um(e),n={filter:e,indexed:!!t,moduleId:t,getExports(i){return!t||Re[t]?.isInitialized?(i(this.forceLoad()),function(){}):this.subscribe(i)},subscribe(i){return jm(o,i)},get cache(){return r},forceLoad(){if(r??=_e(e),!r)throw new Error(`${e.uniq} is ${typeof r}! (id ${n.moduleId??"unknown"})`);return r}},o=he(function(){return n.forceLoad()},{exemptedEntries:{[wa]:n,[Bn]:function(i){return n.getExports(i)}}});return rc.set(o,n),o}var wa,rc,Jo=l(()=>{"use strict";Fe();Te();Ft();an();Bt();wa=Symbol.for("bunny.metro.lazyContext"),rc=new WeakMap});function Ze(e,r){function t(o,i,s){return Object.assign(o,{filter:e,raw:s,uniq:[s&&"raw::",r(i)].filter(Boolean).join("")})}var n=function(o){return function(...i){return t(function(s,u,m){return e(i,s,u,m)},i,o)}};return Object.assign(n(!1),{byRaw:n(!0),uniqMaker:r})}function Zo(e,r){return Ze(function(t,n){return e(n)},function(){return`dynamic::${r}`})()}var L,E,Ra,Qo,ye,Aa,Ia,Ca,La,Pa,Hm,Na,Oa,$n,Da,Vm,$=l(()=>{"use strict";zn();an();Jo();L=function(...e){return _e(Vn(...e))},E=function(...e){return Hr(Vn(...e))},Ra=function(...e){return lt(Vn(...e))},Qo=function(e,r=!0){return _e(r?ut(e):ut.byRaw(e))},ye=function(e,r=!0){return Hr(r?ut(e):ut.byRaw(e))},Aa=function(e,r=!0){return lt(r?ut(e):ut.byRaw(e))},Ia=function(e,r=!0){return _e(r?ct(e):ct.byRaw(e))},Ca=function(e,r=!0){return Hr(r?ct(e):ct.byRaw(e))},La=function(e,r=!0){return lt(r?ct(e):ct.byRaw(e))},Pa=function(e,r=!0){return _e(r?ft(e):ft.byRaw(e))},Hm=function(e,r=!0){return Hr(r?ft(e):ft.byRaw(e))},Na=function(e,r=!0){return lt(r?ft(e):ft.byRaw(e))},Oa=function(e){return _e(Wo(e))},$n=function(e){return Hr(Wo(e))},Da=function(e){return _e(Ko(e))},Vm=function(e){return Hr(Ko(e))}});var ri={};I(ri,{Flux:()=>ja,FluxDispatcher:()=>lr,NavigationNative:()=>oe,React:()=>Xn,ReactNative:()=>ei,assets:()=>Ma,channels:()=>Yn,clipboard:()=>$e,commands:()=>sn,constants:()=>mt,i18n:()=>dt,invites:()=>Ba,messageUtil:()=>Qe,navigation:()=>Fa,navigationStack:()=>Ua,semver:()=>un,toasts:()=>Wn,tokens:()=>Kn,url:()=>pt});var mt,Yn,dt,pt,$e,Ma,Ba,sn,Fa,Wn,Qe,Ua,oe,Kn,un,ja,lr,Xn,ei,j=l(()=>{"use strict";Te();$();mt=E("Fonts","Permissions"),Yn=E("getVoiceChannelId"),dt=E("Messages"),pt=E("openURL","openDeeplink"),$e=E("setString","getString","hasString"),Ma=E("registerAsset"),Ba=E("acceptInviteAndTransitionToInviteChannel"),sn=E("getBuiltInCommands"),Fa=E("pushLazy"),Wn=he(function(){return Da("modules/toast/native/ToastActionCreators.tsx").default}),Qe=E("sendBotMessage"),Ua=E("createStackNavigator"),oe=E("NavigationContainer"),Kn=E("colors","unsafe_rawColors"),un=E("parse","clean"),ja=E("connectStores"),lr=L("_interceptors"),Xn=window.React=E("createElement"),ei=window.ReactNative=E("AppRegistry")});var ti={};I(ti,{byDisplayName:()=>ct,byFilePath:()=>Ko,byMutableProp:()=>Gn,byName:()=>ut,byProps:()=>Vn,byStoreName:()=>Wo,byTypeName:()=>ft,common:()=>ri,createFilterDefinition:()=>Ze,createSimpleFilter:()=>Zo,findAllExports:()=>lt,findAllModule:()=>ba,findAllModuleId:()=>Fm,findByDisplayName:()=>Ia,findByDisplayNameAll:()=>La,findByDisplayNameLazy:()=>Ca,findByFilePath:()=>Da,findByFilePathLazy:()=>Vm,findByName:()=>Qo,findByNameAll:()=>Aa,findByNameLazy:()=>ye,findByProps:()=>L,findByPropsAll:()=>Ra,findByPropsLazy:()=>E,findByStoreName:()=>Oa,findByStoreNameLazy:()=>$n,findByTypeName:()=>Pa,findByTypeNameAll:()=>Na,findByTypeNameLazy:()=>Hm,findExports:()=>_e,findModule:()=>xa,findModuleId:()=>Bm});var jt=l(()=>{"use strict";j();zn();an();$()});var vt=_r((qv,tc)=>{"use strict";jt();tc.exports={react:E("createElement"),"react-native":E("AppRegistry"),util:E("inspect","isNullOrUndefined"),moment:E("isMoment"),"chroma-js":E("brewer"),lodash:E("forEachRight"),"@shopify/react-native-skia":E("useFont")}});var X=_r((Jv,nc)=>{nc.exports=vt()["react-native"]});var ic,oc,ka,ac,gt,Se,Vr,sc=l(()=>{"use strict";fr();ic=D(X()),oc=/[<>:"/\\|?*]/g,ka=function(e){return ic.Platform.select({default:e,ios:U.saveFileToGallery?e:`Documents/${e}`})},ac=function(e){return oc.test(e)&&(e=e.replace(oc,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`},gt=async function(e){await Sr.getItem(e)&&Sr.removeItem(e);var r=ac(e);await U.fileExists(`${U.getConstants().DocumentsDirPath}/${r}`)&&await U.removeFile?.("documents",r)},Se=function(e,r={}){var t=ac(e),n=JSON.stringify(r);return Vr(t,r,async function(){var o=`${U.getConstants().DocumentsDirPath}/${t}`;if(!await U.fileExists(o)){var i=await Sr.getItem(e)??n;if(i==="!!LARGE_VALUE!!"){var s=`${U.getConstants().CacheDirPath}/mmkv/${e}`;await U.fileExists(s)?i=await U.readFile(s,"utf8"):(console.log(`${e}: Experienced data loss :(`),i=n)}try{JSON.parse(i)}catch{console.error(`${e} had an unparseable data while migrating`),i=n}await U.writeFile("documents",ka(t),i,"utf8"),await Sr.getItem(e)!==null&&(Sr.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}}())},Vr=function(e,r={},t){return{get:async function(){await t;var n=`${U.getConstants().DocumentsDirPath}/${e}`;if(await U.fileExists(n)){var o=await U.readFile(n,"utf8");try{return JSON.parse(o)}catch{}}return await U.writeFile("documents",ka(e),JSON.stringify(r),"utf8"),JSON.parse(await U.readFile(n,"utf8"))},set:async function(n){await t,await U.writeFile("documents",ka(e),JSON.stringify(n),"utf8")}}}});var ni={};I(ni,{awaitStorage:()=>mr,createFileBackend:()=>Vr,createMMKVBackend:()=>Se,createProxy:()=>cn,createStorage:()=>fe,purgeStorage:()=>gt,useProxy:()=>N,wrapSync:()=>Ne});function cn(e={}){var r=new nn;function t(n,o){return new Proxy(n,{get(i,s){if(s===uc)return r;var u=[...o,s],m=i[s];return m!=null?(r.emit("GET",{path:u,value:m}),typeof m=="object"?t(m,u):m):m},set(i,s,u){return i[s]=u,r.emit("SET",{path:[...o,s],value:u}),!0},deleteProperty(i,s){var u=delete i[s];return u&&r.emit("DEL",{path:[...o,s]}),u}})}return{proxy:t(e,[]),emitter:r}}function N(e){var r=e[uc],[,t]=React.useReducer(function(n){return~n},0);return React.useEffect(function(){var n=function(){return t()};return r.on("SET",n),r.on("DEL",n),function(){r.off("SET",n),r.off("DEL",n)}},[]),e}async function fe(e){var r=await e.get(),{proxy:t,emitter:n}=cn(r),o=function(){return e.set(t)};return n.on("SET",o),n.on("DEL",o),t}function Ne(e){var r=void 0,t=[],n=function(o){return r?o():t.push(o)};return e.then(function(o){r=o,t.forEach(function(i){return i()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(o){return[o,function(i,...s){return Reflect[o](r??i,...s)}]})),get(o,i,s){return i===cc?n:Reflect.get(r??o,i,s)}})}function mr(...e){return Promise.all(e.map(function(r){return new Promise(function(t){return r[cc](t)})}))}var uc,cc,q=l(()=>{"use strict";Yo();sc();uc=Symbol.for("vendetta.storage.emitter"),cc=Symbol.for("vendetta.storage.accessor")});var Ya={};I(Ya,{BUNNY_PROXY_PREFIX:()=>fn,DISCORD_SERVER:()=>Ha,DISCORD_SERVER_ID:()=>za,GITHUB:()=>Va,HTTP_REGEX:()=>Gm,HTTP_REGEX_MULTI:()=>qn,OLD_BUNNY_PROXY_PREFIX:()=>Ga,PLUGINS_CHANNEL_ID:()=>$a,THEMES_CHANNEL_ID:()=>Jn,VD_PROXY_PREFIX:()=>Rr});var Ha,Va,Gm,qn,Rr,fn,Ga,za,$a,Jn,ht=l(()=>{"use strict";Ha="https://discord.gg/XjYgWXHb9Q",Va="https://github.com/pyoncord",Gm=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,qn=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,Rr="https://vd-plugins.github.io/proxy",fn="https://bn-plugins.github.io/vd-proxy",Ga="https://bunny-mod.github.io/plugins-proxy",za="1015931589865246730",$a="1091880384561684561",Jn="1091880434939482202"});var dr,fc=l(()=>{"use strict";er();dr=function(e,r){return ln(e,r,{walkable:["props","children","child","sibling"]})}});function Wa(e,r,t,n){if(!(n>t.maxDepth)&&e){try{if(r(e))return e}catch{}if(Array.isArray(e)){for(var o of e)if(!(typeof o!="object"||o===null))try{var i=Wa(o,r,t,n+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var s of Object.keys(e))if(!(typeof e[s]!="object"||e[s]===null)&&!(t.walkable.length&&!t.walkable.includes(s))&&!t.ignore.includes(s))try{var u=Wa(e[s],r,t,n+1);if(u)return u}catch{}}}}var ln,lc=l(()=>{"use strict";ln=function(e,r,{walkable:t=[],ignore:n=[],maxDepth:o=100}={}){return Wa(e,r,{walkable:t,ignore:n,maxDepth:o},0)}});var Ka={};I(Ka,{DiscordLogger:()=>mn,logger:()=>re});var mn,re,Ar=l(()=>{"use strict";$();mn=ye("Logger"),re=new mn("Bunny")});async function Ae(e,r,t=1e4){var n=await fetch(e,{signal:zm(t),...r});if(!n.ok)throw new Error("Request returned non-ok");return n}function zm(e){var r=new AbortController;return setTimeout(function(){return r.abort(`Timed out after ${e}ms`)},e),r.signal}var mc=l(()=>{"use strict"});var Xa={};I(Xa,{ButtonColors:()=>Ye});var Ye,dn=l(()=>{"use strict";(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(Ye||(Ye={}))});var oi={};I(oi,{Emitter:()=>nn,constants:()=>Ya,findInReactTree:()=>dr,findInTree:()=>ln,logger:()=>Ka,safeFetch:()=>Ae,types:()=>Xa});var er=l(()=>{"use strict";ht();Yo();fc();lc();Ar();mc();dn()});var qa=_r((lg,dc)=>{dc.exports=vt()["chroma-js"]});var Qn={};I(Qn,{applyTheme:()=>Zn,color:()=>ae,fetchTheme:()=>Ht,getCurrentTheme:()=>ai,getThemeFromLoader:()=>yt,initThemes:()=>rs,installTheme:()=>Gr,patchChatBackground:()=>es,removeTheme:()=>Vt,selectTheme:()=>zr,themes:()=>W,updateThemes:()=>ii});async function Ja(e){if(typeof e!="object")throw new Error("Theme must be an object");await Vr(ts()||"theme.json").set(e)}function es(){var e=[Y("default",Ym,function(r,t){return _t?React.createElement(pn.ImageBackground,{style:{flex:1,height:"100%"},source:Ue?.data?.background?.url&&{uri:Ue.data.background.url}||0,blurRadius:typeof Ue?.data?.background?.blur=="number"?Ue?.data?.background?.blur:0,children:t}):t}),Y("render",Wm.prototype,function(r,t){if(!(!_t||!Ue?.data?.background?.url)){var n=dr(t,function(o){return o&&"HACK_fixModalInteraction"in o.props&&o?.props?.style});n?n.props.style=[n.props.style,{backgroundColor:(0,kt.default)(n.props.style.backgroundColor||"black").alpha(1-(Ue?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return function(){return e.forEach(function(r){return r()})}}function _c(e){if(kt.default.valid(e))return(0,kt.default)(e).hex();var r=Number((0,pn.processColor)(e));return kt.default.rgb(r>>16&255,r>>8&255,r&255,r>>24&255).hex()}function Xm(e){if(e.semanticColors){var{semanticColors:r}=e;for(var t in r)for(var n in r[t])r[t][n]&&=_c(r[t][n])}if(e.rawColors){var{rawColors:o}=e;for(var i in o)e.rawColors[i]=_c(o[i]);pn.Platform.OS==="android"&&qm(o)}return e.spec??=2,e}function qm(e){var r={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var t in r){var[n,o]=r[t];e[n]&&(e[t]=(0,kt.default)(e[n]).alpha(o).hex())}}async function Ht(e,r=!1){var t;try{t=await(await Ae(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}W[e]={id:e,selected:r,data:Xm(t)},r&&(Ja(W[e]),Zn(W[e],le))}async function Gr(e){if(typeof e!="string"||e in W)throw new Error("Theme already installed");await Ht(e)}function zr(e,r=!0){if(e&&(e.selected=!0),Object.keys(W).forEach(function(t){return W[t].selected=W[t].id===e?.id}),e==null&&r)return Ja({});if(e)return Ja(e)}async function Vt(e){var r=W[e];return r.selected&&await zr(null),delete W[e],r.selected}function yt(){return eo()}async function ii(){await mr(W);var e=yt();await Tr(Object.keys(W).map(function(r){return Ht(r,e?.id===r)}))}function ai(){return Ue}function Qa(e){return Zm.has(e)}function Qm(){var e=function([r]){return r===pr?[le]:void 0};Object.keys(ae.RawColor).forEach(function(r){Object.defineProperty(ae.RawColor,r,{configurable:!0,enumerable:!0,get:function(){return _t?Ue?.data?.rawColors?.[r]??yc[r]:yc[r]}})}),Dt("isThemeDark",hc,e),Dt("isThemeLight",hc,e),Dt("updateTheme",sa,e),Y("get",pc,function([r],t){r==="SelectivelySyncedUserSettingsStore"?(Za=!0,t?._state?.appearance?.settings?.theme&&_t&&(le=t._state.appearance.settings.theme,t._state.appearance.settings.theme=pr)):r==="ThemeStore"&&(Za=!0,t?._state?.theme&&_t&&(le=t._state.theme,t._state.theme=pr))}),Dt("set",pc,function(r){if(r[1]){var t=r[0],n=JSON.parse(JSON.stringify(r[1])),o={SelectivelySyncedUserSettingsStore:function(){if(n._state?.appearance?.settings?.theme){var{theme:i}=n._state?.appearance?.settings??{};Qa(i)?le=i:n._state.appearance.settings.theme=le}},ThemeStore:function(){if(n._state?.theme){var{theme:i}=n._state;Qa(i)?le=i:n._state.theme=le}}};return t in o?(o[t](),[t,n]):r}}),br("resolveSemanticColor",ae.default.meta??ae.default.internal,function(r,t){if(!_t||!Ue)return t(...r);if(r[0]!==pr)return t(...r);r[0]=le;var[n,o]=Sc(le,r[1]),i=le==="midnight"?2:le==="light"?1:0;var s=Km[n]??n,u=(Ue.data?.semanticColors?.[n]??Ue.data?.semanticColors?.[s])?.[i];if(u)return u;var m=Ue.data?.rawColors?.[o.raw];return m?o.opacity===1?m:(0,kt.default)(m).alpha(o.opacity).hex():t(...r)})}function ed(e=le){var r=$m.theme.toLowerCase();return Qa(r)?r:e}function Zn(e,r){r||(r=ed()),Ue=e,_t=!!Ue,le=r,pr=`vd-theme-${Jm++}-${r}`,e&&(ae.Theme[pr.toUpperCase()]=pr,gc.DIVIDER_COLORS[pr]=gc.DIVIDER_COLORS[le],Object.keys(ae.Shadow).forEach(function(t){return ae.Shadow[t][pr]=ae.Shadow[t][le]}),Object.keys(ae.SemanticColor).forEach(function(t){ae.SemanticColor[t][pr]={...ae.SemanticColor[t][le],override:e?.data?.semanticColors?.[t]?.[0]}})),Za&&(vc.setShouldSyncAppearanceSettings(!1),vc.updateTheme(e?pr:r))}function rs(){var e=yt();_t=!!e,Qm(),Zn(e,le),ii().catch(function(r){return console.error("Failed to update themes",r)})}function Sc(e,r){var t=r[Sc._sym??=Object.getOwnPropertySymbols(r)[0]],n=ae.SemanticColor[t];return[t,n[e]]}var kt,pn,ae,pc,vc,$m,gc,Ym,Wm,hc,W,Km,yc,Jm,pr,le,_t,Ue,Za,Zm,rr=l(()=>{"use strict";Hn();vr();fr();Fe();q();er();Te();zn();Jo();$();kt=D(qa()),pn=D(X());ae=E("SemanticColor"),pc=he(function(){var e=L("impl");return typeof e?.impl=="object"?e.impl:L("storage")}),vc=E("updateTheme"),$m=$n("ThemeStore"),gc=E("DIVIDER_COLORS"),Ym=ye("MessagesWrapperConnected",!1),{MessagesWrapper:Wm}=V(function(){return L("MessagesWrapper")}),hc=Hr(Gn("isThemeDark")),W=Ne(fe(Se("VENDETTA_THEMES"))),Km={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};yc={...ae.RawColor},Jm=0,pr="vd-theme",le="darker",_t=!1,Za=!1,Zm=new Set(["darker","midnight","dark","light"])});var cs={};I(cs,{getLoaderConfigPath:()=>ss,getLoaderIdentity:()=>td,getLoaderName:()=>si,getLoaderVersion:()=>ns,getReactDevToolsProp:()=>os,getReactDevToolsVersion:()=>is,getStoredTheme:()=>eo,getSysColors:()=>Ec,getThemeFilePath:()=>ts,getVendettaLoaderIdentity:()=>ro,isFontSupported:()=>us,isLoaderConfigSupported:()=>ui,isPyonLoader:()=>ie,isReactDevToolsPreloaded:()=>vn,isSysColorsSupported:()=>as,isThemeSupported:()=>tr,isVendettaLoader:()=>Ie});function Ie(){return Cr!=null}function ie(){return Ir!=null}function rd(){if(!ie()||Ie())return null;var e={name:Ir.loaderName,features:{}};return ui()&&(e.features.loaderConfig=!0),as()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return Ec()},configurable:!0})),tr()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){var r=eo()?.id;if(!r)return null;var{themes:t}=(rr(),Be(Qn));return t[r]??eo()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}function td(){return ie()?Ir:Ie()?ro():null}function ro(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:rd()}function si(){return ie()?Ir.loaderName:Ie()?Cr.name:"Unknown"}function ns(){return ie()?Ir.loaderVersion:null}function ui(){return ie()?!0:Ie()?Cr.features.loaderConfig:!1}function tr(){return ie()?Ir.hasThemeSupport:Ie()?Cr.features.themes!=null:!1}function eo(){if(ie())return Ir.storedTheme;if(Ie()){var e=Cr.features.themes?.prop;return e&&globalThis[e]||null}return null}function ts(){return ie()?"pyoncord/current-theme.json":Ie()?"vendetta_theme.json":null}function vn(){return ie()?!!window.__reactDevTools:Ie()?Cr.features.devtools!=null:!1}function os(){return vn()?ie()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):Ie()?Cr.features.devtools.prop:null:null}function is(){return vn()?ie()?window.__reactDevTools.version||null:Ie()?Cr.features.devtools.version:null:null}function as(){return ie()?Ir.isSysColorsSupported:Ie()?Cr.features.syscolors!=null:!1}function Ec(){return as()?ie()?Ir.sysColors:Ie()?Cr.features.syscolors.prop:null:null}function ss(){return ie()?"pyoncord/loader.json":Ie()?"vendetta_loader.json":"loader.json"}function us(){return ie()?Ir.fontPatch===2:!1}var Ir,Cr,vr=l(()=>{"use strict";Ir=globalThis.__PYON_LOADER__,Cr=globalThis.__vendetta_loader;ro()});var ci={};I(ci,{loaderConfig:()=>nr,settings:()=>x});var x,nr,me=l(()=>{"use strict";vr();q();x=Ne(fe(Se("VENDETTA_SETTINGS"))),nr=Ne(fe(Vr(ss(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var ds={};I(ds,{default:()=>nd});var xc,wc,fs,ms,gn,ls,$r,bc,to,nd,ps=l(()=>{"use strict";Ft();xc=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),wc={},fs={},ms=vs("redesign_module");for([bc,to]of ms.getModules())for($r of xc){if(gn=void 0,to[$r])gn=to;else if(to.default?.[$r])gn=to.default;else continue;ls=Reflect.ownKeys(gn).length,!(fs[$r]&&ls>=fs[$r])&&(wc[$r]=gn[$r],fs[$r]=Reflect.ownKeys(gn).length,ms.cacheId(bc),ls===1&&xc.delete($r))}ms.finish();nd=wc});var _s={};I(_s,{getCachedPolyfillModules:()=>cd,getImportingModuleId:()=>_a,getModules:()=>Xo,metroModules:()=>Re,requireModule:()=>Je,subscribeModule:()=>Ta});function li(e){Object.defineProperty(Re,e,{enumerable:!1}),Ic.add(e),Ss(Number(e))}function no(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0}function ud(e,r){if(ys(r,e),e.initSentry&&=function(){},e.default?.track&&e.default.trackMaker&&(e.default.track=function(){return Promise.resolve()}),e.registerAsset&&(ee(),Be(kn)).patchAssets(e),e?.default?.name==="requireNativeComponent"&&hs("default",e,function(s,u){try{return u(...s)}catch{return s[0]}}),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(s,u,m){if(u==="isDeveloper"){var{settings:T}=(me(),Be(ci));return T.enableDiscordDeveloperSettings??!1}return Reflect.get(s,u,m)}})),!Rc&&e.fileFinishedImporting&&(id("fileFinishedImporting",e,function([s]){hn===-1||!s||(Re[hn].__filePath=s)}),Rc=!0),!Tc&&window["__core-js_shared__"]){var t=function(s){return typeof s=="function"&&sd.apply(s,[])};window["__core-js_shared__"].inspectSource=t,Tc=!0}if(e.findHostInstance_DEPRECATED){var n=Re[r-1]?.publicModule.exports,o=n.default?.reactProfilingEnabled?1:-1;Re[r+o]?.isInitialized||li(r+o)}e.isMoment&&hs("defineLocale",e,function(s,u){var m=e.locale();u(...s),e.locale(m)});var i=fi.get(Number(r));i&&(i.forEach(function(s){return s()}),fi.delete(Number(r)))}function _a(){return hn}function Ta(e,r){var t=fi.get(e)??new Set;return t.add(r),fi.set(e,t),function(){return t.delete(r)}}function Je(e){if(Re[0]?.isInitialized||gs(0),!Ic.has(e)){if(Number(e)===-1)return ps(),Be(ds);if(Re[e]?.isInitialized&&!Re[e]?.hasError)return gs(e);var r=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(ad);var t;try{t=gs(e)}catch{li(e),t=void 0}return ErrorUtils.setGlobalHandler(r),t}}function*Xo(e,r=!1){yield[-1,(ps(),Be(ds))];var t=wr().findIndex[e];if(r&&!t?.[`_${xr.FULL_LOOKUP}`]&&(t=void 0),!t?.[`_${xr.NOT_FOUND}`]){for(var n in t)if(n[0]!=="_"){var o=Je(Number(n));no(o)||(yield[n,o])}for(var i in Re){var s=Je(Number(i));no(s)||(yield[i,s])}}}function*cd(e){var r=wr().polyfillIndex[e];for(var t in r){var n=Je(Number(t));no(n)||(yield[t,n])}if(!r[`_${xr.FULL_LOOKUP}`])for(var o in Re){var i=Je(Number(o));no(i)||(yield[o,i])}}var od,id,hs,Re,gs,fi,Ic,ad,sd,Tc,Rc,hn,Ac,Bt=l(()=>{"use strict";Ft();ga();od=function(e){var r=Number(e),t=Re[r],n=wr().exportsIndex[r];if(n&at.BLACKLISTED)return li(r),"continue";t.factory&&hs("factory",t,function(o,i){var s=hn;hn=r;var{1:u,4:m}=o;o[2]=function(T){var C=u(T);return C&&C.__esModule?C.default:C},o[3]=function(T){var C=u(T);if(C&&C.__esModule)return C;var ne={};return C&&Object.assign(ne,C),ne.default=C,ne},i(...o),no(m.exports)?li(r):ud(m.exports,r),hn=s})},{before:id,instead:hs}=Mo(),Re=window.modules,gs=window.__r,fi=new Map,Ic=new Set,ad=function(){},sd=Function.prototype.toString,Tc=!1,Rc=!1,hn=-1;for(Ac in Re)od(Ac)});var Oc={};I(Oc,{getCacherForUniq:()=>qo,getMetroCache:()=>wr,getPolyfillModuleCacher:()=>vs,indexAssetName:()=>ya,indexBlacklistFlag:()=>Ss,indexExportsFlags:()=>ys,initMetroCache:()=>fd});function Cc(){var e={_v:Lc,_buildNumber:Pt.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(function(){for(var r in window.modules)(Bt(),Be(_s)).requireModule(r)},100),Oe=e,e}async function fd(){var e=await Sr.getItem(Pc);if(e==null)return void Cc();try{if(Oe=JSON.parse(e),Oe._v!==Lc)throw Oe=null,"cache invalidated; cache version outdated";if(Oe._buildNumber!==Pt.Build)throw Oe=null,"cache invalidated; version mismatch";if(Oe._modulesCount!==Object.keys(window.modules).length)throw Oe=null,"cache invalidated; modules count mismatch"}catch{Cc()}}function Nc(e){if(e){var r=at.EXISTS;return r}}function ys(e,r){var t=Nc(r);t&&t!==at.EXISTS&&(Oe.exportsIndex[e]=t)}function Ss(e){Oe.exportsIndex[e]|=at.BLACKLISTED}function qo(e,r){var t=Oe.findIndex[e]??={};return{cacheId(n,o){t[n]??=Nc(o),oo()},finish(n){r&&(t[`_${xr.FULL_LOOKUP}`]=1),n&&(t[`_${xr.NOT_FOUND}`]=1),oo()}}}function vs(e){var r=Oe.polyfillIndex[e]??={};return{getModules(){return(Bt(),Be(_s)).getCachedPolyfillModules(e)},cacheId(t){r[t]=1,oo()},finish(){r[`_${xr.FULL_LOOKUP}`]=1,oo()}}}function ya(e,r){isNaN(r)||((Oe.assetsIndex[e]??={})[r]=1,oo())}var Lc,Pc,Oe,wr,oo,Ft=l(()=>{"use strict";fr();Go();ga();Lc=52,Pc="__bunny_metro_cache_key__",Oe=null,wr=window.__getMetroCache=function(){return Oe};oo=va(function(){Sr.setItem(Pc,JSON.stringify(Oe))},1e3)});var Es=_r((Lg,Dc)=>{Dc.exports=vt().moment});function Bc({locale:e}){try{Mc.default.locale(e.toLowerCase())}catch(r){re.error("Failed to fix timestamps...",r)}lr.unsubscribe("I18N_LOAD_SUCCESS",Bc)}function Fc(){lr.subscribe("I18N_LOAD_SUCCESS",Bc)}var Mc,Uc=l(()=>{"use strict";Ar();j();Mc=D(Es())});var kc,jc=l(()=>{kc={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function Gc(){var e=function({locale:r}){var t={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},n=Hc=t[r]??r;if(n.startsWith("en-")){_n=null;return}Vc.has(n)?_n=n:(Vc.add(n),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${n}/bunny.json`).then(function(o){return o.json()}).then(function(o){return xs[n]=o}).then(function(){return n===Hc&&(_n=n)}).catch(function(o){return console.error(`An error occured while fetching strings for ${n}: ${o}`)}))};return lr.subscribe("I18N_LOAD_SUCCESS",e),function(){return lr.unsubscribe("I18N_LOAD_SUCCESS",e)}}function We(e,r){var t=c[e];return new md(t).format(r)}var md,_n,Hc,Vc,xs,c,J=l(()=>{"use strict";j();$();jc();md=ye("MessageFormat"),_n=null,Hc=null,Vc=new Set,xs={},c=new Proxy({},{get:function(e,r){return _n&&xs[_n]?.[r]?xs[_n]?.[r]:kc[r]}})});function $c(e){var r=Qu(e[0]);return r&&(e[0]=r()),e}var zc,Lr,a,_,G=l(()=>{"use strict";Te();$();zc=E("jsx","jsxs","Fragment");Lr=Symbol.for("react.fragment"),a=function(...e){return zc.jsx(...$c(e))},_=function(...e){return zc.jsxs(...$c(e))}});var je,Gt,P,Yr=l(()=>{"use strict";Hn();q();me();er();ht();Ar();je=Ne(fe(Se("VENDETTA_PLUGINS"))),Gt={},P={plugins:je,async pluginFetch(e){return e.startsWith(Rr)&&(e=e.replace(Rr,fn)),await Ae(e,{cache:"no-store"})},async fetchPlugin(e){e.endsWith("/")||(e+="/");var r=je[e],t;try{t=await(await this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var n;if(r?.manifest.hash!==t.hash)try{n=await(await this.pluginFetch(e+(t.main||"index.js"))).text()}catch{}if(!n&&!r)throw new Error(`Failed to fetch JS for ${e}`);je[e]={id:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:n??r.js}},async installPlugin(e,r=!0){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in je)throw new Error("Plugin already installed");await this.fetchPlugin(e),r&&await this.startPlugin(e)},async evalPlugin(e){var r={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await fe(Se(e.id))},logger:new mn(`Bunny \xBB ${e.manifest.name}`)},t=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,n=(0,eval)(t)(r),o=typeof n=="function"?n():n;return o?.default??o??{}},async startPlugin(e){e.endsWith("/")||(e+="/");var r=je[e];if(!r)throw new Error("Attempted to start non-existent plugin");try{if(!x.safeMode?.enabled){var t=await this.evalPlugin(r);Gt[e]=t,t.onLoad?.()}r.enabled=!0}catch(n){re.error(`Plugin ${r.id} errored whilst loading, and will be unloaded`,n);try{Gt[r.id]?.onUnload?.()}catch(o){re.error(`Plugin ${r.id} errored whilst unloading`,o)}delete Gt[e],r.enabled=!1}},stopPlugin(e,r=!0){e.endsWith("/")||(e+="/");var t=je[e],n=Gt[e];if(!t)throw new Error("Attempted to stop non-existent plugin");if(!x.safeMode?.enabled){try{n?.onUnload?.()}catch(o){re.error(`Plugin ${t.id} errored whilst unloading`,o)}delete Gt[e]}r&&(t.enabled=!1)},async removePlugin(e){e.endsWith("/")||(e+="/");var r=je[e];r.enabled&&this.stopPlugin(e),delete je[e],await gt(e)},async initPlugins(){var e=this;await mr(x,je);var r=Object.keys(je);return x.safeMode?.enabled||(await Tr(r.filter(function(t){return je[t].enabled}).map(async function(t){return je[t].update&&await e.fetchPlugin(t).catch(function(n){return re.error(n.message)}),await e.startPlugin(t)})),r.filter(function(t){return!je[t].enabled&&je[t].update}).forEach(function(t){return e.fetchPlugin(t)})),function(){return e.stopAllPlugins()}},stopAllPlugins(){var e=this;return Object.keys(Gt).forEach(function(r){return e.stopPlugin(r,!1)})},getSettings:function(e){return Gt[e]?.settings}}});var dd,Wr,Ce,mi,di,pi,vi,zt,Ee,Zg,Ke,Qg,eh,h,rh,th,Le,$t,Yc,nh,oh,Wc,Kc,ih,yn,ah,xe,or,sh,uh,Xc,gi,qc,pd,De,bs,ch,fh,lh,mh,dh,ph,vh,gh,Jc,hh,Zc,Qc,_h,yh,Sh,Eh,Kr,ws,xh,bh,wh,Th,Rh,Ah,Sn,Ih,Z=l(()=>{"use strict";Te();an();$();dd=Ze(function([e],r){return r[e]&&Object.keys(r).length===1},function(e){return`bunny.metro.common.components.bySingularProp(${e})`}),Wr=function(e){return he(function(){return _e(dd(e))?.[e]})},Ce=function(e){return he(function(){return L(e)[e]})},mi=Ca("FluxContainer(Alert)"),di=E("Looks","Colors","Sizes"),pi=ye("HelpMessage"),vi=he(function(){return L("useSafeAreaInsets").SafeAreaView}),zt=Ce("ActionSheetRow"),Ee=Wr("Button"),Zg=Ce("TwinButtons"),Ke=Wr("IconButton"),Qg=Ce("RowButton"),eh=Ce("PressableScale"),h=Ce("TableRow"),rh=Ce("TableRowIcon"),th=Ce("TableRowTrailingText"),Le=Ce("TableRowGroup"),$t=Ce("TableSwitchRow"),Yc=Wr("FormSwitch"),nh=Wr("FormRadio"),oh=Wr("FormCheckbox"),Wc=Wr("FormSwitch"),Kc=Wr("FormRadio"),ih=Wr("FormCheckbox"),yn=Ce("Card"),ah=he(function(){return L("RedesignCompat").RedesignCompat}),xe=Ce("Stack"),or=Wr("TextInput"),sh=Ce("SegmentedControl"),uh=Ce("CompatSegmentedControl"),Xc=Ce("FloatingActionButton"),gi=Ce("ActionSheet"),qc=Ce("BottomSheetTitleHeader"),pd=E("Text","LegacyText"),De=he(function(){return pd.Text}),bs=E("Form","FormSection"),{Form:ch,FormArrow:fh,FormCTA:lh,FormCTAButton:mh,FormCardSection:dh,FormCheckbox:ph,FormCheckboxRow:vh,FormCheckmark:gh,FormDivider:Jc,FormHint:hh,FormIcon:Zc,FormInput:Qc,FormLabel:_h,FormRadio:yh,FormRadioGroup:Sh,FormRadioRow:Eh,FormRow:Kr,FormSection:ws,FormSelect:xh,FormSliderRow:bh,FormSubLabel:wh,FormSwitch:Th,FormSwitchRow:Rh,FormTernaryCheckBox:Ah,FormText:Sn,FormTitle:Ih}=V(function(){return bs})});var hi={};I(hi,{isSemanticColor:()=>Rs,rawColors:()=>Ts,resolveSemanticColor:()=>As,semanticColors:()=>se});function Rs(e){return ef.isSemanticColor(e)}function As(e,r=gd.theme){return ef.resolveSemanticColor(r,e)}var se,Ts,gd,ef,St=l(()=>{"use strict";rr();j();$();se=ae?.default?.colors??mt?.ThemeColorMap,Ts=ae?.default?.unsafe_rawColors??mt?.Colors,gd=$n("ThemeStore"),ef=ae.default.meta??=ae.default.internal});var Is={};I(Is,{TextStyleSheet:()=>ir,createStyles:()=>Xr,createThemedStyleSheet:()=>Yt});function Xr(e){return he(function(){return hd.createStyles(e)})}function Yt(e){for(var r in e)e[r]=new Proxy(rf.StyleSheet.flatten(e[r]),{get(t,n,o){var i=Reflect.get(t,n,o);return Rs(i)?As(i):i}});return e}var rf,hd,ir,Pr=l(()=>{"use strict";Te();$();St();rf=D(X()),hd=E("createStyles"),{TextStyleSheet:ir}=V(function(){return L("TextStyleSheet")})});function gr({selectable:e,style:r,children:t}){return e?En.Platform.select({ios:a(_d,{style:r,children:t}),default:a(tf,{style:r,children:t,selectable:!0})}):a(tf,{style:r,children:t})}var En,nf,_d,tf,of=l(()=>{"use strict";G();j();St();Pr();En=D(X()),nf=Xr({codeBlock:{fontFamily:mt.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:se.BACKGROUND_SECONDARY,color:se.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:se.BACKGROUND_TERTIARY,padding:10}}),_d=function({style:e,children:r}){return a(En.TextInput,{editable:!1,multiline:!0,style:[nf().codeBlock,e&&e],value:r})},tf=function({selectable:e,style:r,children:t}){return a(En.Text,{selectable:e,style:[nf().codeBlock,r&&r],children:t})}});function Cs(e){var r=React.useRef(null);return React.useEffect(function(){if(Wt.Platform.OS==="android"){var t=r.current?._children?.[0]?._nativeTag;return function(){if(t)var n=br("setAccessibilityFocus",Wt.AccessibilityInfo,function([o],i){if(o!==t)return i.apply(Wt.AccessibilityInfo,[o]);n()})}}},[]),a(Wt.View,{ref:r,children:a(yd,{...e})})}var Wt,yd,af=l(()=>{"use strict";G();Fe();Te();$();Wt=D(X()),{ContextMenu:yd}=V(function(){return L("ContextMenu")})});var Ls,sf,Sd,te,Ps=l(()=>{"use strict";Fo();zo();Sa();ua();la();G();J();j();Z();hr();Pr();Ls=D(X()),sf=Yt({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),te=function(e){"use strict";jo(t,e);var r=Vo(t);function t(n){Nt(this,t);var o;return o=r.call(this,n),o.state={hasErr:!1},o}return Ut(t,[{key:"render",value:function(){var o=this;return this.state.hasErr?_(Ls.ScrollView,{style:sf.view,children:[a(Sn,{style:sf.title,children:c.UH_OH}),a(gr,{selectable:!0,style:{marginBottom:5},children:this.state.error.name}),a(gr,{selectable:!0,style:{marginBottom:5},children:this.state.error.message}),this.state.error.stack&&a(Ls.ScrollView,{style:{maxHeight:420,marginBottom:5},children:a(gr,{selectable:!0,children:this.state.error.stack})}),a(Ee,{size:"md",variant:"destructive",onPress:function(){return o.setState({hasErr:!1})},text:c.RETRY})]}):this.props.children}}]),t}(Sd=Xn.Component);$o(te,"getDerivedStateFromError",function(e){return{hasErr:!0,error:e}})});function Ed(){return a(_i.Image,{style:{width:16,height:16},source:p("search")})}function Et({onChangeText:e,placeholder:r,style:t}){var[n,o]=React.useState(""),i=function(s){o(s),e?.(s)};return a(te,{children:a(_i.View,{style:t,children:a(or,{grow:!0,isClearable:!0,leadingIcon:Ed,placeholder:r??c.SEARCH,onChange:i,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:n})})})}var _i,uf=l(()=>{"use strict";G();J();ee();Z();Ps();_i=D(X())});function ao({label:e,icon:r,noPadding:t=!1,noAnimation:n=!1,children:o}){var[i,s]=React.useState(!0);return _(Lr,{children:[a(h,{label:e,icon:r&&a(h.Icon,{source:p(r)}),trailing:a(Kr.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:function(){s(!i),n||io.LayoutAnimation.configureNext(io.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&a(Lr,{children:a(io.View,{style:!t&&{paddingHorizontal:15},children:o})})]})}var io,cf=l(()=>{"use strict";G();ee();Z();io=D(X())});var yi={};I(yi,{Codeblock:()=>gr,ContextMenu:()=>Cs,ErrorBoundary:()=>te,Search:()=>Et,Summary:()=>ao});var hr=l(()=>{"use strict";of();af();Ps();uf();cf()});var Si={};I(Si,{showToast:()=>M});var xd,M,Nr=l(()=>{"use strict";J();ee();Te();j();$();({uuid4:xd}=V(function(){return L("uuid4")})),M=function(e,r){return Wn.open({key:`vd-toast-${xd()}`,content:e,source:r,icon:r})};M.showCopyToClipboard=function(e=c.COPIED_TO_CLIPBOARD){M(e,p("toast_copy_link"))}});function Td(e,r=null,t=!1){if(e.guild_id===za){var n;if(e.parent_id===$a)n="Plugin";else if(e.parent_id===Jn&&tr())n="Theme";else return;var{firstMessage:o}=t?bd(e):{firstMessage:r},i=o?.content?.match(qn)?.filter(so[n].urlsFilter);if(!(!i||!i[0]))return n==="Plugin"&&!i[0].endsWith("/")&&(i[0]+="/"),[n,i[0]]}}function Rd(e,r=null,t=!1){var[n,o]=Td(e,r,t)??[];N(P.plugins),N(W);var[i,s]=React.useState(!1);if(!n||!o)return[!0];var u=!!so[n].storage[o],m=async function(){s(!0);try{await so[n].installOrRemove(o)}catch(T){M(T.message,p("Small"))}finally{s(!1)}};return[!1,n,u,i,m]}function ff(){var e=[Ad()];return function(){return e.map(function(r){return r()})}}var bd,wd,so,Ad,lf=l(()=>{"use strict";G();J();Yr();ee();vr();Fe();q();rr();ht();Te();Z();$();hr();Nr();({useFirstForumPostMessage:bd}=V(function(){return L("useFirstForumPostMessage")})),wd=E("MostCommonForumPostReaction"),so={Plugin:{storage:P.plugins,urlsFilter:function(e){return e.startsWith(Rr)},installOrRemove:function(e){var r=so.Plugin.storage[e];return r?P.removePlugin(e):P.installPlugin(e)}},Theme:{storage:W,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){var r=so.Theme.storage[e];return r?Vt(e):Gr(e)}}};Ad=function(){return Y("MostCommonForumPostReaction",wd,function([{thread:e,firstMessage:r}],t){var[n,o,i,s,u]=Rd(e,r,!0);if(!n)return _(Lr,{children:[t,a(te,{children:a(Ee,{size:"sm",loading:s,disabled:s,variant:i?"secondary":"primary",text:i?c.UNINSTALL:c.INSTALL,onPress:u,icon:p(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})})}});function Ns({title:e,confirmText:r,confirmColor:t,onConfirm:n,cancelText:o,placeholder:i,initialValue:s="",secureTextEntry:u}){var[m,T]=React.useState(s),[C,ne]=React.useState("");function ue(){var ve=Promise.resolve(n(m));ve.then(function(){mf.close()}).catch(function(Fr){ne(Fr.message)})}return a(mi,{title:e,confirmText:r,confirmColor:t,isConfirmButtonDisabled:C.length!==0,onConfirm:ue,cancelText:o,onCancel:function(){return mf.close()},children:a(Qc,{placeholder:i,value:m,onChange:function(ve){T(typeof ve=="string"?ve:ve.text),C&&ne("")},returnKeyType:"done",onSubmitEditing:ue,error:C||void 0,secureTextEntry:u,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var mf,df=l(()=>{"use strict";G();Z();$();mf=E("openLazy","close")});var xi={};I(xi,{showConfirmationAlert:()=>ar,showCustomAlert:()=>Ei,showInputAlert:()=>uo});function ar(e){var r=e;return r.body=e.content,delete r.content,r.isDismissable??=!0,pf.show(r)}var pf,Ei,uo,xt=l(()=>{"use strict";$();df();pf=E("openLazy","close");Ei=function(e,r){return pf.openLazy({importer:async function(){return function(){return React.createElement(e,r)}}})},uo=function(e){return Ei(Ns,e)}});function vf(e){if(e.startsWith(Rr))return"plugin";if(e.endsWith(".json")&&tr())return"theme"}function gf(e,r){(e==="plugin"?P.installPlugin.bind(P):Gr)(r).then(function(){M(c.SUCCESSFULLY_INSTALLED,p("Check"))}).catch(function(t){M(t.message,p("Small"))})}function hf(){var e=new Array;return e.push(Y("showSimpleActionSheet",Id,function(r){if(r[0].key==="LongPressUrl"){var{header:{title:t},options:n}=r[0],o=vf(t);o&&n.push({label:c.INSTALL_ADDON,onPress:function(){return gf(o,t)}})}})),e.push(br("handleClick",Cd,async function(r,t){var{href:n}=r[0],o=vf(n);if(!o)return t.apply(this,r);if(o==="theme"&&Nd(Pd())?.parent_id!==Jn)return t.apply(this,r);ar({title:c.HOLD_UP,content:We("CONFIRMATION_LINK_IS_A_TYPE",{urlType:o}),onConfirm:function(){return gf(o,n)},confirmText:c.INSTALL,cancelText:c.CANCEL,secondaryConfirmText:c.OPEN_IN_BROWSER,onConfirmSecondary:function(){return Ld(n)}})})),function(){return e.forEach(function(r){return r()})}}var Id,Cd,Ld,Pd,Nd,_f=l(()=>{"use strict";J();Yr();ee();vr();Fe();rr();ht();Te();j();zn();an();$();xt();Nr();Id=_e(Gn("showSimpleActionSheet")),Cd=E("handleClick"),{openURL:Ld}=V(function(){return pt}),{getChannelId:Pd}=V(function(){return Yn}),{getChannel:Nd}=V(function(){return L("getChannel")})});var Sf={};I(Sf,{default:()=>yf});function yf(){var e=new Array;return e.push(ff()),e.push(hf()),function(){return e.forEach(function(r){return r()})}}var Ef=l(()=>{"use strict";lf();_f()});function xf(){var e=[(Ef(),Be(Sf))].map(function(r){return r.default()});return function(){return e.forEach(function(r){return typeof r=="function"&&r()})}}var bf=l(()=>{"use strict"});var bi,wf=l(()=>{bi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"});function Ti(e,r,t,n,o){return async function(){if(e)return void e();var i=await t().then(function(s){return s.default});typeof n=="string"&&(n={title:n}),r??=Dd.getRootNavigationRef(),r.navigate("VendettaCustomPage",{...n,render:function(){return a(i,{...o})}})}}var Dd,wi,Os=l(()=>{"use strict";G();j();$();hr();Dd=E("getRootNavigationRef"),wi=React.memo(function(){var e=oe.useNavigation(),r=oe.useRoute(),{render:t,...n}=r.params;return React.useEffect(function(){return void e.setOptions({...n})},[]),a(te,{children:a(t,{})})})});function Md(){var e=oe.useNavigation();return a(Lr,{children:Object.keys(Or).map(function(r){return a(ws,{title:r,children:Or[r].filter(function(t){return t.usePredicate?.()??!0}).map(function(t){return a(Kr,{label:t.title(),leading:a(Zc,{source:t.icon}),trailing:Kr.Arrow,onPress:Ti(t.onPress,e,t.render,t.title())})})},r)})})}function Tf(e){e.push(Y("default",ye("getScreens",!1),function(t,n){return{...n,VendettaCustomPage:{title:"Bnuuy",render:function(){return a(wi,{})}}}}));var r=Y("default",ye("UserSettingsOverviewWrapper",!1),function(t,n){var o=dr(n.props.children,function(i){return i.type?.name==="UserSettingsOverview"});e.push(Y("renderSupportAndAcknowledgements",o.type.prototype,function(i,{props:{children:s}}){var u=s.findIndex(function(m){return m?.type?.name==="UploadLogsButton"});u!==-1&&s.splice(u,1)})),e.push(Y("render",o.type.prototype,function(i,s){var u=[dt.Messages.BILLING_SETTINGS,dt.Messages.PREMIUM_SETTINGS],m=dr(s.props.children,function(C){return C?.children?.[1]?.type===ws})?.children;if(m){var T=m.findIndex(function(C){return u.includes(C?.props.label)});m.splice(-~T||4,0,a(Md,{}))}}))},!0);e.push(r)}var Rf=l(()=>{"use strict";G();Fe();er();j();Z();$();xn();Os()});function Fd(){var e=!1;return React.useEffect(function(){return void(e=!0)},[]),e}function Af(e){var r=function(){return Object.values(Or).flatMap(function(o){return o.map(function(i){return{[i.key]:{type:"pressable",title:i.title,icon:i.icon,usePredicate:i.usePredicate,onPress:Ti(i.onPress,null,i.render,i.title()),withArrow:!0,...i.rawTabsConfig}}})}).reduce(function(o,i){return Object.assign(o,i)})},t=Ri.SETTING_RENDERER_CONFIG,n=Ri.SETTING_RENDERER_CONFIG;Object.defineProperty(Ri,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:function(){return{...n,VendettaCustomPage:{type:"route",title:function(){return"Bunny"},screen:{route:"VendettaCustomPage",getComponent:function(){return wi}}},...r()}},set:function(o){return n=o}}),e.push(function(){Object.defineProperty(Ri,"SETTING_RENDERER_CONFIG",{value:t,writable:!0,get:void 0,set:void 0})}),e.push(Y("default",Bd,function(o,i){if(!Fd()){var{sections:s}=dr(i,function(m){return m.props?.sections}).props,u=-~s.findIndex(function(m){return m.label===dt.Messages.ACCOUNT_SETTINGS})||1;Object.keys(Or).forEach(function(m){s.splice(u++,0,{label:m,title:m,settings:Or[m].map(function(T){return T.key})})})}}))}var Ri,Bd,If=l(()=>{"use strict";Fe();er();j();$();xn();Os();Ri=E("SETTING_RENDERER_CONFIG"),Bd=ye("SettingsOverviewScreen",!1)});var Ms={};I(Ms,{patchSettings:()=>Ds,registerSection:()=>Ai,registeredSections:()=>Or});function Ai(e){return Or[e.name]=e.items,function(){return delete Or[e.name]}}function Ds(){var e=new Array;return Tf(e),Af(e),function(){return e.forEach(function(r){return r()})}}var Or,xn=l(()=>{"use strict";Rf();If();Or={}});function Ii({label:e,version:r,icon:t}){return a(h,{label:e,icon:a(h.Icon,{source:p(t)}),trailing:a(Sn,{children:r}),onPress:function(){$e.setString(`${e} - ${r}`),M.showCopyToClipboard()}})}var Cf=l(()=>{"use strict";G();ee();j();Z();Nr()});var Li={};I(Li,{connectToDebugger:()=>lo,getDebugInfo:()=>qr,patchLogHook:()=>Bs,socket:()=>sr,toggleSafeMode:()=>fo,versionHash:()=>co});async function fo(){x.safeMode={...x.safeMode,enabled:!x.safeMode?.enabled},tr()&&(yt()?.id&&(x.safeMode.currentThemeId=yt().id),x.safeMode?.enabled?await zr(null):x.safeMode?.currentThemeId&&await zr(W[x.safeMode?.currentThemeId])),setTimeout(Dn.reload,400)}function lo(e){if(sr!==void 0&&sr.readyState!==WebSocket.CLOSED&&sr.close(),!e){M("Invalid debugger URL!",p("Small"));return}sr=new WebSocket(`ws://${e}`),sr.addEventListener("open",function(){return M("Connected to debugger.",p("Check"))}),sr.addEventListener("message",function(r){try{(0,eval)(r.data)}catch(t){console.error(t)}}),sr.addEventListener("error",function(r){console.log(`Debugger error: ${r.message}`),M("An error occurred with the debugger connection!",p("Small"))})}function Bs(){var e=Y("nativeLoggingHook",globalThis,function(r){sr?.readyState===WebSocket.OPEN&&sr.send(JSON.stringify({message:r[0],level:r[1]})),re.log(r[0])});return function(){sr&&sr.close(),e()}}function qr(){var e=window.HermesInternal.getRuntimeProperties(),r=e["OSS Release Version"],t="for RN ",n=Ci.Platform.constants,o=n.reactNativeVersion;return{vendetta:{version:co,loader:si()},bunny:{version:co,loader:{name:si(),version:ns()}},discord:{version:Pt.Version,build:Pt.Build},react:{version:React.version,nativeVersion:r.startsWith(t)?r.substring(t.length):`${o.major}.${o.minor}.${o.patch}`},hermes:{version:r,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...Ci.Platform.select({android:{os:{name:"Android",version:n.Release,sdk:n.Version}},ios:{os:{name:n.systemName,version:n.osVersion}}}),...Ci.Platform.select({android:{device:{manufacturer:n.Manufacturer,brand:n.Brand,model:n.Model,codename:Er.device}},ios:{device:{manufacturer:Er.deviceManufacturer,brand:Er.deviceBrand,model:Er.deviceModel,codename:Er.device}}})}}var Ci,sr,co,Jr=l(()=>{"use strict";ee();vr();fr();Fe();rr();me();Ar();Nr();Ci=D(X());co="c4371ed-dev"});function Fs(){var e=qr();N(x);var r=[{label:c.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:c.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:c.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:c.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:c.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:c.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:c.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:Pi.Platform.select({android:c.CODENAME,ios:c.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return a(Pi.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(xe,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[a(Le,{title:c.VERSIONS,children:r.map(function(n){return a(Ii,{label:n.label,version:n.version,icon:n.icon})})}),a(Le,{title:c.PLATFORM,children:t.map(function(n){return a(Ii,{label:n.label,version:n.version,icon:n.icon})})})]})})}var Pi,Lf=l(()=>{"use strict";G();J();Cf();q();Jr();me();Z();Pi=D(X())});var Nf={};I(Nf,{default:()=>Pf});function Pf(){N(x);var e=qr(),r=oe.useNavigation();return a(Ni.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(xe,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[_(Le,{title:c.INFO,children:[a(h,{label:c.BUNNY,icon:a(h.Icon,{source:{uri:bi}}),trailing:a(h.TrailingText,{text:e.bunny.version})}),a(h,{label:"Discord",icon:a(h.Icon,{source:p("Discord")}),trailing:a(h.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),a(h,{arrow:!0,label:c.ABOUT,icon:a(h.Icon,{source:p("CircleInformationIcon-primary")}),trailing:h.Arrow,onPress:function(){return r.push("VendettaCustomPage",{title:c.ABOUT,render:function(){return a(Fs,{})}})}})]}),_(Le,{title:c.LINKS,children:[a(h,{label:c.DISCORD_SERVER,icon:a(h.Icon,{source:p("Discord")}),trailing:h.Arrow,onPress:function(){return pt.openDeeplink(Ha)}}),a(h,{label:c.GITHUB,icon:a(h.Icon,{source:p("img_account_sync_github_white")}),trailing:h.Arrow,onPress:function(){return pt.openURL(Va)}})]}),_(Le,{title:c.ACTIONS,children:[a(h,{label:c.RELOAD_DISCORD,icon:a(h.Icon,{source:p("ic_message_retry")}),onPress:function(){return Ni.NativeModules.BundleUpdaterManager.reload()}}),a(h,{label:x.safeMode?.enabled?c.RELOAD_IN_NORMAL_MODE:c.RELOAD_IN_SAFE_MODE,subLabel:x.safeMode?.enabled?c.RELOAD_IN_NORMAL_MODE_DESC:c.RELOAD_IN_SAFE_MODE_DESC,icon:a(h.Icon,{source:p("ic_privacy_24px")}),onPress:fo}),a($t,{label:c.DEVELOPER_SETTINGS,icon:a(h.Icon,{source:p("ic_progress_wrench_24px")}),value:x.developerSettings,onValueChange:function(t){x.developerSettings=t}})]}),a(Le,{title:c.MISCELLANEOUS,children:a($t,{label:c.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:c.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:a(h.Icon,{source:p("ic_progress_wrench_24px")}),value:x.enableDiscordDeveloperSettings,onValueChange:function(t){x.enableDiscordDeveloperSettings=t}})})]})})}var Ni,Of=l(()=>{"use strict";G();J();Us();Lf();ee();q();Jr();me();ht();j();Z();Ni=D(X())});var Mf=_r((Df,Oi)=>{Fo();zo();ua();Mu();la();(function(e,r){typeof define=="function"&&define.amd?define([],r):typeof Oi=="object"&&Oi.exports?Oi.exports=r():e.fuzzysort=r()})(Df,function(e){"use strict";var r=function(d,f){if(!d||!f)return ce;var v=ve(d);Rt(f)||(f=ue(f));var y=v.bitflags;return(y&f._bitflags)!==y?ce:ot(v,f)},t=function(d,f,v){if(!d)return v?.all?Fr(f,v):oa;var y=ve(d),b=y.bitflags,S=y.containsSpace,g=C(v?.threshold||0),A=v?.limit||na,w=0,B=0,O=f.length;function Me(Ct){w<A?(Oo.add(Ct),++w):(++B,Ct._score>Oo.peek()._score&&Oo.replaceTop(Ct))}if(v?.key)for(var we=v.key,F=0;F<O;++F){var Pe=f[F],k=No(Pe,we);if(k&&(Rt(k)||(k=ue(k)),(b&k._bitflags)===b)){var H=ot(y,k);H!==ce&&(H._score<g||(H.obj=Pe,Me(H)))}}else if(v?.keys){var kr=v.keys,cr=kr.length;e:for(var F=0;F<O;++F){var Pe=f[F];{for(var ge=0,Q=0;Q<cr;++Q){var we=kr[Q],k=No(Pe,we);if(!k){ta[Q]=Nn;continue}Rt(k)||(k=ue(k)),ta[Q]=k,ge|=k._bitflags}if((b&ge)!==b)continue}if(S)for(var He=0;He<y.spaceSearches.length;He++)jr[He]=ke;for(var Q=0;Q<cr;++Q){if(k=ta[Q],k===Nn){rn[Q]=Nn;continue}if(rn[Q]=ot(y,k,!1,S),rn[Q]===ce){rn[Q]=Nn;continue}if(S)for(var R=0;R<y.spaceSearches.length;R++){if(Tt[R]>-1e3&&jr[R]>ke){var Ve=(jr[R]+Tt[R])/4;Ve>jr[R]&&(jr[R]=Ve)}Tt[R]>jr[R]&&(jr[R]=Tt[R])}}if(S){for(var Xe=0;Xe<y.spaceSearches.length;Xe++)if(jr[Xe]===ke)continue e}else{for(var At=!1,It=0;It<cr;It++)if(rn[It]._score!==ke){At=!0;break}if(!At)continue}for(var qe=new u(cr),Ge=0;Ge<cr;Ge++)qe[Ge]=rn[Ge];if(S)for(var z=0,tn=0;tn<y.spaceSearches.length;tn++)z+=jr[tn];else for(var z=ke,ze=0;ze<cr;ze++){var H=qe[ze];if(H._score>-1e3&&z>ke){var Ve=(z+H._score)/4;Ve>z&&(z=Ve)}H._score>z&&(z=H._score)}if(qe.obj=Pe,qe._score=z,v?.scoreFn){if(z=v.scoreFn(qe),!z)continue;z=C(z),qe._score=z}z<g||Me(qe)}}else for(var F=0;F<O;++F){var k=f[F];if(k&&(Rt(k)||(k=ue(k)),(b&k._bitflags)===b)){var H=ot(y,k);H!==ce&&(H._score<g||Me(H))}}if(w===0)return oa;for(var On=new Array(w),F=w-1;F>=0;--F)On[F]=Oo.poll();return On.total=w+B,On},n=function(d,f="<b>",v="</b>"){for(var y=typeof f=="function"?f:void 0,b=d.target,S=b.length,g=d.indexes,A="",w=0,B=0,O=!1,Me=[],we=0;we<S;++we){var F=b[we];if(g[B]===we){if(++B,O||(O=!0,y?(Me.push(A),A=""):A+=f),B===g.length){y?(A+=F,Me.push(y(A,w++)),A="",Me.push(b.substr(we+1))):A+=F+v+b.substr(we+1);break}}else O&&(O=!1,y?(Me.push(y(A,w++)),A=""):A+=v);A+=F}return y?Me:A},o=function(d){typeof d=="number"?d=""+d:typeof d!="string"&&(d="");var f=Qi(d);return m(d,{_targetLower:f._lower,_targetLowerCodes:f.lowerCodes,_bitflags:f.bitflags})},i=function(){ea.clear(),ra.clear()},s=function(){function d(){Nt(this,d)}return Ut(d,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort(function(v,y){return v-y})}},{key:"indexes",set:function(v){return this._indexes=v}},{key:"highlight",value:function(v,y){return n(this,v,y)}},{key:"score",get:function(){return T(this._score)}},{key:"score",set:function(v){this._score=C(v)}}]),d}(),u=function(d){jo(v,d);var f=Vo(v);function v(){return Nt(this,v),f.apply(this,arguments)}return Ut(v,[{key:"score",get:function(){return T(this._score)}},{key:"score",set:function(b){this._score=C(b)}}]),v}(Ho(Array)),m=function(d,f){var v=new s;return v.target=d,v.obj=f.obj??ce,v._score=f._score??ke,v._indexes=f._indexes??[],v._targetLower=f._targetLower??"",v._targetLowerCodes=f._targetLowerCodes??ce,v._nextBeginningIndexes=f._nextBeginningIndexes??ce,v._bitflags=f._bitflags??0,v},T=function(d){return d===ke?0:d>1?d:Math.E**(((-d+1)**.04307-1)*-2)},C=function(d){return d===0?ke:d>1?d:1-Math.pow(Math.log(d)/-2+1,1/.04307)},ne=function(d){typeof d=="number"?d=""+d:typeof d!="string"&&(d=""),d=d.trim();var f=Qi(d),v=[];if(f.containsSpace){var y=d.split(/\s+/);y=[...new Set(y)];for(var b=0;b<y.length;b++)if(y[b]!==""){var S=Qi(y[b]);v.push({lowerCodes:S.lowerCodes,_lower:y[b].toLowerCase(),containsSpace:!1})}}return{lowerCodes:f.lowerCodes,_lower:f._lower,containsSpace:f.containsSpace,bitflags:f.bitflags,spaceSearches:v}},ue=function(d){if(d.length>999)return o(d);var f=ea.get(d);return f!==void 0||(f=o(d),ea.set(d,f)),f},ve=function(d){if(d.length>999)return ne(d);var f=ra.get(d);return f!==void 0||(f=ne(d),ra.set(d,f)),f},Fr=function(d,f){var v=[];v.total=d.length;var y=f?.limit||na;if(f?.key)for(var b=0;b<d.length;b++){var S=d[b],g=No(S,f.key);if(g!=ce){Rt(g)||(g=ue(g));var A=m(g.target,{_score:g._score,obj:S});if(v.push(A),v.length>=y)return v}}else if(f?.keys)for(var b=0;b<d.length;b++){for(var S=d[b],w=new u(f.keys.length),B=f.keys.length-1;B>=0;--B){var g=No(S,f.keys[B]);if(!g){w[B]=Nn;continue}Rt(g)||(g=ue(g)),g._score=ke,g._indexes.len=0,w[B]=g}if(w.obj=S,w._score=ke,v.push(w),v.length>=y)return v}else for(var b=0;b<d.length;b++){var g=d[b];if(g!=ce&&(Rt(g)||(g=ue(g)),g._score=ke,g._indexes.len=0,v.push(g),v.length>=y))return v}return v},ot=function(d,f,v=!1,y=!1){if(v===!1&&d.containsSpace)return om(d,f,y);for(var b=d._lower,S=d.lowerCodes,g=S[0],A=f._targetLowerCodes,w=S.length,B=A.length,F=0,O=0,Me=0;;){var we=g===A[O];if(we){if(Ur[Me++]=O,++F,F===w)break;g=S[F]}if(++O,O>=B)return ce}var F=0,Pe=!1,k=0,H=f._nextBeginningIndexes;H===ce&&(H=f._nextBeginningIndexes=am(f.target)),O=Ur[0]===0?0:H[Ur[0]-1];var kr=0;if(O!==B)for(;;)if(O>=B){if(F<=0||(++kr,kr>200))break;--F;var cr=Lo[--k];O=H[cr]}else{var we=S[F]===A[O];if(we){if(Lo[k++]=O,++F,F===w){Pe=!0;break}++O}else O=H[O]}var ge=w<=1?-1:f._targetLower.indexOf(b,Ur[0]),Q=!!~ge,He=Q?ge===0||f._nextBeginningIndexes[ge-1]===ge:!1;if(Q&&!He){for(var R=0;R<H.length;R=H[R])if(!(R<=ge)){for(var Ve=0;Ve<w&&S[Ve]===f._targetLowerCodes[R+Ve];Ve++);if(Ve===w){ge=R,He=!0;break}}}var Xe=function(Ge){for(var z=0,tn=0,ze=1;ze<w;++ze)Ge[ze]-Ge[ze-1]!==1&&(z-=Ge[ze],++tn);var On=Ge[w-1]-Ge[0]-(w-1);if(z-=(12+On)*tn,Ge[0]!==0&&(z-=Ge[0]*Ge[0]*.2),!Pe)z*=1e3;else{for(var Ct=1,ze=H[0];ze<B;ze=H[ze])++Ct;Ct>24&&(z*=(Ct-24)*10)}return z-=(B-w)/2,Q&&(z/=1+w*w*1),He&&(z/=1+w*w*1),z-=(B-w)/2,z};if(Pe)if(He){for(var R=0;R<w;++R)Ur[R]=ge+R;var At=Ur,It=Xe(Ur)}else var At=Lo,It=Xe(Lo);else{if(Q)for(var R=0;R<w;++R)Ur[R]=ge+R;var At=Ur,It=Xe(At)}f._score=It;for(var R=0;R<w;++R)f._indexes[R]=At[R];f._indexes.len=w;var qe=new s;return qe.target=f.target,qe._score=f._score,qe._indexes=f._indexes,qe},om=function(d,f,v){for(var y=new Set,b=0,S=ce,g=0,A=d.spaceSearches,w=A.length,B=0,O=function(){for(var Xe=B-1;Xe>=0;Xe--)f._nextBeginningIndexes[Po[Xe*2+0]]=Po[Xe*2+1]},Me=!1,R=0;R<w;++R){Tt[R]=ke;var we=A[R];if(S=ot(we,f),v){if(S===ce)continue;Me=!0}else if(S===ce)return O(),ce;var F=R===w-1;if(!F){for(var Pe=S._indexes,k=!0,H=0;H<Pe.len-1;H++)if(Pe[H+1]-Pe[H]!==1){k=!1;break}if(k)for(var kr=Pe[Pe.len-1]+1,cr=f._nextBeginningIndexes[kr-1],ge=kr-1;ge>=0&&cr===f._nextBeginningIndexes[ge];ge--)f._nextBeginningIndexes[ge]=kr,Po[B*2+0]=ge,Po[B*2+1]=cr,B++}b+=S._score/w,Tt[R]=S._score/w,S._indexes[0]<g&&(b-=(g-S._indexes[0])*2),g=S._indexes[0];for(var Q=0;Q<S._indexes.len;++Q)y.add(S._indexes[Q])}if(v&&!Me)return ce;O();var He=ot(d,f,!0);if(He!==ce&&He._score>b){if(v)for(var R=0;R<w;++R)Tt[R]=He._score/w;return He}v&&(S=f),S._score=b;var R=0;for(var Ve of y)S._indexes[R++]=Ve;return S._indexes.len=R,S},Qi=function(d){for(var f=d.length,v=d.toLowerCase(),y=[],b=0,S=!1,g=0;g<f;++g){var A=y[g]=v.charCodeAt(g);if(A===32){S=!0;continue}var w=A>=97&&A<=122?A-97:A>=48&&A<=57?26:A<=127?30:31;b|=1<<w}return{lowerCodes:y,bitflags:b,containsSpace:S,_lower:v}},im=function(d){for(var f=d.length,v=[],y=0,b=!1,S=!1,g=0;g<f;++g){var A=d.charCodeAt(g),w=A>=65&&A<=90,B=w||A>=97&&A<=122||A>=48&&A<=57,O=w&&!b||!S||!B;b=w,S=B,O&&(v[y++]=g)}return v},am=function(d){for(var f=d.length,v=im(d),y=[],b=v[0],S=0,g=0;g<f;++g)b>g?y[g]=b:(b=v[++S],y[g]=b===void 0?f:b);return y},ea=new Map,ra=new Map,Ur=[],Lo=[],Po=[],jr=[],Tt=[],ta=[],rn=[],No=function(d,f){var v=d[f];if(v!==void 0)return v;if(typeof f=="function")return f(d);var y=f;Array.isArray(f)||(y=f.split("."));for(var b=y.length,S=-1;d&&++S<b;)d=d[y[S]];return d},Rt=function(d){return typeof d=="object"&&typeof d._bitflags=="number"},na=1/0,ke=-na,oa=[];oa.total=0;var ce=null,Nn=o(""),sm=function(d){var f=[],v=0,y={},b=function(S){for(var g=0,A=f[g],w=1;w<v;){var B=w+1;g=w,B<v&&f[B]._score<f[w]._score&&(g=B),f[g-1>>1]=f[g],w=1+(g<<1)}for(var O=g-1>>1;g>0&&A._score<f[O]._score;O=(g=O)-1>>1)f[g]=f[O];f[g]=A};return y.add=function(S){var g=v;f[v++]=S;for(var A=g-1>>1;g>0&&S._score<f[A]._score;A=(g=A)-1>>1)f[g]=f[A];f[g]=S},y.poll=function(S){if(v!==0){var g=f[0];return f[0]=f[--v],b(),g}},y.peek=function(S){if(v!==0)return f[0]},y.replaceTop=function(S){f[0]=S,b()},y},Oo=sm();return{single:r,go:t,prepare:o,cleanup:i}})});var Kt=_r((gS,Bf)=>{Bf.exports=vt().react});function Xt({card:e,...r}){N(x),N(r.items);var[t,n]=React.useState(""),o=(0,Di.useMemo)(function(){var u=Object.values(r.items);return r.resolveItem&&(u=u.map(r.resolveItem)),u.filter(function(m){return m&&typeof m=="object"})},[r.items]),i=(0,Di.useMemo)(function(){return t?Ff.default.go(t,o,{keys:r.searchKeywords}).map(function(u){return u.obj}):o},[o,t]),s=(0,Di.useMemo)(function(){return _(Mi.View,{children:[x.safeMode?.enabled&&_(Mi.View,{style:{marginBottom:10},children:[a(pi,{messageType:0,children:r.safeModeMessage}),r.safeModeExtras]}),a(Et,{style:{padding:8},onChangeText:function(u){return n(u.toLowerCase())},placeholder:c.SEARCH})]})},[]);return _(te,{children:[a(Ud,{data:i,estimatedItemSize:136,ListHeaderComponent:s,contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},renderItem:function({item:u}){return a(Mi.View,{style:{paddingVertical:6,paddingHorizontal:8},children:a(e,{item:u})})}}),a(Xc,{icon:p("PlusLargeIcon"),onPress:r.onFABPress??function(){$e.getString().then(function(u){return uo({initialValue:u.match(qn)?.[0]??"",placeholder:c.URL_PLACEHOLDER,onConfirm:function(m){return r.fetchFunction(m)},confirmText:c.INSTALL,cancelText:c.CANCEL})})}})]})}var Ff,Di,Mi,Ud,Bi=l(()=>{"use strict";G();J();ee();q();me();ht();jt();j();Z();xt();hr();Ff=D(Mf()),Di=D(Kt()),Mi=D(X()),{FlashList:Ud}=L("FlashList")});function jf(e,r,t){Uf.openLazy(r,e,t??{})}function mo(e){Uf.hideActionSheet(e)}var Uf,js=l(()=>{"use strict";$();Uf=E("openLazy","hideActionSheet")});var kf,Hf=l(()=>{"use strict";Pr();j();kf=Xr({smallIcon:{tintColor:Kn.colors.LOGO_PRIMARY,height:18,width:18}})});var Gf={};I(Gf,{default:()=>Vf});function Vf({plugin:e,navigation:r}){N(e);var t=P.getSettings(e.id);return a(gi,{children:_(po.ScrollView,{children:[_(po.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[a(De,{variant:"heading-xl/semibold",children:e.manifest.name}),a(po.View,{style:{marginLeft:"auto"},children:t&&a(Ee,{size:"md",text:"Configure",variant:"secondary",icon:p("WrenchIcon"),onPress:function(){mo("PluginInfoActionSheet"),r.push("VendettaCustomPage",{title:e.manifest.name,render:t})}})})]}),_(zt.Group,{children:[a(zt,{label:c.REFETCH,icon:a(h.Icon,{source:p("RetryIcon")}),onPress:async function(){e.enabled&&P.stopPlugin(e.id,!1);try{await P.fetchPlugin(e.id),M(c.PLUGIN_REFETCH_SUCCESSFUL,p("toast_image_saved"))}catch{M(c.PLUGIN_REFETCH_FAILED,p("Small"))}e.enabled&&await P.startPlugin(e.id),mo("PluginInfoActionSheet")}}),a(zt,{label:c.COPY_URL,icon:a(h.Icon,{source:p("copy")}),onPress:function(){$e.setString(e.id),M.showCopyToClipboard()}}),a(zt,{label:e.update?c.DISABLE_UPDATES:c.ENABLE_UPDATES,icon:a(h.Icon,{source:p("ic_download_24px")}),onPress:function(){e.update=!e.update,M(We("TOASTS_PLUGIN_UPDATE",{update:e.update,name:e.manifest.name}),p("toast_image_saved"))}}),a(zt,{label:c.CLEAR_DATA,icon:a(h.Icon,{source:p("ic_duplicate")}),onPress:function(){return ar({title:c.HOLD_UP,content:We("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.manifest.name}),confirmText:c.CLEAR,cancelText:c.CANCEL,confirmColor:Ye.RED,onConfirm:async function(){e.enabled&&P.stopPlugin(e.id,!1);try{await P.fetchPlugin(e.id),M(c.PLUGIN_REFETCH_SUCCESSFUL,p("toast_image_saved"))}catch{M(c.PLUGIN_REFETCH_FAILED,p("Small"))}var n;try{gt(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}M(We(n[0],{name:e.manifest.name}),p(n[1])),e.enabled&&await P.startPlugin(e.id),mo("PluginInfoActionSheet")}})}}),a(zt,{label:c.DELETE,icon:a(h.Icon,{source:p("ic_message_delete")}),onPress:function(){return ar({title:c.HOLD_UP,content:We("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.manifest.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:Ye.RED,onConfirm:function(){try{P.removePlugin(e.id)}catch(n){M(String(n),p("Small"))}mo("PluginInfoActionSheet")}})}})]})]})})}var po,zf=l(()=>{"use strict";G();J();Yr();ee();q();xt();js();Nr();dn();j();Z();po=D(X())});function jd(){var e=ks(),r=["by "];for(var t of e.manifest.authors)r.push(t.name),r.push(", ");return r.pop(),a(De,{variant:"text-md/semibold",color:"text-muted",children:r})}function kd(){var e=kf(),r=ks(),t=r.manifest.vendetta?.icon,n=t&&p(t),o=a(De,{numberOfLines:1,variant:"heading-lg/semibold",children:r.manifest.name});return n?_(bt.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[a(bt.Image,{style:e.smallIcon,source:n}),o]}):o}function Hs({item:e}){return N(e),a($f.Provider,{value:e,children:a(yn,{children:_(xe,{spacing:16,children:[_(bt.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[_(bt.View,{style:{flexShrink:1},children:[a(kd,{}),a(jd,{})]}),a(bt.View,{children:_(xe,{spacing:12,direction:"horizontal",children:[a(Hd,{}),a(Yc,{value:e.enabled,onValueChange:function(r){r?P.startPlugin(e.id):P.stopPlugin(e.id)}})]})})]}),a(De,{variant:"text-md/medium",children:e.manifest.description})]})})})}var bn,bt,rE,$f,ks,Hd,Yf=l(()=>{"use strict";G();Yr();ee();q();js();Te();jt();j();Z();bn=D(Kt()),bt=D(X());Hf();({useToken:rE}=V(function(){return L("useToken")})),$f=(0,bn.createContext)(null),ks=function(){return(0,bn.useContext)($f)};Hd=(0,bn.memo)(function(){var e=ks(),r=oe.useNavigation();return _(bt.View,{style:{flexDirection:"row",gap:6},children:[a(Ke,{size:"sm",variant:"secondary",icon:p("WrenchIcon"),disabled:!P.getSettings(e.id),onPress:function(){return r.push("VendettaCustomPage",{title:e.manifest.name,render:P.getSettings(e.id)})}}),a(Ke,{size:"sm",variant:"secondary",icon:p("CircleInformationIcon-primary"),onPress:function(){return void jf("PluginInfoActionSheet",Promise.resolve().then(()=>(zf(),Gf)),{plugin:e,navigation:r})}})]})})});var Kf={};I(Kf,{default:()=>Wf});function Wf(){return N(x),a(Xt,{title:c.PLUGINS,searchKeywords:["manifest.name","manifest.description",function(e){return e.manifest.authors?.map(function(r){return r.name}).join()}],items:P.plugins,fetchFunction:P.installPlugin.bind(P),safeModeMessage:c.SAFE_MODE_NOTICE_PLUGINS,card:Hs})}var Xf=l(()=>{"use strict";G();J();Bi();Yf();Yr();q();me()});function Vs(e){var r=zd();return a(yn,{children:_(xe,{spacing:16,children:[_(qt.View,{style:{flexDirection:"row",alignItems:"center"},children:[_(qt.View,{style:r.headerLeading,children:[a(De,{style:r.headerLabel,children:e.headerLabel}),e.headerSublabel&&a(De,{style:r.headerSubtitle,children:e.headerSublabel})]}),_(qt.View,{style:[r.headerTrailing,{marginLeft:"auto"}],children:[_(qt.View,{style:r.actions,children:[e.overflowActions&&a(Ke,{onPress:function(){return Gd({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&a(Kr.Icon,{style:{marginRight:8},source:p(e.headerIcon)}),onClose:function(){return Vd()}},options:e.overflowActions?.map(function(t){return{...t,icon:p(t.icon)}})})},size:"sm",variant:"secondary",icon:p("CircleInformationIcon-primary")}),e.actions?.map(function({icon:t,onPress:n,disabled:o}){return a(Ke,{onPress:n,disabled:o,size:"sm",variant:"secondary",icon:p(t)})})]}),e.toggleType&&(e.toggleType==="switch"?a(Wc,{value:e.toggleValue(),onValueChange:e.onToggleChange}):a(qt.TouchableOpacity,{onPress:function(){e.onToggleChange?.(!e.toggleValue())},children:a(Kc,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&a(De,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var qt,Vd,Gd,zd,qf=l(()=>{"use strict";G();ee();Te();Z();$();St();Pr();qt=D(X()),{hideActionSheet:Vd}=V(function(){return L("openLazy","hideActionSheet")}),{showSimpleActionSheet:Gd}=V(function(){return L("showSimpleActionSheet")}),zd=Xr({card:{backgroundColor:se?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...ir["heading-md/semibold"],color:se.TEXT_NORMAL},headerSubtitle:{...ir["text-md/semibold"],color:se.TEXT_MUTED},descriptionLabel:{...ir["text-md/semibold"],color:se.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:se.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function Jf(e,r){try{zr(e?r:null),Zn(e?r:null)}catch(t){console.error("Error while selectAndApply,",t)}}function Gs({item:e,index:r}){N(e);var[t,n]=React.useState(!1);if(t)return null;var{authors:o}=e.data;return a(Vs,{index:r,headerLabel:e.data.name,headerSublabel:o?`by ${o.map(function(i){return i.name}).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:x.safeMode?.enabled?void 0:"radio",toggleValue:function(){return W[e.id].selected},onToggleChange:function(i){Jf(i,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:c.REFETCH,onPress:function(){Ht(e.id,e.selected).then(function(){M(c.THEME_REFETCH_SUCCESSFUL,p("toast_image_saved"))}).catch(function(){M(c.THEME_REFETCH_FAILED,p("Small"))})}},{icon:"copy",label:c.COPY_URL,onPress:function(){$e.setString(e.id),M.showCopyToClipboard()}},{icon:"ic_message_delete",label:c.DELETE,isDestructive:!0,onPress:function(){return ar({title:c.HOLD_UP,content:We("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:Ye.RED,onConfirm:function(){Vt(e.id).then(function(i){n(!0),i&&Jf(!1,e)}).catch(function(i){M(i.message,p("Small"))})}})}}]})}var Zf=l(()=>{"use strict";G();J();qf();ee();q();rr();me();dn();j();xt();Nr()});var el={};I(el,{default:()=>Qf});function Qf(){return N(x),N(W),a(Xt,{title:c.THEMES,searchKeywords:["manifest.name","manifest.description",function(e){return e.manifest.authors?.map(function(r){return r.name}).join()}],fetchFunction:Gr,items:W,safeModeMessage:We("SAFE_MODE_NOTICE_THEMES",{enabled:!!x.safeMode?.currentThemeId}),safeModeExtras:x.safeMode?.currentThemeId?a(Ee,{text:c.DISABLE_THEME,size:"small",onPress:function(){return delete x.safeMode?.currentThemeId},style:{marginTop:8}}):void 0,card:Gs})}var rl=l(()=>{"use strict";G();J();Bi();Zf();q();rr();me();Z()});var go={};I(go,{clearFolder:()=>zs,downloadFile:()=>$s,fileExists:()=>wt,readFile:()=>vo,removeFile:()=>Jt,writeFile:()=>Zr});async function zs(e,r="pyoncord/"){if(typeof U.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void await U.clearFolder("documents",`${r}${e}`)}async function Jt(e,r="pyoncord/"){if(typeof U.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void await U.removeFile("documents",`${r}${e}`)}async function wt(e,r="pyoncord/"){return await U.fileExists(`${U.getConstants().DocumentsDirPath}/${r}${e}`)}async function Zr(e,r,t="pyoncord/"){if(typeof r!="string")throw new Error("Argument 'data' must be a string");return void await U.writeFile("documents",`${t}${e}`,r,"utf8")}async function vo(e,r="pyoncord/"){try{return await U.readFile(`${U.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch(t){throw new Error(`An error occured while writing to '${e}'`,{cause:t})}}async function $s(e,r,t="pyoncord/"){var n=await fetch(e).then(function(u){return u.blob()}),o=await new Promise(function(u){var m=new FileReader;m.onload=function(){return u(m.result)},m.readAsDataURL(n)}),i;if(o==null)throw new Error("Failed to convert blob to data URL");var s=o.indexOf("base64,");if(s===-1)throw new Error("dataURL does not contain base64");return i=o.slice(s+7),void await U.writeFile("documents",`${t}${r}`,i,"base64")}var Zt=l(()=>{"use strict";fr()});var Ks={};I(Ks,{fonts:()=>K,installFont:()=>Ys,removeFont:()=>Fi,saveFont:()=>wn,selectFont:()=>_o,updateFonts:()=>Ws,validateFont:()=>ho});async function tl(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?await Zr("fonts.json",JSON.stringify(e)):await Jt("fonts.json")}function ho(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var r=["name","main"];if(r.some(function(t){return!e[t]}))throw new Error(`Font is missing one of the fields: ${r}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in K)throw new Error(`There is already a font named '${e.name}' installed`)}async function wn(e,r=!1){var t;if(typeof e=="object"&&e.__source&&(e=e.__source),typeof e=="string")try{t=await(await Ae(e)).json(),t.__source=e}catch(n){throw new Error(`Failed to fetch fonts at ${e}`,{cause:n})}else t=e;ho(t);try{await Promise.all(Object.entries(t.main).map(async function([n,o]){var i=o.split(".").pop();i!=="ttf"&&i!=="otf"&&(i="ttf");var s=`downloads/fonts/${t.name}/${n}.${i}`;await wt(s)||await $s(o,s)}))}catch(n){throw new Error("Failed to download font assets",{cause:n})}return K[t.name]=t,r&&tl(K[t.name]),t}async function Ys(e,r=!1){if(typeof e!="string"||Object.values(K).some(function(n){return typeof n=="object"&&n.__source===e}))throw new Error("Invalid source or font was already installed");var t=await wn(e);r&&await _o(t.name)}async function _o(e){if(e&&!(e in K))throw new Error("Selected font does not exist!");e?K.__selected=e:delete K.__selected,await tl(e==null?null:K[e])}async function Fi(e){var r=K.__selected===e;r&&await _o(null),delete K[e];try{await zs(`downloads/fonts/${e}`)}catch{}}async function Ws(){await mr(K),await Promise.allSettled(Object.keys(K).map(function(e){return wn(K[e],K.__selected===e)}))}var K,Tn=l(()=>{"use strict";Zt();q();er();K=Ne(fe(Se("BUNNY_FONTS")))});function $d(e){var r=e.map(function(n){var{pathname:o}=new URL(n),i=o.replace(/\.[^/.]+$/,"");return i.split("/").pop()}).filter(Boolean),t=r.reduce(function(n,o){return o.length<n.length?o:n},r[0]||"");return t?.replace(/-[A-Za-z]*$/,"")||null}function Yd({fonts:e,setName:r}){var t=ai().data,n=t.fonts,[o,i]=(0,de.useState)($d(Object.values(n))),[s,u]=(0,de.useState)(void 0);return _(Qr.View,{style:{padding:8,paddingBottom:16,gap:12},children:[a(or,{autoFocus:!0,size:"md",label:c.FONT_NAME,value:o,placeholder:o||"Whitney",onChange:i,errorMessage:s,state:s?"error":void 0}),a(De,{variant:"text-xs/normal",color:"text-muted",children:We("THEME_EXTRACTOR_DESC",{fonts:Object.keys(n).join(c.SEPARATOR)})}),a(Ee,{size:"md",variant:"primary",text:c.EXTRACT,disabled:!o,onPress:function(){if(o)try{ho({spec:1,name:o,main:n}),r(o),Object.assign(e,n),qs.hideActionSheet()}catch(m){u(String(m))}}})]})}function Wd({fonts:e,setName:r,setSource:t}){var[n,o]=(0,de.useState)(""),[i,s]=(0,de.useState)(!1),[u,m]=(0,de.useState)(void 0);return _(Qr.View,{style:{padding:8,paddingBottom:16,gap:12},children:[a(or,{autoFocus:!0,size:"md",label:"Font Link",value:n,placeholder:"https://link.to/font/pack.json",onChange:o,errorMessage:u,state:u?"error":void 0}),a(Ee,{size:"md",variant:"primary",text:"Import",disabled:!n||i,loading:i,onPress:function(){s(!0),async function(){var T=await Ae(n,{cache:"no-store"}),C=await T.json();ho(C),r(C.name),t(n),Object.assign(e,C.main)}().then(function(){return qs.hideActionSheet()}).catch(function(T){return m(String(T))}).finally(function(){return s(!1)})}})]})}function Kd(e){var[r,t]=(0,de.useState)(e.name),[n,o]=(0,de.useState)(e.fontEntries[e.name]);return _(Qr.View,{style:{padding:8,paddingBottom:16,gap:12},children:[a(or,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:r,placeholder:"ggsans-Bold",onChange:t}),a(or,{size:"md",label:"Font URL",value:n,placeholder:"https://link.to/the/font.ttf",onChange:o}),a(Ee,{size:"md",variant:"primary",text:"Apply",onPress:function(){delete e.fontEntries[e.name],e.fontEntries[r]=n}})]})}function Xs(e,r,t){qs.openLazy(Promise.resolve({default:function(){return a(te,{children:_(gi,{children:[a(qc,{title:"Import Font"}),a(e,{fonts:r,...t})]})})}}),"FontEditorActionSheet")}function Xd({fontEntry:e}){var r=(0,de.useRef)(),t=(0,de.useRef)(),[n,o]=(0,de.useState)(!1),[i,s]=(0,de.useState)();return _(Qr.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[a(Qr.View,{style:{flex:1},children:a(or,{isRound:!0,size:"md",label:n?r.current:void 0,placeholder:n?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:function(){return n?null:a(h.Icon,{source:p("PlusSmallIcon")})},leadingText:n?r.current:"",onChange:function(u){return(n?t:r).current=u},errorMessage:i,state:i?"error":void 0})}),n&&a(Ke,{size:"md",variant:"secondary",onPress:function(){r.current="",o(!1)},icon:p("TrashIcon")}),a(Ke,{size:"md",variant:"primary",onPress:function(){if(!n&&r.current)o(!0);else if(n&&r.current&&t.current)try{var u=new URL(t.current);if(!u.protocol||!u.host)throw"Invalid URL";e[r.current]=t.current,r.current=void 0,t.current=void 0,o(!1)}catch(m){s(String(m))}},icon:p(n?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function yo(e){var[r,t]=(0,de.useState)(e.name),[n,o]=(0,de.useState)(),[i,s]=(0,de.useState)(!1),u=(0,de.useMemo)(function(){return cn(e.name?{...K[e.name].main}:{}).proxy},[e.name]),m=N(u),T=oe.useNavigation();return a(Qr.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(xe,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?_(Le,{title:"Actions",children:[a(h,{label:"Refetch fonts from source",icon:a(h.Icon,{source:p("RetryIcon")}),onPress:async function(){var C={...K[e.name]};await Fi(e.name),await wn(C),T.goBack()}}),a(h,{label:"Delete font pack",icon:a(h.Icon,{source:p("TrashIcon")}),onPress:function(){return Fi(e.name).then(function(){return T.goBack()})}})]}):_(Le,{title:"Import",children:[ai()?.data?.fonts&&a(h,{label:c.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:c.DESC_EXTRACT_FONTS_FROM_THEME,icon:a(h.Icon,{source:p("HammerIcon")}),onPress:function(){return Xs(Yd,m,{setName:t})}}),a(h,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:a(h.Icon,{source:p("LinkIcon")}),onPress:function(){return Xs(Wd,m,{setName:t,setSource:o})}})]}),a(or,{size:"lg",value:r,label:c.FONT_NAME,placeholder:"Whitney",onChange:t}),_(Le,{title:"Font Entries",children:[Object.entries(m).map(function([C,ne]){return a(h,{label:C,subLabel:ne,trailing:_(xe,{spacing:2,direction:"horizontal",children:[a(Ke,{size:"sm",variant:"secondary",icon:p("PencilIcon"),onPress:function(){return Xs(Kd,m,{name:C,fontEntries:m})}}),a(Ke,{size:"sm",variant:"secondary",icon:p("TrashIcon"),onPress:function(){return delete m[C]}})]})})}),a(h,{label:a(Xd,{fontEntry:m})})]}),a(Qr.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:a(Ee,{size:"lg",loading:i,disabled:i||!r||Object.keys(m).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:async function(){r&&(s(!0),e.name?(Object.assign(K[e.name],{name:r,main:m,__edited:!0}),s(!1),T.goBack()):wn({spec:1,name:r,main:m,__source:n}).then(function(){return T.goBack()}).finally(function(){return s(!1)}))},icon:p(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var de,Qr,qs,Js=l(()=>{"use strict";G();J();ee();q();Tn();rr();er();j();Z();$();hr();de=D(Kt()),Qr=D(X()),qs=E("hideActionSheet")});var ol=_r((ex,nl)=>{nl.exports=vt()["@shopify/react-native-skia"]});function Jd({font:e}){var r=qd(Kn.colors.TEXT_NORMAL),{fontFamily:t,fontSize:n}=ir["text-md/medium"],o=t.split(/,/g)[0],i=An.useFont(e.main[o])?.getTypeface(),s=(0,il.useMemo)(function(){if(!i)return null;var u=SkiaApi.TypefaceFontProvider.Make();return u.registerFont(i,o),SkiaApi.ParagraphBuilder.Make({},u).pushStyle({color:SkiaApi.Color(r),fontFamilies:[o],fontSize:n}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[i]);return a(Rn.View,{style:{height:64},children:i?a(An.Canvas,{style:{height:64},children:a(An.Paragraph,{paragraph:s,x:0,y:0,width:300})}):a(Rn.View,{style:{justifyContent:"center",alignItems:"center"},children:a(De,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function Zs({item:e}){N(K);var r=oe.useNavigation(),t=K.__selected===e.name;return a(yn,{children:_(xe,{spacing:16,children:[_(Rn.View,{style:{flexDirection:"row",alignItems:"center"},children:[a(Rn.View,{children:a(De,{variant:"heading-lg/semibold",children:e.name})}),a(Rn.View,{style:{marginLeft:"auto"},children:_(xe,{spacing:12,direction:"horizontal",children:[a(Ke,{onPress:function(){r.push("VendettaCustomPage",{title:"Edit Font",render:function(){return a(yo,{name:e.name})}})},size:"sm",variant:"secondary",disabled:t,icon:p("PencilIcon")}),a(Ee,{size:"sm",variant:t?"secondary":"primary",text:t?"Unapply":"Apply",onPress:async function(){await _o(t?null:e.name),ar({title:c.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:c.RELOAD,cancelText:c.CANCEL,confirmColor:Ye.RED,onConfirm:Dn.reload})}})]})})]}),a(Jd,{font:e})]})})}var An,il,Rn,qd,al=l(()=>{"use strict";G();J();ee();fr();q();Tn();xt();Pr();Te();dn();jt();j();Z();An=D(ol()),il=D(Kt()),Rn=D(X());Js();({useToken:qd}=V(function(){return L("useToken")}))});var ul={};I(ul,{default:()=>sl});function sl(){N(x),N(K);var e=oe.useNavigation();return a(Xt,{title:c.FONTS,searchKeywords:["name","description"],fetchFunction:Ys,items:K,safeModeMessage:c.SAFE_MODE_NOTICE_FONTS,card:Zs,onFABPress:function(){e.push("VendettaCustomPage",{title:"Import Font",render:function(){return a(yo,{})}})}})}var cl=l(()=>{"use strict";G();J();Bi();Js();q();Tn();me();j();al()});function fl(e,r){var[t,n]=(0,In.useState)(2),o=function(){return wt(e,r).then(function(s){return n(s?1:0)}).catch(function(){return n(3)})},i=(0,In.useMemo)(function(){return new Proxy(go,{get(s,u,m){var T=Reflect.get(s,u,m);if(typeof T=="function")return function(...C){var ne=(o(),T(...C));return ne?.constructor?.name==="Promise"&&(n(2),ne.finally(o)),ne}}})},[]);return(0,In.useEffect)(function(){return void o()},[]),[t,i]}var In,Dr,ll=l(()=>{"use strict";Zt();In=D(Kt());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Dr||(Dr={}))});function Qs({asset:e}){return a(Kr,{label:`${e.name} - ${e.id}`,trailing:a(ml.Image,{source:e.id,style:{width:32,height:32}}),onPress:function(){$e.setString(e.name),M.showCopyToClipboard()}})}var ml,dl=l(()=>{"use strict";G();j();Z();Nr();ml=D(X())});function eu(){var[e,r]=React.useState("");return a(te,{children:_(Ui.View,{style:{flex:1},children:[a(Et,{style:{margin:10},onChangeText:function(t){return r(t)}}),a(Ui.FlatList,{data:Object.values(st).filter(function(t){return t.name.includes(e)||t.id.toString()===e}),renderItem:function({item:t}){return a(Qs,{asset:t})},ItemSeparatorComponent:Jc,keyExtractor:function(t){return t.name}})]})})}var Ui,pl=l(()=>{"use strict";G();dl();ee();Z();hr();Ui=D(X())});var gl={};I(gl,{default:()=>vl});function vl(){var[e,r]=fl("preloads/reactDevtools.js"),t=rp(),n=oe.useNavigation();return N(x),N(nr),a(te,{children:a(ji.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(xe,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[a(or,{label:c.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return a(Sn,{style:t.leadingText,children:"ws://"})},defaultValue:x.debuggerUrl,onChange:function(o){return x.debuggerUrl=o}}),_(Le,{title:c.DEBUG,children:[a(h,{label:c.CONNECT_TO_DEBUG_WEBSOCKET,icon:a(h.Icon,{source:p("copy")}),onPress:function(){return lo(x.debuggerUrl)}}),vn()&&a(Lr,{children:a(h,{label:c.CONNECT_TO_REACT_DEVTOOLS,icon:a(h.Icon,{source:p("ic_badge_staff")}),onPress:function(){return window[os()||"__vendetta_rdc"]?.connectToDevTools({host:x.debuggerUrl.split(":")?.[0],resolveRNStyle:ji.StyleSheet.flatten})}})})]}),ui()&&a(Lr,{children:_(Le,{title:"Loader config",children:[a($t,{label:c.LOAD_FROM_CUSTOM_URL,subLabel:c.LOAD_FROM_CUSTOM_URL_DEC,icon:a(h.Icon,{source:p("copy")}),value:nr.customLoadUrl.enabled,onValueChange:function(o){nr.customLoadUrl.enabled=o}}),nr.customLoadUrl.enabled&&a(h,{label:a(or,{defaultValue:nr.customLoadUrl.url,size:"md",onChange:function(o){return nr.customLoadUrl.url=o},placeholder:"http://localhost:4040/vendetta.js",label:c.BUNNY_URL})}),vn()&&Ie()&&a($t,{label:c.LOAD_REACT_DEVTOOLS,subLabel:`${c.VERSION}: ${is()}`,icon:a(h.Icon,{source:p("ic_badge_staff")}),value:nr.loadReactDevTools,onValueChange:function(o){nr.loadReactDevTools=o}})]})}),_(Le,{title:"Other",children:[a(h,{arrow:!0,label:c.ASSET_BROWSER,icon:a(h.Icon,{source:p("ic_image")}),trailing:h.Arrow,onPress:function(){return n.push("VendettaCustomPage",{title:c.ASSET_BROWSER,render:eu})}}),a(h,{arrow:!0,label:c.ERROR_BOUNDARY_TOOLS_LABEL,icon:a(h.Icon,{source:p("ic_warning_24px")}),onPress:function(){return Qd({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:a(h.Icon,{style:{marginRight:8},source:p("ic_warning_24px")}),onClose:function(){return Zd()}},options:[{label:c.BUNNY,onPress:function(){return n.push("VendettaCustomPage",{render:function(){return a("undefined",{})}})}},{label:"Discord",isDestructive:!0,onPress:function(){return n.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}}),a(h,{label:c.INSTALL_REACT_DEVTOOLS,subLabel:c.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:a(h.Icon,{source:p("DownloadIcon")}),trailing:a(Ee,{size:"sm",loading:e===Dr.LOADING,disabled:e===Dr.LOADING,variant:e===Dr.TRUE?"secondary":"primary",text:e===Dr.TRUE?c.UNINSTALL:c.INSTALL,onPress:async function(){e===Dr.FALSE?r.downloadFile(ep,"preloads/reactDevtools.js"):e===Dr.TRUE&&r.removeFile("preloads/reactDevtools.js")},icon:p(e===Dr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),a($t,{label:c.ENABLE_EVAL_COMMAND,subLabel:c.ENABLE_EVAL_COMMAND_DESC,icon:a(h.Icon,{source:p("PencilIcon")}),value:x.enableEvalCommand,onValueChange:function(o){x.enableEvalCommand=o}})]})]})})})}var ji,Zd,Qd,ep,rp,hl=l(()=>{"use strict";G();J();ll();pl();ee();vr();q();Jr();me();Te();j();Z();$();St();hr();Pr();ji=D(X()),{hideActionSheet:Zd}=V(function(){return L("openLazy","hideActionSheet")}),{showSimpleActionSheet:Qd}=V(function(){return L("showSimpleActionSheet")}),ep="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",rp=Xr({leadingText:{...ir["heading-md/semibold"],color:se.TEXT_MUTED,marginRight:-4}})});function ru(){Ai({name:"Bunny",items:[{key:"BUNNY",title:function(){return c.BUNNY},icon:{uri:bi},render:function(){return Promise.resolve().then(()=>(Of(),Nf))},rawTabsConfig:{useTrailing:function(){return"(c4371ed-dev)"}}},{key:"BUNNY_PLUGINS",title:function(){return c.PLUGINS},icon:p("ActivitiesIcon"),render:function(){return Promise.resolve().then(()=>(Xf(),Kf))}},{key:"BUNNY_THEMES",title:function(){return c.THEMES},icon:p("PaintPaletteIcon"),render:function(){return Promise.resolve().then(()=>(rl(),el))},usePredicate:function(){return tr()}},{key:"BUNNY_FONTS",title:function(){return c.FONTS},icon:p("ic_add_text"),render:function(){return Promise.resolve().then(()=>(cl(),ul))},usePredicate:function(){return us()}},{key:"BUNNY_DEVELOPER",title:function(){return c.DEVELOPER},icon:p("WrenchIcon"),render:function(){return Promise.resolve().then(()=>(hl(),gl))},usePredicate:function(){return N(x).developerSettings??!1}}]}),Ai({name:"Vendetta",items:[]})}var Us=l(()=>{"use strict";wf();J();ee();vr();q();me();xn()});var ki,et,Cn,So=l(()=>{"use strict";(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(ki||(ki={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(et||(et={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(Cn||(Cn={}))});var yl={};I(yl,{default:()=>ip});function _l(e){return"```js\n"+e.replaceAll("`","`"+op)+"\n```"}function ip(){return{name:"eval",description:c.COMMAND_EVAL_DESC,shouldHide:function(){return x.enableEvalCommand===!0},options:[{name:"code",type:et.STRING,description:c.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:et.BOOLEAN,description:c.COMMAND_EVAL_OPT_ASYNC}],async execute([e,r],t){try{var n=tp.inspect(r?.value?await np(e.value)():eval?.(e.value)),o=n.length>2e3?n.slice(0,2e3)+"...":n;Qe.sendBotMessage(t.channel.id,_l(o))}catch(i){Qe.sendBotMessage(t.channel.id,_l(i?.stack??i))}}}}var tp,np,op,Sl=l(()=>{"use strict";J();So();me();j();$();tp=E("inspect"),np=async function(){}.constructor,op="\u200B"});var El={};I(El,{default:()=>ap});function ap(){return{name:"debug",description:c.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:et.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=qr(),n=["**Bunny Debug Info**",`> Bunny: ${t.bunny.version} (${t.bunny.loader.name} ${t.bunny.loader.version})`,`> Discord: ${t.discord.version} (${t.discord.build})`,`> React: ${t.react.version} (RN ${t.react.nativeVersion})`,`> Hermes: ${t.hermes.version} (bcv${t.hermes.bytecodeVersion})`,`> System: ${t.os.name} ${t.os.version} ${t.os.sdk?`(SDK ${t.os.sdk})`:""}`.trimEnd(),`> Device: ${t.device.model} (${t.device.codename})`].join(`
`);e?.value?Qe.sendBotMessage(r.channel.id,n):Qe.sendMessage(r.channel.id,{content:n})}}}var xl=l(()=>{"use strict";J();So();Jr();j()});var bl={};I(bl,{default:()=>sp});function sp(){return{name:"plugins",description:c.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:et.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Object.values(P.plugins).filter(Boolean);t.sort(function(s,u){return s.manifest.name.localeCompare(u.manifest.name)});var n=t.filter(function(s){return s.enabled}).map(function(s){return s.manifest.name}),o=t.filter(function(s){return!s.enabled}).map(function(s){return s.manifest.name}),i=[`**Installed Plugins (${t.length}):**`,...n.length>0?[`Enabled (${n.length}):`,"> "+n.join(", ")]:[],...o.length>0?[`Disabled (${o.length}):`,"> "+o.join(", ")]:[]].join(`
`);e?.value?Qe.sendBotMessage(r.channel.id,i):Qe.sendMessage(r.channel.id,{content:i})}}}var wl=l(()=>{"use strict";J();Yr();So();j()});var Hi={};I(Hi,{patchCommands:()=>tu,registerCommand:()=>Ln});function tu(){var e=Y("getBuiltInCommands",sn,function([r],t){if(r===Cn.CHAT)return t.concat(Eo.filter(function(n){return n.__bunny?.shouldHide?.()!==!1}))});return[(Sl(),Be(yl)),(xl(),Be(El)),(wl(),Be(bl))].forEach(function(r){return Ln(r.default())}),function(){Eo=[],e()}}function Ln(e){var r=sn.getBuiltInCommands(Cn.CHAT,!0,!1);r.sort(function(o,i){return parseInt(i.id)-parseInt(o.id)});var t=r[r.length-1];if(e.id=(parseInt(t.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=Cn.CHAT,e.inputType=ki.BUILT_IN,e.displayName??=e.name,e.displayDescription??=e.description,e.options)for(var n of e.options)n.displayName??=n.name,n.displayDescription??=n.description;return br("execute",e,function(o,i){Promise.resolve(i.apply(e,o)).then(function(s){s&&typeof s=="object"&&Qe.sendMessage(o[1].channel.id,s)}).catch(function(s){re.error("Failed to execute command",s)})}),Eo.push(e),function(){return Eo=Eo.filter(function({id:o}){return o!==e.id})}}var Eo,xo=l(()=>{"use strict";So();Fe();Ar();j();Eo=[]});function up(e,r=0){for(var t=3735928559^r,n=1103547991^r,o=0,i;o<e.length;o++)i=e.charCodeAt(o),t=Math.imul(t^i,2654435761),n=Math.imul(n^i,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(t^t>>>13,3266489909),[n>>>0,t>>>0]}function nu(e,r=0){var[t,n]=up(e,r);return t.toString(36).padStart(7,"0")+n.toString(36).padStart(7,"0")}var Tl=l(()=>{"use strict"});var Al=_r((Rb,Rl)=>{Rl.exports=vt().lodash});var Cl=_r((Ab,Il)=>{Il.exports=vt().util});async function Pl(e){return{...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await fe(Se(e.id))},logger:new mn(`Bunny \xBB ${e.manifest.name}`)}}var Vi,Ll,Nl,ou=l(()=>{"use strict";G();ee();xo();vr();Fe();q();q();Jr();rr();me();er();Tl();Ar();jt();j();Z();Z();xt();St();hr();Pr();Nr();Go();Vi=D(Kt()),Ll=D(X());Yr();Nl=function(){var e=window.vendetta={patcher:{before:Fn.before,after:Fn.after,instead:Fn.instead},metro:{modules:window.modules,find:function(r){return _e(Zo(r,nu(new Error().stack)))},findAll:function(r){return lt(Zo(r,nu(new Error().stack)))},findByProps:function(...r){r.length===1&&r[0]==="KeyboardAwareScrollView"&&r.push("listenToKeyboardEvents");var t=L(...r);if(t==null&&r.includes("ActionSheetTitleHeader")){var n=L("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:function({children:o}){return(0,Vi.useEffect)(function(){return console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View")},[]),(0,Vi.createElement)(Ll.View,null,o)}}}return t},findByPropsAll:function(...r){return Ra(...r)},findByName:function(r,t){return r==="create"&&typeof t>"u"?Qo("create",!1).default:Qo(r,t??!0)},findByNameAll:function(r,t=!0){return Aa(r,t)},findByDisplayName:function(r,t=!0){return Ia(r,t)},findByDisplayNameAll:function(r,t=!0){return La(r,t)},findByTypeName:function(r,t=!0){return Pa(r,t)},findByTypeNameAll:function(r,t=!0){return Na(r,t)},findByStoreName:function(r){return Oa(r)},common:{constants:mt,channels:Yn,i18n:dt,url:pt,toasts:Wn,stylesheet:{createThemedStyleSheet:Yt},clipboard:$e,assets:Ma,invites:Ba,commands:sn,navigation:Fa,navigationStack:Ua,NavigationNative:oe,Flux:ja,FluxDispatcher:lr,React:Xn,ReactNative:ei,moment:Es(),chroma:qa(),lodash:Al(),util:Cl()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(r,t){return dr(r,t)},findInTree:function(r,t,n){return ln(r,t,n)},safeFetch:function(r,t,n){return Ae(r,t,n)},unfreeze:function(r){return Object.isFrozen(r)?{...r}:r},without:function(r,...t){return da(r,t)}},debug:{connectToDebugger:function(r){return lo(r)},getDebugInfo:function(){return qr()}},ui:{components:{Forms:bs,General:ei,Alert:mi,Button:di,HelpMessage:function(...r){return a(pi,{...r})},SafeAreaView:function(...r){return a(vi,{...r})},Summary:ao,ErrorBoundary:te,Codeblock:gr,Search:Et},toasts:{showToast:function(r,t){return M(r,t)}},alerts:{showConfirmationAlert:function(r){return ar(r)},showCustomAlert:function(r,t){return Ei(r,t)},showInputAlert:function(r){return uo(r)}},assets:{all:st,find:function(r){return jn(r)},getAssetByName:function(r){return jn(r)},getAssetByID:function(r){return jn(r)},getAssetIDByName:function(r){return p(r)}},semanticColors:se,rawColors:Ts},plugins:{plugins:P.plugins,fetchPlugin:function(r){return P.fetchPlugin(r)},installPlugin:function(r,t=!0){return P.installPlugin(r,t)},startPlugin:function(r){return P.startPlugin(r)},stopPlugin:function(r,t=!0){return P.stopPlugin(r,t)},removePlugin:function(r){return P.removePlugin(r)},getSettings:function(r){return P.getSettings(r)}},themes:{themes:W,fetchTheme:function(r,t){return Ht(r,t)},installTheme:function(r){return Gr(r)},selectTheme:function(r){return zr(r==="default"?null:W[r])},removeTheme:function(r){return Vt(r)},getCurrentTheme:function(){return yt()},updateThemes:function(){return ii()}},commands:{registerCommand:Ln},storage:{createProxy:function(r){return cn(r)},useProxy:function(r){return N(r)},createStorage:function(r){return fe(r)},wrapSync:function(r){return Ne(r)},awaitSyncWrapper:function(r){return mr(r)},createMMKVBackend:function(r){return Se(r)},createFileBackend:function(r){return ie()&&r==="vendetta_theme.json"&&(r="pyoncord/current-theme.json"),Vr(r)}},settings:x,loader:{identity:ro()??void 0,config:nr},logger:{log:function(...r){return console.log(...r)},info:function(...r){return console.info(...r)},warn:function(...r){return console.warn(...r)},error:function(...r){return console.error(...r)},time:function(...r){return console.time(...r)},trace:function(...r){return console.trace(...r)},verbose:function(...r){return console.log(...r)}},version:co,unload:function(){delete window.vendetta}};return function(){return e.unload()}}});var au={};I(au,{dispatcher:()=>Gi,injectFluxInterceptor:()=>iu,intercept:()=>fp});function iu(){var e=function(r){for(var t of zi){var n=t(r);n!=null&&(n?typeof n=="object"&&(Object.assign(r,n),r[cp]=!0):r[Ol]=!0)}return Ol in r};return(Gi._interceptors??=[]).unshift(e),function(){return Gi._interceptors&&=Gi._interceptors.filter(function(r){return r!==e})}}function fp(e){return zi.push(e),function(){zi=zi.filter(function(r){return r!==e})}}var Ol,cp,Gi,zi,su=l(()=>{"use strict";j();Ol=Symbol.for("bunny.flux.blocked"),cp=Symbol.for("bunny.flux.modified"),Gi=lr,zi=[]});function Mr(e,r){if(!e){var t=typeof r=="function"?r():r,n="[Invariant Violation]",o=t?`${n}: ${t}`:n;throw new Error(o)}}var uu=l(()=>{"use strict"});function cu(e){return{get:async function(){try{return JSON.parse(await vo(e))}catch(r){throw new Error(`Failed to parse storage '${e}: ${r}'`)}},set:async function(r){if(!r||typeof r!="object")throw new Error("data needs to be an object");await Zr(e,JSON.stringify(r))},exists:async function(){return await wt(e)}}}function Ml(e,r,t){var n=new WeakMap;return new Proxy(e,{get(o,i){if(i===lp)return t;var s=[...r,i],u=o[i];if(u&&typeof u=="object"){var m=u;u=n.get(m),u||(u=Ml(m,s,t),n.set(m,u))}return u!=null&&t.emit("GET",{path:s,value:u}),u},set(o,i,s){return o[i]=s,t.emit("SET",{path:[...r,i],value:s}),!0},deleteProperty(o,i){var s=delete o[i];return s&&t.emit("DEL",{path:[...r,i]}),s}})}function dp(e={}){var r=new nn;return{proxy:Ml(e,[],r),emitter:r}}async function Bl(e,r){bo[e]=r,await cu(e).set(r)}function pp(e,r={},t){var n=function(i){var{proxy:s,emitter:u}=dp(i),m=function(){return o.set(s)};u.on("SET",m),u.on("DEL",m),t(s)},o=cu(e);bo[e]?n(bo[e]):o.exists().then(async function(i){i?n(await o.get()):(await o.set(r),n(r))})}async function fu(e){if(!bo[e]&&await wt(e))try{var r=await cu(e).get();Mr(r!==void 0),bo[e]=r}catch{}}function lu(...e){return Promise.all(e.map(function(r){return r[Dl]}))}var lp,mp,Dl,bo,Pn,mu=l(()=>{"use strict";Zt();Yo();uu();lp=Symbol.for("bunny.storage.emitter"),mp=Symbol.for("bunny.storage.initError"),Dl=Symbol.for("bunny.storage.promise"),bo={};Pn=function(e,r={}){var t=new Promise(function(u){return i=u}),n,o,i;pp(e,r,function(u){n=u,i()});var s=function(){if(n)return!0;throw new Error("Attempted to access storage without initializing")};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(u){return[u,function(m,...T){return s()&&Reflect[u](n,...T)}]})),get(u,m,T){return m===mp?o:m===Dl?t:s()&&Reflect.get(n??u,m,T)}})}});var du={};I(du,{fs:()=>go,loader:()=>cs,modules:()=>Bo});var Fl=l(()=>{"use strict";Zt();vr();fr()});var pu={};I(pu,{assets:()=>kn,commands:()=>Hi,flux:()=>au,native:()=>du,patcher:()=>Mt,storage:()=>ni});var vu=l(()=>{"use strict";ee();xo();su();Fl();Fe();q()});function wo(e,r){return function(...t){var n=r(...t);return e.push(n),n}}function Ul(e){var r=new Array,t={...window.bunny,api:{...window.bunny.api,patcher:{before:wo(r,Mt.before),after:wo(r,Mt.after),instead:wo(r,Mt.instead)},commands:{...window.bunny.api.commands,registerCommand:wo(r,Ln)},flux:{...window.bunny.api.flux,intercept:wo(r,window.bunny.api.flux.intercept)}},plugin:{createStorage:function(){return Pn(`plugins/storage/${e}.json`)},manifest:be.get(e),logger:re}};return{object:t,disposers:r}}var jl=l(()=>{"use strict";vu();xo();mu();Ar();$i()});var yu={};I(yu,{apiObjects:()=>gu,checkAndRegisterUpdates:()=>hu,corePluginInstances:()=>Yi,deleteRepository:()=>yp,disablePlugin:()=>Ep,enablePlugin:()=>Sp,getId:()=>gp,getPluginSettingsComponent:()=>hp,initPlugins:()=>_u,installPlugin:()=>xp,isPluginEnabled:()=>Gl,isPluginInstalled:()=>Qt,pluginInstances:()=>Br,pluginRepositories:()=>rt,pluginSettings:()=>ur,refreshPlugin:()=>_p,registeredPlugins:()=>be,startPlugin:()=>Ro,stopPlugin:()=>Xi,uninstallPlugin:()=>$l,updateAndWritePlugin:()=>Ki,updateRepository:()=>zl});function pe(e,r,t){if(!e)throw new Error(`[${r}] Attempted to ${t}`)}function kl(e,r){if(un.gt(e,r))return!0;var t=un.coerce(e);return t==null?!1:un.prerelease(e)?.includes("dev")&&un.eq(t,r)}function To(e){return"parentRepository"in e}function gp(e){var r=Wi.get(e);return pe(r,e?.name??"unknown","getting ID from an unregistered/invalid manifest"),r}function hp(e){var r=Br.get(e);return r&&r.SettingsComponent?r.SettingsComponent:null}function Qt(e){return ur[e]!=null}function Gl(e){return!!ur[e]?.enabled}async function Ki(e,r,t){var n=await Vl(e,`plugins/${r}/manifest.json`);if(n.parentRepository=e,t){n.jsPath=`plugins/scripts/${r}.js`;var o=await vp(e,`plugins/${r}/index.js`);await Zr(n.jsPath,o)}if(await Bl(`plugins/manifests/${r}.json`,n),be.has(r)){var i=be.get(r);return Object.assign(i,n)}return n}async function _p(e,r){var t=be.get(e);pe(t,e,"refresh a non-registered plugin"),pe(Br.get(e),e,"refresh a non-started plugin"),Xi(e),To(t)&&(t=await Ki(r??t.parentRepository,e,!0)),be.delete(e),be.set(e,t),Wi.set(t,e),await Ro(e)}async function zl(e){var r=await Vl(e,"repo.json"),t=rt[e],n=!1;if(t)for(var i in t)r[i]||delete t[i];else{for(var o in r)if(Yi.has(o))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${o}'`);n=!0,rt[e]=r}await Promise.all(Object.keys(r).map(async function(T){!t||!t[T]||r[T].alwaysFetch||kl(r[T].version,t[T].version)?(n=!0,rt[e][T]=r[T],await Ki(e,T,!!(t&&ur[T]))):await fu(`plugins/manifests/${T}.json`)}));for(var s in r){var u=Pn(`plugins/manifests/${s}.json`),m=be.get(s);m&&!kl(u.version,m.version)||(be.set(s,u),Wi.set(u,s))}return n}async function yp(e){pe(rt[e],e,"delete a non-registered repository");var r=[];for(var[t,n]of be)!To(n)||n.parentRepository!==e||(Qt(t)&&r.push($l(t)),be.delete(t));delete rt[e],await Promise.all(r)}async function Sp(e,r){pe(Qt(e),e,"enable a non-installed plugin"),ur[e].enabled=!0,r&&await Ro(e)}function Ep(e){pe(Qt(e),e,"disable a non-installed plugin"),Br.has(e)&&Xi(e),ur[e].enabled=!1}async function xp(e,r){var t=be.get(e);pe(t,e,"install an non-registered plugin"),pe(!Qt(e),e,"install an already installed plugin"),pe(To(t),e,"install a core plugin"),await Ki(t.parentRepository,e,!0),ur[e]={enabled:!0},r&&Ro(e)}async function $l(e){var r=be.get(e);pe(r,e,"uninstall an unregistered plugin"),pe(Qt(e),e,"uninstall a non-installed plugin"),pe(To(r),e,"uninstall a core plugin"),Br.has(e)&&Xi(e),delete ur[e],await Jt(`plugins/scripts/${e}.js`)}async function Ro(e){var r=be.get(e);pe(r,e,"start a non-registered plugin"),pe(Qt(e),e,"start a non-installed plugin"),pe(ur[e]?.enabled,e,"start a disabled plugin"),pe(!Br.has(e),e,"start an already started plugin"),await fu(`plugins/storage/${e}.json`);var t;if(To(r)){try{var n=await vo(r.jsPath),o=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${n};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${r.version}`)}catch(s){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:s})}try{var i=Ul(e);if(t=o(i.object,function(s){return Object.assign(s,{manifest:r})}),!t)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);gu.set(e,i),Br.set(e,t)}catch(s){throw new Error("An error occured while instantiating plugin's code",{cause:s})}}else t=Yi.get(e),pe(t,e,"start a non-existent core plugin"),Br.set(e,t);try{t.start?.()}catch(s){throw new Error("An error occured while starting the plugin",{cause:s})}}function Xi(e){var r=Br.get(e);pe(r,e,"stop a non-started plugin"),r.stop?.();var t=gu.get(e);t?.disposers.forEach(function(n){return n()}),Br.delete(e)}async function hu(){await lu(rt,ur);var e={};for(var r in e){var{default:t,preenabled:n}=e[r];ur[r]??={enabled:n??!0},be.set(r,t.manifest),Wi.set(t.manifest,r),Yi.set(r,t)}await Tr(Object.keys(rt).map(async function(o){await zl(o)}))}async function _u(){await lu(rt,ur),await Tr([...be.keys()].map(async function(e){Gl(e)&&await Ro(e)}))}var Yi,be,Br,gu,rt,ur,Wi,Hl,vp,Vl,$i=l(()=>{"use strict";Hn();Zt();mu();er();j();jl();Yi=new Map,be=new Map,Br=new Map,gu=new Map,rt=Pn("plugins/repositories.json"),ur=Pn("plugins/settings.json"),Wi=new WeakMap,Hl=function(e,r){return Ae(new URL(r,e),{cache:"no-store"})},vp=function(e,r){return Hl(e,r).then(function(t){return t.text()})},Vl=function(e,r){return Hl(e,r).then(function(t){return t.json()})}});function wp(){var e=ye("ErrorBoundary")[wa];return new Promise(function(r){e.getExports(function(t){r(t.prototype)})})}function Wl(){return Y.await("render",wp(),function(e,r){var t=this;if(this.state.error){this.state.activeTab??="message";var n=Yl.find(function(s){return s.id===t.state.activeTab}),o=this.state.error[this.state.activeTab],i=[{text:c.RELOAD_DISCORD,onPress:this.handleReload},...x.safeMode?.enabled?[]:[{text:c.RELOAD_IN_SAFE_MODE,onPress:fo}],{text:c.RETRY_RENDER,color:Ye.RED,onPress:function(){return t.setState({info:null,error:null})}}];return a(te,{children:_(vi,{style:Ao.container,children:[_(tt.View,{style:Ao.header,children:[a(r.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),_(tt.View,{style:{flex:2,paddingLeft:24},children:[a(tt.Text,{style:Ao.headerTitle,children:r.props.title}),a(tt.Text,{style:Ao.headerDescription,children:r.props.body})]})]}),_(tt.View,{style:{flex:6},children:[a(tt.View,{style:{paddingBottom:8},children:a(bp,{tabs:Yl.map(function(s){return{...s,title:s.title()}}),activeTab:this.state.activeTab,onTabSelected:function(s){t.setState({activeTab:s})}})}),a(gr,{selectable:!0,style:{flex:1,textAlignVertical:"top"},children:n?.trimWhitespace?o.split(`
`).filter(function(s){return s.length!==0}).map(function(s){return s.trim()}).join(`
`):o})]}),a(tt.View,{style:Ao.footer,children:i.map(function(s){var u=i.indexOf(s)!==0?8:0;return a(di,{text:s.text,color:s.color??Ye.BRAND,size:s.size??"small",onPress:s.onPress,style:{...Er.isTablet?{flex:`0.${i.length}`,marginLeft:u}:{marginTop:u},borderRadius:16}})})})]})})}})}var tt,_w,bp,Ao,Yl,Kl=l(()=>{"use strict";G();J();fr();Fe();Jr();me();Te();dn();Z();Jo();$();St();hr();Pr();tt=D(X()),_w=ye("ErrorBoundary"),{BadgableTabBar:bp}=V(function(){return L("BadgableTabBar")}),Ao=Yt({container:{flex:1,backgroundColor:se.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...ir["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:se.HEADER_PRIMARY},headerDescription:{...ir["text-sm/medium"],textAlign:"center",color:se.TEXT_MUTED},footer:{flexDirection:Er.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),Yl=[{id:"message",title:function(){return c.MESSAGE}},{id:"stack",title:function(){return c.STACK_TRACE}},{id:"componentStack",title:function(){return c.COMPONENT},trimWhitespace:!0}]});var Xl=l(()=>{"use strict"});var bu={};I(bu,{fetchAndStorePlugin:()=>Ji,getPluginById:()=>Io,getSettingsComponent:()=>Cp,initPlugins:()=>Ip,installPlugin:()=>Tp,preferredSourceStore:()=>qi,removePlugin:()=>Ap,sourceStore:()=>nt,startPlugin:()=>Eu,stopPlugin:()=>xu});function Io(e){if(e){if(!qi[e]){for(var r of Object.values(nt))if(r?.id===e)return r}return nt[qi[e]]}}async function Ji(e){e.endsWith("/")||(e+="/");var r=nt[e],t=function(s){return Ae(s.replace(Rr,fn).replace(Ga,fn),{cache:"no-store"})},n;try{n=await(await t(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}for(var o of["id","main","hash","bunny"])Mr(n[o],`Plugin manifest does not contain mandatory field: '${o}'`);var i;if(r?.manifest.hash!==n.hash)try{i=await(await t(e+n.main)).text()}catch{}return Mr(i||r,`Failed to fetch JS from ${e}`),nt[e]={id:n.id,source:e,manifest:n,enabled:r?.enabled??!1,update:r?.update??!0,js:i??r.js,error:r?.error}}async function Tp(e,r=!0){e.endsWith("/")||(e+="/"),Mr(!(e in nt),"Source was already installed");var t=await Ji(e);r&&await Eu(t.id)}async function Rp(e){var r=await Pl(e),t=`vendetta=>{return ${e.js}}
//# sourceURL=${e.source}?hash=${e.manifest.hash}`,n=(0,eval)(t)(r),o=typeof n=="function"?n():n;return o?.default??o??{}}async function Eu(e){var r=Io(e);Mr(r,"Attempted to start non-existent plugin");try{if(Su()){var t=await Rp(r);en[e]=t,t.onLoad?.()}delete r.error,r.enabled=!0}catch(n){re.error(`Plugin ${r.source} errored whilst loading, and will be unloaded`,n),r.error=n instanceof Error?n.stack:String(n);try{en[e]?.onUnload?.()}catch(o){re.error(`Plugin ${r.source} errored whilst unloading`,o)}delete en[e],r.enabled=!1}}function xu(e,r=!0){var t=Io(e),n=en[e];if(Mr(t,"Attempted to stop non-existent plugin"),Su()){try{n?.onUnload?.()}catch(o){re.error(`Plugin ${t.source} errored whilst unloading`,o)}delete en[e]}r&&(t.enabled=!1)}async function Ap(e){var r=Io(e);Mr(r,"Removing non-existent plugin"),r.enabled&&xu(e),delete nt[r.source],await gt(r.source)}async function Ip(){if(await mr(nt,qi,x),Su()){var e=pa(Object.values(nt).map(function(o){return Io(o.id)}).filter(ma),function(o,i){return o?.id===i?.id}),r=[],t=async function(o){if(o.update)try{await Ji(o.id)}catch(i){re.error(i)}await Eu(o.id)};for(var n of e)n.enabled?r.push(t(n)):n.update&&Ji(n.id);await Tr(r)}return function(){return Object.keys(en).forEach(function(o){return xu(o,!1)})}}function Cp(e){return en[e]?.settings}var Su,en,nt,qi,ql=l(()=>{"use strict";Hn();ou();q();me();er();ht();uu();Ar();Go();Su=function(){return!x.safeMode?.enabled},en={},nt=Ne(fe(Se("PLUGIN_SOURCES_STORE"))),qi=Ne(fe(Se("PREFERRED_PLUGIN_SOURCE")))});var wu={};I(wu,{fonts:()=>Ks,plugins:()=>bu,themes:()=>Qn});var Jl=l(()=>{"use strict";Tn();ql();rr()});var Tu={};I(Tu,{alerts:()=>xi,color:()=>hi,components:()=>yi,settings:()=>Ms,styles:()=>Is,toasts:()=>Si});var Zl=l(()=>{"use strict";xt();St();hr();xn();Pr();Nr()});var Ru={};I(Ru,{api:()=>pu,debug:()=>Li,managers:()=>wu,metro:()=>ti,plugins:()=>yu,settings:()=>ci,ui:()=>Tu,unload:()=>Co,utils:()=>oi});function Co(){for(var e of Ql)typeof e=="function"&&e();delete window.bunny}var Ql,em=l(()=>{"use strict";Xl();vu();Jr();Jl();$i();me();Zl();er();jt();Ql=new Array;Co.push=function(e){Ql.push(e)}});var rm={};I(rm,{default:()=>Lp});async function Lp(){if(tr())try{ie()&&(U.removeFile!=null?Jt("vendetta_theme.json",""):Zr("vendetta_theme.json","null","")),rs()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}await Promise.all([iu(),Ds(),Bs(),tu(),es(),Nl(),Gc(),ru(),Fc(),Wl(),xf(),hu()]).then(function(e){return e.forEach(function(r){return r&&Co.push(r)})}),window.bunny=Ru,P.initPlugins().then(function(e){return Co.push(e)}).catch(function(){return alert("Failed to initialize Vendetta plugins")}),_u(),Ws(),re.log("Bunny is ready!")}var tm=l(()=>{"use strict";Uc();J();bf();Us();ou();Yr();xo();su();Zt();vr();fr();Jr();Tn();rr();$i();Ar();Kl();xn();em()});var{instead:Pp}=Mo();globalThis.window=globalThis;async function nm(){try{Object.freeze=Object.seal=Object,await(Ft(),Be(Oc)).initMetroCache(),await(tm(),Be(rm)).default()}catch(t){var{ClientInfoManager:e}=(fr(),Be(Bo)),r=t instanceof Error?t.stack:void 0;console.log(r??t?.toString?.()??t),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: c4371ed-dev",r||t?.toString?.()].join(`
`))}}if(typeof globalThis.__r<"u")nm();else{var e=function(r){var t=window.__fbBatchedBridge,n=new Array,o=Pp("callFunctionReturnFlushedQueue",t,function(s,u){return s[0]==="AppRegistry"||!t.getCallableModule(s[0])?(n.push(s),t.flushedQueue()):u.apply(t,s)}),i=async function(){await nm(),o(),r(0),n.forEach(function(s){return t.getCallableModule(s[0])&&t.__callFunction(...s)})};i()};Np=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return Zi},set(r){Zi=function(n){if(n===0)e(r),Zi=r;else return r(n)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(r){this.value=r}}})}var Zi,Np;})();
//# sourceURL=bunny
