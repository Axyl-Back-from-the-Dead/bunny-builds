"use strict";(()=>{var qc=Object.create;var _r=Object.defineProperty;var Jc=Object.getOwnPropertyDescriptor;var Zc=Object.getOwnPropertyNames;var Qc=Object.getPrototypeOf,$c=Object.prototype.hasOwnProperty;var o=(e,t)=>_r(e,"name",{value:t,configurable:!0});var f=(e,t)=>()=>(e&&(t=e(e=0)),t);var io=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t)=>{for(var r in t)_r(e,r,{get:t[r],enumerable:!0})},ri=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(var a=Zc(t),i=0,c=a.length,l;i<c;i++)l=a[i],!$c.call(e,l)&&l!==r&&_r(e,l,{get:(d=>t[d]).bind(null,l),enumerable:!(n=Jc(t,l))||n.enumerable});return e};var z=(e,t,r)=>(r=e!=null?qc(Qc(e)):{},ri(t||!e||!e.__esModule?_r(r,"default",{value:e,enumerable:!0}):r,e)),tt=e=>ri(_r({},"__esModule",{value:!0}),e);var so,Ge,nn=f(()=>{so=["a","b","i"],Ge=new Map});function co(e,t,r,n,a){var i=Ge.get(t)?.[e];if(!i)return a?Reflect.construct(t[e],r,n):t[e].apply(n,r);for(var c of i.b.values()){var l=c.call(n,r);Array.isArray(l)&&(r=l)}var d=[...i.i.values()].reduce(function(M,C){return function(){for(var I=arguments.length,H=new Array(I),te=0;te<I;te++)H[te]=arguments[te];return C.call(n,H,M)}},function(){for(var M=arguments.length,C=new Array(M),I=0;I<M;I++)C[I]=arguments[I];return a?Reflect.construct(i.o,C,n):i.o.apply(n,C)})(...r);for(var B of i.a.values())d=B.call(n,r,d)??d;return d}var ni=f(()=>{nn();o(co,"default")});function lo(e,t,r,n){var a=Ge.get(e),i=a?.[t];if(!i?.[n].has(r))return!1;if(i[n].delete(r),so.every(function(l){return i[l].size===0})){var c=Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0});c||(e[t]=i.o),delete a[t]}return Object.keys(a).length==0&&Ge.delete(e),!0}function oi(){for(var[e,t]of Ge.entries())for(var r in t)for(var n of so)for(var a of t[r]?.[n].keys()??[])lo(e,r,a,n)}var uo=f(()=>{nn();o(lo,"unpatch");o(oi,"unpatchAll")});function Sr(e){return function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof r[t]!="function")throw new Error("".concat(t," is not a function in ").concat(r.constructor.name));Ge.has(r)||Ge.set(r,Object.create(null));var i=Ge.get(r);if(!i[t]){var c=r[t];i[t]={o:c,b:new Map,i:new Map,a:new Map};var l=o(function(I,H,te){var hr=co(t,r,H,I,te);return a&&C(),hr},"runHook"),d=new Proxy(c,{apply:function(I,H,te){return l(H,te,!1)},construct:function(I,H){return l(c,H,!0)},get:function(I,H,te){return H=="toString"?c.toString.bind(c):Reflect.get(I,H,te)}}),B=Reflect.defineProperty(r,t,{value:d,configurable:!0,writable:!0});B||(r[t]=d)}var M=Symbol(),C=o(function(){return lo(r,t,M,e)},"unpatchThisPatch");return i[t][e].set(M,n),C}}var ai=f(()=>{ni();nn();uo();o(Sr,"default")});var Ut={};b(Ut,{after:()=>U,before:()=>ht,instead:()=>oe,unpatchAll:()=>oi});var ht,oe,U,rr=f(()=>{ai();uo();ht=Sr("b"),oe=Sr("i"),U=Sr("a")});var fo={};b(fo,{after:()=>U,before:()=>ht,default:()=>Ut,instead:()=>oe});var ve=f(()=>{"use strict";rr();rr()});var Ve,nr,el,tl,rl,mo=f(()=>{"use strict";Ve=window.modules,nr=window.__r,el=window.__d,tl=window.__c,rl=window.__registerSegment});var ii,nl,ol,al,Rr,po=f(()=>{"use strict";nl=o(function(e){return{status:"fulfilled",value:e}},"allSettledFulfill"),ol=o(function(e){return{status:"rejected",reason:e}},"allSettledReject"),al=o(function(e){return Promise.resolve(e).then(nl,ol)},"mapAllSettled"),Rr=o(function(e){return Promise.all(Array.from(e).map(al))},"allSettled");(ii=Promise).allSettled??(ii.allSettled=Rr)});var an={};b(an,{BundleUpdaterManager:()=>go,ClientInfoManager:()=>on,DeviceManager:()=>je,FileManager:()=>O,MMKVManager:()=>Ht,ThemeManager:()=>vo});var ke,Ht,O,on,je,go,vo,rt=f(()=>{"use strict";ke=window.nativeModuleProxy,Ht=ke.MMKVManager;O=ke.DCDFileManager??ke.RTNFileManager;on=ke.InfoDictionaryManager??ke.RTNClientInfoManager;je=ke.DCDDeviceManager??ke.RTNDeviceManager,{BundleUpdaterManager:go}=ke,vo=ke.RTNThemeManager??ke.DCDTheme});function sn(){return{listeners:Object.values(ho).reduce(function(e,t){return e[t]=new Set,e},{}),on(e,t){this.listeners[e].has(t)||this.listeners[e].add(t)},off(e,t){this.listeners[e].delete(t)},once(e,t){var r=this,n=o(function(a,i){r.off(a,n),t(a,i)},"once");this.on(e,n)},emit(e,t){for(var r of this.listeners[e])r(e,t)}}}var ho,Eo=f(()=>{"use strict";(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(ho||(ho={}));o(sn,"createEmitter")});var X=io((Rd,si)=>{Object.defineProperty(si,"exports",{get:()=>globalThis.ReactNative})});var li,ci,_o,ui,or,Ce,nt,fi=f(()=>{"use strict";rt();li=z(X()),ci=/[<>:"/\\|?*]/g,_o=o(function(e){return li.Platform.select({default:e,ios:O.saveFileToGallery?e:"Documents/".concat(e)})},"filePathFixer"),ui=o(function(e){return ci.test(e)&&(e=e.replace(ci,"-").replace(/-+/g,"-")),"vd_mmkv/".concat(e)},"getMMKVPath"),or=o(async function(e){await Ht.getItem(e)&&Ht.removeItem(e);var t=ui(e);await O.fileExists("".concat(O.getConstants().DocumentsDirPath,"/").concat(t))&&await O.removeFile?.("documents",t)},"purgeStorage"),Ce=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=ui(e),n=JSON.stringify(t);return nt(r,t,async function(){var a="".concat(O.getConstants().DocumentsDirPath,"/").concat(r);if(!await O.fileExists(a)){var i=await Ht.getItem(e)??n;if(i==="!!LARGE_VALUE!!"){var c="".concat(O.getConstants().CacheDirPath,"/mmkv/").concat(e);await O.fileExists(c)?i=await O.readFile(c,"utf8"):(console.log("".concat(e,": Experienced data loss :(")),i=n)}try{JSON.parse(i)}catch{console.error("".concat(e," had an unparseable data while migrating")),i=n}await O.writeFile("documents",_o(r),i,"utf8"),await Ht.getItem(e)!==null&&(Ht.removeItem(e),console.log("Successfully migrated ".concat(e," store from MMKV storage to fs")))}}())},"createMMKVBackend"),nt=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return{get:async function(){await r;var n="".concat(O.getConstants().DocumentsDirPath,"/").concat(e);if(await O.fileExists(n)){var a=await O.readFile(n,"utf8");try{return JSON.parse(a)}catch{}}return await O.writeFile("documents",_o(e),JSON.stringify(t),"utf8"),JSON.parse(await O.readFile(n,"utf8"))},set:async function(n){await r,await O.writeFile("documents",_o(e),JSON.stringify(n),"utf8")}}},"createFileBackend")});var ln={};b(ln,{awaitSyncWrapper:()=>Et,createFileBackend:()=>nt,createMMKVBackend:()=>Ce,createProxy:()=>cn,createStorage:()=>we,purgeStorage:()=>or,useProxy:()=>F,wrapSync:()=>Ye});function cn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=sn();function r(n,a){return new Proxy(n,{get(i,c){if(c===mi)return t;var l=[...a,c],d=i[c];return d!=null?(t.emit("GET",{path:l,value:d}),typeof d=="object"?r(d,l):d):d},set(i,c,l){return i[c]=l,t.emit("SET",{path:[...a,c],value:l}),!0},deleteProperty(i,c){var l=delete i[c];return l&&t.emit("DEL",{path:[...a,c]}),l}})}return o(r,"createProxy"),{proxy:r(e,[]),emitter:t}}function F(e){var t=e[mi],[,r]=React.useReducer(function(n){return~n},0);return React.useEffect(function(){var n=o(function(){return r()},"listener");return t.on("SET",n),t.on("DEL",n),function(){t.off("SET",n),t.off("DEL",n)}},[]),e}async function we(e){var t=await e.get(),{proxy:r,emitter:n}=cn(t),a=o(function(){return e.set(r)},"handler");return n.on("SET",a),n.on("DEL",a),r}function Ye(e){var t=void 0,r=[],n=o(function(a){return t?a():r.push(a)},"awaitInit");return e.then(function(a){t=a,r.forEach(function(i){return i()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(a){return[a,function(i){for(var c=arguments.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=arguments[d];return Reflect[a](t??i,...l)}]})),get(a,i,c){return i===di?n:Reflect.get(t??a,i,c)}})}var mi,di,Et,ae=f(()=>{"use strict";Eo();fi();mi=Symbol.for("vendetta.storage.emitter"),di=Symbol.for("vendetta.storage.accessor");o(cn,"createProxy");o(F,"useProxy");o(we,"createStorage");o(Ye,"wrapSync");Et=o(function(e){return new Promise(function(t){return e[di](t)})},"awaitSyncWrapper")});var xo={};b(xo,{BUNNY_PROXY_PREFIX:()=>To,DISCORD_SERVER:()=>So,DISCORD_SERVER_ID:()=>yo,GITHUB:()=>Ro,HTTP_REGEX:()=>il,HTTP_REGEX_MULTI:()=>Tr,PLUGINS_CHANNEL_ID:()=>Ao,PROXY_PREFIX:()=>_t,THEMES_CHANNEL_ID:()=>yr});var So,Ro,_t,To,il,Tr,yo,Ao,yr,Gt=f(()=>{"use strict";So="https://discord.gg/XjYgWXHb9Q",Ro="https://github.com/pyoncord",_t="https://vd-plugins.github.io/proxy",To="https://bunny-mod.github.io/plugins-proxy",il=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Tr=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,yo="1015931589865246730",Ao="1091880384561684561",yr="1091880434939482202"});var Ie,pi=f(()=>{"use strict";St();Ie=o(function(e,t){return ar(e,t,{walkable:["props","children","child","sibling"]})},"findInReactTree")});function bo(e,t,r,n){if(!(n>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var a of e)if(!(typeof a!="object"||a===null))try{var i=bo(a,t,r,n+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var c of Object.keys(e))if(!(typeof e[c]!="object"||e[c]===null)&&!(r.walkable.length&&!r.walkable.includes(c))&&!r.ignore.includes(c))try{var l=bo(e[c],t,r,n+1);if(l)return l}catch{}}}}var ar,gi=f(()=>{"use strict";o(bo,"treeSearch");ar=o(function(e,t){var{walkable:r=[],ignore:n=[],maxDepth:a=100}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return bo(e,t,{walkable:r,ignore:n,maxDepth:a},0)},"findInTree")});async function Rt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e4,n=await fetch(e,{signal:sl(r),...t});if(!n.ok)throw new Error("Request returned non-ok");return n}function sl(e){var t=new AbortController;return setTimeout(function(){return t.abort("Timed out after ".concat(e,"ms"))},e),t.signal}var vi=f(()=>{"use strict";o(Rt,"safeFetch");o(sl,"timeoutSignal")});var Co={};b(Co,{ButtonColors:()=>fe});var fe,ir=f(()=>{"use strict";(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(fe||(fe={}))});function un(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a={...e};return r.forEach(function(i){return delete a[i]}),a}var hi=f(()=>{"use strict";o(un,"without")});var fn={};b(fn,{constants:()=>xo,createEmitter:()=>sn,findInReactTree:()=>Ie,findInTree:()=>ar,logger:()=>wo,safeFetch:()=>Rt,types:()=>Co,without:()=>un});var St=f(()=>{"use strict";Gt();Eo();pi();gi();Vt();vi();ir();hi()});var mn={};b(mn,{Flux:()=>Lo,FluxDispatcher:()=>De,NavigationNative:()=>Ee,React:()=>_e,ReactNative:()=>Ne,assets:()=>kt,channels:()=>Ar,chroma:()=>ze,clipboard:()=>me,commands:()=>sr,constants:()=>Tt,i18n:()=>yt,invites:()=>Io,lodash:()=>Oo,messageUtil:()=>he,moment:()=>br,navigation:()=>Do,navigationStack:()=>No,toasts:()=>xr,url:()=>At,util:()=>Po});var Tt,Ar,yt,At,xr,me,kt,Io,sr,Do,he,No,Ee,Lo,De,_e,Ne,br,ze,Oo,Po,P=f(()=>{"use strict";W();Tt=m("Fonts","Permissions"),Ar=m("getVoiceChannelId"),yt=m("Messages"),At=m("openURL","openDeeplink"),xr=re(function(e){return e.open&&e.close&&!e.startDrag&&!e.init&&!e.openReplay&&!e.setAlwaysOnTop&&!e.setAccountFlag}),me=m("setString","getString","hasString"),kt=m("registerAsset"),Io=m("acceptInviteAndTransitionToInviteChannel"),sr=m("getBuiltInCommands"),Do=m("pushLazy"),he=m("sendBotMessage"),No=m("createStackNavigator"),Ee=m("NavigationContainer"),Lo=m("connectStores"),De=m("_currentDispatchActionType"),_e=window.React=m("createElement"),Ne=window.ReactNative=m("AppRegistry"),br=m("isMoment"),ze=m("brewer"),Oo=m("forEachRight"),Po=m("inspect","isNullOrUndefined")});var wr={};b(wr,{applyTheme:()=>Cr,color:()=>J,fetchTheme:()=>jt,getThemeFromLoader:()=>bt,initThemes:()=>Ho,installTheme:()=>ot,patchChatBackground:()=>Uo,removeTheme:()=>Yt,selectTheme:()=>at,themes:()=>j,updateThemes:()=>dn});async function Bo(e){if(typeof e!="object")throw new Error("Theme must be an object");await nt(Go()||"theme.json").set(e)}function Uo(){var e=K("MessagesWrapperConnected",!1);if(e){var{MessagesWrapper:t}=m("MessagesWrapper");if(t){var r=[U("default",e,function(n,a){return xt?React.createElement(cr.ImageBackground,{style:{flex:1,height:"100%"},source:de?.data?.background?.url&&{uri:de.data.background.url}||0,blurRadius:typeof de?.data?.background?.blur=="number"?de?.data?.background?.blur:0,children:a}):a}),U("render",t.prototype,function(n,a){if(!(!xt||!de?.data?.background?.url)){var i=Ie(a,function(c){return c&&"HACK_fixModalInteraction"in c.props&&c?.props?.style});i?i.props.style=[i.props.style,{backgroundColor:ze(i.props.style.backgroundColor||"black").alpha(1-(de?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return function(){return r.forEach(function(n){return n()})}}}}function Ri(e){if(ze.valid(e))return ze(e).hex();var t=Number((0,cr.processColor)(e));return ze.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}function ul(e){var t;if(e.semanticColors){var{semanticColors:r}=e;for(var n in r)for(var a in r[n]){var i,c;(i=r[n])[c=a]&&(i[c]=Ri(r[n][a]))}}if(e.rawColors){var{rawColors:l}=e;for(var d in l)e.rawColors[d]=Ri(l[d]);cr.Platform.OS==="android"&&fl(l)}return(t=e).spec??(t.spec=2),e}function fl(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[n,a]=t[r];e[n]&&(e[r]=ze(e[n]).alpha(a).hex())}}async function jt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;try{r=await(await Rt(e,{cache:"no-store"})).json()}catch{throw new Error("Failed to fetch theme at ".concat(e))}j[e]={id:e,selected:t,data:ul(r)},t&&(Bo(j[e]),Cr(j[e],ne))}async function ot(e){if(typeof e!="string"||e in j)throw new Error("Theme already installed");await jt(e)}function at(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e&&(e.selected=!0),Object.keys(j).forEach(function(r){return j[r].selected=j[r].id===e?.id}),e==null&&t)return Bo({});if(e)return Bo(e)}async function Yt(e){var t=j[e];return t.selected&&await at(null),delete j[e],t.selected}function bt(){return Ir()}async function dn(){await Et(j);var e=bt();await Rr(Object.keys(j).map(function(t){return jt(t,e?.id===t)}))}function Fo(e){return dl.has(e)}function pl(){var e=re(function(r){return r.isThemeDark&&Object.getOwnPropertyDescriptor(r,"isThemeDark")?.value}),t=o(function(r){var[n]=r;return n===Le?[ne]:void 0},"callback");Object.keys(J.RawColor).forEach(function(r){Object.defineProperty(J.RawColor,r,{configurable:!0,enumerable:!0,get:function(){return xt?de?.data?.rawColors?.[r]??Ti[r]:Ti[r]}})}),ht("isThemeDark",e,t),ht("isThemeLight",e,t),ht("updateTheme",vo,t),U("get",_i,function(r,n){var[a]=r;a==="SelectivelySyncedUserSettingsStore"?(Mo=!0,n?._state?.appearance?.settings?.theme&&xt&&(ne=n._state.appearance.settings.theme,n._state.appearance.settings.theme=Le)):a==="ThemeStore"&&(Mo=!0,n?._state?.theme&&xt&&(ne=n._state.theme,n._state.theme=Le))}),ht("set",_i,function(r){if(r[1]){var n=r[0],a=JSON.parse(JSON.stringify(r[1])),i={SelectivelySyncedUserSettingsStore:function(){if(a._state?.appearance?.settings?.theme){var{theme:c}=a._state?.appearance?.settings??{};Fo(c)?ne=c:a._state.appearance.settings.theme=ne}},ThemeStore:function(){if(a._state?.theme){var{theme:c}=a._state;Fo(c)?ne=c:a._state.theme=ne}}};return n in i?(i[n](),[n,a]):r}}),oe("resolveSemanticColor",J.default.meta??J.default.internal,function(r,n){if(!xt||!de)return n(...r);if(r[0]!==Le)return n(...r);r[0]=ne;var[a,i]=yi(ne,r[1]),c=ne==="midnight"?2:ne==="light"?1:0;var l=ll[a]??a,d=(de.data?.semanticColors?.[a]??de.data?.semanticColors?.[l])?.[c];if(d)return d;var B=de.data?.rawColors?.[i.raw];return B?i.opacity===1?B:ze(B).alpha(i.opacity).hex():n(...r)})}function gl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ne,t=cl.theme.toLowerCase();return Fo(t)?t:e}function Cr(e,t){t||(t=gl()),de=e,xt=!!de,ne=t,Le="vd-theme-".concat(ml++,"-").concat(t),e&&(J.Theme[Le.toUpperCase()]=Le,Si.DIVIDER_COLORS[Le]=Si.DIVIDER_COLORS[ne],Object.keys(J.Shadow).forEach(function(r){return J.Shadow[r][Le]=J.Shadow[r][ne]}),Object.keys(J.SemanticColor).forEach(function(r){J.SemanticColor[r][Le]={...J.SemanticColor[r][ne],override:e?.data?.semanticColors?.[r]?.[0]}})),Mo&&(Ei.setShouldSyncAppearanceSettings(!1),Ei.updateTheme(e?Le:t))}function Ho(){var e=bt();xt=!!e,pl(),Cr(e,ne),dn().catch(function(t){return console.error("Failed to update themes",t)})}function yi(e,t){var r,n=t[(r=yi)._sym??(r._sym=Object.getOwnPropertySymbols(t)[0])],a=J.SemanticColor[n];return[n,a[e]]}var cr,J,Ei,_i,cl,Si,j,ll,Ti,ml,Le,ne,xt,de,Mo,dl,Oe=f(()=>{"use strict";po();Pe();rt();ve();ae();St();P();W();cr=z(X());J=m("SemanticColor"),Ei=m("updateTheme"),_i=m("storage")?.parseResolve?m("storage"):m("impl").impl,cl=it("ThemeStore"),Si=m("DIVIDER_COLORS"),j=Ye(we(Ce("VENDETTA_THEMES"))),ll={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};o(Bo,"writeTheme");o(Uo,"patchChatBackground");o(Ri,"normalizeToHex");o(ul,"processData");o(fl,"applyAndroidAlphaKeys");o(jt,"fetchTheme");o(ot,"installTheme");o(at,"selectTheme");o(Yt,"removeTheme");o(bt,"getThemeFromLoader");o(dn,"updateThemes");Ti={...J.RawColor},ml=0,Le="vd-theme",ne="darker",xt=!1,Mo=!1,dl=new Set(["darker","midnight","dark","light"]);o(Fo,"isDiscordTheme");o(pl,"patchColor");o(gl,"getDefaultFallbackTheme");o(Cr,"applyTheme");o(Ho,"initThemes");o(yi,"extractInfo")});var Wo={};b(Wo,{getLoaderConfigPath:()=>zo,getLoaderIdentity:()=>hl,getLoaderName:()=>pn,getLoaderVersion:()=>Vo,getReactDevToolsProp:()=>ko,getReactDevToolsVersion:()=>jo,getStoredTheme:()=>Ir,getSysColors:()=>Ai,getThemeFilePath:()=>Go,getVendettaLoaderIdentity:()=>Dr,isLoaderConfigSupported:()=>gn,isPyonLoader:()=>Z,isReactDevToolsPreloaded:()=>lr,isSysColorsSupported:()=>Yo,isThemeSupported:()=>Se,isVendettaLoader:()=>ie});function ie(){return We!=null}function Z(){return st!=null}function vl(){if(!Z()||ie())return null;var e={name:st.loaderName,features:{}};return gn()&&(e.features.loaderConfig=!0),Yo()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return Ai()},configurable:!0})),Se()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){var t=Ir()?.id;if(!t)return null;var{themes:r}=(Oe(),tt(wr));return r[t]??Ir()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}function hl(){return Z()?st:ie()?Dr():null}function Dr(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:vl()}function pn(){return Z()?st.loaderName:ie()?We.name:"Unknown"}function Vo(){return Z()?st.loaderVersion:null}function gn(){return Z()?!0:ie()?We.features.loaderConfig:!1}function Se(){return Z()?st.hasThemeSupport:ie()?We.features.themes!=null:!1}function Ir(){if(Z())return st.storedTheme;if(ie()){var e=We.features.themes?.prop;return e&&globalThis[e]||null}return null}function Go(){return Z()?"pyoncord/current-theme.json":ie()?"vendetta_theme.json":null}function lr(){return Z()?!!window.__reactDevTools:ie()?We.features.devtools!=null:!1}function ko(){return lr()?Z()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):ie()?We.features.devtools.prop:null:null}function jo(){return lr()?Z()?window.__reactDevTools.version||null:ie()?We.features.devtools.version:null:null}function Yo(){return Z()?st.isSysColorsSupported:ie()?We.features.syscolors!=null:!1}function Ai(){return Yo()?Z()?st.sysColors:ie()?We.features.syscolors.prop:null:null}function zo(){return Z()?"pyoncord/loader.json":ie()?"vendetta_loader.json":"loader.json"}var st,We,Pe=f(()=>{"use strict";st=globalThis.__PYON_LOADER__,We=globalThis.__vendetta_loader;o(ie,"isVendettaLoader");o(Z,"isPyonLoader");o(vl,"polyfillVendettaLoaderIdentity");o(hl,"getLoaderIdentity");o(Dr,"getVendettaLoaderIdentity");Dr();o(pn,"getLoaderName");o(Vo,"getLoaderVersion");o(gn,"isLoaderConfigSupported");o(Se,"isThemeSupported");o(Ir,"getStoredTheme");o(Go,"getThemeFilePath");o(lr,"isReactDevToolsPreloaded");o(ko,"getReactDevToolsProp");o(jo,"getReactDevToolsVersion");o(Yo,"isSysColorsSupported");o(Ai,"getSysColors");o(zo,"getLoaderConfigPath")});var vn={};b(vn,{loaderConfig:()=>Re,settings:()=>T});var T,Re,se=f(()=>{"use strict";Pe();ae();T=Ye(we(Ce("VENDETTA_SETTINGS"))),Re=Ye(we(nt(zo(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var Ko={};b(Ko,{clear:()=>tl,common:()=>mn,define:()=>el,filters:()=>hn,find:()=>re,findAll:()=>ct,findByDisplayName:()=>zt,findByDisplayNameAll:()=>Or,findByName:()=>K,findByNameAll:()=>Lr,findByProps:()=>m,findByPropsAll:()=>Nr,findByStoreName:()=>it,findByTypeName:()=>Pr,findByTypeNameAll:()=>Br,metroRequire:()=>nr,modules:()=>Ve,registerSegment:()=>rl});var Ct=f(()=>{"use strict";mo();W();W();P()});var Ci={};b(Ci,{default:()=>Sl});function _l(e){var t=new Map;for(var r of El)e?.[r]?t.set(r,null):e?.default?.[r]&&t.set(r,"default");for(var[n,a]of t){var i=a?e[a]:e;En[n]?Object.keys(i).length<Object.keys(Xo[n]).length&&(En[n]=i[n],Xo[n]=i):(En[n]=i[n],Xo[n]=i)}}var El,Xo,En,bi,xi,Sl,wi=f(()=>{"use strict";Ct();El=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),Xo={},En={};for(xi in Ve)bi=nr(xi),_l(bi);o(_l,"polyfillRedesignModule");Sl=En});var hn={};b(hn,{find:()=>re,findAll:()=>ct,findByDisplayName:()=>zt,findByDisplayNameAll:()=>Or,findByName:()=>K,findByNameAll:()=>Lr,findByProps:()=>m,findByPropsAll:()=>Nr,findByStoreName:()=>it,findByTypeName:()=>Pr,findByTypeNameAll:()=>Br});function Rl(e){Object.defineProperty(Ve,e,{enumerable:!1})}function yl(e){var t;if((t=e).initSentry&&(t.initSentry=function(){}),e.default?.track&&e.default.trackMaker&&(e.default.track=function(){return Promise.resolve()}),e?.default?.name==="requireNativeComponent"&&oe("default",e,function(n,a){try{return a(...n)}catch{return n[0]}}),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(n,a,i){if(a==="isDeveloper"){var{settings:c}=(se(),tt(vn));return c.enableDiscordDeveloperSettings??!1}return Reflect.get(n,a,i)}})),!Di&&window["__core-js_shared__"]){var r=o(function(n){return typeof n=="function"&&Tl.apply(n,[])},"inspect");window["__core-js_shared__"].inspectSource=r,Di=!0}}function Ni(e){if(Ve[e].isInitialized)return nr(e);var t=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(Al);var r;try{r=nr(e)}catch{r=void 0}return ErrorUtils.setGlobalHandler(t),r}function*Li(){yield(wi(),tt(Ci));for(var e in Ve)yield Ni(e)}function Oi(e,t){if(e.default&&e.__esModule&&t(e.default))return e.default;if(t(e))return e}function re(e){for(var t of Li()){var r=Oi(t,e);if(r!==void 0)return r}}function ct(e){var t=[];for(var r of Li()){var n=Oi(r,e);n!==void 0&&t.push(n)}return t}var Tl,qo,Ii,_n,Jo,Di,Al,Pi,Bi,Mi,Fi,xl,m,Nr,K,Lr,zt,Or,Pr,Br,it,W=f(()=>{"use strict";ve();mo();o(Rl,"blacklistModule");Tl=Function.prototype.toString;for(Ii in Ve)qo=Ve[Ii],qo.factory&&oe("factory",qo,function(e,t){var{1:r,4:n}=e;e[2]=function(a){var i=r(a);return i&&i.__esModule?i.default:i},e[3]=function(a){var i=r(a);if(i&&i.__esModule)return i;var c={};return i&&Object.assign(c,i),c.default=i,c},t(...e),n.exports&&yl(n.exports)});for(Jo in Ve)_n=Ni(Jo),(!_n||_n===window||_n["Revenge EOL when?"]===null)&&Rl(Jo);Di=!1;o(yl,"onModuleRequire");Al=o(function(){},"noopHandler");o(Ni,"requireModule");o(Li,"getModuleExports");o(Oi,"testExports");o(re,"find");o(ct,"findAll");Pi=o(function(e){return function(t){return e.every(function(r){return t[r]!==void 0})}},"propsFilter"),Bi=o(function(e,t){return t?function(r){return r?.name===e}:function(r){return r?.default?.name===e}},"nameFilter"),Mi=o(function(e,t){return t?function(r){return r?.displayName===e}:function(r){return r?.default?.displayName===e}},"dNameFilter"),Fi=o(function(e,t){return t?function(r){return r?.type?.name===e}:function(r){return r?.default?.type?.name===e}},"tNameFilter"),xl=o(function(e){return function(t){return t.getName&&t.getName.length===0&&t.getName()===e}},"storeFilter"),m=o(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return re(Pi(t))},"findByProps"),Nr=o(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ct(Pi(t))},"findByPropsAll"),K=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return re(Bi(e,t))},"findByName"),Lr=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ct(Bi(e,t))},"findByNameAll"),zt=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return re(Mi(e,t))},"findByDisplayName"),Or=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ct(Mi(e,t))},"findByDisplayNameAll"),Pr=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return re(Fi(e,t))},"findByTypeName"),Br=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ct(Fi(e,t))},"findByTypeNameAll"),it=o(function(e){return re(xl(e))},"findByStoreName")});var wo={};b(wo,{logModule:()=>Sn,logger:()=>le});var Sn,le,Vt=f(()=>{"use strict";W();Sn=K("Logger"),le=new Sn("Bunny")});function Ui(e){var{locale:t}=e;try{br.locale(t.toLowerCase())}catch(r){le.error("Failed to fix timestamps...",r)}De.unsubscribe("I18N_LOAD_SUCCESS",Ui)}function Zo(){De.subscribe("I18N_LOAD_SUCCESS",Ui)}var Hi=f(()=>{"use strict";Vt();P();o(Ui,"onDispatch");o(Zo,"default")});var Vi,Gi=f(()=>{Vi={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install Add-on",INSTALL_PLUGIN:"Install Plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function ji(){var e=o(function(t){var{locale:r}=t,n={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},a=n[r]??r;if(a.startsWith("en-")){ur=null;return}ki.has(a)?ur=a:(ki.add(a),fetch("https://raw.githubusercontent.com/pyoncord/i18n/main/resources/".concat(a,"/bunny.json")).then(function(i){return i.json()}).then(function(i){return Qo[a]=i}).then(function(){return ur=a}).catch(function(i){return console.error("An error occured while fetching strings for ".concat(a,": ").concat(i))}))},"cb");return De.subscribe("I18N_LOAD_SUCCESS",e),function(){return De.unsubscribe("I18N_LOAD_SUCCESS",e)}}function Te(e,t){var r=s[e];return new Cl(r).format(t)}var Cl,ur,ki,Qo,s,q=f(()=>{"use strict";P();W();Gi();Cl=K("MessageFormat"),ki=new Set,Qo={},s=new Proxy({},{get:function(e,t){return ur&&Qo[ur]?.[t]?Qo[ur]?.[t]:Vi[t]}});o(ji,"initFetchI18nStrings");o(Te,"formatString")});var Rn={};b(Rn,{all:()=>Be,find:()=>ea,getAssetByID:()=>ra,getAssetByName:()=>ta,getAssetIDByName:()=>E,patchAssets:()=>$o});function $o(){for(var e=U("registerAsset",kt,function(n,a){var i=n[0];Be[i.name]={...i,id:a}}),t=1;;t++){var r=kt.getAssetByID(t);if(!r)break;Be[r.name]||(Be[r.name]={...r,id:t})}return e}var Be,ea,ta,ra,E,Q=f(()=>{"use strict";ve();P();Be={};o($o,"patchAssets");ea=o(function(e){return Object.values(Be).find(e)},"find"),ta=o(function(e){return Be[e]},"getAssetByName"),ra=o(function(e){return kt.getAssetByID(e)},"getAssetByID"),E=o(function(e){return Be[e]?.id},"getAssetIDByName")});var Tn={};b(Tn,{evalPlugin:()=>zi,fetchPlugin:()=>wt,getSettings:()=>Mr,initPlugins:()=>na,installPlugin:()=>lt,plugins:()=>Y,removePlugin:()=>Kt,startPlugin:()=>It,stopPlugin:()=>Dt});async function Yi(e){return e.startsWith(_t)&&(e=e.replace(_t,To)),await Rt(e,{cache:"no-store"})}async function wt(e){e.endsWith("/")||(e+="/");var t=Y[e],r;try{r=await(await Yi(e+"manifest.json")).json()}catch{throw new Error("Failed to fetch manifest for ".concat(e))}var n;if(t?.manifest.hash!==r.hash)try{n=await(await Yi(e+(r.main||"index.js"))).text()}catch{}if(!n&&!t)throw new Error("Failed to fetch JS for ".concat(e));Y[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:n??t.js}}async function lt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in Y)throw new Error("Plugin already installed");await wt(e),t&&await It(e)}async function zi(e){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await we(Ce(e.id))},logger:new Sn("Bunny \xBB ".concat(e.manifest.name))},r="vendetta=>{return ".concat(e.js,`}
//# sourceURL=`).concat(e.id),n=(0,eval)(r)(t),a=typeof n=="function"?n():n;return a?.default??a??{}}async function It(e){e.endsWith("/")||(e+="/");var t=Y[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{if(!T.safeMode?.enabled){var r=await zi(t);Wt[e]=r,r.onLoad?.()}t.enabled=!0}catch(n){le.error("Plugin ".concat(t.id," errored whilst loading, and will be unloaded"),n);try{Wt[t.id]?.onUnload?.()}catch(a){le.error("Plugin ".concat(t.id," errored whilst unloading"),a)}delete Wt[e],t.enabled=!1}}function Dt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.endsWith("/")||(e+="/");var r=Y[e],n=Wt[e];if(!r)throw new Error("Attempted to stop non-existent plugin");if(!T.safeMode?.enabled){try{n?.onUnload?.()}catch(a){le.error("Plugin ".concat(r.id," errored whilst unloading"),a)}delete Wt[e]}t&&(r.enabled=!1)}async function Kt(e){e.endsWith("/")||(e+="/");var t=Y[e];t.enabled&&Dt(e),delete Y[e],await or(e)}async function na(){await Et(T),await Et(Y);var e=Object.keys(Y);return T.safeMode?.enabled||(await Rr(e.filter(function(t){return Y[t].enabled}).map(async function(t){return Y[t].update&&await wt(t).catch(function(r){return le.error(r.message)}),await It(t)})),e.filter(function(t){return!Y[t].enabled&&Y[t].update}).forEach(function(t){return wt(t)})),wl}var Y,Wt,wl,Mr,ut=f(()=>{"use strict";po();ae();se();St();Gt();Vt();Y=Ye(we(Ce("VENDETTA_PLUGINS"))),Wt={};o(Yi,"pluginFetch");o(wt,"fetchPlugin");o(lt,"installPlugin");o(zi,"evalPlugin");o(It,"startPlugin");o(Dt,"stopPlugin");o(Kt,"removePlugin");o(na,"initPlugins");wl=o(function(){return Object.keys(Wt).forEach(function(e){return Dt(e,!1)})},"stopAllPlugins"),Mr=o(function(e){return Wt[e]?.settings},"getSettings")});var sa={};b(sa,{Form:()=>Il,FormArrow:()=>Dl,FormCTA:()=>Nl,FormCTAButton:()=>Ll,FormCardSection:()=>Ol,FormCheckbox:()=>Pl,FormCheckboxRow:()=>Bl,FormCheckmark:()=>Ml,FormDivider:()=>oa,FormHint:()=>Fl,FormIcon:()=>aa,FormInput:()=>ia,FormLabel:()=>Ul,FormRadio:()=>Hl,FormRadioGroup:()=>Gl,FormRadioRow:()=>Vl,FormRow:()=>ye,FormSection:()=>An,FormSelect:()=>kl,FormSliderRow:()=>jl,FormSubLabel:()=>Yl,FormSwitch:()=>zl,FormSwitchRow:()=>Wl,FormTernaryCheckBox:()=>Kl,FormText:()=>Xt,FormTitle:()=>Xl,Forms:()=>yn});var yn,Il,Dl,Nl,Ll,Ol,Pl,Bl,Ml,oa,Fl,aa,ia,Ul,Hl,Gl,Vl,ye,An,kl,jl,Yl,zl,Wl,Kl,Xt,Xl,Ae=f(()=>{"use strict";Ct();yn=m("Form","FormSection"),{Form:Il,FormArrow:Dl,FormCTA:Nl,FormCTAButton:Ll,FormCardSection:Ol,FormCheckbox:Pl,FormCheckboxRow:Bl,FormCheckmark:Ml,FormDivider:oa,FormHint:Fl,FormIcon:aa,FormInput:ia,FormLabel:Ul,FormRadio:Hl,FormRadioGroup:Gl,FormRadioRow:Vl,FormRow:ye,FormSection:An,FormSelect:kl,FormSliderRow:jl,FormSubLabel:Yl,FormSwitch:zl,FormSwitchRow:Wl,FormTernaryCheckBox:Kl,FormText:Xt,FormTitle:Xl}=yn});var ca=io((Dp,Wi)=>{Object.defineProperty(Wi,"exports",{get:()=>globalThis.React})});var da={};b(da,{AccessibilityAnnouncer:()=>Tf,AccessibilityPreferencesContext:()=>yf,AccessibilityView:()=>Af,AccessibilityViewAnimated:()=>xf,ActionSheet:()=>bf,ActionSheetCloseButton:()=>Cf,ActionSheetIconHeader:()=>wf,ActionSheetPresenter:()=>If,ActionSheetRow:()=>Df,ActionSheetSwitchRow:()=>Nf,AlertActionButton:()=>Jl,AlertModal:()=>Zl,AlertModalContainer:()=>Ql,AnimatedEnterExitItem:()=>Lf,AvatarDuoPile:()=>$l,AvatarPile:()=>eu,Backdrop:()=>tu,BottomSheetTextInput:()=>Of,Button:()=>Fr,Card:()=>ru,CompatfulRedesign:()=>ft,ContextMenu:()=>nu,ContextMenuContainer:()=>ou,Dialog:()=>Pf,DisableCustomTheme:()=>Bf,FauxHeader:()=>au,FloatingActionButton:()=>iu,FormCheckbox:()=>fa,FormRadio:()=>ql,FormSwitch:()=>ua,GhostInput:()=>su,GuildIconPile:()=>cu,HeaderActionButton:()=>lu,HeaderButton:()=>uu,HeaderSubmittingIndicator:()=>fu,IconButton:()=>xn,Input:()=>mu,InputButton:()=>du,InputContainer:()=>pu,LayerContext:()=>gu,LayerScope:()=>vu,Menu:()=>Mf,MenuGroup:()=>Ff,MenuItem:()=>Uf,MenuPopout:()=>Hf,Modal:()=>hu,ModalActionButton:()=>Eu,ModalContent:()=>_u,ModalDisclaimer:()=>Su,ModalFloatingAction:()=>Ru,ModalFloatingActionSpacer:()=>Tu,ModalFooter:()=>yu,ModalScreen:()=>Au,ModalStepIndicator:()=>xu,Navigator:()=>bu,NavigatorHeader:()=>Cu,NavigatorScreen:()=>wu,Pile:()=>Iu,PileOverflow:()=>Du,Redesign:()=>Zi,RedesignCompat:()=>Nu,RedesignCompatContext:()=>Lu,RootThemeContextProvider:()=>Gf,RowButton:()=>Ou,SceneLoadingIndicator:()=>Pu,SearchField:()=>Bu,SegmentedControl:()=>Mu,SegmentedControlPages:()=>Fu,SimpleActionSheet:()=>Vf,Slider:()=>Uu,Stack:()=>qt,StepModal:()=>Hu,StickyContext:()=>Gu,StickyHeader:()=>Vu,StickyWrapper:()=>ku,TableCheckboxRow:()=>ju,TableRadioGroup:()=>Yu,TableRadioRow:()=>zu,TableRow:()=>x,TableRowGroup:()=>pe,TableRowGroupTitle:()=>Wu,TableRowIcon:()=>Ku,TableSwitchRow:()=>Nt,Tabs:()=>Xu,Text:()=>kf,TextArea:()=>qu,TextField:()=>Ju,TextInput:()=>fr,TextStyleSheet:()=>jf,ThemeContextFlags:()=>Yf,ThemeContextForLegacyStyles:()=>zf,ThemeContextProvider:()=>Wf,Toast:()=>Zu,TransitionGroup:()=>Kf,TransitionItem:()=>Xf,TransitionStates:()=>qf,UseThemeContext:()=>Jf,WCAGContrastRatios:()=>Zf,createLegacyClassComponentStyles:()=>Qf,createNativeStyleProperties:()=>$f,createStyleProperties:()=>em,createStyles:()=>tm,darkenColor:()=>rm,dismissAlerts:()=>Qu,experimental_createToken:()=>nm,getContrastingColor:()=>om,getHeaderBackButton:()=>$u,getHeaderCloseButton:()=>ef,getHeaderConditionalBackButton:()=>tf,getHeaderNoTitle:()=>rf,getHeaderTextButton:()=>nf,getSemanticColorContextFromThemeContext:()=>am,hasThemeFlag:()=>im,hideContextMenu:()=>of,navigatorShouldCrossfade:()=>af,openAlert:()=>sf,setColorOpacity:()=>sm,setThemeFlag:()=>cm,showSimpleActionSheet:()=>lm,useAccessibilityNativeStackOptions:()=>cf,useAndroidNavScrim:()=>lf,useCoachmark:()=>uf,useFloatingActionButtonScroll:()=>ff,useFloatingActionButtonState:()=>mf,useLegacyClassComponentStyles:()=>um,useNativeStackNavigation:()=>df,useNavigation:()=>ma,useNavigationTheme:()=>pf,useNavigatorBackPressHandler:()=>gf,useNavigatorScreens:()=>vf,useNavigatorShouldCrossfade:()=>hf,useSegmentedControlState:()=>Ef,useStackNavigation:()=>_f,useTabNavigation:()=>Sf,useThemeContext:()=>fm,useToken:()=>mm,useTooltip:()=>Rf});var qi,Ji,Ki,Xi,la,Zi,ft,ua,ql,fa,Jl,Zl,Ql,$l,eu,tu,Fr,ru,nu,ou,au,iu,su,cu,lu,uu,fu,xn,mu,du,pu,gu,vu,hu,Eu,_u,Su,Ru,Tu,yu,Au,xu,bu,Cu,wu,Iu,Du,Nu,Lu,Ou,Pu,Bu,Mu,Fu,Uu,qt,Hu,Gu,Vu,ku,ju,Yu,zu,x,pe,Wu,Ku,Nt,Xu,qu,Ju,fr,Zu,Qu,$u,ef,tf,rf,nf,of,af,sf,cf,lf,uf,ff,mf,df,ma,pf,gf,vf,hf,Ef,_f,Sf,Rf,Tf,yf,Af,xf,bf,Cf,wf,If,Df,Nf,Lf,Of,Pf,Bf,Mf,Ff,Uf,Hf,Gf,Vf,kf,jf,Yf,zf,Wf,Kf,Xf,qf,Jf,Zf,Qf,$f,em,tm,rm,nm,om,am,im,sm,cm,lm,um,fm,mm,xe=f(()=>{"use strict";Ct();qi=z(ca()),Ji=z(X()),la=o(function(e){return re(function(t){return t[e]&&Object.keys(t).length===1})?.[e]},"findSingular"),Zi=m("TableRow"),ft=m("ActionSheetRow");(Ki=ft).ActionSheetTitleHeader??(Ki.ActionSheetTitleHeader=ft.BottomSheetTitleHeader);(Xi=ft).ActionSheetContentContainer??(Xi.ActionSheetContentContainer=function(e){var{children:t}=e;return(0,qi.useEffect)(function(){return console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. It has been temporarily replaced with View")},[]),React.createElement(Ji.View,null,t)});ua=la("FormSwitch"),ql=la("FormRadio"),fa=la("FormCheckbox"),{AlertActionButton:Jl,AlertModal:Zl,AlertModalContainer:Ql,AvatarDuoPile:$l,AvatarPile:eu,Backdrop:tu,Button:Fr,Card:ru,ContextMenu:nu,ContextMenuContainer:ou,FauxHeader:au,FloatingActionButton:iu,GhostInput:su,GuildIconPile:cu,HeaderActionButton:lu,HeaderButton:uu,HeaderSubmittingIndicator:fu,IconButton:xn,Input:mu,InputButton:du,InputContainer:pu,LayerContext:gu,LayerScope:vu,Modal:hu,ModalActionButton:Eu,ModalContent:_u,ModalDisclaimer:Su,ModalFloatingAction:Ru,ModalFloatingActionSpacer:Tu,ModalFooter:yu,ModalScreen:Au,ModalStepIndicator:xu,Navigator:bu,NavigatorHeader:Cu,NavigatorScreen:wu,Pile:Iu,PileOverflow:Du,RedesignCompat:Nu,RedesignCompatContext:Lu,RowButton:Ou,SceneLoadingIndicator:Pu,SearchField:Bu,SegmentedControl:Mu,SegmentedControlPages:Fu,Slider:Uu,Stack:qt,StepModal:Hu,StickyContext:Gu,StickyHeader:Vu,StickyWrapper:ku,TableCheckboxRow:ju,TableRadioGroup:Yu,TableRadioRow:zu,TableRow:x,TableRowGroup:pe,TableRowGroupTitle:Wu,TableRowIcon:Ku,TableSwitchRow:Nt,Tabs:Xu,TextArea:qu,TextField:Ju,TextInput:fr,Toast:Zu,dismissAlerts:Qu,getHeaderBackButton:$u,getHeaderCloseButton:ef,getHeaderConditionalBackButton:tf,getHeaderNoTitle:rf,getHeaderTextButton:nf,hideContextMenu:of,navigatorShouldCrossfade:af,openAlert:sf,useAccessibilityNativeStackOptions:cf,useAndroidNavScrim:lf,useCoachmark:uf,useFloatingActionButtonScroll:ff,useFloatingActionButtonState:mf,useNativeStackNavigation:df,useNavigation:ma,useNavigationTheme:pf,useNavigatorBackPressHandler:gf,useNavigatorScreens:vf,useNavigatorShouldCrossfade:hf,useSegmentedControlState:Ef,useStackNavigation:_f,useTabNavigation:Sf,useTooltip:Rf}=Zi,{AccessibilityAnnouncer:Tf,AccessibilityPreferencesContext:yf,AccessibilityView:Af,AccessibilityViewAnimated:xf,ActionSheet:bf,ActionSheetCloseButton:Cf,ActionSheetIconHeader:wf,ActionSheetPresenter:If,ActionSheetRow:Df,ActionSheetSwitchRow:Nf,AnimatedEnterExitItem:Lf,BottomSheetTextInput:Of,Dialog:Pf,DisableCustomTheme:Bf,Menu:Mf,MenuGroup:Ff,MenuItem:Uf,MenuPopout:Hf,RootThemeContextProvider:Gf,SimpleActionSheet:Vf,Text:kf,TextStyleSheet:jf,ThemeContextFlags:Yf,ThemeContextForLegacyStyles:zf,ThemeContextProvider:Wf,TransitionGroup:Kf,TransitionItem:Xf,TransitionStates:qf,UseThemeContext:Jf,WCAGContrastRatios:Zf,createLegacyClassComponentStyles:Qf,createNativeStyleProperties:$f,createStyleProperties:em,createStyles:tm,darkenColor:rm,experimental_createToken:nm,getContrastingColor:om,getSemanticColorContextFromThemeContext:am,hasThemeFlag:im,setColorOpacity:sm,setThemeFlag:cm,showSimpleActionSheet:lm,useLegacyClassComponentStyles:um,useThemeContext:fm,useToken:mm}=ft});var Lt={};b(Lt,{Alert:()=>pa,Button:()=>Ke,Forms:()=>sa,HelpMessage:()=>ga,Redesign:()=>da,SafeAreaView:()=>va});var pa,Ke,ga,va,Jt=f(()=>{"use strict";W();Ae();xe();pa=zt("FluxContainer(Alert)"),Ke=m("Looks","Colors","Sizes"),ga=K("HelpMessage"),va=m("useSafeAreaInsets").SafeAreaView});var bn={};b(bn,{isSemanticColor:()=>Ea,rawColors:()=>ha,resolveSemanticColor:()=>_a,semanticColors:()=>$});function Ea(e){return $i.isSemanticColor(e)}function _a(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dm.theme;return $i.resolveSemanticColor(t,e)}var Qi,$,ha,dm,$i,Ot=f(()=>{"use strict";Oe();W();P();$=J?.default?.colors??Tt?.ThemeColorMap,ha=J?.default?.unsafe_rawColors??Tt?.Colors,dm=it("ThemeStore"),$i=(Qi=J.default).meta??(Qi.meta=J.default.internal);o(Ea,"isSemanticColor");o(_a,"resolveSemanticColor")});var Sa={};b(Sa,{TextStyleSheet:()=>Xe,createStyles:()=>Zt,createThemedStyleSheet:()=>Qt});function Zt(e){return ft.createStyles(e)}function Qt(e){for(var t in e)e[t]=new Proxy(es.StyleSheet.flatten(e[t]),{get(r,n,a){var i=Reflect.get(r,n,a);return Ea(i)?_a(i):i}});return e}var es,Xe,Pt=f(()=>{"use strict";Ct();Ot();xe();es=z(X()),{TextStyleSheet:Xe}=m("TextStyleSheet");o(Zt,"createStyles");o(Qt,"createThemedStyleSheet")});function Me(e){var{selectable:t,style:r,children:n}=e;return t?mr.Platform.select({ios:React.createElement(pm,{style:r,children:n}),default:React.createElement(ts,{style:r,children:n,selectable:!0})}):React.createElement(ts,{style:r,children:n})}var mr,rs,pm,ts,ns=f(()=>{"use strict";P();Ot();Pt();mr=z(X()),rs=Zt({codeBlock:{fontFamily:Tt.Fonts.CODE_SEMIBOLD,fontSize:12,textAlignVertical:"center",backgroundColor:$.BACKGROUND_SECONDARY,color:$.TEXT_NORMAL,borderWidth:1,borderRadius:4,borderColor:$.BACKGROUND_TERTIARY,padding:10}}),pm=o(function(e){var{style:t,children:r}=e;return React.createElement(mr.TextInput,{editable:!1,multiline:!0,style:[rs().codeBlock,t&&t],value:r})},"InputBasedCodeblock"),ts=o(function(e){var{selectable:t,style:r,children:n}=e;return React.createElement(mr.Text,{selectable:t,style:[rs().codeBlock,r&&r]},n)},"TextBasedCodeblock");o(Me,"Codeblock")});function Ra(e){var t=React.useRef(null);return React.useEffect(function(){if($t.Platform.OS==="android"){var r=t.current?._children?.[0]?._nativeTag;return function(){if(r)var n=oe("setAccessibilityFocus",$t.AccessibilityInfo,function(a,i){var[c]=a;if(c!==r)return i.apply($t.AccessibilityInfo,[c]);n()})}}},[]),React.createElement($t.View,{ref:t},React.createElement(gm,e))}var $t,gm,os=f(()=>{"use strict";ve();W();$t=z(X()),{ContextMenu:gm}=m("ContextMenu");o(Ra,"ContextMenu")});function as(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var is=f(()=>{o(as,"_class_call_check")});function ss(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cs(e,t,r){return t&&ss(e.prototype,t),r&&ss(e,r),e}var ls=f(()=>{o(ss,"_defineProperties");o(cs,"_create_class")});function us(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fs=f(()=>{o(us,"_define_property")});function Cn(e,t){return Cn=Object.setPrototypeOf||o(function(n,a){return n.__proto__=a,n},"setPrototypeOf"),Cn(e,t)}var ms=f(()=>{o(Cn,"_set_prototype_of")});function ds(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}var ps=f(()=>{ms();o(ds,"_inherits")});function Ur(e){return Ur=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"getPrototypeOf"),Ur(e)}var gs=f(()=>{o(Ur,"_get_prototype_of")});function vs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var hs=f(()=>{o(vs,"_is_native_reflect_construct")});function Es(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _s=f(()=>{o(Es,"_assert_this_initialized")});function Ss(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var Rs=f(()=>{o(Ss,"_type_of")});function Ts(e,t){return t&&(Ss(t)==="object"||typeof t=="function")?t:Es(e)}var ys=f(()=>{_s();Rs();o(Ts,"_possible_constructor_return")});function As(e){var t=vs();return o(function(){var n=Ur(e),a;if(t){var i=Ur(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Ts(this,a)},"_createSuperInternal")}var xs=f(()=>{gs();hs();ys();o(As,"_create_super")});var Ta,bs,vm,ee,ya=f(()=>{"use strict";is();ls();fs();ps();xs();q();P();qe();Jt();Ae();Pt();Ta=z(X()),bs=Qt({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),ee=function(e){"use strict";ds(r,e);var t=As(r);function r(n){as(this,r);var a;return a=t.call(this,n),a.state={hasErr:!1},a}return o(r,"ErrorBoundary"),cs(r,[{key:"render",value:o(function(){var a=this;return this.state.hasErr?_e.createElement(Ta.ScrollView,{style:bs.view},_e.createElement(Xt,{style:bs.title},s.UH_OH),_e.createElement(Me,{selectable:!0,style:{marginBottom:5}},this.state.error.name),_e.createElement(Me,{selectable:!0,style:{marginBottom:5}},this.state.error.message),this.state.error.stack&&_e.createElement(Ta.ScrollView,{style:{maxHeight:420,marginBottom:5}},_e.createElement(Me,{selectable:!0},this.state.error.stack)),_e.createElement(Ke,{color:Ke.Colors.RED,size:Ke.Sizes.MEDIUM,look:Ke.Looks.FILLED,onPress:function(){return a.setState({hasErr:!1})},text:s.RETRY})):this.props.children},"render")}]),r}(vm=_e.Component);us(ee,"getDerivedStateFromError",function(e){return{hasErr:!0,error:e}})});function hm(){return React.createElement(wn.Image,{style:{transform:[{scale:.8}]},source:E("search")})}function mt(e){var{onChangeText:t,placeholder:r,style:n}=e,[a,i]=React.useState(""),c=o(function(l){i(l),t?.(l)},"onChange");return React.createElement(ee,null,React.createElement(wn.View,{style:n},React.createElement(fr,{grow:!0,isClearable:!0,leadingIcon:hm,placeholder:r??s.SEARCH,onChange:c,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:a})))}var wn,Cs=f(()=>{"use strict";q();Q();xe();ya();wn=z(X());o(hm,"SearchIcon");o(mt,"default")});function Gr(e){var{label:t,icon:r,noPadding:n=!1,noAnimation:a=!1,children:i}=e,[c,l]=React.useState(!0);return React.createElement(React.Fragment,null,React.createElement(x,{label:t,icon:r&&React.createElement(x.Icon,{source:E(r)}),trailing:React.createElement(ye.Arrow,{style:{transform:[{rotate:"".concat(c?180:90,"deg")}]}}),onPress:function(){l(!c),a||Hr.LayoutAnimation.configureNext(Hr.LayoutAnimation.Presets.easeInEaseOut)}}),!c&&React.createElement(React.Fragment,null,React.createElement(Hr.View,{style:!n&&{paddingHorizontal:15}},i)))}var Hr,ws=f(()=>{"use strict";Q();Ae();xe();Hr=z(X());o(Gr,"Summary")});var In={};b(In,{Codeblock:()=>Me,ContextMenu:()=>Ra,ErrorBoundary:()=>ee,Search:()=>mt,Summary:()=>Gr,discord:()=>Lt});var qe=f(()=>{"use strict";Jt();ns();os();ya();Cs();ws()});var Dn={};b(Dn,{showToast:()=>D});var Aa,Em,D,Je=f(()=>{"use strict";q();Q();P();W();Aa=z(X()),{uuid4:Em}=m("uuid4"),D=o(function(e,t){return xr.open({key:"vd-toast-".concat(Em()),content:e,source:t,icon:t})},"showToast");D.showCopyToClipboard=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.COPIED_TO_CLIPBOARD;(Aa.Platform.OS!=="android"||Aa.Platform.Version<=32)&&D(e,E("toast_copy_link"))}});function Rm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.guild_id===yo){var n;if(e.parent_id===Ao)n="Plugin";else if(e.parent_id===yr&&Se())n="Theme";else return;var{firstMessage:a}=r?_m(e):{firstMessage:t},i=a?.content?.match(Tr)?.filter(Vr[n].urlsFilter);if(!(!i||!i[0]))return n==="Plugin"&&!i[0].endsWith("/")&&(i[0]+="/"),[n,i[0]]}}function Tm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,[n,a]=Rm(e,t,r)??[];F(Y),F(j);var[i,c]=React.useState(!1);if(!n||!a)return[!0];var l=!!Vr[n].storage[a],d=o(async function(){c(!0);try{await Vr[n].installOrRemove(a)}catch(B){D(B.message,E("Small"))}finally{c(!1)}},"installOrRemove");return[!1,n,l,i,d]}function xa(){var e=[ym()];return function(){return e.map(function(t){return t()})}}var _m,Sm,Vr,ym,Is=f(()=>{"use strict";q();Q();Pe();ve();ae();ut();Oe();qe();xe();Gt();W();Je();({useFirstForumPostMessage:_m}=m("useFirstForumPostMessage")),Sm=m("MostCommonForumPostReaction"),Vr={Plugin:{storage:Y,urlsFilter:function(e){return e.startsWith(_t)},installOrRemove:function(e){var t=Vr.Plugin.storage[e];return t?Kt(e):lt(e)}},Theme:{storage:j,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){var t=Vr.Theme.storage[e];return t?Yt(e):ot(e)}}};o(Rm,"useExtractThreadContent");o(Tm,"useInstaller");ym=o(function(){return U("MostCommonForumPostReaction",Sm,function(e,t){var[{thread:r,firstMessage:n}]=e,[a,i,c,l,d]=Tm(r,n,!0);if(!a)return React.createElement(React.Fragment,null,t,React.createElement(ee,null,React.createElement(Fr,{size:"sm",loading:l,disabled:l,variant:c?"secondary":"primary",text:c?s.UNINSTALL:s.INSTALL,onPress:d,icon:E(c?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})))})},"installButtonPatch");o(xa,"default")});function ba(e){var{title:t,confirmText:r,confirmColor:n,onConfirm:a,cancelText:i,placeholder:c,initialValue:l="",secureTextEntry:d}=e,[B,M]=React.useState(l),[C,I]=React.useState("");function H(){var te=Promise.resolve(a(B));te.then(function(){Ds.close()}).catch(function(hr){I(hr.message)})}return o(H,"onConfirmWrapper"),React.createElement(pa,{title:t,confirmText:r,confirmColor:n,isConfirmButtonDisabled:C.length!==0,onConfirm:H,cancelText:i,onCancel:function(){return Ds.close()}},React.createElement(ia,{placeholder:c,value:B,onChange:function(te){M(typeof te=="string"?te:te.text),C&&I("")},returnKeyType:"done",onSubmitEditing:H,error:C||void 0,secureTextEntry:d,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}}))}var Ds,Ns=f(()=>{"use strict";W();Jt();Ae();Ds=m("openLazy","close");o(ba,"InputAlert")});var Ln={};b(Ln,{showConfirmationAlert:()=>Ze,showCustomAlert:()=>Nn,showInputAlert:()=>kr});function Ze(e){var t,r=e;return r.body=e.content,delete r.content,(t=r).isDismissable??(t.isDismissable=!0),Ls.show(r)}var Ls,Nn,kr,er=f(()=>{"use strict";W();Ns();Ls=m("openLazy","close");o(Ze,"showConfirmationAlert");Nn=o(function(e,t){return Ls.openLazy({importer:async function(){return function(){return React.createElement(e,t)}}})},"showCustomAlert"),kr=o(function(e){return Nn(ba,e)},"showInputAlert")});function Os(e){if(e.startsWith(_t))return"plugin";if(e.endsWith(".json")&&Se())return"theme"}function Ps(e,t){(e==="plugin"?lt:ot)(t).then(function(){D(s.SUCCESSFULLY_INSTALLED,E("Check"))}).catch(function(r){D(r.message,E("Small"))})}function Ca(){var e=new Array;return e.push(U("showSimpleActionSheet",Am,function(t){if(t[0].key==="LongPressUrl"){var{header:{title:r},options:n}=t[0],a=Os(r);a&&n.push({label:s.INSTALL_ADDON,onPress:function(){return Ps(a,r)}})}})),e.push(oe("handleClick",xm,async function(t,r){var{href:n}=t[0],a=Os(n);if(!a)return r.apply(this,t);if(a==="theme"&&wm(Cm())?.parent_id!==yr)return r.apply(this,t);Ze({title:s.HOLD_UP,content:Te("CONFIRMATION_LINK_IS_A_TYPE",{urlType:a}),onConfirm:function(){return Ps(a,n)},confirmText:s.INSTALL,cancelText:s.CANCEL,secondaryConfirmText:s.OPEN_IN_BROWSER,onConfirmSecondary:function(){return bm(n)}})})),function(){return e.forEach(function(t){return t()})}}var Am,xm,bm,Cm,wm,Bs=f(()=>{"use strict";q();Q();Pe();ve();ut();Oe();Gt();P();W();er();Je();Am=re(function(e){return e?.showSimpleActionSheet&&!Object.getOwnPropertyDescriptor(e,"showSimpleActionSheet")?.get}),xm=m("handleClick"),{openURL:bm}=At,{getChannelId:Cm}=Ar,{getChannel:wm}=m("getChannel");o(Os,"typeFromUrl");o(Ps,"installWithToast");o(Ca,"default")});var Fs={};b(Fs,{default:()=>Ms});function Ms(){var e=new Array;return e.push(xa()),e.push(Ca()),function(){return e.forEach(function(t){return t()})}}var Us=f(()=>{"use strict";Is();Bs();o(Ms,"onLoad")});function Hs(){var e=[(Us(),tt(Fs))].map(function(t){return t.default()});return function(){return e.forEach(function(t){return typeof t=="function"&&t()})}}var Gs=f(()=>{"use strict";o(Hs,"initCorePlugins")});function Pn(e,t,r,n,a){return async function(){if(e)return void e();var i=await r().then(function(c){return c.default});typeof n=="string"&&(n={title:n}),t??(t=Im.getRootNavigationRef()),t.navigate("VendettaCustomPage",{...n,render:function(){return React.createElement(i,a)}})}}var Im,On,wa=f(()=>{"use strict";P();W();qe();Im=m("getRootNavigationRef"),On=React.memo(function(){var e=Ee.useNavigation(),t=Ee.useRoute(),{render:r,...n}=t.params;return React.useEffect(function(){return void e.setOptions({...n})},[]),React.createElement(ee,null,React.createElement(r,null))});o(Pn,"wrapOnPress")});function Dm(){var e=Ee.useNavigation();return React.createElement(React.Fragment,null,Object.keys(Qe).map(function(t){return React.createElement(An,{key:t,title:t},Qe[t].filter(function(r){return r.usePredicate?.()??!0}).map(function(r){return React.createElement(ye,{label:r.title(),leading:React.createElement(aa,{source:r.icon}),trailing:ye.Arrow,onPress:Pn(r.onPress,e,r.render,r.title())})}))}))}function Vs(e){e.push(U("default",K("getScreens",!1),function(r,n){return{...n,VendettaCustomPage:{title:"Bnuuy",render:function(){return React.createElement(On,null)}}}}));var t=U("default",K("UserSettingsOverviewWrapper",!1),function(r,n){var a=Ie(n.props.children,function(i){return i.type?.name==="UserSettingsOverview"});e.push(U("renderSupportAndAcknowledgements",a.type.prototype,function(i,c){var{props:{children:l}}=c,d=l.findIndex(function(B){return B?.type?.name==="UploadLogsButton"});d!==-1&&l.splice(d,1)})),e.push(U("render",a.type.prototype,function(i,c){var l=[yt.Messages.BILLING_SETTINGS,yt.Messages.PREMIUM_SETTINGS],d=Ie(c.props.children,function(M){return M?.children?.[1]?.type===An}).children,B=d.findIndex(function(M){return l.includes(M?.props.label)});d.splice(-~B||4,0,React.createElement(Dm,null))}))},!0);e.push(t)}var ks=f(()=>{"use strict";Ct();P();Ae();dr();St();rr();wa();o(Dm,"SettingsSection");o(Vs,"patchPanelUI")});function Lm(){var e=!1;return React.useEffect(function(){return void(e=!0)},[]),e}function js(e){jr.SETTING_RENDERER_CONFIG.VendettaCustomPage={type:"route",title:function(){return"Bunny"},screen:{route:"VendettaCustomPage",getComponent:function(){return On}}};var t=o(function(){return Object.values(Qe).flatMap(function(n){return n.map(function(a){return{[a.key]:{type:"pressable",title:a.title,icon:a.icon,usePredicate:a.usePredicate,onPress:Pn(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}})}).reduce(function(n,a){return Object.assign(n,a)})},"getRows"),r=jr.SETTING_RENDERER_CONFIG;jr.SETTING_RENDERER_CONFIG=new Proxy(r,{get:function(n,a,i){return Reflect.get({...n,...t()},a,i)},getOwnPropertyDescriptor:function(n,a){return Reflect.getOwnPropertyDescriptor({...n,...t()},a)},ownKeys:function(n){return[...Reflect.ownKeys(n),...Object.keys(t())]}}),e.push(function(){jr.SETTING_RENDERER_CONFIG=r,delete jr.SETTING_RENDERER_CONFIG.VendettaCustomPage}),e.push(U("default",Nm,function(n,a){if(!Lm()){var{sections:i}=Ie(a,function(l){return l.props?.sections}).props,c=-~i.findIndex(function(l){return l.label===yt.Messages.ACCOUNT_SETTINGS})||1;Object.keys(Qe).forEach(function(l){i.splice(c++,0,{label:l,title:l,settings:Qe[l].map(function(d){return d.key})})})}}))}var jr,Nm,Ys=f(()=>{"use strict";Ct();P();dr();St();rr();wa();jr=m("SETTING_RENDERER_CONFIG"),Nm=K("SettingsOverviewScreen",!1);o(Lm,"useIsFirstRender");o(js,"patchTabsUI")});var Da={};b(Da,{patchSettings:()=>Ia,registerSection:()=>Bn,registeredSections:()=>Qe});function Bn(e){return Qe[e.name]=e.items,function(){return delete Qe[e.name]}}function Ia(){var e=new Array;return Vs(e),js(e),function(){return e.forEach(function(t){return t()})}}var Qe,dr=f(()=>{"use strict";ks();Ys();Qe={};o(Bn,"registerSection");o(Ia,"patchSettings")});var Ws,zs=f(()=>{Ws="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA+CAYAAACbQR1vAAAAAXNSR0IArs4c6QAAAuRJREFUaEPtmjFuFTEQhudPCiqEgtIhuAAUVDQUyR0QFRU3gZtwAMQdQHSIAiUNZShSAaKgoMrAPmVXu479PF7PeNdrXvts7/zf/DO29z3Qyj7MzOOQAMAyRNPFUwN3xffzLSFUAaADYQWhGgBWEP4DSK1Ty/GhHmDZFKtygEUZqALwZPA3gNtS10gcQERvALyUrhkbpwYgFryki8fWsNgWiwGQBN8EgGsQDODAtWdLAHba3bKQAiCiLwAex+pb8r1mCZwT0UPJQ90xPYgEAGonQzUAnagUAT4IKfMlTVWSDFUAuRAkAUuaadI6KYOlY1MyKV0zVDZz5w8gcxcIzbeGsNoSGAOxhFAFAMueUA0AQwgHACavz+aUs/ouULAnHAK4miN6PKcYAAMnnAD4UBUAZQiv/vWB19UBUIRwCeBelQAUIWTfCYr2ADdbiueEtwCez3HD0gB+EtHRnMB9c+acDZYGkL2P594RFgOgaH+fGa4AHEqctQgAY/GDbklJFAdgJP4HgGNm7vpJ11fEEIoBYOZbRPRHYsvEMZ8APNl3C93nhCIAjLK+0+wT53teCIIpAEvhfcalAEKwggCug/9KRC8AfJbYkpnPiOiRZKzmmDGEGHQX2AQAM/8iojuawa1trSCAGLm1CcmJZwxhcEDTAFoS7zbDnQNaAuDtAa0A8G2ZvQO6ravbwjb9CQJoqQxi5wD1+7nHUu8BnOZajZnvE9G31HX2Ath3oUh9UMqNLGftOTF7zwFuELmNUXIX1xLuWycS//DCxHsXYOanRPRxToBLC5fC6OMMAUjuBWsUHnN1F3M2gBqEe0B0/2U69wJg5gsiehCzf43CfZpuOEDS/LYifncviNXJEttZzH2a37svRILNb0tZnyRVcpDYqvgbJeCp/3cAnmlabm1rBd8IbTnr3hIYZ78V8ZMS6AG0JH4A0Kr4CYDWMt/3ATDzMYDva+vOpeLpANwFMPlJudTD1/CcvynvVk7pHrbOAAAAAElFTkSuQmCC"});var Fn={};b(Fn,{connectToDebugger:()=>Wr,getDebugInfo:()=>dt,patchLogHook:()=>Na,socket:()=>be,toggleSafeMode:()=>zr,versionHash:()=>Yr});async function zr(){T.safeMode={...T.safeMode,enabled:!T.safeMode?.enabled},Se()&&(bt()?.id&&(T.safeMode.currentThemeId=bt().id),T.safeMode?.enabled?await at(null):T.safeMode?.currentThemeId&&await at(j[T.safeMode?.currentThemeId])),setTimeout(go.reload,400)}function Wr(e){if(be!==void 0&&be.readyState!==WebSocket.CLOSED&&be.close(),!e){D("Invalid debugger URL!",E("Small"));return}be=new WebSocket("ws://".concat(e)),be.addEventListener("open",function(){return D("Connected to debugger.",E("Check"))}),be.addEventListener("message",function(t){try{(0,eval)(t.data)}catch(r){console.error(r)}}),be.addEventListener("error",function(t){console.log("Debugger error: ".concat(t.message)),D("An error occurred with the debugger connection!",E("Small"))})}function Na(){var e=U("nativeLoggingHook",globalThis,function(t){be?.readyState===WebSocket.OPEN&&be.send(JSON.stringify({message:t[0],level:t[1]})),le.log(t[0])});return function(){be&&be.close(),e()}}function dt(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",n=Mn.Platform.constants,a=n.reactNativeVersion;return{vendetta:{version:Yr,loader:pn()},bunny:{version:Yr,loader:{name:pn(),version:Vo()}},discord:{version:on.Version,build:on.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):"".concat(a.major,".").concat(a.minor,".").concat(a.patch)},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...Mn.Platform.select({android:{os:{name:"Android",version:n.Release,sdk:n.Version}},ios:{os:{name:n.systemName,version:n.osVersion}}}),...Mn.Platform.select({android:{device:{manufacturer:n.Manufacturer,brand:n.Brand,model:n.Model,codename:je.device}},ios:{device:{manufacturer:je.deviceManufacturer,brand:je.deviceBrand,model:je.deviceModel,codename:je.device}}})}}var Mn,be,Yr,pt=f(()=>{"use strict";Q();Pe();rt();ve();Oe();se();Vt();Je();Mn=z(X());o(zr,"toggleSafeMode");o(Wr,"connectToDebugger");o(Na,"patchLogHook");Yr="23c9f02";o(dt,"getDebugInfo")});function Un(e){var{label:t,version:r,icon:n}=e;return React.createElement(x,{label:t,icon:React.createElement(x.Icon,{source:E(n)}),trailing:React.createElement(Xt,null,r),onPress:function(){me.setString("".concat(t," - ").concat(r)),D.showCopyToClipboard()}})}var Ks=f(()=>{"use strict";Q();Ae();xe();P();Je();o(Un,"Version")});function La(){var e=dt();F(T);var t=[{label:s.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:"".concat(e.discord.version," (").concat(e.discord.build,")"),icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:s.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],r=[{label:s.LOADER,version:"".concat(e.bunny.loader.name," (").concat(e.bunny.loader.version,")"),icon:"ic_download_24px"},{label:s.OPERATING_SYSTEM,version:"".concat(e.os.name," ").concat(e.os.version),icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:s.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:s.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:s.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:Hn.Platform.select({android:s.CODENAME,ios:s.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return React.createElement(Hn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(qt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(pe,{title:s.VERSIONS},t.map(function(n){return React.createElement(Un,{label:n.label,version:n.version,icon:n.icon})})),React.createElement(pe,{title:s.PLATFORM},r.map(function(n){return React.createElement(Un,{label:n.label,version:n.version,icon:n.icon})}))))}var Hn,Xs=f(()=>{"use strict";q();Ks();ae();pt();se();xe();Hn=z(X());o(La,"About")});var Js={};b(Js,{default:()=>qs});function qs(){F(T);var e=dt(),t=ma();return React.createElement(Gn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(qt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(pe,{title:s.INFO},React.createElement(x,{label:s.BUNNY,icon:React.createElement(x.Icon,{source:{uri:Oa}}),trailing:React.createElement(x.TrailingText,{text:e.bunny.version})}),React.createElement(x,{label:"Discord",icon:React.createElement(x.Icon,{source:E("Discord")}),trailing:React.createElement(x.TrailingText,{text:"".concat(e.discord.version," (").concat(e.discord.build,")")})}),React.createElement(x,{arrow:!0,label:s.ABOUT,icon:React.createElement(x.Icon,{source:E("CircleInformationIcon")}),trailing:x.Arrow,onPress:function(){return t.push("VendettaCustomPage",{title:s.ABOUT,render:function(){return React.createElement(La,null)}})}})),React.createElement(pe,{title:s.LINKS},React.createElement(x,{label:s.DISCORD_SERVER,icon:React.createElement(x.Icon,{source:E("Discord")}),trailing:x.Arrow,onPress:function(){return At.openDeeplink(So)}}),React.createElement(x,{label:s.GITHUB,icon:React.createElement(x.Icon,{source:E("img_account_sync_github_white")}),trailing:x.Arrow,onPress:function(){return At.openURL(Ro)}})),React.createElement(pe,{title:s.ACTIONS},React.createElement(x,{label:s.RELOAD_DISCORD,icon:React.createElement(x.Icon,{source:E("ic_message_retry")}),onPress:function(){return Gn.NativeModules.BundleUpdaterManager.reload()}}),React.createElement(x,{label:T.safeMode?.enabled?s.RELOAD_IN_NORMAL_MODE:s.RELOAD_IN_SAFE_MODE,subLabel:T.safeMode?.enabled?s.RELOAD_IN_NORMAL_MODE_DESC:s.RELOAD_IN_SAFE_MODE_DESC,icon:React.createElement(x.Icon,{source:E("ic_privacy_24px")}),onPress:zr}),React.createElement(Nt,{label:s.DEVELOPER_SETTINGS,icon:React.createElement(x.Icon,{source:E("ic_progress_wrench_24px")}),value:T.developerSettings,onValueChange:function(r){T.developerSettings=r}})),React.createElement(pe,{title:s.MISCELLANEOUS},React.createElement(Nt,{label:s.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:s.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:React.createElement(x.Icon,{source:E("ic_progress_wrench_24px")}),value:T.enableDiscordDeveloperSettings,onValueChange:function(r){T.enableDiscordDeveloperSettings=r}}))))}var Gn,Zs=f(()=>{"use strict";q();Pa();Q();ae();pt();se();xe();Gt();P();Gn=z(X());Xs();o(qs,"General")});var $s=io((Qs,Vn)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof Vn=="object"&&Vn.exports?Vn.exports=t():e.fuzzysort=t()})(Qs,function(e){"use strict";var t=o(function(p,u){if(p=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!p||!u)return N;var v=B(p);Mt(u)||(u=d(u));var h=v.bitflags;return(h&u._bitflags)!==h?N:C(v,u)},"single"),r=o(function(p,u,v){if(p=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:u?u[0]:N}];if(!p)return v&&v.all?M(p,u,v):no;var h=B(p),_=h.bitflags,R=h.containsSpace,S=v&&v.threshold||Ft,g=v&&v.limit||ro,A=0,y=0,w=u.length;if(v&&v.key)for(var ce=v.key,L=0;L<w;++L){var ge=u[L],G=tn(ge,ce);if(G&&(Mt(G)||(G=d(G)),(_&G._bitflags)===_)){var k=C(h,G);k!==N&&(k.score<S||(k={target:k.target,_targetLower:"",_targetLowerCodes:N,_nextBeginningIndexes:N,_bitflags:0,score:k.score,_indexes:k._indexes,obj:ge},A<g?(Fe.add(k),++A):(++y,k.score>Fe.peek().score&&Fe.replaceTop(k))))}}else if(v&&v.keys)for(var ei=v.scoreFn||Wc,Er=v.keys,rn=Er.length,L=0;L<w;++L){for(var ge=u[L],ue=new Array(rn),Ue=0;Ue<rn;++Ue){var ce=Er[Ue],G=tn(ge,ce);if(!G){ue[Ue]=N;continue}Mt(G)||(G=d(G)),(_&G._bitflags)!==_?ue[Ue]=N:ue[Ue]=C(h,G)}ue.obj=ge;var V=ei(ue);V!==N&&(V<S||(ue.score=V,A<g?(Fe.add(ue),++A):(++y,V>Fe.peek().score&&Fe.replaceTop(ue))))}else for(var L=0;L<w;++L){var G=u[L];if(G&&(Mt(G)||(G=d(G)),(_&G._bitflags)===_)){var k=C(h,G);k!==N&&(k.score<S||(A<g?(Fe.add(k),++A):(++y,k.score>Fe.peek().score&&Fe.replaceTop(k))))}}if(A===0)return no;for(var tr=new Array(A),L=A-1;L>=0;--L)tr[L]=Fe.poll();return tr.total=A+y,tr},"go"),n=o(function(p,u,v){if(typeof u=="function")return a(p,u);if(p===N)return N;u===void 0&&(u="<b>"),v===void 0&&(v="</b>");var h="",_=0,R=!1,S=p.target,g=S.length,A=p._indexes;A=A.slice(0,A.len).sort(function(ce,L){return ce-L});for(var y=0;y<g;++y){var w=S[y];if(A[_]===y){if(++_,R||(R=!0,h+=u),_===A.length){h+=w+v+S.substr(y+1);break}}else R&&(R=!1,h+=v);h+=w}return h},"highlight"),a=o(function(y,u){if(y===N)return N;var v=y.target,h=v.length,_=y._indexes;_=_.slice(0,_.len).sort(function(L,ge){return L-ge});for(var R="",S=0,g=0,A=!1,y=[],w=0;w<h;++w){var ce=v[w];if(_[g]===w){if(++g,A||(A=!0,y.push(R),R=""),g===_.length){R+=ce,y.push(u(R,S++)),R="",y.push(v.substr(w+1));break}}else A&&(A=!1,y.push(u(R,S++)),R="");R+=ce}return y},"highlightCallback"),i=o(function(p){return p._indexes.slice(0,p._indexes.len).sort(function(u,v){return u-v})},"indexes"),c=o(function(p){typeof p!="string"&&(p="");var u=H(p);return{target:p,_targetLower:u._lower,_targetLowerCodes:u.lowerCodes,_nextBeginningIndexes:N,_bitflags:u.bitflags,score:N,_indexes:[0],obj:N}},"prepare"),l=o(function(p){typeof p!="string"&&(p=""),p=p.trim();var u=H(p),v=[];if(u.containsSpace){var h=p.split(/\s+/);h=[...new Set(h)];for(var _=0;_<h.length;_++)if(h[_]!==""){var R=H(h[_]);v.push({lowerCodes:R.lowerCodes,_lower:h[_].toLowerCase(),containsSpace:!1})}}return{lowerCodes:u.lowerCodes,bitflags:u.bitflags,containsSpace:u.containsSpace,_lower:u._lower,spaceSearches:v}},"prepareSearch"),d=o(function(p){if(p.length>999)return c(p);var u=eo.get(p);return u!==void 0||(u=c(p),eo.set(p,u)),u},"getPrepared"),B=o(function(p){if(p.length>999)return l(p);var u=to.get(p);return u!==void 0||(u=l(p),to.set(p,u)),u},"getPreparedSearch"),M=o(function(p,u,v){var h=[];h.total=u.length;var _=v&&v.limit||ro;if(v&&v.key)for(var R=0;R<u.length;R++){var S=u[R],g=tn(S,v.key);if(g){Mt(g)||(g=d(g)),g.score=Ft,g._indexes.len=0;var A=g;if(A={target:A.target,_targetLower:"",_targetLowerCodes:N,_nextBeginningIndexes:N,_bitflags:0,score:g.score,_indexes:N,obj:S},h.push(A),h.length>=_)return h}}else if(v&&v.keys)for(var R=0;R<u.length;R++){for(var S=u[R],y=new Array(v.keys.length),w=v.keys.length-1;w>=0;--w){var g=tn(S,v.keys[w]);if(!g){y[w]=N;continue}Mt(g)||(g=d(g)),g.score=Ft,g._indexes.len=0,y[w]=g}if(y.obj=S,y.score=Ft,h.push(y),h.length>=_)return h}else for(var R=0;R<u.length;R++){var g=u[R];if(g&&(Mt(g)||(g=d(g)),g.score=Ft,g._indexes.len=0,h.push(g),h.length>=_))return h}return h},"all"),C=o(function(p,u){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(v===!1&&p.containsSpace)return I(p,u);for(var h=p._lower,_=p.lowerCodes,R=_[0],S=u._targetLowerCodes,g=_.length,A=S.length,L=0,y=0,w=0;;){var ce=R===S[y];if(ce){if(Bt[w++]=y,++L,L===g)break;R=_[L]}if(++y,y>=A)return N}var L=0,ge=!1,G=0,k=u._nextBeginningIndexes;k===N&&(k=u._nextBeginningIndexes=hr(u.target));var ei=y=Bt[0]===0?0:k[Bt[0]-1],Er=0;if(y!==A)for(;;)if(y>=A){if(L<=0||(++Er,Er>200))break;--L;var rn=en[--G];y=k[rn]}else{var ce=_[L]===S[y];if(ce){if(en[G++]=y,++L,L===g){ge=!0;break}++y}else y=k[y]}var ue=u._targetLower.indexOf(h,Bt[0]),Ue=~ue;if(Ue&&!ge)for(var V=0;V<w;++V)Bt[V]=ue+V;var tr=!1;Ue&&(tr=u._nextBeginningIndexes[ue-1]===ue);{if(ge)var He=en,oo=G;else var He=Bt,oo=w;for(var et=0,ti=0,V=1;V<g;++V)He[V]-He[V-1]!==1&&(et-=He[V],++ti);var Xc=He[g-1]-He[0]-(g-1);if(et-=(12+Xc)*ti,He[0]!==0&&(et-=He[0]*He[0]*.2),!ge)et*=1e3;else{for(var ao=1,V=k[0];V<A;V=k[V])++ao;ao>24&&(et*=(ao-24)*10)}Ue&&(et/=1+g*g*1),tr&&(et/=1+g*g*1),et-=A-g,u.score=et;for(var V=0;V<oo;++V)u._indexes[V]=He[V];return u._indexes.len=oo,u}},"algorithm"),I=o(function(p,u){for(var v=new Set,h=0,_=N,R=0,S=p.spaceSearches,w=0;w<S.length;++w){var g=S[w];if(_=C(g,u),_===N)return N;h+=_.score,_._indexes[0]<R&&(h-=R-_._indexes[0]),R=_._indexes[0];for(var A=0;A<_._indexes.len;++A)v.add(_._indexes[A])}var y=C(p,u,!0);if(y!==N&&y.score>h)return y;_.score=h;var w=0;for(var ce of v)_._indexes[w++]=ce;return _._indexes.len=w,_},"algorithmSpaces"),H=o(function(p){for(var u=p.length,v=p.toLowerCase(),h=[],_=0,R=!1,S=0;S<u;++S){var g=h[S]=v.charCodeAt(S);if(g===32){R=!0;continue}var A=g>=97&&g<=122?g-97:g>=48&&g<=57?26:g<=127?30:31;_|=1<<A}return{lowerCodes:h,bitflags:_,containsSpace:R,_lower:v}},"prepareLowerInfo"),te=o(function(p){for(var u=p.length,v=[],h=0,_=!1,R=!1,S=0;S<u;++S){var g=p.charCodeAt(S),A=g>=65&&g<=90,y=A||g>=97&&g<=122||g>=48&&g<=57,w=A&&!_||!R||!y;_=A,R=y,w&&(v[h++]=S)}return v},"prepareBeginningIndexes"),hr=o(function(p){for(var u=p.length,v=te(p),h=[],_=v[0],R=0,S=0;S<u;++S)_>S?h[S]=_:(_=v[++R],h[S]=_===void 0?u:_);return h},"prepareNextBeginningIndexes"),zc=o(function(){eo.clear(),to.clear(),Bt=[],en=[]},"cleanup"),eo=new Map,to=new Map,Bt=[],en=[],Wc=o(function(p){for(var u=Ft,v=p.length,h=0;h<v;++h){var _=p[h];if(_!==N){var R=_.score;R>u&&(u=R)}}return u===Ft?N:u},"defaultScoreFn"),tn=o(function(p,u){var v=p[u];if(v!==void 0)return v;var h=u;Array.isArray(u)||(h=u.split("."));for(var _=h.length,R=-1;p&&++R<_;)p=p[h[R]];return p},"getValue"),Mt=o(function(p){return typeof p=="object"},"isObj"),ro=1/0,Ft=-ro,no=[];no.total=0;var N=null,Kc=o(function(p){var u=[],v=0,h={},_=o(function(R){for(var S=0,g=u[S],A=1;A<v;){var y=A+1;S=A,y<v&&u[y].score<u[A].score&&(S=y),u[S-1>>1]=u[S],A=1+(S<<1)}for(var w=S-1>>1;S>0&&g.score<u[w].score;w=(S=w)-1>>1)u[S]=u[w];u[S]=g},"v");return h.add=function(R){var S=v;u[v++]=R;for(var g=S-1>>1;S>0&&R.score<u[g].score;g=(S=g)-1>>1)u[S]=u[g];u[S]=R},h.poll=function(R){if(v!==0){var S=u[0];return u[0]=u[--v],_(),S}},h.peek=function(R){if(v!==0)return u[0]},h.replaceTop=function(R){u[0]=R,_()},h},"fastpriorityqueue"),Fe=Kc();return{single:t,go:r,highlight:n,prepare:c,indexes:i,cleanup:zc}})});function Pm(e,t){return t?ec.default.go(t,e,{keys:["id","manifest.name","manifest.description","manifest.authors.0.name","manifest.authors.1.name"]}).map(function(r){return r.obj}):e}function Kr(e){var{floatingButtonText:t,fetchFunction:r,items:n,safeModeMessage:a,safeModeExtras:i,card:c}=e;F(T),F(n);var l=Bm.useSharedValue(0),d=React.useRef(0),[B,M]=React.useState("");return React.createElement(ee,null,React.createElement(kn.FlatList,{ListHeaderComponent:React.createElement(React.Fragment,null,T.safeMode?.enabled&&React.createElement(kn.View,{style:{marginBottom:10}},React.createElement(ga,{messageType:0},a),i),React.createElement(mt,{style:{marginBottom:15},onChangeText:function(C){return M(C.toLowerCase())},placeholder:s.SEARCH})),onScroll:function(C){C.nativeEvent.contentOffset.y<=0||(l.value=+(C.nativeEvent.contentOffset.y>d.current),d.current=C.nativeEvent.contentOffset.y)},style:{paddingHorizontal:10,paddingTop:10},contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},data:Pm(Object.values(n),B),renderItem:function(C){var{item:I,index:H}=C;return React.createElement(c,{item:I,index:H})}}),React.createElement(Mm,{text:t,icon:E("DownloadIcon"),state:{collapseText:l},onPress:function(){me.getString().then(function(C){return kr({title:t,initialValue:C.match(Tr)?.[0]??"",placeholder:s.URL_PLACEHOLDER,onConfirm:function(I){return r(I)},confirmText:s.INSTALL,cancelText:s.CANCEL})})}}))}var ec,kn,Bm,Mm,Ba=f(()=>{"use strict";q();Q();ae();W();se();Jt();Gt();P();er();qe();ec=z($s()),kn=z(X());o(Pm,"getItemsByQuery");Bm=m("useSharedValue"),{FloatingActionButton:Mm}=m("FloatingActionButton");o(Kr,"AddonPage")});function Xr(e){var t=Hm();return React.createElement(Ne.View,{style:[t.card,{marginTop:e.index!==0?15:0}]},React.createElement(pr.ImageBackground,{source:e.headerIcon&&E(e.headerIcon)||{},resizeMode:"cover",imageStyle:t.iconStyle},React.createElement(ye,{style:t.header,label:React.createElement(pr.View,{style:t.headerLeading},React.createElement(Ne.Text,{style:t.headerLabel},e.headerLabel),e.headerSublabel&&React.createElement(Ne.Text,{style:t.headerSubtitle},e.headerSublabel)),trailing:React.createElement(pr.View,{style:t.headerTrailing},React.createElement(pr.View,{style:t.actions},e.overflowActions&&React.createElement(xn,{onPress:function(){return Um({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&React.createElement(ye.Icon,{style:{marginRight:8},source:E(e.headerIcon)}),onClose:function(){return Fm()}},options:e.overflowActions?.map(function(r){return{...r,icon:E(r.icon)}})})},size:"sm",variant:"secondary",icon:E("CircleInformationIcon")}),e.actions?.map(function(r){var{icon:n,onPress:a,disabled:i}=r;return React.createElement(xn,{onPress:a,disabled:i,size:"sm",variant:"secondary",icon:E(n)})})),e.toggleType&&(e.toggleType==="switch"?React.createElement(ua,{value:e.toggleValue,onValueChange:e.onToggleChange}):React.createElement(Ne.Pressable,{onPress:function(){e.onToggleChange?.(!e.toggleValue)}},React.createElement(fa,{checked:e.toggleValue}))))}),React.createElement(ye,{label:React.createElement(Ne.View,null,React.createElement(Ne.Text,{style:t.descriptionLabel},e.descriptionLabel))})))}var pr,Fm,Um,Hm,Ma=f(()=>{"use strict";Q();Ae();xe();Pt();P();W();Ot();pr=z(X()),{hideActionSheet:Fm}=m("openLazy","hideActionSheet"),{showSimpleActionSheet:Um}=m("showSimpleActionSheet"),Hm=Zt({card:{backgroundColor:$?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...Xe["heading-md/semibold"],color:$.TEXT_NORMAL},headerSubtitle:{...Xe["text-md/semibold"],color:$.TEXT_MUTED},descriptionLabel:{...Xe["text-md/semibold"],color:$.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:$.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}});o(Xr,"Card")});async function tc(e,t){e.enabled&&Dt(e.id,!1),t(),e.enabled&&await It(e.id)}function Fa(e){var{item:t,index:r}=e;F(t);var n=Mr(t.id),a=Ee.useNavigation(),[i,c]=React.useState(!1);return i?null:React.createElement(Xr,{index:r,headerLabel:"".concat(t.manifest.name),headerSublabel:t.manifest.authors?.[0]&&"by ".concat(t.manifest.authors.map(function(l){return l.name}).join(", ")),headerIcon:t.manifest.vendetta?.icon,toggleType:"switch",toggleValue:t.enabled,onToggleChange:function(l){try{l?It(t.id):Dt(t.id)}catch(d){D(d.message,E("Small"))}},descriptionLabel:t.manifest.description,overflowTitle:t.manifest.name,actions:[{icon:"WrenchIcon",disabled:!n,onPress:function(){return a.push("VendettaCustomPage",{title:t.manifest.name,render:n})}}],overflowActions:[...n?[{label:s.OVERFLOW_PLUGIN_SETTINGS,icon:"settings",onPress:function(){return a.push("VendettaCustomPage",{title:t.manifest.name,render:n})}}]:[],{icon:"ic_sync_24px",label:s.REFETCH,onPress:async function(){tc(t,function(){wt(t.id).then(async function(){D(s.PLUGIN_REFETCH_SUCCESSFUL,E("toast_image_saved"))}).catch(function(){D(s.PLUGIN_REFETCH_FAILED,E("Small"))})})}},{icon:"copy",label:s.COPY_URL,onPress:function(){me.setString(t.id),D.showCopyToClipboard()}},{icon:"ic_download_24px",label:t.update?s.DISABLE_UPDATES:s.ENABLE_UPDATES,onPress:function(){t.update=!t.update,D(Te("TOASTS_PLUGIN_UPDATE",{update:t.update,name:t.manifest.name}),E("toast_image_saved"))}},{icon:"ic_duplicate",label:s.CLEAR_DATA,isDestructive:!0,onPress:function(){return Ze({title:s.HOLD_UP,content:Te("ARE_YOU_SURE_TO_CLEAR_DATA",{name:t.manifest.name}),confirmText:s.CLEAR,cancelText:s.CANCEL,confirmColor:fe.RED,onConfirm:function(){tc(t,function(){try{or(t.id),D(Te("CLEAR_DATA_SUCCESSFUL",{name:t.manifest.name}),E("trash"))}catch{D(Te("CLEAR_DATA_FAILED",{name:t.manifest.name}),E("Small"))}})}})}},{icon:"ic_message_delete",label:s.DELETE,isDestructive:!0,onPress:function(){return Ze({title:s.HOLD_UP,content:Te("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:t.manifest.name}),confirmText:s.DELETE,cancelText:s.CANCEL,confirmColor:fe.RED,onConfirm:function(){try{Kt(t.id),c(!0)}catch(l){D(l.message,E("Small"))}}})}}]})}var rc=f(()=>{"use strict";q();Ma();Q();ae();ut();ir();P();er();Je();o(tc,"stopThenStart");o(Fa,"PluginCard")});var oc={};b(oc,{default:()=>nc});function nc(){return F(T),React.createElement(Kr,{title:s.PLUGINS,floatingButtonText:s.INSTALL_PLUGIN,fetchFunction:lt,items:Y,safeModeMessage:s.SAFE_MODE_NOTICE_PLUGINS,card:Fa})}var ac=f(()=>{"use strict";q();Ba();rc();ae();ut();se();o(nc,"Plugins")});function ic(e,t){try{at(e?t:null),Cr(e?t:null)}catch(r){console.error("Error while selectAndApply,",r)}}function Ua(e){var{item:t,index:r}=e;F(t);var[n,a]=React.useState(!1);if(n)return null;var{authors:i}=t.data;return React.createElement(Xr,{index:r,headerLabel:t.data.name,headerSublabel:i?"by ".concat(i.map(function(c){return c.name}).join(", ")):"",descriptionLabel:t.data.description??"No description.",toggleType:T.safeMode?.enabled?void 0:"radio",toggleValue:t.selected,onToggleChange:function(c){ic(c,t)},overflowTitle:t.data.name,overflowActions:[{icon:"ic_sync_24px",label:s.REFETCH,onPress:function(){jt(t.id,t.selected).then(function(){D(s.THEME_REFETCH_SUCCESSFUL,E("toast_image_saved"))}).catch(function(){D(s.THEME_REFETCH_FAILED,E("Small"))})}},{icon:"copy",label:s.COPY_URL,onPress:function(){me.setString(t.id),D.showCopyToClipboard()}},{icon:"ic_message_delete",label:s.DELETE,isDestructive:!0,onPress:function(){return Ze({title:s.HOLD_UP,content:Te("ARE_YOU_SURE_TO_DELETE_THEME",{name:t.data.name}),confirmText:s.DELETE,cancelText:s.CANCEL,confirmColor:fe.RED,onConfirm:function(){Yt(t.id).then(function(c){a(!0),c&&ic(!1,t)}).catch(function(c){D(c.message,E("Small"))})}})}}]})}var sc=f(()=>{"use strict";q();Ma();Q();ae();Oe();se();ir();P();er();Je();o(ic,"selectAndApply");o(Ua,"ThemeCard")});var lc={};b(lc,{default:()=>cc});function cc(){return F(T),F(j),React.createElement(Kr,{title:s.THEMES,floatingButtonText:s.INSTALL_THEME,fetchFunction:ot,items:j,safeModeMessage:Te("SAFE_MODE_NOTICE_THEMES",{enabled:!!T.safeMode?.currentThemeId}),safeModeExtras:T.safeMode?.currentThemeId?React.createElement(Ke,{text:s.DISABLE_THEME,color:fe.BRAND,size:"small",onPress:function(){delete T.safeMode?.currentThemeId},style:{marginTop:8}}):void 0,card:Ua})}var uc=f(()=>{"use strict";q();Ba();sc();ae();Oe();se();ir();Jt();o(cc,"Themes")});var qr={};b(qr,{downloadFile:()=>Vm,fileExists:()=>Ga,readFile:()=>Gm,removeFile:()=>Ha,writeFile:()=>jn});async function Ha(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"pyoncord/";if(typeof O.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void await O.removeFile("documents","".concat(t).concat(e))}async function Ga(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"pyoncord/";return await O.fileExists("".concat(O.getConstants().DocumentsDirPath,"/").concat(t).concat(e))}async function jn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"pyoncord/";if(typeof t!="string")throw new Error("Argument 'data' must be a string");return void await O.writeFile("documents","".concat(r).concat(e),t,"utf8")}async function Gm(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"pyoncord/";try{return await O.readFile("".concat(O.getConstants().DocumentsDirPath,"/").concat(r).concat(e),"utf8")}catch{if(t==null)throw new Error("Errored while reading ".concat(e," doesn't exist"));return await jn(e,t),t}}async function Vm(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"pyoncord/",n=await fetch(e).then(function(l){return l.blob()}),a=await new Promise(function(l){var d=new FileReader;d.onload=function(){return l(d.result)},d.readAsDataURL(n)}),i;if(a==null)throw new Error("Failed to convert blob to data URL");var c=a.indexOf("base64,");if(c===-1)throw new Error("dataURL does not contain base64");return i=a.slice(c+7),void await O.writeFile("documents","".concat(r).concat(t),i,"base64")}var Yn=f(()=>{"use strict";rt();o(Ha,"removeFile");o(Ga,"fileExists");o(jn,"writeFile");o(Gm,"readFile");o(Vm,"downloadFile")});function fc(e,t){var[r,n]=(0,gr.useState)(2),a=o(function(){return Ga(e,t).then(function(c){return n(c?1:0)}).catch(function(){return n(3)})},"check"),i=(0,gr.useMemo)(function(){return new Proxy(qr,{get(c,l,d){var B=Reflect.get(c,l,d);if(typeof B=="function")return function(){for(var M=arguments.length,C=new Array(M),I=0;I<M;I++)C[I]=arguments[I];var H=(a(),B(...C));return H?.constructor?.name==="Promise"&&(n(2),H.finally(a)),H}}})},[]);return(0,gr.useEffect)(function(){return void a()},[]),[r,i]}var gr,$e,mc=f(()=>{"use strict";Yn();gr=z(ca());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})($e||($e={}));o(fc,"useFileExists")});function Va(e){var{asset:t}=e;return React.createElement(ye,{label:"".concat(t.name," - ").concat(t.id),trailing:React.createElement(dc.Image,{source:t.id,style:{width:32,height:32}}),onPress:function(){me.setString(t.name),D.showCopyToClipboard()}})}var dc,pc=f(()=>{"use strict";Ae();P();Je();dc=z(X());o(Va,"AssetDisplay")});function ka(){var[e,t]=React.useState("");return React.createElement(ee,null,React.createElement(zn.View,{style:{flex:1}},React.createElement(mt,{style:{margin:10},onChangeText:function(r){return t(r)}}),React.createElement(zn.FlatList,{data:Object.values(Be).filter(function(r){return r.name.includes(e)||r.id.toString()===e}),renderItem:function(r){var{item:n}=r;return React.createElement(Va,{asset:n})},ItemSeparatorComponent:oa,keyExtractor:function(r){return r.name}})))}var zn,gc=f(()=>{"use strict";pc();Q();Ae();qe();zn=z(X());o(ka,"AssetBrowser")});var hc={};b(hc,{default:()=>vc});function vc(){var[e,t]=fc("preloads/reactDevtools.js"),r=zm(),n=Ee.useNavigation();return F(T),F(Re),React.createElement(ee,null,React.createElement(Wn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(qt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(fr,{label:s.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return React.createElement(Xt,{style:r.leadingText},"ws://")},defaultValue:T.debuggerUrl,onChange:function(a){return T.debuggerUrl=a}}),React.createElement(pe,{title:s.DEBUG},React.createElement(x,{label:s.CONNECT_TO_DEBUG_WEBSOCKET,icon:React.createElement(x.Icon,{source:E("copy")}),onPress:function(){return Wr(T.debuggerUrl)}}),lr()&&React.createElement(React.Fragment,null,React.createElement(x,{label:s.CONNECT_TO_REACT_DEVTOOLS,icon:React.createElement(x.Icon,{source:E("ic_badge_staff")}),onPress:function(){return window[ko()||"__vendetta_rdc"]?.connectToDevTools({host:T.debuggerUrl.split(":")?.[0],resolveRNStyle:Wn.StyleSheet.flatten})}}))),gn()&&React.createElement(React.Fragment,null,React.createElement(pe,{title:"Loader config"},React.createElement(Nt,{label:s.LOAD_FROM_CUSTOM_URL,subLabel:s.LOAD_FROM_CUSTOM_URL_DEC,icon:React.createElement(x.Icon,{source:E("copy")}),value:Re.customLoadUrl.enabled,onValueChange:function(a){Re.customLoadUrl.enabled=a}}),Re.customLoadUrl.enabled&&React.createElement(x,{label:React.createElement(fr,{defaultValue:Re.customLoadUrl.url,size:"md",onChange:function(a){return Re.customLoadUrl.url=a},placeholder:"http://localhost:4040/vendetta.js",label:s.BUNNY_URL})}),lr()&&ie()&&React.createElement(Nt,{label:s.LOAD_REACT_DEVTOOLS,subLabel:"".concat(s.VERSION,": ").concat(jo()),icon:React.createElement(x.Icon,{source:E("ic_badge_staff")}),value:Re.loadReactDevTools,onValueChange:function(a){Re.loadReactDevTools=a}}))),React.createElement(pe,{title:"Other"},React.createElement(x,{arrow:!0,label:s.ASSET_BROWSER,icon:React.createElement(x.Icon,{source:E("ic_image")}),trailing:x.Arrow,onPress:function(){return n.push("VendettaCustomPage",{title:s.ASSET_BROWSER,render:ka})}}),React.createElement(x,{arrow:!0,label:s.ERROR_BOUNDARY_TOOLS_LABEL,icon:React.createElement(x.Icon,{source:E("ic_warning_24px")}),onPress:function(){return jm({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:React.createElement(x.Icon,{style:{marginRight:8},source:E("ic_warning_24px")}),onClose:function(){return km()}},options:[{label:s.BUNNY,onPress:function(){return n.push("VendettaCustomPage",{render:function(){return React.createElement("undefined",null)}})}},{label:"Discord",isDestructive:!0,onPress:function(){return n.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}}),React.createElement(x,{label:s.INSTALL_REACT_DEVTOOLS,subLabel:s.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:React.createElement(x.Icon,{source:E("DownloadIcon")}),trailing:React.createElement(Fr,{size:"sm",loading:e===$e.LOADING,disabled:e===$e.LOADING,variant:e===$e.TRUE?"secondary":"primary",text:e===$e.TRUE?s.UNINSTALL:s.INSTALL,onPress:async function(){e===$e.FALSE?t.downloadFile(Ym,"preloads/reactDevtools.js"):e===$e.TRUE&&t.removeFile("preloads/reactDevtools.js")},icon:E(e===$e.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),React.createElement(Nt,{label:s.ENABLE_EVAL_COMMAND,subLabel:s.ENABLE_EVAL_COMMAND_DESC,icon:React.createElement(x.Icon,{source:E("PencilIcon")}),value:T.enableEvalCommand,onValueChange:function(a){T.enableEvalCommand=a}})))))}var Wn,km,jm,Ym,zm,Ec=f(()=>{"use strict";q();mc();gc();Q();Pe();ae();pt();se();Ae();xe();P();W();Ot();qe();Pt();Wn=z(X()),{hideActionSheet:km}=m("openLazy","hideActionSheet"),{showSimpleActionSheet:jm}=m("showSimpleActionSheet"),Ym="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",zm=Zt({leadingText:{...Xe["heading-md/semibold"],color:$.TEXT_MUTED,marginRight:-4}});o(vc,"Developer")});function ja(){Bn({name:"Bunny",items:[{key:"BUNNY",title:function(){return s.BUNNY},icon:{uri:Oa},render:function(){return Promise.resolve().then(()=>(Zs(),Js))},rawTabsConfig:{useTrailing:function(){return"(23c9f02)"}}},{key:"BUNNY_PLUGINS",title:function(){return s.PLUGINS},icon:E("ActivitiesIcon"),render:function(){return Promise.resolve().then(()=>(ac(),oc))}},{key:"BUNNY_THEMES",title:function(){return s.THEMES},icon:E("PaintPaletteIcon"),render:function(){return Promise.resolve().then(()=>(uc(),lc))},usePredicate:function(){return Se()}},{key:"BUNNY_DEVELOPER",title:function(){return s.DEVELOPER},icon:E("WrenchIcon"),render:function(){return Promise.resolve().then(()=>(Ec(),hc))},usePredicate:function(){return F(T).developerSettings??!1}}]}),Bn({name:"Vendetta",items:[]})}var Oa,Pa=f(()=>{"use strict";q();Q();Pe();ae();se();dr();zs();Oa=Ws;o(ja,"initSettings")});var Kn,gt,vr,Jr=f(()=>{"use strict";(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(Kn||(Kn={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(gt||(gt={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(vr||(vr={}))});var Rc={};b(Rc,{default:()=>Sc});function _c(e){return"```js\n"+e.replaceAll("`","`"+Xm)+"\n```"}function Sc(){return{name:"eval",description:s.COMMAND_EVAL_DESC,shouldHide:function(){return T.enableEvalCommand===!0},options:[{name:"code",type:gt.STRING,description:s.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:gt.BOOLEAN,description:s.COMMAND_EVAL_OPT_ASYNC}],async execute(e,t){var[r,n]=e;try{var a=Wm.inspect(n?.value?await Km(r.value)():eval?.(r.value)),i=a.length>2e3?a.slice(0,2e3)+"...":a;he.sendBotMessage(t.channel.id,_c(i))}catch(c){he.sendBotMessage(t.channel.id,_c(c?.stack??c))}}}}var Wm,Km,Xm,Tc=f(()=>{"use strict";q();Jr();se();P();W();Wm=m("inspect"),Km=async function(){}.constructor,Xm="\u200B";o(_c,"wrapInJSCodeblock");o(Sc,"default")});var Ac={};b(Ac,{default:()=>yc});function yc(){return{name:"debug",description:s.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:gt.BOOLEAN,description:s.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute(e,t){var[r]=e,n=dt(),a=["**Bunny Debug Info**","> Bunny: ".concat(n.bunny.version," (").concat(n.bunny.loader.name," ").concat(n.bunny.loader.version,")"),"> Discord: ".concat(n.discord.version," (").concat(n.discord.build,")"),"> React: ".concat(n.react.version," (RN ").concat(n.react.nativeVersion,")"),"> Hermes: ".concat(n.hermes.version," (bcv").concat(n.hermes.bytecodeVersion,")"),"> System: ".concat(n.os.name," ").concat(n.os.version," ").concat(n.os.sdk?"(SDK ".concat(n.os.sdk,")"):"").trimEnd(),"> Device: ".concat(n.device.model," (").concat(n.device.codename,")")].join(`
`);r?.value?he.sendBotMessage(t.channel.id,a):he.sendMessage(t.channel.id,{content:a})}}}var xc=f(()=>{"use strict";q();Jr();pt();P();o(yc,"default")});var Cc={};b(Cc,{default:()=>bc});function bc(){return{name:"plugins",description:s.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:gt.BOOLEAN,description:s.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute(e,t){var[r]=e,n=Object.values(Y).sort(function(l,d){return l.manifest.name.localeCompare(d.manifest.name)}),a=n.filter(function(l){return l.enabled}).map(function(l){return l.manifest.name}),i=n.filter(function(l){return!l.enabled}).map(function(l){return l.manifest.name}),c=["**Installed Plugins (".concat(n.length,"):**"),...a.length>0?["Enabled (".concat(a.length,"):"),"> "+a.join(", ")]:[],...i.length>0?["Disabled (".concat(i.length,"):"),"> "+i.join(", ")]:[]].join(`
`);r?.value?he.sendBotMessage(t.channel.id,c):he.sendMessage(t.channel.id,{content:c})}}}var wc=f(()=>{"use strict";q();Jr();ut();P();o(bc,"default")});var qn={};b(qn,{patchCommands:()=>Ya,registerCommand:()=>Xn});function Ya(){var e=U("getBuiltInCommands",sr,function(t,r){var[n]=t;if(n===vr.CHAT)return r.concat(Zr.filter(function(a){return a.__bunny?.shouldHide?.()!==!1}))});return[(Tc(),tt(Rc)),(xc(),tt(Ac)),(wc(),tt(Cc))].forEach(function(t){return Xn(t.default())}),function(){Zr=[],e()}}function Xn(e){var t,r,n,a,i=sr.getBuiltInCommands(vr.CHAT,!0,!1);i.sort(function(M,C){return parseInt(C.id)-parseInt(M.id)});var c=i[i.length-1];if(e.id=(parseInt(c.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},(t=e).applicationId??(t.applicationId="-1"),(r=e).type??(r.type=vr.CHAT),e.inputType=Kn.BUILT_IN,(n=e).displayName??(n.displayName=e.name),(a=e).displayDescription??(a.displayDescription=e.description),e.options)for(var l of e.options){var d,B;(d=l).displayName??(d.displayName=l.name),(B=l).displayDescription??(B.displayDescription=l.description)}return oe("execute",e,function(M,C){Promise.resolve(C.apply(e,M)).then(function(I){I&&typeof I=="object"&&he.sendMessage(M[1].channel.id,I)}).catch(function(I){le.error("Failed to execute command",I)})}),Zr.push(e),function(){return Zr=Zr.filter(function(M){var{id:C}=M;return C!==e.id})}}var Zr,Jn=f(()=>{"use strict";Jr();ve();Vt();P();Zr=[];o(Ya,"patchCommands");o(Xn,"registerCommand")});var Ic,Dc=f(()=>{"use strict";Q();Jn();Pe();ve();ae();pt();ut();Oe();se();Ae();xe();Pt();St();P();W();er();Ot();qe();Je();Ic=o(function(){var e=window.vendetta={patcher:{before:Ut.before,after:Ut.after,instead:Ut.instead},metro:{modules:window.modules,find:function(t){return re(t)},findAll:function(t){return ct(t)},findByProps:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.length===1&&r[0]==="KeyboardAwareScrollView"&&r.push("listenToKeyboardEvents"),m(...r)},findByPropsAll:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Nr(...r)},findByName:function(t,r){return t==="create"&&typeof r>"u"?K("create",!1).default:K(t,r??!0)},findByNameAll:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Lr(t,r)},findByDisplayName:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return zt(t,r)},findByDisplayNameAll:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Or(t,r)},findByTypeName:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Pr(t,r)},findByTypeNameAll:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Br(t,r)},findByStoreName:function(t){return it(t)},common:{constants:Tt,channels:Ar,i18n:yt,url:At,toasts:xr,stylesheet:{...ft,createThemedStyleSheet:Qt},clipboard:me,assets:kt,invites:Io,commands:sr,navigation:Do,navigationStack:No,NavigationNative:Ee,Flux:Lo,FluxDispatcher:De,React:_e,ReactNative:Ne,moment:br,chroma:ze,lodash:Oo,util:Po}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(t,r){return Ie(t,r)},findInTree:function(t,r,n){return ar(t,r,n)},safeFetch:function(t,r,n){return Rt(t,r,n)},unfreeze:function(t){return Object.isFrozen(t)?{...t}:t},without:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return un(t,...n)}},debug:{connectToDebugger:function(t){return Wr(t)},getDebugInfo:function(){return dt()}},ui:{components:{Forms:yn,General:Ne,Alert:Lt.Alert,Button:Lt.Button,HelpMessage:Lt.HelpMessage,SafeAreaView:Lt.SafeAreaView,Summary:Gr,ErrorBoundary:ee,Codeblock:Me,Search:mt},toasts:{showToast:function(t,r){return D(t,r)}},alerts:{showConfirmationAlert:function(t){return Ze(t)},showCustomAlert:function(t,r){return Nn(t,r)},showInputAlert:function(t){return kr(t)}},assets:{all:Be,find:function(t){return ea(t)},getAssetByName:function(t){return ta(t)},getAssetByID:function(t){return ra(t)},getAssetIDByName:function(t){return E(t)}},semanticColors:$,rawColors:ha},plugins:{plugins:Y,fetchPlugin:function(t){return wt(t)},installPlugin:function(t,r){return lt(t,r)},startPlugin:function(t){return It(t)},stopPlugin:function(t,r){return Dt(t,r)},removePlugin:function(t){return Kt(t)},getSettings:function(t){return Mr(t)}},themes:{themes:j,fetchTheme:function(t,r){return jt(t,r)},installTheme:function(t){return ot(t)},selectTheme:function(t){return at(t==="default"?null:j[t])},removeTheme:function(t){return Yt(t)},getCurrentTheme:function(){return bt()},updateThemes:function(){return dn()}},commands:{registerCommand:Xn},storage:{createProxy:function(t){return cn(t)},useProxy:function(t){return F(t)},createStorage:function(t){return we(t)},wrapSync:function(t){return Ye(t)},awaitSyncWrapper:function(t){return Et(t)},createMMKVBackend:function(t){return Ce(t)},createFileBackend:function(t){return Z()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),nt(t)}},settings:T,loader:{identity:Dr()??void 0,config:Re},logger:{log:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.log(...r)},info:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.info(...r)},warn:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.warn(...r)},error:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.error(...r)},time:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.time(...r)},trace:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.trace(...r)},verbose:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.log(...r)}},version:Yr,unload:function(){delete window.vendetta}};return function(){return e.unload()}},"initVendettaObject")});var Wa={};b(Wa,{dispatcher:()=>Zn,injectFluxInterceptor:()=>za,intercept:()=>Jm});function za(){var e,t,r=o(function(n){for(var a of Qn){var i=a(n);i!=null&&(i?typeof i=="object"&&(Object.assign(n,i),n[qm]=!0):n[Nc]=!0)}return Nc in n},"cb");return((e=Zn)._interceptors??(e._interceptors=[])).unshift(r),function(){return(t=Zn)._interceptors&&(t._interceptors=Zn._interceptors.filter(function(n){return n!==r}))}}function Jm(e){return Qn.push(e),function(){Qn=Qn.filter(function(t){return t!==e})}}var Nc,qm,Zn,Qn,Ka=f(()=>{"use strict";P();Nc=Symbol.for("bunny.flux.blocked"),qm=Symbol.for("bunny.flux.modified"),Zn=De,Qn=[];o(za,"injectFluxInterceptor");o(Jm,"intercept")});function Xa(){return U("render",Zm.prototype,function(e,t){var r=this,n;if(this.state.error){(n=this.state).activeTab??(n.activeTab="message");var a=Lc.find(function(l){return l.id===r.state.activeTab}),i=this.state.error[this.state.activeTab],c=[{text:s.RELOAD_DISCORD,onPress:this.handleReload},...T.safeMode?.enabled?[]:[{text:s.RELOAD_IN_SAFE_MODE,onPress:zr}],{text:s.RETRY_RENDER,color:fe.RED,onPress:function(){return r.setState({info:null,error:null})}}];return React.createElement(ee,null,React.createElement(va,{style:Qr.container},React.createElement(vt.View,{style:Qr.header},React.createElement(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),React.createElement(vt.View,{style:{flex:2,paddingLeft:24}},React.createElement(vt.Text,{style:Qr.headerTitle},t.props.title),React.createElement(vt.Text,{style:Qr.headerDescription},t.props.body))),React.createElement(vt.View,{style:{flex:6}},React.createElement(vt.View,{style:{paddingBottom:8}},React.createElement(Qm,{tabs:Lc.map(function(l){return{...l,title:l.title()}}),activeTab:this.state.activeTab,onTabSelected:function(l){r.setState({activeTab:l})}})),React.createElement(Me,{selectable:!0,style:{flex:1,textAlignVertical:"top"}},a?.trimWhitespace?i.split(`
`).filter(function(l){return l.length!==0}).map(function(l){return l.trim()}).join(`
`):i)),React.createElement(vt.View,{style:Qr.footer},c.map(function(l){var d=c.indexOf(l)!==0?8:0;return React.createElement(Ke,{text:l.text,color:l.color??fe.BRAND,size:l.size??"small",onPress:l.onPress,style:je.isTablet?{flex:"0.".concat(c.length),marginLeft:d}:{marginTop:d}})}))))}})}var vt,Zm,Qm,Qr,Lc,Oc=f(()=>{"use strict";q();rt();ve();pt();se();ir();W();Ot();qe();Jt();Pt();vt=z(X()),Zm=K("ErrorBoundary"),{BadgableTabBar:Qm}=m("BadgableTabBar"),Qr=Qt({container:{flex:1,backgroundColor:$.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...Xe["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:$.HEADER_PRIMARY},headerDescription:{...Xe["text-sm/medium"],textAlign:"center",color:$.TEXT_MUTED},footer:{flexDirection:je.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),Lc=[{id:"message",title:function(){return s.MESSAGE}},{id:"stack",title:function(){return s.STACK_TRACE}},{id:"componentStack",title:function(){return s.COMPONENT},trimWhitespace:!0}];o(Xa,"default")});var Pc=f(()=>{"use strict"});var qa={};b(qa,{fs:()=>qr,loader:()=>Wo,modules:()=>an});var Bc=f(()=>{"use strict";Yn();Pe();rt()});var Ja={};b(Ja,{assets:()=>Rn,commands:()=>qn,flux:()=>Wa,native:()=>qa,patcher:()=>fo,storage:()=>ln});var Mc=f(()=>{"use strict";Q();Jn();Ka();Bc();ve();ae()});var Za={};b(Za,{plugins:()=>Tn,themes:()=>wr});var Fc=f(()=>{"use strict";ut();Oe()});var Qa={};b(Qa,{alerts:()=>Ln,color:()=>bn,components:()=>In,settings:()=>Da,styles:()=>Sa,toasts:()=>Dn});var Uc=f(()=>{"use strict";er();Ot();qe();dr();Pt();Je()});var $a={};b($a,{api:()=>Ja,debug:()=>Fn,managers:()=>Za,metro:()=>Ko,settings:()=>vn,ui:()=>Qa,unload:()=>$r,utils:()=>fn});function $r(){for(var e of Hc)typeof e=="function"&&e();delete window.bunny}var Hc,Gc=f(()=>{"use strict";Pc();Mc();pt();Fc();Ct();se();Uc();St();Hc=new Array;o($r,"unload");$r.push=function(e){Hc.push(e)}});var kc={};b(kc,{default:()=>Vc});async function Vc(){if(Se())try{Z()&&(O.removeFile!=null?Ha("vendetta_theme.json",""):jn("vendetta_theme.json","null","")),Ho()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}await Promise.all([za(),Ia(),Na(),$o(),Ya(),Uo(),Ic(),ji(),ja(),Zo(),Xa(),Hs()]).then(function(e){return e.forEach(function(t){return t&&$r.push(t)})}),window.bunny=$a,$r.push(await na()),le.log("Bunny is ready!")}var jc=f(()=>{"use strict";Hi();q();Gs();Pa();Dc();Q();Jn();Ka();Yn();Pe();rt();pt();ut();Oe();dr();Vt();Oc();Gc();o(Vc,"default")});rr();globalThis.window=globalThis;var Yc=o(function(){try{console.log("Hello from Bunny! Pyon!"),Object.freeze=Object.seal=Object,(jc(),tt(kc)).default()}catch(r){var{ClientInfoManager:e}=(rt(),tt(an)),t=r instanceof Error?r.stack:void 0;console.log(t??r?.toString?.()??r),alert([`Failed to load Bunny!
`,"Build Number: ".concat(e.Build),"Bunny: 23c9f02",t||r?.toString?.()].join(`
`))}},"init");if(typeof globalThis.__r<"u")Yc();else{var e=function(t){var r=window.__fbBatchedBridge,n=new Array,a=oe("callFunctionReturnFlushedQueue",r,function(c,l){return c[0]==="AppRegistry"||!r.getCallableModule(c[0])?(n.push(c),r.flushedQueue()):l.apply(r,c)}),i=o(function(){Yc(),a(),t(0),n.forEach(function(c){return r.getCallableModule(c[0])&&r.__callFunction(...c)})},"startDiscord");i()};$m=e,o(e,"onceIndexRequired"),Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return $n},set(t){$n=o(function(n){if(n===0)e(t),$n=t;else return t(n)},"patchedRequire")}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(t){this.value=t}}})}var $n,$m;})();
//# sourceURL=bunny
