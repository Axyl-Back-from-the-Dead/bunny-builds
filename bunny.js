"use strict";(()=>{var zt=Object.defineProperty;var Za=Object.getOwnPropertyDescriptor;var Ja=Object.getOwnPropertyNames;var Qa=Object.prototype.hasOwnProperty;var n=(e,t)=>zt(e,"name",{value:t,configurable:!0});var c=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>{for(var r in t)zt(e,r,{get:t[r],enumerable:!0})},qa=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(var a=Ja(t),i=0,s=a.length,m;i<s;i++)m=a[i],!Qa.call(e,m)&&m!==r&&zt(e,m,{get:(p=>t[p]).bind(null,m),enumerable:!(o=Za(t,m))||o.enumerable});return e};var jn=e=>qa(zt({},"__esModule",{value:!0}),e);var _r,ge,Wt=c(()=>{_r=["a","b","i"],ge=new Map});function Sr(e,t,r,o,a){var i=ge.get(t)?.[e];if(!i)return a?Reflect.construct(t[e],r,o):t[e].apply(o,r);for(var s of i.b.values()){var m=s.call(o,r);Array.isArray(m)&&(r=m)}var p=[...i.i.values()].reduce(function(y,j){return function(...N){return j.call(o,N,y)}},function(...y){return a?Reflect.construct(i.o,y,o):i.o.apply(o,y)})(...r);for(var S of i.a.values())p=S.call(o,r,p)??p;return p}var $n=c(()=>{Wt();n(Sr,"default")});function Tr(e,t,r,o){var a=ge.get(e),i=a?.[t];if(!i?.[o].has(r))return!1;if(i[o].delete(r),_r.every(function(m){return i[m].size===0})){var s=Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0});s||(e[t]=i.o),delete a[t]}return Object.keys(a).length==0&&ge.delete(e),!0}function zn(){for(var[e,t]of ge.entries())for(var r in t)for(var o of _r)for(var a of t[r]?.[o].keys()??[])Tr(e,r,a,o)}var br=c(()=>{Wt();n(Tr,"unpatch");n(zn,"unpatchAll")});function ht(e){return function(t,r,o,a=!1){if(typeof r[t]!="function")throw new Error(`${t} is not a function in ${r.constructor.name}`);ge.has(r)||ge.set(r,{});var i=ge.get(r);if(!i[t]){var s=r[t];i[t]={o:s,b:new Map,i:new Map,a:new Map};var m=n(function(N,A,de){var pt=Sr(t,r,A,N,de);return a&&j(),pt},"runHook"),p=new Proxy(s,{apply:function(N,A,de){return m(A,de,!1)},construct:function(N,A){return m(s,A,!0)},get:function(N,A,de){return A=="toString"?s.toString.bind(s):Reflect.get(N,A,de)}}),S=Reflect.defineProperty(r,t,{value:p,configurable:!0,writable:!0});S||(r[t]=p)}var y=Symbol(),j=n(function(){return Tr(r,t,y,e)},"unpatchThisPatch");return i[t][e].set(y,o),j}}var Wn=c(()=>{$n();Wt();br();n(ht,"default")});var wr={};P(wr,{after:()=>v,before:()=>Le,instead:()=>ne,unpatchAll:()=>zn});var Le,ne,v,Yt=c(()=>{Wn();br();Le=ht("b"),ne=ht("i"),v=ht("a")});var it,G=c(()=>{"use strict";Yt();Yt();it={...wr}});var Xt={};P(Xt,{find:()=>M,findAll:()=>Ye,findByDisplayName:()=>vt,findByDisplayNameAll:()=>Ar,findByName:()=>U,findByNameAll:()=>Cr,findByProps:()=>l,findByPropsAll:()=>Nr,findByStoreName:()=>we,findByTypeName:()=>Pr,findByTypeNameAll:()=>Br,modules:()=>Ir});var ei,Xn,xr,Kt,Yn,Kn,ti,Zn,Ir,M,Ye,Jn,Qn,qn,eo,ri,l,Nr,U,Cr,vt,Ar,Pr,Br,we,R=c(()=>{"use strict";G();ei=window.ErrorUtils.getGlobalHandler(),Xn=n(function(e){return Object.defineProperty(window.modules,e,{value:window.modules[e],enumerable:!1,configurable:!0,writable:!0})},"blacklist");for(Yn in window.modules)if(xr=Yn,Kt=window.modules[xr]?.publicModule?.exports,!Kt||Kt===window||Kt.proxygone===null){Xn(xr);continue}Kn=new WeakSet,ti=n(function(e){typeof e!="object"||Kn.has(e)||(Kn.add(e),e?.default?.name==="requireNativeComponent"&&ne("default",e,function(t,r){try{return r(...t)}catch{return t[0]}}))},"onModuleCheck"),Zn=n(function(e,t=!1){return function(r){var o=[];for(var a in e){var i=a,s=e[i]?.publicModule?.exports;if(!e[i].isInitialized)try{window.ErrorUtils.setGlobalHandler(function(){}),__r(i),window.ErrorUtils.setGlobalHandler(ei)}catch{}if(!s){Xn(i);continue}if(ti(s),s.default&&s.__esModule&&r(s.default)){if(t)return s.default;o.push(s.default)}if(r(s)){if(t)return s;o.push(s)}}if(!t)return o}},"filterModules"),Ir=window.modules,M=Zn(Ir,!0),Ye=Zn(Ir),Jn=n(function(e){return function(t){return e.every(function(r){return t[r]!==void 0})}},"propsFilter"),Qn=n(function(e,t){return t?function(r){return r?.name===e}:function(r){return r?.default?.name===e}},"nameFilter"),qn=n(function(e,t){return t?function(r){return r?.displayName===e}:function(r){return r?.default?.displayName===e}},"dNameFilter"),eo=n(function(e,t){return t?function(r){return r?.type?.name===e}:function(r){return r?.default?.type?.name===e}},"tNameFilter"),ri=n(function(e){return function(t){return t.getName&&t.getName.length===0&&t.getName()===e}},"storeFilter"),l=n(function(...e){return M(Jn(e))},"findByProps"),Nr=n(function(...e){return Ye(Jn(e))},"findByPropsAll"),U=n(function(e,t=!0){return M(Qn(e,t))},"findByName"),Cr=n(function(e,t=!0){return Ye(Qn(e,t))},"findByNameAll"),vt=n(function(e,t=!0){return M(qn(e,t))},"findByDisplayName"),Ar=n(function(e,t=!0){return Ye(qn(e,t))},"findByDisplayNameAll"),Pr=n(function(e,t=!0){return M(eo(e,t))},"findByTypeName"),Br=n(function(e,t=!0){return Ye(eo(e,t))},"findByTypeNameAll"),we=n(function(e){return M(ri(e))},"findByStoreName")});function X(){return he!=null}function ve(){return Ke!=null}function ni(){if(!ve()||X())return null;var e={name:Ke.loaderName,features:{}};return Mr()&&(e.features.loaderConfig=!0),ao()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return oi()},configurable:!0})),oe()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){return Lr()},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}function Dr(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:ni()}function to(){return ve()?Ke.loaderName:X()?he.name:"Unknown"}function Mr(){return ve()?!0:X()?he.features.loaderConfig:!1}function oe(){return ve()?Ke.hasThemeSupport:X()?he.features.themes!=null:!1}function Lr(){if(ve())return Ke.storedTheme;if(X()){var e=he.features.themes?.prop;return e&&globalThis[e]||null}return null}function ro(){return ve()?"pyoncord/current-theme.json":X()?"vendetta_theme.json":null}function yt(){return ve()?!1:X()?he.features.devtools!=null:!1}function no(){return yt()&&X()?he.features.devtools.prop:null}function oo(){return yt()&&X()?he.features.devtools.version:null}function ao(){return ve()?Ke.isSysColorsSupported:X()?he.features.syscolors!=null:!1}function oi(){return ao()?ve()?Ke.sysColors:X()?he.features.syscolors.prop:null:null}function io(){return ve()?"pyoncord/loader.json":X()?"vendetta_loader.json":"loader.json"}var Ke,he,ye=c(()=>{"use strict";Ke=globalThis.__PYON_LOADER__,he=globalThis.__vendetta_loader;n(X,"isVendettaLoader");n(ve,"isPyonLoader");n(ni,"polyfillVendettaLoaderIdentity");n(Dr,"getVendettaLoaderIdentity");Dr();n(to,"getLoaderName");n(Mr,"isLoaderConfigSupported");n(oe,"isThemeSupported");n(Lr,"getStoredTheme");n(ro,"getThemeFilePath");n(yt,"isReactDevToolsPreloaded");n(no,"getReactDevToolsProp");n(oo,"getReactDevToolsVersion");n(ao,"isSysColorsSupported");n(oi,"getSysColors");n(io,"getLoaderConfigPath")});function Z(e,t){return Xe(e,t,{walkable:["props","children","child","sibling"]})}var so=c(()=>{"use strict";xe();n(Z,"default")});function Or(e,t,r,o){if(!(o>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var a of e)if(!(typeof a!="object"||a===null))try{var i=Or(a,t,r,o+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var s of Object.keys(e))if(!(typeof e[s]!="object"||e[s]===null)&&!(r.walkable.length&&!r.walkable.includes(s))&&!r.ignore.includes(s))try{var m=Or(e[s],t,r,o+1);if(m)return m}catch{}}}}function Xe(e,t,{walkable:r=[],ignore:o=[],maxDepth:a=100}={}){return Or(e,t,{walkable:r,ignore:o,maxDepth:a},0)}var lo=c(()=>{"use strict";n(Or,"treeSearch");n(Xe,"default")});async function Re(e,t,r=1e4){var o=await fetch(e,{signal:ai(r),...t});if(!o.ok)throw new Error("Request returned non-ok");return o}function ai(e){var t=new AbortController;return setTimeout(function(){return t.abort(`Timed out after ${e}ms`)},e),t.signal}var co=c(()=>{"use strict";n(Re,"safeFetch");n(ai,"timeoutSignal")});function Rt(e){return Object.isFrozen(e)?Object.assign({},e):e}var uo=c(()=>{"use strict";n(Rt,"unfreeze")});function $(e,...t){var r={...e};return t.forEach(function(o){return delete r[o]}),r}var fo=c(()=>{"use strict";n($,"without")});var Zt={};P(Zt,{findInReactTree:()=>Z,findInTree:()=>Xe,safeFetch:()=>Re,unfreeze:()=>Rt,without:()=>$});var xe=c(()=>{"use strict";so();lo();co();uo();fo()});function kr(){return{listeners:Object.values(Fr).reduce(function(e,t){return e[t]=new Set,e},{}),on(e,t){this.listeners[e].has(t)||this.listeners[e].add(t)},off(e,t){this.listeners[e].delete(t)},once(e,t){var r=this,o=n(function(a,i){r.off(a,o),t(a,i)},"once");this.on(e,o)},emit(e,t){for(var r of this.listeners[e])r(e,t)}}}var Fr,mo=c(()=>{"use strict";(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Fr||(Fr={}));n(kr,"createEmitter")});var po={};P(po,{BundleUpdaterManager:()=>Et,ClientInfoManager:()=>Jt,DeviceManager:()=>_e,FileManager:()=>C,MMKVManager:()=>Ie,ThemeManager:()=>Gr});var Ee,Ie,C,Jt,_e,Et,Gr,Oe=c(()=>{"use strict";Ee=window.nativeModuleProxy,Ie=Ee.MMKVManager;C=Ee.DCDFileManager??Ee.RTNFileManager;Jt=Ee.InfoDictionaryManager??Ee.RTNClientInfoManager;_e=Ee.DCDDeviceManager??Ee.RTNDeviceManager,Et=Ee.BundleUpdaterManager,Gr=Ee.RTNThemeManager??Ee.DCDTheme});var go,Ur,ho,Vr,Se,Fe,vo=c(()=>{"use strict";Oe();h();go=/[<>:"\/\\|?*]/g,Ur=n(function(e){return u.Platform.select({default:e,ios:C.saveFileToGallery?e:`Documents/${e}`})},"filePathFixer"),ho=n(function(e){return go.test(e)&&(e=e.replace(go,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`},"getMMKVPath"),Vr=n(async function(e){await Ie.getItem(e)&&Ie.removeItem(e);var t=ho(e);await C.fileExists(`${C.getConstants().DocumentsDirPath}/${t}`)&&await C.removeFile?.("documents",t)},"purgeStorage"),Se=n(function(e){var t=ho(e);return Fe(t,async function(){var r=`${C.getConstants().DocumentsDirPath}/${t}`;if(!await C.fileExists(r)){var o=await Ie.getItem(e)??"{}";if(o==="!!LARGE_VALUE!!"){var a=`${C.getConstants().CacheDirPath}/mmkv/${e}`;await C.fileExists(a)?o=await C.readFile(a,"utf8"):(console.log(`${e}: Experienced data loss :(`),o="{}")}try{JSON.parse(o)}catch{console.error(`${e} had an unparseable data while migrating`),o="{}"}await C.writeFile("documents",Ur(t),o,"utf8"),await Ie.getItem(e)!==null&&(Ie.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}}())},"createMMKVBackend"),Fe=n(function(e,t){return{get:async function(){await t;var r=`${C.getConstants().DocumentsDirPath}/${e}`;if(await C.fileExists(r)){var o=await C.readFile(r,"utf8");try{return JSON.parse(o)}catch{}}return await C.writeFile("documents",Ur(e),"{}","utf8"),JSON.parse(await C.readFile(r,"utf8"))},set:async function(r){await t,await C.writeFile("documents",Ur(e),JSON.stringify(r),"utf8")}}},"createFileBackend")});var qt={};P(qt,{awaitSyncWrapper:()=>ke,createFileBackend:()=>Fe,createMMKVBackend:()=>Se,createProxy:()=>Qt,createStorage:()=>ae,purgeStorage:()=>Vr,useProxy:()=>E,wrapSync:()=>Te});function Qt(e={}){var t=kr();function r(o,a){return new Proxy(o,{get(i,s){if(s===yo)return t;var m=[...a,s],p=i[s];return p!=null?(t.emit("GET",{path:m,value:p}),typeof p=="object"?r(p,m):p):p},set(i,s,m){return i[s]=m,t.emit("SET",{path:[...a,s],value:m}),!0},deleteProperty(i,s){var m=delete i[s];return m&&t.emit("DEL",{path:[...a,s]}),m}})}return n(r,"createProxy"),{proxy:r(e,[]),emitter:t}}function E(e){var t=e[yo],[,r]=React.useReducer(function(o){return~o},0);return React.useEffect(function(){var o=n(function(){return r()},"listener");return t.on("SET",o),t.on("DEL",o),function(){t.off("SET",o),t.off("DEL",o)}},[]),e}async function ae(e){var t=await e.get(),{proxy:r,emitter:o}=Qt(t),a=n(function(){return e.set(r)},"handler");return o.on("SET",a),o.on("DEL",a),r}function Te(e){var t=void 0,r=[],o=n(function(a){return t?a():r.push(a)},"awaitInit");return e.then(function(a){t=a,r.forEach(function(i){return i()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(a){return[a,function(i,...s){return Reflect[a](t??i,...s)}]})),get(a,i,s){return i===Ro?o:Reflect.get(t??a,i,s)}})}var yo,Ro,ke,L=c(()=>{"use strict";mo();vo();yo=Symbol.for("vendetta.storage.emitter"),Ro=Symbol.for("vendetta.storage.accessor");n(Qt,"createProxy");n(E,"useProxy");n(ae,"createStorage");n(Te,"wrapSync");ke=n(function(e){return new Promise(function(t){return e[Ro](t)})},"awaitSyncWrapper")});var Hr,ii,O,Ze=c(()=>{"use strict";R();Hr=l("setLogFn").default,ii=new Hr("Vendetta"),O=ii});var St={};P(St,{applyTheme:()=>_t,color:()=>B,fetchTheme:()=>Je,getThemeFromLoader:()=>Ge,initThemes:()=>di,installTheme:()=>le,patchChatBackground:()=>$r,removeTheme:()=>Qe,selectTheme:()=>Ne,themes:()=>w,updateThemes:()=>er});async function jr(e){if(typeof e!="object")throw new Error("Theme must be an object");await Fe(ro()||"theme.json").set(e)}function $r(){var e=U("MessagesWrapperConnected",!1);if(e){var{MessagesWrapper:t}=l("MessagesWrapper");if(t){var r=[v("default",e,function(o,a){return React.createElement(u.ImageBackground,{style:{flex:1,height:"100%"},source:J?.data?.background?.url&&{uri:J.data.background.url}||0,blurRadius:typeof J?.data?.background?.blur=="number"?J?.data?.background?.blur:0,children:a})}),v("render",t.prototype,function(o,a){var i=Z(a,function(s){return"HACK_fixModalInteraction"in s?.props&&s?.props?.style});i?i.props.style=Object.assign(u.StyleSheet.flatten(i.props.style??{}),{backgroundColor:"#0000"}):O.error("Didn't find Messages when patching MessagesWrapper!")})];return function(){return r.forEach(function(o){return o()})}}}}function So(e){if(se.valid(e))return se(e).hex();var t=Number(u.processColor(e));return se.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}function li(e){if(e.semanticColors){var t=e.semanticColors;for(var r in t)for(var o in t[r])t[r][o]&&=So(t[r][o])}if(e.rawColors){var a=e.rawColors;for(var i in a)e.rawColors[i]=So(a[i]);u.Platform.OS==="android"&&ci(a)}return e}function ci(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[o,a]=t[r];e[o]&&(e[r]=se(e[o]).alpha(a).hex())}}async function Je(e,t=!1){var r;try{r=await(await Re(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}w[e]={id:e,selected:t,data:li(r)},t&&jr(w[e])}async function le(e){if(typeof e!="string"||e in w)throw new Error("Theme already installed");await Je(e)}async function Ne(e){if(Object.values(w).forEach(function(t){return t.selected=t.id===e}),e==="default")return await jr({});await jr(w[e])}async function Qe(e){var t=w[e];return t.selected&&await Ne("default"),delete w[e],t.selected}function Ge(){return Lr()}async function er(){await ke(w);var e=Ge();await Promise.allSettled(Object.keys(w).map(function(t){return Je(t,e?.id===t)}))}function fi(){var e=M(function(r){return r.isThemeDark&&Object.getOwnPropertyDescriptor(r,"isThemeDark")?.value}),t=n(function([r]){return r===Q?[ie]:void 0},"callback");Object.keys(B.RawColor).forEach(function(r){Object.defineProperty(B.RawColor,r,{configurable:!0,enumerable:!0,get:function(){return lt?J?.data?.rawColors?.[r]??To[r]:To[r]}})}),Le("isThemeDark",e,t),Le("isThemeLight",e,t),Le("updateTheme",Gr,t),st.addChangeListener(function(){st.theme&&(lt=st.theme===Q,st.theme!==Q&&(ie=st.theme))}),v("get",_o,function([r],o){r==="SelectivelySyncedUserSettingsStore"?o?._state?.appearance?.settings?.theme&&(o._state.appearance.settings.theme=lt?Q:ie):r==="ThemeStore"&&o?._state?.theme&&(o._state.theme=lt?Q:ie)}),Le("set",_o,function(r){if(r[1]){var o=r[0],a=JSON.parse(JSON.stringify(r[1])),i={SelectivelySyncedUserSettingsStore:function(){a._state?.appearance?.settings?.theme&&(a._state.appearance.settings.theme=ie)},ThemeStore:function(){a._state?.theme&&(a._state.theme=ie)}};return o in i?(i[o](),[o,a]):r}}),ne("resolveSemanticColor",B.default.meta??B.default.internal,function(r,o){if(!lt||!J)return o(...r);if(r[1]!==Q)return o(...r);var[a,i]=bo(ie,r[1]),s=ie==="midnight"?2:ie==="light"?1:0;var m=si[a]??a,p=(J.data?.semanticColors?.[a]??J.data?.semanticColors?.[m])?.[s];if(a==="CHAT_BACKGROUND"&&typeof J.data?.background?.alpha=="number")return se(p||"black").alpha(1-J.data.background.alpha).hex();if(p)return p;var S=J.data?.rawColors?.[i.raw];return S?i.opacity===1?S:se(S).alpha(i.opacity).hex():o(...r)})}function mi(e="darker"){var t=st.theme.toLowerCase();return t==="darker"||t==="midnight"||t==="dark"||t==="light"?t:e}function _t(e,t,r=!0){t||(t=mi()),J=e,ie=t,Q=`vd-theme-${ui++}-${t}`,e&&(B.Theme[Q.toUpperCase()]=Q,Object.keys(B.Shadow).forEach(function(o){return B.Shadow[o][Q]=B.Shadow[o][t]}),Object.keys(B.SemanticColor).forEach(function(o){B.SemanticColor[o][Q]={...B.SemanticColor[o][t],override:e?.data?.semanticColors?.[o]?.[0]}})),r&&(Eo.setShouldSyncAppearanceSettings(!1),Eo.updateTheme(e?Q:t))}async function di(){var e=Ge();lt=!!e,fi(),_t(e,ie,!1),await er()}function bo(e,t){var r=t[bo._sym??=Object.getOwnPropertySymbols(t)[0]],o=B.SemanticColor[r];return[r,o[e]]}var B,Eo,_o,st,w,si,To,ui,Q,ie,lt,J,q=c(()=>{"use strict";h();xe();R();G();L();Ze();Oe();ye();B=l("SemanticColor"),Eo=l("updateTheme"),_o=l("storage"),st=we("ThemeStore"),w=Te(ae(Se("VENDETTA_THEMES"))),si={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};n(jr,"writeTheme");n($r,"patchChatBackground");n(So,"normalizeToHex");n(li,"processData");n(ci,"applyAndroidAlphaKeys");n(Je,"fetchTheme");n(le,"installTheme");n(Ne,"selectTheme");n(Qe,"removeTheme");n(Ge,"getThemeFromLoader");n(er,"updateThemes");To={...B.RawColor},ui=0,Q="vd-theme",ie="darker",lt=!1;n(fi,"patchColor");n(mi,"getDefaultFallbackTheme");n(_t,"applyTheme");n(di,"initThemes");n(bo,"extractInfo")});var zr,u,se,Tt=c(()=>{"use strict";ye();zr=n(function(e){for(var t in window.modules){var r=window.modules[t]?.publicModule.exports;if(r&&e(r))return r}},"basicFind");window.React=zr(function(e){return e.createElement});u=zr(function(e){return e.AppRegistry}),se=zr(function(e){return e.brewer});if(oe())try{(q(),jn(St)).initThemes()}catch(e){console.error("[Vendetta] Failed to initialize themes...",e)}});var tr={};P(tr,{Flux:()=>Zr,FluxDispatcher:()=>ut,NavigationNative:()=>ce,React:()=>Ae,ReactNative:()=>u,assets:()=>qe,channels:()=>bt,chroma:()=>se,clipboard:()=>F,commands:()=>ct,constants:()=>Ue,i18n:()=>Ce,invites:()=>Yr,lodash:()=>ft,moment:()=>xt,navigation:()=>Kr,navigationStack:()=>Xr,stylesheet:()=>x,toasts:()=>wt,url:()=>Ve,util:()=>Jr});function gi(e){if(Wr){for(var t in e)e[t]=new Proxy(u.StyleSheet.flatten(e[t]),{get(r,o,a){var i=Reflect.get(r,o,a);return wo.isSemanticColor(i)?wo.resolveSemanticColor(pi.theme,i):i}});return e}}var pi,Wr,wo,Ue,bt,Ce,Ve,wt,x,F,qe,Yr,ct,Kr,Xr,ce,Zr,ut,Ae,xt,ft,Jr,h=c(()=>{"use strict";R();Tt();Tt();Tt();pi=we("ThemeStore"),Wr=l("colors","unsafe_rawColors"),wo=Wr.internal??Wr.meta;n(gi,"createThemedStyleSheet");Ue=l("Fonts","Permissions"),bt=l("getVoiceChannelId"),Ce=l("Messages"),Ve=l("openURL","openDeeplink"),wt=M(function(e){return e.open&&e.close&&!e.startDrag&&!e.init&&!e.openReplay&&!e.setAlwaysOnTop&&!e.setAccountFlag}),x={...M(function(e){return e.createStyles&&!e.ActionSheet}),createThemedStyleSheet:gi,...l("createThemedStyleSheet")},F=l("setString","getString","hasString"),qe=l("registerAsset"),Yr=l("acceptInviteAndTransitionToInviteChannel"),ct=l("getBuiltInCommands"),Kr=l("pushLazy"),Xr=l("createStackNavigator"),ce=l("NavigationContainer"),Zr=l("connectStores"),ut=l("_currentDispatchActionType"),Ae=window.React,xt=l("isMoment"),ft=l("forEachRight"),Jr=l("inspect","isNullOrUndefined")});var rr={};P(rr,{all:()=>ue,find:()=>qr,getAssetByID:()=>tn,getAssetByName:()=>en,getAssetIDByName:()=>f,patchAssets:()=>Qr});function Qr(){for(var e=v("registerAsset",qe,function(o,a){var i=o[0];ue[i.name]={...i,id:a}}),t=1;;t++){var r=qe.getAssetByID(t);if(!r)break;ue[r.name]||(ue[r.name]={...r,id:t})}return e}var ue,qr,en,tn,f,T=c(()=>{"use strict";h();G();ue={};n(Qr,"patchAssets");qr=n(function(e){return Object.values(ue).find(e)},"find"),en=n(function(e){return ue[e]},"getAssetByName"),tn=n(function(e){return qe.getAssetByID(e)},"getAssetByID"),f=n(function(e){return ue[e]?.id},"getAssetIDByName")});var nr={};P(nr,{showToast:()=>g});var hi,g,fe=c(()=>{"use strict";R();h();T();({uuid4:hi}=l("uuid4")),g=n(function(e,t){return wt.open({key:`vd-toast-${hi()}`,content:e,source:t,icon:t})},"showToast");g.showCopyToClipboard=function(e="Copied plugin URL to clipboard."){(u.Platform.OS!=="android"||u.Platform.Version<=32)&&g(e,f("toast_copy_link"))}});var d,z,V=c(()=>{"use strict";L();ye();d=Te(ae(Se("VENDETTA_SETTINGS"))),z=Te(ae(Fe(io())))});var or={};P(or,{connectToDebugger:()=>Nt,getDebugInfo:()=>Ct,patchLogHook:()=>rn,socket:()=>ee,toggleSafeMode:()=>It,versionHash:()=>mt});async function It(){d.safeMode={...d.safeMode,enabled:!d.safeMode?.enabled},oe()&&(Ge()?.id&&(d.safeMode.currentThemeId=Ge().id),d.safeMode?.enabled?await Ne("default"):d.safeMode?.currentThemeId&&await Ne(d.safeMode?.currentThemeId)),setTimeout(Et.reload,400)}function Nt(e){if(ee!==void 0&&ee.readyState!==WebSocket.CLOSED&&ee.close(),!e){g("Invalid debugger URL!",f("Small"));return}ee=new WebSocket(`ws://${e}`),ee.addEventListener("open",function(){return g("Connected to debugger.",f("Check"))}),ee.addEventListener("message",function(t){try{(0,eval)(t.data)}catch(r){console.error(r)}}),ee.addEventListener("error",function(t){console.log(`Debugger error: ${t.message}`),g("An error occurred with the debugger connection!",f("Small"))})}function rn(){var e=v("nativeLoggingHook",globalThis,function(t){ee?.readyState===WebSocket.OPEN&&ee.send(JSON.stringify({message:t[0],level:t[1]})),O.log(t[0])});return function(){ee&&ee.close(),e()}}function Ct(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",o=u.Platform.constants,a=o.reactNativeVersion;return{vendetta:{version:mt,loader:to()},discord:{version:Jt.Version,build:Jt.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):`${a.major}.${a.minor}.${a.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...u.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...u.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:_e.device}},ios:{device:{manufacturer:_e.deviceManufacturer,brand:_e.deviceBrand,model:_e.deviceModel,codename:_e.device}}})}}var ee,mt,et=c(()=>{"use strict";h();G();q();Oe();T();fe();V();Ze();ye();n(It,"toggleSafeMode");n(Nt,"connectToDebugger");n(rn,"patchLogHook");mt=version;n(Ct,"getDebugInfo")});var ar={};P(ar,{ApplicationCommandInputType:()=>nn,ApplicationCommandOptionType:()=>on,ApplicationCommandType:()=>Pt,patchCommands:()=>an,registerCommand:()=>sn});function an(){var e=v("getBuiltInCommands",ct,function([t],r){if(t===Pt.CHAT)return r.concat(At)});return function(){At=[],e()}}function sn(e){var t=ct.getBuiltInCommands(Pt.CHAT,!0,!1);t.sort(function(o,a){return parseInt(a.id)-parseInt(o.id)});var r=t[t.length-1];return e.id=(parseInt(r.id,10)-1).toString(),At.push(e),function(){return At=At.filter(function({id:o}){return o!==e.id})}}var At,nn,on,Pt,ir=c(()=>{"use strict";h();G();At=[];(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(nn||(nn={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(on||(on={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(Pt||(Pt={}));n(an,"patchCommands");n(sn,"registerCommand")});var vi,yi,Ri,xo,Io=c(()=>{"use strict";vi=n(function(e){return{status:"fulfilled",value:e}},"allSettledFulfill"),yi=n(function(e){return{status:"rejected",reason:e}},"allSettledReject"),Ri=n(function(e){return Promise.resolve(e).then(vi,yi)},"mapAllSettled"),xo=n(function(e){return Promise.all(Array.from(e).map(Ri))},"allSettled")});var sr={};P(sr,{evalPlugin:()=>No,fetchPlugin:()=>He,getSettings:()=>Bt,initPlugins:()=>ln,installPlugin:()=>te,plugins:()=>b,removePlugin:()=>rt,startPlugin:()=>je,stopPlugin:()=>$e});async function He(e){e.endsWith("/")||(e+="/");var t=b[e],r;try{r=await(await Re(e+"manifest.json",{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(t?.manifest.hash!==r.hash)try{o=await(await Re(e+(r.main||"index.js"),{cache:"no-store"})).text()}catch{}if(!o&&!t)throw new Error(`Failed to fetch JS for ${e}`);b[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:o??t.js}}async function te(e,t=!0){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in b)throw new Error("Plugin already installed");await He(e),t&&await je(e)}async function No(e){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await ae(Se(e.id))},logger:new Hr(`Bunny \xBB ${e.manifest.name}`)},r=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(r)(t),a=typeof o=="function"?o():o;return a?.default??a??{}}async function je(e){e.endsWith("/")||(e+="/");var t=b[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{if(!d.safeMode?.enabled){var r=await No(t);tt[e]=r,r.onLoad?.()}t.enabled=!0}catch(o){O.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,o);try{tt[t.id]?.onUnload?.()}catch(a){O.error(`Plugin ${t.id} errored whilst unloading`,a)}delete tt[e],t.enabled=!1}}function $e(e,t=!0){e.endsWith("/")||(e+="/");var r=b[e],o=tt[e];if(!r)throw new Error("Attempted to stop non-existent plugin");if(!d.safeMode?.enabled){try{o?.onUnload?.()}catch(a){O.error(`Plugin ${r.id} errored whilst unloading`,a)}delete tt[e]}t&&(r.enabled=!1)}async function rt(e){e.endsWith("/")||(e+="/");var t=b[e];t.enabled&&$e(e),delete b[e],await Vr(e)}async function ln(){await ke(d),await ke(b);var e=Object.keys(b);return d.safeMode?.enabled||(await xo(e.filter(function(t){return b[t].enabled}).map(async function(t){return b[t].update&&await He(t).catch(function(r){return O.error(r.message)}),await je(t)})),e.filter(function(t){return!b[t].enabled&&b[t].update}).forEach(function(t){return He(t)})),Ei}var b,tt,Ei,Bt,Pe=c(()=>{"use strict";xe();L();Io();Ze();V();b=Te(ae(Se("VENDETTA_PLUGINS"))),tt={};n(He,"fetchPlugin");n(te,"installPlugin");n(No,"evalPlugin");n(je,"startPlugin");n($e,"stopPlugin");n(rt,"removePlugin");n(ln,"initPlugins");Ei=n(function(){return Object.keys(tt).forEach(function(e){return $e(e,!1)})},"stopAllPlugins"),Bt=n(function(e){return tt[e]?.settings},"getSettings")});var dn={};P(dn,{DISCORD_SERVER:()=>cn,DISCORD_SERVER_ID:()=>fn,GITHUB:()=>un,HTTP_REGEX:()=>_i,HTTP_REGEX_MULTI:()=>ot,PLUGINS_CHANNEL_ID:()=>mn,PROXY_PREFIX:()=>nt,THEMES_CHANNEL_ID:()=>Dt});var cn,un,nt,_i,ot,fn,mn,Dt,ze=c(()=>{"use strict";cn="https://discord.gg/XjYgWXHb9Q",un="https://github.com/pyoncord",nt="https://vd-plugins.github.io/proxy",_i=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/,ot=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g,fn="1015931589865246730",mn="1091880384561684561",Dt="1091880434939482202"});function xi(e,t=null,r=!1){if(e.guild_id===fn){var o;if(e.parent_id===mn)o="Plugin";else if(e.parent_id===Dt&&oe())o="Theme";else return;var{firstMessage:a}=r?bi(e):{firstMessage:t},i=a?.content?.match(ot)?.filter(Mt[o].urlsFilter);if(!(!i||!i[0]))return o==="Plugin"&&!i[0].endsWith("/")&&(i[0]+="/"),[o,i[0]]}}function Ao(e,t=null,r=!1){var[o,a]=xi(e,t,r)??[];E(b),E(w);var[i,s]=React.useState(!1);if(!o||!a)return[!0];var m=!!Mt[o].storage[a],p=n(async function(){s(!0);try{await Mt[o].installOrRemove(a)}catch(S){g(S.message,f("Small"))}finally{s(!1)}},"installOrRemove");return[!1,o,m,i,p]}function pn(){var e=[Ii(),Ni()];return function(){return e.map(function(t){return t()})}}var Si,Co,Ti,bi,wi,Mt,Ii,Ni,Po=c(()=>{"use strict";R();ze();G();Pe();q();xe();T();fe();L();ye();Si=U("ForumPostLongPressActionSheet",!1),{ActionSheetRow:Co}=l("ActionSheetRow"),{Button:Ti}=l("TableRow"),{useFirstForumPostMessage:bi}=l("useFirstForumPostMessage"),wi=l("MostCommonForumPostReaction"),Mt={Plugin:{storage:b,urlsFilter:function(e){return e.startsWith(nt)},installOrRemove:function(e){var t=Mt.Plugin.storage[e];return t?rt(e):te(e)}},Theme:{storage:w,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){var t=Mt.Theme.storage[e];return t?Qe(e):le(e)}}};n(xi,"useExtractThreadContent");n(Ao,"useInstaller");Ii=n(function(){return v("default",Si,function([{thread:e}],t){var[r,o,a,i,s]=Ao(e);if(!r){var m=Z(t,function(S){return S?.[0]?.key}),p=m[0].type;m.unshift(React.createElement(p,{key:"install"},React.createElement(Co,{icon:React.createElement(Co.Icon,{source:f(a?"ic_message_delete":"DownloadIcon")}),label:`${a?"Uninstall":"Install"} ${o}`,disabled:i,onPress:s})))}})},"actionSheetPatch"),Ni=n(function(){return v("MostCommonForumPostReaction",wi,function([{thread:e,firstMessage:t}],r){var[o,a,i,s,m]=Ao(e,t,!0);if(!o)return React.createElement(React.Fragment,null,r,React.createElement(Ti,{size:"sm",loading:s,disabled:s,variant:i?"danger":"primary",text:i?"Uninstall":"Install",onPress:m,icon:f(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}}))})},"installButtonPatch");n(pn,"default")});function We({label:e,icon:t,noPadding:r=!1,noAnimation:o=!1,children:a}){var[i,s]=React.useState(!0);return React.createElement(React.Fragment,null,React.createElement(Bo,{label:e,icon:t&&React.createElement(Bo.Icon,{source:f(t)}),trailing:React.createElement(Ci.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:function(){s(!i),o||u.LayoutAnimation.configureNext(u.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&React.createElement(React.Fragment,null,React.createElement(u.View,{style:!r&&{paddingHorizontal:15}},a)))}var Ci,Bo,Do=c(()=>{"use strict";h();T();R();({FormRow:Ci}=l("FormRow")),{TableRow:Bo}=l("TableRow");n(We,"Summary")});function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Lo=c(()=>{n(Mo,"_class_call_check")});function Oo(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fo(e,t,r){return t&&Oo(e.prototype,t),r&&Oo(e,r),e}var ko=c(()=>{n(Oo,"_defineProperties");n(Fo,"_create_class")});function Go(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Uo=c(()=>{n(Go,"_define_property")});function lr(e,t){return lr=Object.setPrototypeOf||n(function(o,a){return o.__proto__=a,o},"setPrototypeOf"),lr(e,t)}var Vo=c(()=>{n(lr,"_set_prototype_of")});function Ho(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}var jo=c(()=>{Vo();n(Ho,"_inherits")});function Lt(e){return Lt=Object.setPrototypeOf?Object.getPrototypeOf:n(function(r){return r.__proto__||Object.getPrototypeOf(r)},"getPrototypeOf"),Lt(e)}var $o=c(()=>{n(Lt,"_get_prototype_of")});function zo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Wo=c(()=>{n(zo,"_is_native_reflect_construct")});function Yo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ko=c(()=>{n(Yo,"_assert_this_initialized")});function Xo(e){return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var Zo=c(()=>{n(Xo,"_type_of")});function Jo(e,t){return t&&(Xo(t)==="object"||typeof t=="function")?t:Yo(e)}var Qo=c(()=>{Ko();Zo();n(Jo,"_possible_constructor_return")});function qo(e){var t=zo();return n(function(){var o=Lt(e),a;if(t){var i=Lt(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return Jo(this,a)},"_createSuperInternal")}var ea=c(()=>{$o();Wo();Qo();n(qo,"_create_super")});var ta,Ai,I,cr=c(()=>{"use strict";Lo();ko();Uo();jo();ea();h();H();ta=x.createThemedStyleSheet({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),I=function(e){"use strict";Ho(r,e);var t=qo(r);function r(o){Mo(this,r);var a;return a=t.call(this,o),a.state={hasErr:!1},a}return n(r,"ErrorBoundary"),Fo(r,[{key:"render",value:n(function(){var a=this;return this.state.hasErr?Ae.createElement(u.ScrollView,{style:ta.view},Ae.createElement(D.FormText,{style:ta.title},"Uh oh."),Ae.createElement(Be,{selectable:!0,style:{marginBottom:5}},this.state.errText),Ae.createElement(re,{color:re.Colors.RED,size:re.Sizes.MEDIUM,look:re.Looks.FILLED,onPress:function(){return a.setState({hasErr:!1,errText:void 0})},text:"Retry"})):this.props.children},"render")}]),r}(Ai=Ae.Component);Go(I,"getDerivedStateFromError",function(e){return{hasErr:!0,errText:e.message}})});var ur={};P(ur,{rawColors:()=>gn,semanticColors:()=>_});var _,gn,be=c(()=>{"use strict";h();q();_=B?.default?.colors??Ue?.ThemeColorMap,gn=B?.default?.unsafe_rawColors??Ue?.Colors});function Be({selectable:e,style:t,children:r}){return e?u.Platform.select({ios:React.createElement(Pi,{style:t,children:r}),default:React.createElement(ra,{style:t,children:r,selectable:!0})}):React.createElement(ra,{style:t,children:r})}var na,Pi,ra,oa=c(()=>{"use strict";h();be();na=x.createThemedStyleSheet({codeBlock:{fontFamily:Ue.Fonts.CODE_SEMIBOLD,fontSize:12,textAlignVertical:"center",backgroundColor:_.BACKGROUND_SECONDARY,color:_.TEXT_NORMAL,borderWidth:1,borderRadius:4,borderColor:_.BACKGROUND_TERTIARY,padding:10}}),Pi=n(function({style:e,children:t}){return React.createElement(u.TextInput,{editable:!1,multiline:!0,style:[na.codeBlock,e&&e],value:t})},"InputBasedCodeblock"),ra=n(function({selectable:e,style:t,children:r}){return React.createElement(u.Text,{selectable:e,style:[na.codeBlock,t&&t]},r)},"TextBasedCodeblock");n(Be,"Codeblock")});function Di(){return React.createElement(u.Image,{style:{transform:[{scale:.8}]},source:f("search")})}function De({onChangeText:e,placeholder:t,style:r}){var[o,a]=React.useState(""),i=n(function(s){a(s),e?.(s)},"onChange");return React.createElement(I,null,React.createElement(u.View,{style:r},React.createElement(Bi,{isClearable:!0,grow:!0,leadingIcon:Di,placeholder:t??"Search",onChange:i,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:o})))}var Bi,aa=c(()=>{"use strict";h();R();cr();T();({TextInput:Bi}=l("TableRow"));n(Di,"SearchIcon");n(De,"default")});var fr={};P(fr,{Alert:()=>Ot,Button:()=>re,Codeblock:()=>Be,ErrorBoundary:()=>I,Forms:()=>D,General:()=>hn,HelpMessage:()=>Ft,SafeAreaView:()=>kt,Search:()=>De,Summary:()=>We});var D,hn,Ot,re,Ft,kt,H=c(()=>{"use strict";R();Do();cr();oa();aa();D=l("Form","FormSection"),hn=l("Button","Text","View"),Ot=vt("FluxContainer(Alert)"),re=l("Looks","Colors","Sizes"),Ft=U("HelpMessage"),kt=l("useSafeAreaInsets").SafeAreaView});function vn({title:e,confirmText:t,confirmColor:r,onConfirm:o,cancelText:a,placeholder:i,initialValue:s="",secureTextEntry:m}){var[p,S]=React.useState(s),[y,j]=React.useState("");function N(){var A=Promise.resolve(o(p));A.then(function(){ia.close()}).catch(function(de){j(de.message)})}return n(N,"onConfirmWrapper"),React.createElement(Ot,{title:e,confirmText:t,confirmColor:r,isConfirmButtonDisabled:y.length!==0,onConfirm:N,cancelText:a,onCancel:function(){return ia.close()}},React.createElement(Mi,{placeholder:i,value:p,onChange:function(A){S(typeof A=="string"?A:A.text),y&&j("")},returnKeyType:"done",onSubmitEditing:N,error:y||void 0,secureTextEntry:m,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}}))}var Mi,ia,sa=c(()=>{"use strict";R();H();({FormInput:Mi}=D),ia=l("openLazy","close");n(vn,"InputAlert")});var dr={};P(dr,{showConfirmationAlert:()=>W,showCustomAlert:()=>mr,showInputAlert:()=>at});function W(e){var t=e;return t.body=e.content,delete t.content,t.isDismissable??=!0,la.show(t)}var la,mr,at,Me=c(()=>{"use strict";R();sa();la=l("openLazy","close");n(W,"showConfirmationAlert");mr=n(function(e,t){return la.openLazy({importer:async function(){return function(){return React.createElement(e,t)}}})},"showCustomAlert"),at=n(function(e){return mr(vn,e)},"showInputAlert")});function ca(e){return e.startsWith(nt)?"Plugin":e.endsWith(".json")&&oe()?"Theme":void 0}function ua(e,t){(e==="Plugin"?te:le)(t).then(function(){g("Successfully installed",f("Check"))}).catch(function(r){g(r.message,f("Small"))})}function yn(){var e=new Array;return e.push(v("showSimpleActionSheet",Li,function(t){if(t[0].key==="LongPressUrl"){var{header:{title:r},options:o}=t[0],a=ca(r);a&&o.push({label:`Install ${a}`,onPress:function(){return ua(a,r)}})}})),e.push(ne("handleClick",Oi,async function(t,r){var{href:o}=t[0],a=ca(o);if(!a)return r.apply(this,t);if(a==="Theme"&&Gi(ki())?.parent_id!==Dt)return r.apply(this,t);W({title:"Hold Up",content:["This link is a ",React.createElement(u.Text,{style:Ui["text-md/semibold"]},a),", would you like to install it?"],onConfirm:function(){return ua(a,o)},confirmText:"Install",cancelText:"Cancel",secondaryConfirmText:"Open in Browser",onConfirmSecondary:function(){return Fi(o)}})})),function(){return e.forEach(function(t){return t()})}}var Li,Oi,Fi,ki,Gi,Ui,fa=c(()=>{"use strict";R();h();ze();G();Pe();q();Me();T();fe();ye();Li=M(function(e){return e?.showSimpleActionSheet&&!Object.getOwnPropertyDescriptor(e,"showSimpleActionSheet")?.get}),Oi=l("handleClick"),{openURL:Fi}=Ve,{getChannelId:ki}=bt,{getChannel:Gi}=l("getChannel"),{TextStyleSheet:Ui}=l("TextStyleSheet");n(ca,"typeFromUrl");n(ua,"installWithToast");n(yn,"default")});function Rn(){var e=new Array;return e.push(pn()),e.push(yn()),function(){return e.forEach(function(t){return t()})}}var ma=c(()=>{"use strict";Po();fa();n(Rn,"initQuickInstall")});var Y,Gt=c(()=>{"use strict";(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(Y||(Y={}))});function En(){return v("render",Vi.prototype,function(e,t){var r=this;if(this.state.error){this.state.activeTab??="message";var o=pa.find(function(s){return s.id===r.state.activeTab}),a=this.state.error[this.state.activeTab],i=[{text:"Restart Discord",onPress:this.handleReload},...d.safeMode?.enabled?[]:[{text:"Restart in Safe Mode",onPress:It}],{text:"Retry Render",color:Y.RED,onPress:function(){return r.setState({info:null,error:null})}}];return React.createElement(I,null,React.createElement(kt,{style:Ut.container},React.createElement(u.View,{style:Ut.header},React.createElement(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),React.createElement(u.View,{style:{flex:2,paddingLeft:24}},React.createElement(u.Text,{style:Ut.headerTitle},t.props.title),React.createElement(u.Text,{style:Ut.headerDescription},t.props.body))),React.createElement(u.View,{style:{flex:6}},React.createElement(u.View,{style:{paddingBottom:8}},React.createElement(Hi,{tabs:pa,activeTab:this.state.activeTab,onTabSelected:function(s){r.setState({activeTab:s})}})),React.createElement(Be,{selectable:!0,style:{flex:1,textAlignVertical:"top"}},o?.trimWhitespace?a.split(`
`).filter(function(s){return s.length!==0}).map(function(s){return s.trim()}).join(`
`):a)),React.createElement(u.View,{style:Ut.footer},i.map(function(s){var m=i.indexOf(s)!==0?8:0;return React.createElement(re,{text:s.text,color:s.color??Y.BRAND,size:s.size??"small",onPress:s.onPress,style:_e.isTablet?{flex:`0.${i.length}`,marginLeft:m}:{marginTop:m}})}))))}})}var Vi,Hi,rf,da,Ut,pa,ga=c(()=>{"use strict";h();R();G();et();Oe();be();H();V();Gt();Vi=U("ErrorBoundary"),{BadgableTabBar:Hi}=l("BadgableTabBar"),rf=we("ThemeStore"),{TextStyleSheet:da}=l("TextStyleSheet"),Ut=x.createThemedStyleSheet({container:{flex:1,backgroundColor:_.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...da["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:_.HEADER_PRIMARY},headerDescription:{...da["text-sm/medium"],textAlign:"center",color:_.TEXT_MUTED},footer:{flexDirection:_e.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),pa=[{id:"message",title:"Message"},{id:"stack",title:"Stack Trace"},{id:"componentStack",title:"Component",trimWhitespace:!0}];n(En,"default")});function pr({alertTitle:e,installFunction:t}){return React.createElement(u.TouchableOpacity,{onPress:function(){return F.getString().then(function(r){return at({title:e,initialValue:r.match(ot)?.[0]??"",placeholder:"https://example.com/",onConfirm:function(o){return t(o)},confirmText:"Install",cancelText:"Cancel"})})}},React.createElement(u.Image,{style:ji.icon,source:f("ic_add_24px")}))}var ji,ha=c(()=>{"use strict";h();ze();Me();T();be();ji=x.createThemedStyleSheet({icon:{marginRight:10,tintColor:_.HEADER_PRIMARY}});n(pr,"InstallButton")});function gr({label:e,version:t,icon:r,padding:o}){return React.createElement(va,{style:o&&{paddingHorizontal:15,paddingVertical:-15},label:e,icon:React.createElement(va.Icon,{source:f(r)}),trailing:React.createElement($i,null,t),onPress:function(){F.setString(`${e} - ${t}`),g.showCopyToClipboard()}})}var va,$i,ya=c(()=>{"use strict";h();T();fe();H();R();({TableRow:va}=l("TableRow")),{FormText:$i}=D;n(gr,"Version")});function Sn(){E(d);var e=[{label:"Bunny",version:k.vendetta.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${k.discord.version} (${k.discord.build})`,icon:"Discord"},{label:"React",version:k.react.version,icon:"ic_category_16px"},{label:"React Native",version:k.react.nativeVersion,icon:"mobile"},{label:"Bytecode",version:k.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:"Loader",version:k.vendetta.loader,icon:"ic_download_24px"},{label:"Operating System",version:`${k.os.name} ${k.os.version}`,icon:"ic_cog_24px"},...k.os.sdk?[{label:"SDK",version:k.os.sdk,icon:"pencil"}]:[],{label:"Manufacturer",version:k.device.manufacturer,icon:"ic_badge_staff"},{label:"Brand",version:k.device.brand,icon:"ic_settings_boost_24px"},{label:"Model",version:k.device.model,icon:"ic_phonelink_24px"},{label:u.Platform.select({android:"Codename",ios:"Machine ID"}),version:k.device.codename,icon:"ic_compose_24px"}];return React.createElement(u.ScrollView,{style:Yi.container},React.createElement(zi,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(_n,{title:"Links"},React.createElement(me,{label:"Discord Server",icon:React.createElement(me.Icon,{source:f("Discord")}),trailing:me.Arrow,onPress:function(){return Ve.openDeeplink(cn)}}),React.createElement(me,{label:"GitHub",icon:React.createElement(me.Icon,{source:f("img_account_sync_github_white")}),trailing:me.Arrow,onPress:function(){return Ve.openURL(un)}})),React.createElement(_n,{title:"Actions"},React.createElement(me,{label:"Reload Discord",icon:React.createElement(me.Icon,{source:f("ic_message_retry")}),onPress:function(){return u.NativeModules.BundleUpdaterManager.reload()}}),React.createElement(me,{label:d.safeMode?.enabled?"Return to Normal Mode":"Reload in Safe Mode",subLabel:`This will reload Discord ${d.safeMode?.enabled?"normally.":"without loading addons."}`,icon:React.createElement(me.Icon,{source:f("ic_privacy_24px")}),onPress:It}),React.createElement(Wi,{label:"Developer Settings",icon:React.createElement(me.Icon,{source:f("ic_progress_wrench_24px")}),value:d.developerSettings,onValueChange:function(r){d.developerSettings=r}})),React.createElement(_n,{title:"Info"},React.createElement(We,{noPadding:!0,label:"Versions",icon:"ic_information_filled_24px"},e.map(function(r){return React.createElement(gr,{padding:!0,label:r.label,version:r.version,icon:r.icon})})),React.createElement(We,{noPadding:!0,label:"Platform",icon:"ic_mobile_device"},t.map(function(r){return React.createElement(gr,{padding:!0,label:r.label,version:r.version,icon:r.icon})})))))}var zi,me,Wi,_n,k,Yi,Ra=c(()=>{"use strict";h();ze();et();L();T();H();V();ya();R();be();({Stack:zi,TableRow:me,TableSwitchRow:Wi,TableRowGroup:_n}=l("TableRow")),k=Ct(),Yi=x.createThemedStyleSheet({container:{flex:1,backgroundColor:_.BACKGROUND_MOBILE_SECONDARY}});n(Sn,"General")});function Vt({title:e,fetchFunction:t,items:r,safeModeMessage:o,safeModeExtras:a,card:i}){E(d),E(r);var s=Ki.useSharedValue(0),m=React.useRef(0),[p,S]=React.useState("");return React.createElement(I,null,React.createElement(u.FlatList,{ListHeaderComponent:React.createElement(React.Fragment,null,d.safeMode?.enabled&&React.createElement(u.View,{style:{marginBottom:10}},React.createElement(Ft,{messageType:0},o),a),React.createElement(De,{style:{marginBottom:15},onChangeText:function(y){return S(y.toLowerCase())},placeholder:"Search"})),onScroll:function(y){y.nativeEvent.contentOffset.y<=0||(s.value=+(y.nativeEvent.contentOffset.y>m.current),m.current=y.nativeEvent.contentOffset.y)},onMomentumScrollEnd:function(){return s.value=0},style:{paddingHorizontal:10,paddingTop:10},contentContainerStyle:{paddingBottom:70},data:Object.values(r).filter(function(y){return y.id?.toLowerCase().includes(p)}),renderItem:function({item:y,index:j}){return React.createElement(i,{item:y,index:j})}}),React.createElement(Xi,{text:`Install ${e}`,icon:f("DownloadIcon"),state:{collapseText:s},onPress:function(){F.getString().then(function(y){return at({title:`Install ${e}`,initialValue:y.match(ot)?.[0]??"",placeholder:"https://example.com/",onConfirm:function(j){return t(j)},confirmText:"Install",cancelText:"Cancel"})})}}))}var Ki,Xi,Tn=c(()=>{"use strict";h();L();H();V();R();ze();Me();T();Ki=l("useSharedValue"),{FloatingActionButton:Xi}=l("FloatingActionButton");n(Vt,"AddonPage")});function bn(e){var t=React.useRef(null);return React.useEffect(function(){if(u.Platform.OS==="android"){var r=t.current?._children?.[0]?._nativeTag;return function(){if(r)var o=ne("setAccessibilityFocus",Ea,function([a],i){if(a!==r)return i.apply(Ea,[a]);o()})}}},[]),React.createElement(u.View,{ref:t},React.createElement(Zi,{...e,title:e.title,children:e.children,triggerOnLongPress:e.triggerOnLongPress,items:e.items,align:e.align}))}var Zi,Ea,_a=c(()=>{"use strict";R();Tt();G();({ContextMenu:Zi}=l("ContextMenu")),{AccessibilityInfo:Ea}=u;n(bn,"ContextMenu")});function Ht(e){var t=e.toggleValue??!1,r={style:hr.header,label:e.headerLabel,icon:e.headerIcon&&React.createElement(Ji,{source:f(e.headerIcon)})};return React.createElement(u.View,{style:[hr.card,{marginTop:e.index!==0?10:0}]},React.createElement(es,null,e.toggleType&&(e.toggleType==="switch"?React.createElement(Qi,{...r,value:e.toggleValue,onValueChange:e.onToggleChange}):e.toggleType==="radio"?React.createElement(qi,{...r,onPress:function(){t=!t,e.onToggleChange?.(t)},checked:e.toggleValue}):void 0)||React.createElement(Sa,r),React.createElement(Sa,{label:e.descriptionLabel,trailing:React.createElement(u.View,{style:hr.actions},e.overflowActions&&React.createElement(bn,{triggerOnLongPress:!1,items:e.overflowActions.map(function(o){return{label:o.label,iconSource:f(o.icon),action:o.onPress}}),align:"auto",title:e.overflowTitle,children:function(o){return React.createElement(u.TouchableOpacity,o,React.createElement(u.Image,{style:hr.icon,source:f("ic_more_24px")}))}}))})))}var Sa,Ji,Qi,qi,es,Qf,qf,em,hr,wn=c(()=>{"use strict";_a();h();R();T();be();({TableRow:Sa,TableRowIcon:Ji,TableSwitchRow:Qi,TableCheckboxRow:qi,TableRowGroup:es,IconButton:Qf}=l("TableRow")),{hideActionSheet:qf}=l("openLazy","hideActionSheet"),{showSimpleActionSheet:em}=l("showSimpleActionSheet"),hr=x.createThemedStyleSheet({card:{backgroundColor:_?.BACKGROUND_SECONDARY,borderRadius:15,overflow:"hidden"},header:{padding:0,backgroundColor:_?.BACKGROUND_TERTIARY},actions:{flexDirection:"row-reverse",alignItems:"center"},actionIcon:{width:22,height:22,marginLeft:5,tintColor:_?.INTERACTIVE_NORMAL},icon:{width:22,height:22,marginLeft:5,tintColor:_?.INTERACTIVE_NORMAL}});n(Ht,"Card")});async function Ta(e,t){e.enabled&&$e(e.id,!1),t(),e.enabled&&await je(e.id)}function xn({item:e,index:t}){E(e);var r=Bt(e.id),o=ce.useNavigation(),[a,i]=React.useState(!1);return a?null:React.createElement(Ht,{index:t,headerLabel:`${e.manifest.name} by ${e.manifest.authors.map(function(s){return s.name}).join(", ")}`,headerIcon:e.manifest.vendetta?.icon||"ic_application_command_24px",toggleType:"switch",toggleValue:e.enabled,onToggleChange:function(s){try{s?je(e.id):$e(e.id)}catch(m){g(m.message,f("Small"))}},descriptionLabel:e.manifest.description,overflowTitle:e.manifest.name,overflowActions:[...r?[{label:"Plugin settings",icon:"settings",onPress:function(){return o.push("VendettaCustomPage",{title:e.manifest.name,render:r})}}]:[],{icon:"ic_sync_24px",label:"Refetch",onPress:async function(){Ta(e,function(){He(e.id).then(async function(){g("Successfully refetched plugin.",f("toast_image_saved"))}).catch(function(){g("Failed to refetch plugin!",f("Small"))})})}},{icon:"copy",label:"Copy URL",onPress:function(){F.setString(e.id),g.showCopyToClipboard()}},{icon:"ic_download_24px",label:e.update?"Disable updates":"Enable updates",onPress:function(){e.update=!e.update,g(`${e.update?"Enabled":"Disabled"} updates for ${e.manifest.name}.`,f("toast_image_saved"))}},{icon:"ic_duplicate",label:"Clear data",isDestructive:!0,onPress:function(){return W({title:"Wait!",content:`Are you sure you wish to clear the data of ${e.manifest.name}?`,confirmText:"Clear",cancelText:"Cancel",confirmColor:Y.RED,onConfirm:function(){Ta(e,function(){try{Ie.removeItem(e.id),g(`Cleared data for ${e.manifest.name}.`,f("trash"))}catch{g(`Failed to clear data for ${e.manifest.name}!`,f("Small"))}})}})}},{icon:"ic_message_delete",label:"Delete",isDestructive:!0,onPress:function(){return W({title:"Wait!",content:`Are you sure you wish to delete ${e.manifest.name}? This will clear all of the plugin's data.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:Y.RED,onConfirm:function(){try{rt(e.id),i(!0)}catch(s){g(s.message,f("Small"))}}})}}]})}var ba=c(()=>{"use strict";h();Pe();Oe();T();fe();Me();wn();L();Gt();n(Ta,"stopThenStart");n(xn,"PluginCard")});function In(){return E(d),React.createElement(Vt,{title:"Plugin",fetchFunction:te,items:b,safeModeMessage:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",card:xn})}var wa=c(()=>{"use strict";L();Pe();V();Tn();ba();n(In,"Plugins")});async function xa(e,t){try{await Ne(e?t:"default"),e?_t(w[t]):_t(null),g("Reload the app to fully apply changes!",f("yellow-alert"))}catch(r){console.error("Error while selectAndApply,",r)}}function Nn({item:e,index:t}){E(e);var[r,o]=React.useState(!1);if(r)return null;var a=e.data.authors;return React.createElement(Ht,{index:t,headerLabel:`${e.data.name} ${a?`by ${a.map(function(i){return i.name}).join(", ")}`:""}`,descriptionLabel:e.data.description??"No description.",toggleType:d.safeMode?.enabled?void 0:"radio",toggleValue:e.selected,onToggleChange:function(i){xa(i,e.id)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:"Refetch",onPress:function(){Je(e.id,e.selected).then(function(){e.selected?W({title:"Theme refetched",content:"A reload is required to see the changes. Do you want to reload now?",confirmText:"Reload",cancelText:"Cancel",confirmColor:Y.RED,onConfirm:function(){return Et.reload()}}):g("Successfully refetched theme.",f("toast_image_saved"))}).catch(function(){g("Failed to refetch theme!",f("Small"))})}},{icon:"copy",label:"Copy URL",onPress:function(){F.setString(e.id),g.showCopyToClipboard()}},{icon:"ic_message_delete",label:"Delete",isDestructive:!0,onPress:function(){return W({title:"Wait!",content:`Are you sure you wish to delete ${e.data.name}?`,confirmText:"Delete",cancelText:"Cancel",confirmColor:Y.RED,onConfirm:function(){Qe(e.id).then(function(i){o(!0),i&&xa(!1,e.id)}).catch(function(i){g(i.message,f("Small"))})}})}}]})}var Ia=c(()=>{"use strict";h();q();L();Oe();T();Me();fe();V();wn();Gt();n(xa,"selectAndApply");n(Nn,"ThemeCard")});function Cn(){return E(d),React.createElement(Vt,{title:"Theme",fetchFunction:le,items:w,safeModeMessage:`You are in Safe Mode, meaning themes have been temporarily disabled.${d.safeMode?.currentThemeId?" If a theme appears to be causing the issue, you can press below to disable it persistently.":""}`,safeModeExtras:d.safeMode?.currentThemeId?React.createElement(re,{text:"Disable Theme",color:Y.BRAND,size:"small",onPress:function(){delete d.safeMode?.currentThemeId},style:{marginTop:8}}):void 0,card:Nn})}var Na=c(()=>{"use strict";L();q();H();V();Tn();Ia();Gt();n(Cn,"Themes")});function An({asset:e}){return React.createElement(ts,{label:`${e.name} - ${e.id}`,trailing:React.createElement(u.Image,{source:e.id,style:{width:32,height:32}}),onPress:function(){F.setString(e.name),g.showCopyToClipboard()}})}var ts,Ca=c(()=>{"use strict";h();fe();H();({FormRow:ts}=D);n(An,"AssetDisplay")});function Pn(){var[e,t]=React.useState("");return React.createElement(I,null,React.createElement(u.View,{style:{flex:1}},React.createElement(De,{style:{margin:10},onChangeText:function(r){return t(r)},placeholder:"Search"}),React.createElement(u.FlatList,{data:Object.values(ue).filter(function(r){return r.name.includes(e)||r.id.toString()===e}),renderItem:function({item:r}){return React.createElement(An,{asset:r})},ItemSeparatorComponent:rs,keyExtractor:function(r){return r.name}})))}var rs,Aa=c(()=>{"use strict";h();T();H();Ca();({FormDivider:rs}=D);n(Pn,"AssetBrowser")});function Dn(){var e=ce.useNavigation();return E(d),E(z),React.createElement(I,null,React.createElement(u.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(ns,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(Ba,{label:"Debugger URL",placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return React.createElement(os,{style:ls.leadingText},"ws://")},defaultValue:d.debuggerUrl,onChange:function(t){return d.debuggerUrl=t}}),React.createElement(Bn,{title:"Debug"},React.createElement(K,{label:"Connect to debug websocket",icon:React.createElement(K.Icon,{source:f("copy")}),onPress:function(){return Nt(d.debuggerUrl)}}),yt()&&React.createElement(React.Fragment,null,React.createElement(K,{label:"Connect to React DevTools",icon:React.createElement(K.Icon,{source:f("ic_badge_staff")}),onPress:function(){return window[no()||"__vendetta_rdc"]?.connectToDevTools({host:d.debuggerUrl.split(":")?.[0],resolveRNStyle:u.StyleSheet.flatten})}}))),Mr()&&React.createElement(React.Fragment,null,React.createElement(Bn,{title:"Loader config"},React.createElement(Pa,{label:"Load from custom url",subLabel:"Load Bunny from a custom endpoint.",icon:React.createElement(K.Icon,{source:f("copy")}),value:z.customLoadUrl.enabled,onValueChange:function(t){z.customLoadUrl.enabled=t}}),z.customLoadUrl.enabled&&React.createElement(K,{label:React.createElement(Ba,{defaultValue:z.customLoadUrl.url,size:"md",onChange:function(t){return z.customLoadUrl.url=t},placeholder:"http://localhost:4040/vendetta.js",label:"Bunny URL"})}),yt()&&React.createElement(Pa,{label:"Load React DevTools",subLabel:`Version: ${oo()}`,icon:React.createElement(K.Icon,{source:f("ic_badge_staff")}),value:z.loadReactDevTools,onValueChange:function(t){z.loadReactDevTools=t}}))),React.createElement(Bn,{title:"Other"},React.createElement(K,{arrow:!0,label:"Asset Browser",icon:React.createElement(K.Icon,{source:f("ic_image")}),trailing:K.Arrow,onPress:function(){return e.push("VendettaCustomPage",{title:"Asset Browser",render:Pn})}}),React.createElement(K,{arrow:!0,label:"ErrorBoundary Tools",icon:React.createElement(K.Icon,{source:f("ic_warning_24px")}),onPress:function(){return is({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:React.createElement(K.Icon,{style:{marginRight:8},source:f("ic_warning_24px")}),onClose:function(){return as()}},options:[{label:"Bunny",onPress:function(){return e.push("VendettaCustomPage",{render:function(){return React.createElement("undefined",null)}})}},{label:"Discord",isDestructive:!0,onPress:function(){return e.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}})))))}var ns,K,Pa,Bn,Ba,os,as,is,ss,ls,Da=c(()=>{"use strict";h();R();et();L();T();H();V();Aa();be();ye();({Stack:ns,TableRow:K,TableSwitchRow:Pa,TableRowGroup:Bn,TextInput:Ba}=l("TableRow")),{FormText:os}=D,{hideActionSheet:as}=l("openLazy","hideActionSheet"),{showSimpleActionSheet:is}=l("showSimpleActionSheet"),{TextStyleSheet:ss}=l("TextStyleSheet"),ls=x.createThemedStyleSheet({leadingText:{...ss["heading-md/semibold"],color:_.TEXT_MUTED,marginRight:-4}});n(Dn,"Developer")});var cs,us,jt,vr,dt,$t,Ma,Mn,yr=c(()=>{"use strict";h();Pe();q();Me();be();fe();xe();T();V();cr();ha();Ra();wa();Na();Da();ze();R();ye();({useSafeAreaInsets:cs}=l("useSafeAreaInsets")),us=x.createStyles({container:{flex:1,backgroundColor:_.BACKGROUND_MOBILE_PRIMARY}}),jt=n(function(e,t){return t?ft.snakeCase(e).toUpperCase():e},"formatKey"),vr=n(function(e,t){return Object.fromEntries(e.map(function(r){return[r.key,typeof t=="function"?t(r):typeof t=="string"?r[t]:t]}))},"keyMap"),dt=n(function(e=!1){return[{key:jt("VendettaSettings",e),title:"General",icon:"settings",render:Sn},{key:jt("VendettaPlugins",e),title:"Plugins",icon:"debug",options:{headerRight:function(){return React.createElement(pr,{alertTitle:"Install Plugin",installFunction:async function(t){if(!t.startsWith(nt)&&!d.developerSettings)setImmediate(function(){return W({title:"Unproxied Plugin",content:"The plugin you are trying to install has not been proxied/verified by Vendetta staff. Are you sure you want to continue?",confirmText:"Install",onConfirm:function(){return te(t).then(function(){return g("Installed plugin",f("Check"))}).catch(function(r){return g(r?.message??`${r}`,f("Small"))})},cancelText:"Cancel"})});else return await te(t)}})}},render:In},{key:jt("VendettaThemes",e),title:"Themes",icon:"ic_theme_24px",shouldRender:function(){return oe()},options:{headerRight:function(){return!d.safeMode?.enabled&&React.createElement(pr,{alertTitle:"Install Theme",installFunction:le})}},render:Cn},{key:jt("VendettaDeveloper",e),title:"Developer",icon:"ic_progress_wrench_24px",shouldRender:function(){return d.developerSettings??!1},render:Dn},{key:jt("VendettaCustomPage",e),title:"Vendetta Page",shouldRender:function(){return!1},render:function({render:t,noErrorBoundary:r,...o}){var a=ce.useNavigation();return a.addListener("focus",function(){return a.setOptions($(o,"render","noErrorBoundary"))}),r?React.createElement(t,null):React.createElement(I,null,React.createElement(t,null))}}]},"getScreens"),$t=n(function(e=!1){return dt(e).filter(function(t){return t.shouldRender?.()??!0})},"getRenderableScreens"),Ma=n(function(){return vr(dt(),function(e){return{title:e.title,render:e.render,...e.options}})},"getPanelsScreens"),Mn=n(function(){var e=dt(!0);return{getLayout:function(){return{title:"Bunny",label:"Bunny",settings:$t(!0).map(function(t){return t.key})}},titleConfig:vr(e,"title"),relationships:vr(e,null),rendererConfigs:vr(e,function(t){var r=React.memo(function({navigation:o,route:a}){var i=us(),{bottom:s}=cs();return o.addListener("focus",function(){return o.setOptions(t.options)}),React.createElement(u.View,{style:[{paddingBottom:s},i.container]},React.createElement(t.render,a.params))});return{type:"route",title:function(){return t.title},icon:t.icon?f(t.icon):null,screen:{route:ft.chain(t.key).camelCase().upperFirst().value(),getComponent:function(){return r}}}})}},"getYouData")});function On(){var e=ce.useNavigation();E(d);var t=$t();return React.createElement(I,null,React.createElement(fs,{key:"Vendetta",title:`Bunny${d.safeMode?.enabled?" (Safe Mode)":""}`},t.map(function(r,o){return React.createElement(React.Fragment,null,React.createElement(Ln,{label:r.title,leading:React.createElement(Ln.Icon,{source:f(r.icon)}),trailing:Ln.Arrow,onPress:function(){return e.push(r.key)}}),o!==t.length-1&&React.createElement(ms,null))})))}var Ln,fs,ms,La=c(()=>{"use strict";h();L();T();yr();H();V();({FormRow:Ln,FormSection:fs,FormDivider:ms}=D);n(On,"SettingsSection")});function Fn(){var e=new Array;return e.push(v("default",ds,function(t,r){return{...r,...Ma()}})),v("default",ps,function(t,r){var o=Z(r.props.children,function(a){return a.type&&a.type.name==="UserSettingsOverview"});e.push(v("renderSupportAndAcknowledgements",o.type.prototype,function(a,{props:{children:i}}){var s=i.findIndex(function(m){return m?.type?.name==="UploadLogsButton"});s!==-1&&i.splice(s,1)})),e.push(v("render",o.type.prototype,function(a,{props:{children:i}}){var s=[Ce.Messages.BILLING_SETTINGS,Ce.Messages.PREMIUM_SETTINGS];i=Z(i,function(p){return p.children?.[1].type?.name==="FormSection"}).children;var m=i.findIndex(function(p){return s.includes(p?.props.label)});i.splice(m===-1?4:m,0,React.createElement(On,null))}))},!0),function(){return e.forEach(function(t){return t()})}}var ds,ps,Oa=c(()=>{"use strict";h();R();G();xe();yr();La();ds=U("getScreens",!1),ps=U("UserSettingsOverviewWrapper",!1);n(Fn,"patchPanels")});function Gn(){var e=new Array;return hs(e)||gs(e),function(){return e.forEach(function(t){return t?.()})}}function gs(e){var t=l("useOverviewSettings"),r=l("getSettingTitleConfig"),o=l("SETTING_RELATIONSHIPS","SETTING_RENDERER_CONFIGS"),a="getSettingSearchListItems",i="getSettingListItems",s=l(a),m=!s,p=m?i:a,S=s??l(i);if(!(!S||!t)){var y=dt(!0),j=$t(!0),N=Mn();e.push(v("useOverviewSettings",t,function(pt,gt){return Fa(gt,N.getLayout())})),e.push(v("getSettingTitleConfig",r,function(pt,gt){return{...gt,...N.titleConfig}})),e.push(v(p,S,function([pt],gt){return[...j.filter(function(pe){return pt.includes(pe.key)}).map(function(pe){return{type:"setting_search_result",ancestorRendererData:N.rendererConfigs[pe.key],setting:pe.key,title:N.titleConfig[pe.key],breadcrumbs:["Bunny"],icon:N.rendererConfigs[pe.key].icon}}),...gt.filter(function(pe){return m||!y.map(function(Er){return Er.key}).includes(pe.setting)})].map(function(pe,Er,Xa){return{...pe,index:Er,total:Xa.length}})}));var A=o.SETTING_RELATIONSHIPS,de=o.SETTING_RENDERER_CONFIGS;return o.SETTING_RELATIONSHIPS={...A,...N.relationships},o.SETTING_RENDERER_CONFIGS={...de,...N.rendererConfigs},e.push(function(){o.SETTING_RELATIONSHIPS=A,o.SETTING_RENDERER_CONFIGS=de}),!0}}function hs(e){var t=l("SearchableSettingsList"),r=l("SETTING_RENDERER_CONFIG"),o=l("getSettingListItems");if(!o||!t||!r)return!1;var a=dt(!0),i=Mn();e.push(Le("type",t.SearchableSettingsList,function([{sections:m}]){return Fa(m,i.getLayout())})),e.push(v("getSettingListSearchResultItems",o,function(m,p){p.forEach(function(S){return a.some(function(y){return y.key===S.setting})&&(S.breadcrumbs=["Bunny"])})}));var s=r.SETTING_RENDERER_CONFIG;return r.SETTING_RENDERER_CONFIG={...s,...i.rendererConfigs},e.push(function(){r.SETTING_RENDERER_CONFIG=s}),!0}function Fa(e,t){if(!(!Array.isArray(e)||e.find(function(a){return kn(a,"Bunny")}))){var r=e.findIndex(function(a){return kn(a,Ce.Messages.ACCOUNT_SETTINGS)});e.splice(r+1,0,t);var o=e.find(function(a){return kn(a,Ce.Messages.SUPPORT)});o&&(o.settings=o.settings.filter(function(a){return a!=="UPLOAD_DEBUG_LOGS"}))}}var kn,ka=c(()=>{"use strict";R();G();yr();h();n(Gn,"patchYou");n(gs,"oldYouPatch");n(hs,"newYouPatch");kn=n(function(e,t){return e?.label===t||e?.title===t},"isLabel");n(Fa,"manipulateSections")});function Un(){var e=[Fn(),Gn()];return function(){return e.forEach(function(t){return t?.()})}}var Ga=c(()=>{"use strict";Oa();ka();n(Un,"initSettings")});function Ua({locale:e}){try{xt.locale(e.toLowerCase())}catch(t){O.error("Failed to fix timestamps...",t)}ut.unsubscribe("I18N_LOAD_SUCCESS",Ua)}function Vn(){return ut.subscribe("I18N_LOAD_SUCCESS",Ua)}var Va=c(()=>{"use strict";h();Ze();n(Ua,"onDispatch");n(Vn,"default")});var Ha,ja=c(()=>{"use strict";G();ye();V();et();Pe();q();ir();L();R();h();H();fe();Me();T();be();xe();Ha=n(function(e){return{patcher:{before:it.before,after:it.after,instead:it.instead},metro:{find:function(t){return M(t)},findAll:function(t){return Ye(t)},findByProps:function(t){return l(t)},findByPropsAll:function(t){return Nr(t)},findByName:function(t,r){return U(t,r)},findByNameAll:function(t,r){return Cr(t,r)},findByDisplayName:function(t,r){return vt(t,r)},findByDisplayNameAll:function(t,r){return Ar(t,r)},findByTypeName:function(t,r){return Pr(t,r)},findByTypeNameAll:function(t,r){return Br(t,r)},findByStoreName:function(t){return we(t)},common:{constants:Ue,channels:bt,i18n:Ce,url:Ve,toasts:wt,stylesheet:x,clipboard:F,assets:qe,invites:Yr,commands:ct,navigation:Kr,navigationStack:Xr,NavigationNative:ce,Flux:Zr,FluxDispatcher:ut,React:Ae,ReactNative:u,moment:xt,chroma:se,lodash:ft,util:Jr}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(t,r){return Z(t,r)},findInTree:function(t,r,o){return Xe(t,r,o)},safeFetch:function(t,r,o){return Re(t,r,o)},unfreeze:function(t){return Rt(t)},without:function(t,...r){return $(t,...r)}},debug:{connectToDebugger:function(t){return Nt(t)},getDebugInfo:function(){return Ct()}},ui:{components:{Forms:D,General:hn,Alert:Ot,Button:re,HelpMessage:Ft,SafeAreaView:kt,Summary:We,ErrorBoundary:I,Codeblock:Be,Search:De},toasts:{showToast:function(t,r){return g(t,r)}},alerts:{showConfirmationAlert:function(t){return W(t)},showCustomAlert:function(t,r){return mr(t,r)},showInputAlert:function(t){return at(t)}},assets:{all:ue,find:function(t){return qr(t)},getAssetByName:function(t){return en(t)},getAssetByID:function(t){return tn(t)},getAssetIDByName:function(t){return f(t)}},semanticColors:_,rawColors:gn},plugins:{plugins:b,fetchPlugin:function(t){return He(t)},installPlugin:function(t,r){return te(t,r)},startPlugin:function(t){return je(t)},stopPlugin:function(t,r){return $e(t,r)},removePlugin:function(t){return rt(t)},getSettings:function(t){return Bt(t)}},themes:{themes:w,fetchTheme:function(t,r){return Je(t,r)},installTheme:function(t){return le(t)},selectTheme:function(t){return Ne(t)},removeTheme:function(t){return Qe(t)},getCurrentTheme:function(){return Ge()},updateThemes:function(){return er()}},commands:{registerCommand:sn},storage:{createProxy:function(t){return Qt(t)},useProxy:function(t){return E(t)},createStorage:function(t){return ae(t)},wrapSync:function(t){return Te(t)},awaitSyncWrapper:function(t){return ke(t)},createMMKVBackend:function(t){return Se(t)},createFileBackend:function(t){return Fe(t)}},settings:d,loader:{identity:Dr()??void 0,config:z},logger:{log:function(...t){return console.log(...t)},info:function(...t){return console.info(...t)},warn:function(...t){return console.warn(...t)},error:function(...t){return console.error(...t)},time:function(...t){return console.time(...t)},trace:function(...t){return console.trace(...t)},verbose:function(...t){return console.log(...t)}},version:mt,unload:function(){e.filter(function(t){return typeof t=="function"}).forEach(function(t){return t()}),delete window.vendetta}}},"createVendettaObject")});function Hn(e){window.vendetta=Ha(e),window.bunny=vs(e)}function vs(e){return{patcher:$(it,"unpatchAll"),metro:{...Xt,common:{...tr}},constants:{...dn},utils:{...Zt},debug:$({...or},"versionHash","patchLogHook","toggleSafeMode"),ui:{components:{...fr},toasts:{...nr},alerts:{...dr},assets:{...rr},...ur},plugins:$({...sr},"initPlugins","evalPlugin"),themes:$({...St},"initThemes"),commands:$({...ar},"patchCommands"),storage:{...qt},settings:d,loader:{identity:null,config:z},logger:{...O},version:mt,unload:function(){e.filter(function(t){return typeof t=="function"}).forEach(function(t){return t()}),delete window.vendetta}}}var $a=c(()=>{"use strict";ja();ze();et();Pe();q();ir();L();R();h();H();fe();Me();T();be();xe();Ze();G();V();n(Hn,"initWindowObject");n(vs,"createBunnyObject")});var Wa={};P(Wa,{default:()=>za});async function za(){var e=await Promise.all([rn(),Qr(),an(),$r(),Vn(),En(),Un(),Rn()]);Hn(e),e.push(await ln()),O.log("Vendetta is ready!")}var Ya=c(()=>{"use strict";et();ir();Pe();q();T();ma();ga();Ga();Va();Ze();$a();n(za,"default")});Yt();globalThis.window=globalThis;var Ka=n(async function(){try{console.log("Hello from Bunny! Pyon!"),Object.freeze=Object.seal=Object,await Promise.resolve().then(()=>(Ya(),Wa)).then(function(r){return r.default()})}catch(r){var{ClientInfoManager:e}=(Oe(),jn(po)),t=r instanceof Error?r.stack:void 0;console.log(t??r?.toString?.()??r),alert([`Failed to load Bunny!
`,`Build Number: ${e.Build}`,"Bunny: 98ca130",t||r?.toString?.()].join(`
`))}},"init");if(typeof globalThis.__r<"u")Ka();else{var e=function(t){var r=window.__fbBatchedBridge,o=new Array,a=ne("callFunctionReturnFlushedQueue",r,function(s,m){return s[0]==="AppRegistry"||!r.getCallableModule(s[0])?(o.push(s),r.flushedQueue()):m.apply(r,s)}),i=n(function(){Ka(),a(),t(0),o.forEach(function(s){return r.getCallableModule(s[0])&&r.__callFunction(...s)})},"startDiscord");i()};Pp=e,n(e,"onceIndexRequired"),Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return Rr},set(t){Rr=n(function(o){if(o===0)e(t),Rr=t;else return t(o)},"patchedRequire")}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(t){this.value=t}}})}var Rr,Pp;})();
//# sourceURL=bunny
