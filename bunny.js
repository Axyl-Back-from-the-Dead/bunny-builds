"use strict";(()=>{var _s=Object.create;var gr=Object.defineProperty;var Ss=Object.getOwnPropertyDescriptor;var Rs=Object.getOwnPropertyNames;var ys=Object.getPrototypeOf,Ts=Object.prototype.hasOwnProperty;var o=(e,t)=>gr(e,"name",{value:t,configurable:!0});var f=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ya=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),A=(e,t)=>{for(var r in t)gr(e,r,{get:t[r],enumerable:!0})},za=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(var a=Rs(t),i=0,l=a.length,s;i<l;i++)s=a[i],!Ts.call(e,s)&&s!==r&&gr(e,s,{get:(m=>t[m]).bind(null,s),enumerable:!(n=Ss(t,s))||n.enumerable});return e};var X=(e,t,r)=>(r=e!=null?_s(ys(e)):{},za(t||!e||!e.__esModule?gr(r,"default",{value:e,enumerable:!0}):r,e)),tn=e=>za(gr({},"__esModule",{value:!0}),e);var ao,ke,rn=f(()=>{ao=["a","b","i"],ke=new Map});function io(e,t,r,n,a){var i,l=(i=ke.get(t))===null||i===void 0?void 0:i[e];if(!l)return a?Reflect.construct(t[e],r,n):t[e].apply(n,r);for(var s of l.b.values()){var m=s.call(n,r);Array.isArray(m)&&(r=m)}var D=[...l.i.values()].reduce(function(C,U){return function(...P){return U.call(n,P,C)}},function(...C){return a?Reflect.construct(l.o,C,n):l.o.apply(n,C)})(...r);for(var I of l.a.values())D=I.call(n,r,D)??D;return D}var Wa=f(()=>{rn();o(io,"default")});function lo(e,t,r,n){var a=ke.get(e),i=a?.[t];if(!i?.[n].has(r))return!1;if(i[n].delete(r),ao.every(function(s){return i[s].size===0})){var l=Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0});l||(e[t]=i.o),delete a[t]}return Object.keys(a).length==0&&ke.delete(e),!0}function so(){var e;for(var[t,r]of ke.entries())for(var n in r)for(var a of ao)for(var i of((e=r[n])===null||e===void 0?void 0:e[a].keys())??[])lo(t,n,i,a)}var co=f(()=>{rn();o(lo,"unpatch");o(so,"unpatchAll")});function hr(e){return function(t,r,n,a=!1){if(typeof r[t]!="function")throw new Error(`${t} is not a function in ${r.constructor.name}`);ke.has(r)||ke.set(r,{});var i=ke.get(r);if(!i[t]){var l=r[t];i[t]={o:l,b:new Map,i:new Map,a:new Map};var s=o(function(U,P,ce){var vr=io(t,r,P,U,ce);return a&&C(),vr},"runHook"),m=new Proxy(l,{apply:function(U,P,ce){return s(P,ce,!1)},construct:function(U,P){return s(l,P,!0)},get:function(U,P,ce){return P=="toString"?l.toString.bind(l):Reflect.get(U,P,ce)}}),D=Reflect.defineProperty(r,t,{value:m,configurable:!0,writable:!0});D||(r[t]=m)}var I=Symbol(),C=o(function(){return lo(r,t,I,e)},"unpatchThisPatch");return i[t][e].set(I,n),C}}var Ka=f(()=>{Wa();rn();co();o(hr,"default")});var uo={};A(uo,{after:()=>k,before:()=>Nt,instead:()=>ge,unpatchAll:()=>so});var Nt,ge,k,Jt=f(()=>{Ka();co();Nt=hr("b"),ge=hr("i"),k=hr("a")});var fo={};A(fo,{after:()=>k,before:()=>Nt,default:()=>Lt,instead:()=>ge,unpatchAll:()=>so});var Lt,fe=f(()=>{"use strict";Jt();Jt();Lt={...uo}});var _r={};A(_r,{find:()=>ee,findAll:()=>ut,findByDisplayName:()=>Zt,findByDisplayNameAll:()=>cn,findByName:()=>te,findByNameAll:()=>sn,findByProps:()=>d,findByPropsAll:()=>ln,findByStoreName:()=>ft,findByTypeName:()=>un,findByTypeNameAll:()=>fn,modules:()=>Er});function xs(e){if(!Er[e].isInitialized)try{var t=Function.prototype.toString;Object.defineProperty(Function.prototype,"toString",{value:t,configurable:!0,writable:!1});var r=window.ErrorUtils.getGlobalHandler();window.ErrorUtils.setGlobalHandler(null),__r(e),window.ErrorUtils.setGlobalHandler(r),Object.defineProperty(Function.prototype,"toString",{value:t,configurable:!0,writable:!0})}catch{}}var Ja,nn,on,an,mo,Xa,bs,Za,Er,ee,ut,Qa,qa,ei,ti,As,d,ln,te,sn,Zt,cn,un,fn,ft,Y=f(()=>{"use strict";fe();Ja=o(function(e){return Object.defineProperty(window.modules,e,{value:window.modules[e],enumerable:!1,configurable:!0,writable:!0})},"blacklist");for(mo in window.modules)if(an=(on=window.modules[mo])===null||on===void 0||(nn=on.publicModule)===null||nn===void 0?void 0:nn.exports,!an||an===window||an.proxygone===null){Ja(mo);continue}Xa=new WeakSet,bs=o(function(e){var t;typeof e!="object"||Xa.has(e)||(Xa.add(e),(e==null||(t=e.default)===null||t===void 0?void 0:t.name)==="requireNativeComponent"&&ge("default",e,function(r,n){try{return n(...r)}catch{return r[0]}}))},"onModuleCheck");o(xs,"maybeInitializeModule");Za=o(function(e,t=!1){return function(r){var n=[];for(var a in e){var i,l,s=(l=e[a])===null||l===void 0||(i=l.publicModule)===null||i===void 0?void 0:i.exports;if(xs(a),!s){Ja(a);continue}if(bs(s),s.default&&s.__esModule&&r(s.default)){if(t)return s.default;n.push(s.default)}if(r(s)){if(t)return s;n.push(s)}}if(!t)return n}},"filterModules"),{modules:Er}=window,ee=Za(Er,!0),ut=Za(Er),Qa=o(function(e){return function(t){return e.every(function(r){return t[r]!==void 0})}},"propsFilter"),qa=o(function(e,t){return t?function(r){return r?.name===e}:function(r){var n;return(r==null||(n=r.default)===null||n===void 0?void 0:n.name)===e}},"nameFilter"),ei=o(function(e,t){return t?function(r){return r?.displayName===e}:function(r){var n;return(r==null||(n=r.default)===null||n===void 0?void 0:n.displayName)===e}},"dNameFilter"),ti=o(function(e,t){return t?function(r){var n;return(r==null||(n=r.type)===null||n===void 0?void 0:n.name)===e}:function(r){var n,a;return(r==null||(a=r.default)===null||a===void 0||(n=a.type)===null||n===void 0?void 0:n.name)===e}},"tNameFilter"),As=o(function(e){return function(t){return t.getName&&t.getName.length===0&&t.getName()===e}},"storeFilter"),d=o(function(...e){return ee(Qa(e))},"findByProps"),ln=o(function(...e){return ut(Qa(e))},"findByPropsAll"),te=o(function(e,t=!0){return ee(qa(e,t))},"findByName"),sn=o(function(e,t=!0){return ut(qa(e,t))},"findByNameAll"),Zt=o(function(e,t=!0){return ee(ei(e,t))},"findByDisplayName"),cn=o(function(e,t=!0){return ut(ei(e,t))},"findByDisplayNameAll"),un=o(function(e,t=!0){return ee(ti(e,t))},"findByTypeName"),fn=o(function(e,t=!0){return ut(ti(e,t))},"findByTypeNameAll"),ft=o(function(e){return ee(As(e))},"findByStoreName")});var dn={};A(dn,{logModule:()=>mn,logger:()=>oe});var mn,oe,Ot=f(()=>{"use strict";Y();mn=d("setLogFn").default,oe=new mn("Bunny")});var Tr={};A(Tr,{Flux:()=>ho,FluxDispatcher:()=>Ce,NavigationNative:()=>Ee,React:()=>_e,ReactNative:()=>we,assets:()=>Pt,channels:()=>Sr,chroma:()=>He,clipboard:()=>me,commands:()=>Qt,constants:()=>he,i18n:()=>mt,invites:()=>vo,lodash:()=>Eo,messageUtil:()=>Bt,moment:()=>yr,navigation:()=>po,navigationStack:()=>go,toasts:()=>Rr,url:()=>dt,util:()=>_o});var Bm,he,Sr,mt,dt,Rr,me,Pt,vo,Qt,po,Bt,go,Ee,ho,Ce,_e,we,yr,He,Eo,_o,B=f(()=>{"use strict";Y();Bm=d("colors","unsafe_rawColors"),he=d("Fonts","Permissions"),Sr=d("getVoiceChannelId"),mt=d("Messages"),dt=d("openURL","openDeeplink"),Rr=ee(function(e){return e.open&&e.close&&!e.startDrag&&!e.init&&!e.openReplay&&!e.setAlwaysOnTop&&!e.setAccountFlag}),me=d("setString","getString","hasString"),Pt=d("registerAsset"),vo=d("acceptInviteAndTransitionToInviteChannel"),Qt=d("getBuiltInCommands"),po=d("pushLazy"),Bt=d("sendBotMessage"),go=d("createStackNavigator"),Ee=d("NavigationContainer"),ho=d("connectStores"),Ce=d("_currentDispatchActionType"),_e=window.React=d("createElement"),we=window.ReactNative=d("AppRegistry"),yr=d("isMoment"),He=d("brewer"),Eo=d("forEachRight"),_o=d("inspect","isNullOrUndefined")});function ri({locale:e}){try{yr.locale(e.toLowerCase())}catch(t){oe.error("Failed to fix timestamps...",t)}Ce.unsubscribe("I18N_LOAD_SUCCESS",ri)}function So(){Ce.subscribe("I18N_LOAD_SUCCESS",ri)}var ni=f(()=>{"use strict";Ot();B();o(ri,"onDispatch");o(So,"default")});var ai,oi=f(()=>{ai={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied plugin URL to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install Add-on",INSTALL_PLUGIN:"Install Plugin",INSTALL_THEME:"Install Theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom url",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} false {}}",SEARCH:"Search",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function li(){var e=o(function({locale:t}){var r={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},n=r[t]??t;if(n.startsWith("en-")){qt=null;return}ii.has(n)?qt=n:(ii.add(n),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${n}/bunny.json`).then(function(a){return a.json()}).then(function(a){return Ro[n]=a}).then(function(){return qt=n}).catch(function(a){return console.error(`An error occured while fetching strings for ${n}: ${a}`)}))},"cb");return Ce.subscribe("I18N_LOAD_SUCCESS",e),function(){return Ce.unsubscribe("I18N_LOAD_SUCCESS",e)}}function De(e,t){var r=c[e];return new ws(r).format(t)}var ws,qt,ii,Ro,c,J=f(()=>{"use strict";B();Y();oi();ws=te("MessageFormat"),ii=new Set,Ro={},c=new Proxy({},{get:function(e,t){var r;if(qt&&(!((r=Ro[qt])===null||r===void 0)&&r[t])){var n;return(n=Ro[qt])===null||n===void 0?void 0:n[t]}return ai[t]}});o(li,"initFetchI18nStrings");o(De,"formatString")});var br={};A(br,{_patchAssets:()=>yo,all:()=>Ie,find:()=>To,getAssetByID:()=>xo,getAssetByName:()=>bo,getAssetIDByName:()=>_});function yo(){for(var e=k("registerAsset",Pt,function(n,a){var i=n[0];Ie[i.name]={...i,id:a}}),t=1;;t++){var r=Pt.getAssetByID(t);if(!r)break;Ie[r.name]||(Ie[r.name]={...r,id:t})}return e}var Ie,To,bo,xo,_,Z=f(()=>{"use strict";fe();B();Ie={};o(yo,"_patchAssets");To=o(function(e){return Object.values(Ie).find(e)},"find"),bo=o(function(e){return Ie[e]},"getAssetByName"),xo=o(function(e){return Pt.getAssetByID(e)},"getAssetByID"),_=o(function(e){var t;return(t=Ie[e])===null||t===void 0?void 0:t.id},"getAssetIDByName")});var No={};A(No,{getLoaderConfigPath:()=>Io,getLoaderIdentity:()=>Is,getLoaderName:()=>vn,getReactDevToolsProp:()=>Co,getReactDevToolsVersion:()=>wo,getStoredTheme:()=>gn,getSysColors:()=>si,getThemeFilePath:()=>Ao,getVendettaLoaderIdentity:()=>xr,isLoaderConfigSupported:()=>pn,isPyonLoader:()=>Se,isReactDevToolsPreloaded:()=>er,isSysColorsSupported:()=>Do,isThemeSupported:()=>Re,isVendettaLoader:()=>ae});function ae(){return Ge!=null}function Se(){return vt!=null}function Ds(){if(!Se()||ae())return null;var e={name:vt.loaderName,features:{}};return pn()&&(e.features.loaderConfig=!0),Do()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return si()},configurable:!0})),Re()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){return gn()},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}function Is(){return Se()?vt:ae()?xr():null}function xr(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:Ds()}function vn(){return Se()?vt.loaderName:ae()?Ge.name:"Unknown"}function pn(){return Se()?!0:ae()?Ge.features.loaderConfig:!1}function Re(){return Se()?vt.hasThemeSupport:ae()?Ge.features.themes!=null:!1}function gn(){if(Se())return vt.storedTheme;if(ae()){var e,t=(e=Ge.features.themes)===null||e===void 0?void 0:e.prop;return t&&globalThis[t]||null}return null}function Ao(){return Se()?"pyoncord/current-theme.json":ae()?"vendetta_theme.json":null}function er(){return Se()?!1:ae()?Ge.features.devtools!=null:!1}function Co(){return er()&&ae()?Ge.features.devtools.prop:null}function wo(){return er()&&ae()?Ge.features.devtools.version:null}function Do(){return Se()?vt.isSysColorsSupported:ae()?Ge.features.syscolors!=null:!1}function si(){return Do()?Se()?vt.sysColors:ae()?Ge.features.syscolors.prop:null:null}function Io(){return Se()?"pyoncord/loader.json":ae()?"vendetta_loader.json":"loader.json"}var vt,Ge,Ne=f(()=>{"use strict";vt=globalThis.__PYON_LOADER__,Ge=globalThis.__vendetta_loader;o(ae,"isVendettaLoader");o(Se,"isPyonLoader");o(Ds,"polyfillVendettaLoaderIdentity");o(Is,"getLoaderIdentity");o(xr,"getVendettaLoaderIdentity");xr();o(vn,"getLoaderName");o(pn,"isLoaderConfigSupported");o(Re,"isThemeSupported");o(gn,"getStoredTheme");o(Ao,"getThemeFilePath");o(er,"isReactDevToolsPreloaded");o(Co,"getReactDevToolsProp");o(wo,"getReactDevToolsVersion");o(Do,"isSysColorsSupported");o(si,"getSysColors");o(Io,"getLoaderConfigPath")});function hn(){return{listeners:Object.values(Lo).reduce(function(e,t){return e[t]=new Set,e},{}),on(e,t){this.listeners[e].has(t)||this.listeners[e].add(t)},off(e,t){this.listeners[e].delete(t)},once(e,t){var r=this,n=o(function(a,i){r.off(a,n),t(a,i)},"once");this.on(e,n)},emit(e,t){for(var r of this.listeners[e])r(e,t)}}}var Lo,Oo=f(()=>{"use strict";(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Lo||(Lo={}));o(hn,"createEmitter")});var _n={};A(_n,{BundleUpdaterManager:()=>Ar,ClientInfoManager:()=>En,DeviceManager:()=>je,FileManager:()=>M,MMKVManager:()=>tt,ThemeManager:()=>Po});var Ve,tt,M,En,je,Ar,Po,$e=f(()=>{"use strict";Ve=window.nativeModuleProxy,tt=Ve.MMKVManager;M=Ve.DCDFileManager??Ve.RTNFileManager;En=Ve.InfoDictionaryManager??Ve.RTNClientInfoManager;je=Ve.DCDDeviceManager??Ve.RTNDeviceManager,{BundleUpdaterManager:Ar}=Ve,Po=Ve.RTNThemeManager??Ve.DCDTheme});var Q=Ya((Qm,ci)=>{Object.defineProperty(ci,"exports",{get:()=>globalThis.ReactNative})});var fi,ui,Bo,mi,Mo,Ye,pt,di=f(()=>{"use strict";$e();fi=X(Q()),ui=/[<>:"/\\|?*]/g,Bo=o(function(e){return fi.Platform.select({default:e,ios:M.saveFileToGallery?e:`Documents/${e}`})},"filePathFixer"),mi=o(function(e){return ui.test(e)&&(e=e.replace(ui,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`},"getMMKVPath"),Mo=o(async function(e){await tt.getItem(e)&&tt.removeItem(e);var t=mi(e);if(await M.fileExists(`${M.getConstants().DocumentsDirPath}/${t}`)){var r;await((r=M.removeFile)===null||r===void 0?void 0:r.call(M,"documents",t))}},"purgeStorage"),Ye=o(function(e,t={}){var r=mi(e),n=JSON.stringify(t);return pt(r,t,async function(){var a=`${M.getConstants().DocumentsDirPath}/${r}`;if(!await M.fileExists(a)){var i=await tt.getItem(e)??n;if(i==="!!LARGE_VALUE!!"){var l=`${M.getConstants().CacheDirPath}/mmkv/${e}`;await M.fileExists(l)?i=await M.readFile(l,"utf8"):(console.log(`${e}: Experienced data loss :(`),i=n)}try{JSON.parse(i)}catch{console.error(`${e} had an unparseable data while migrating`),i=n}await M.writeFile("documents",Bo(r),i,"utf8"),await tt.getItem(e)!==null&&(tt.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}}())},"createMMKVBackend"),pt=o(function(e,t={},r){return{get:async function(){await r;var n=`${M.getConstants().DocumentsDirPath}/${e}`;if(await M.fileExists(n)){var a=await M.readFile(n,"utf8");try{return JSON.parse(a)}catch{}}return await M.writeFile("documents",Bo(e),JSON.stringify(t),"utf8"),JSON.parse(await M.readFile(n,"utf8"))},set:async function(n){await r,await M.writeFile("documents",Bo(e),JSON.stringify(n),"utf8")}}},"createFileBackend")});var Cr={};A(Cr,{awaitSyncWrapper:()=>gt,createFileBackend:()=>pt,createMMKVBackend:()=>Ye,createProxy:()=>Sn,createStorage:()=>Le,purgeStorage:()=>Mo,useProxy:()=>F,wrapSync:()=>ze});function Sn(e={}){var t=hn();function r(n,a){return new Proxy(n,{get(i,l){if(l===vi)return t;var s=[...a,l],m=i[l];return m!=null?(t.emit("GET",{path:s,value:m}),typeof m=="object"?r(m,s):m):m},set(i,l,s){return i[l]=s,t.emit("SET",{path:[...a,l],value:s}),!0},deleteProperty(i,l){var s=delete i[l];return s&&t.emit("DEL",{path:[...a,l]}),s}})}return o(r,"createProxy"),{proxy:r(e,[]),emitter:t}}function F(e){var t=e[vi],[,r]=React.useReducer(function(n){return~n},0);return React.useEffect(function(){var n=o(function(){return r()},"listener");return t.on("SET",n),t.on("DEL",n),function(){t.off("SET",n),t.off("DEL",n)}},[]),e}async function Le(e){var t=await e.get(),{proxy:r,emitter:n}=Sn(t),a=o(function(){return e.set(r)},"handler");return n.on("SET",a),n.on("DEL",a),r}function ze(e){var t=void 0,r=[],n=o(function(a){return t?a():r.push(a)},"awaitInit");return e.then(function(a){t=a,r.forEach(function(i){return i()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(a){return[a,function(i,...l){return Reflect[a](t??i,...l)}]})),get(a,i,l){return i===pi?n:Reflect.get(t??a,i,l)}})}var vi,pi,gt,re=f(()=>{"use strict";Oo();di();vi=Symbol.for("vendetta.storage.emitter"),pi=Symbol.for("vendetta.storage.accessor");o(Sn,"createProxy");o(F,"useProxy");o(Le,"createStorage");o(ze,"wrapSync");gt=o(function(e){return new Promise(function(t){return e[pi](t)})},"awaitSyncWrapper")});var Ns,Ls,Os,Fo,gi=f(()=>{"use strict";Ns=o(function(e){return{status:"fulfilled",value:e}},"allSettledFulfill"),Ls=o(function(e){return{status:"rejected",reason:e}},"allSettledReject"),Os=o(function(e){return Promise.resolve(e).then(Ns,Ls)},"mapAllSettled"),Fo=o(function(e){return Promise.all(Array.from(e).map(Os))},"allSettled");Promise.allSettled??=Fo});var Uo={};A(Uo,{loaderConfig:()=>de,settings:()=>b});var b,de,ie=f(()=>{"use strict";Ne();re();b=ze(Le(Ye("VENDETTA_SETTINGS"))),de=ze(Le(pt(Io(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var Rn={};A(Rn,{DISCORD_SERVER:()=>ko,DISCORD_SERVER_ID:()=>Go,GITHUB:()=>Ho,HTTP_REGEX:()=>Ps,HTTP_REGEX_MULTI:()=>Dr,PLUGINS_CHANNEL_ID:()=>Vo,PROXY_PREFIX:()=>wr,THEMES_CHANNEL_ID:()=>Ir});var ko,Ho,wr,Ps,Dr,Go,Vo,Ir,tr=f(()=>{"use strict";ko="https://discord.gg/XjYgWXHb9Q",Ho="https://github.com/pyoncord",wr="https://vd-plugins.github.io/proxy",Ps=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Dr=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,Go="1015931589865246730",Vo="1091880384561684561",Ir="1091880434939482202"});var Oe,hi=f(()=>{"use strict";ht();Oe=o(function(e,t){return rr(e,t,{walkable:["props","children","child","sibling"]})},"findInReactTree")});function jo(e,t,r,n){if(!(n>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var a of e)if(!(typeof a!="object"||a===null))try{var i=jo(a,t,r,n+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var l of Object.keys(e))if(!(typeof e[l]!="object"||e[l]===null)&&!(r.walkable.length&&!r.walkable.includes(l))&&!r.ignore.includes(l))try{var s=jo(e[l],t,r,n+1);if(s)return s}catch{}}}}var rr,Ei=f(()=>{"use strict";o(jo,"treeSearch");rr=o(function(e,t,{walkable:r=[],ignore:n=[],maxDepth:a=100}={}){return jo(e,t,{walkable:r,ignore:n,maxDepth:a},0)},"findInTree")});async function rt(e,t,r=1e4){var n=await fetch(e,{signal:Bs(r),...t});if(!n.ok)throw new Error("Request returned non-ok");return n}function Bs(e){var t=new AbortController;return setTimeout(function(){return t.abort(`Timed out after ${e}ms`)},e),t.signal}var _i=f(()=>{"use strict";o(rt,"safeFetch");o(Bs,"timeoutSignal")});var yn={};A(yn,{ButtonColors:()=>le});var le,nr=f(()=>{"use strict";(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(le||(le={}))});function Nr(e,...t){var r={...e};return t.forEach(function(n){return delete r[n]}),r}var Si=f(()=>{"use strict";o(Nr,"without")});var Tn={};A(Tn,{constants:()=>Rn,createEmitter:()=>hn,findInReactTree:()=>Oe,findInTree:()=>rr,logger:()=>dn,safeFetch:()=>rt,types:()=>yn,without:()=>Nr});var ht=f(()=>{"use strict";tr();Oo();hi();Ei();Ot();_i();nr();Si()});var Or={};A(Or,{_evalPlugin:()=>Ri,_initPlugins:()=>$o,fetchPlugin:()=>Et,getSettings:()=>Lr,installPlugin:()=>nt,plugins:()=>j,removePlugin:()=>Ft,startPlugin:()=>_t,stopPlugin:()=>St});async function Et(e){e.endsWith("/")||(e+="/");var t=j[e],r;try{r=await(await rt(e+"manifest.json",{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var n;if(t?.manifest.hash!==r.hash)try{n=await(await rt(e+(r.main||"index.js"),{cache:"no-store"})).text()}catch{}if(!n&&!t)throw new Error(`Failed to fetch JS for ${e}`);j[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:n??t.js}}async function nt(e,t=!0){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in j)throw new Error("Plugin already installed");await Et(e),t&&await _t(e)}async function Ri(e){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await Le(Ye(e.id))},logger:new mn(`Bunny \xBB ${e.manifest.name}`)},r=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,n=(0,eval)(r)(t),a=typeof n=="function"?n():n;return a?.default??a??{}}async function _t(e){e.endsWith("/")||(e+="/");var t=j[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{var r;if(!(!((r=b.safeMode)===null||r===void 0)&&r.enabled)){var n,a=await Ri(t);Mt[e]=a,(n=a.onLoad)===null||n===void 0||n.call(a)}t.enabled=!0}catch(s){oe.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,s);try{var i,l;(l=Mt[t.id])===null||l===void 0||(i=l.onUnload)===null||i===void 0||i.call(l)}catch(m){oe.error(`Plugin ${t.id} errored whilst unloading`,m)}delete Mt[e],t.enabled=!1}}function St(e,t=!0){var r;e.endsWith("/")||(e+="/");var n=j[e],a=Mt[e];if(!n)throw new Error("Attempted to stop non-existent plugin");if(!(!((r=b.safeMode)===null||r===void 0)&&r.enabled)){try{var i;a==null||(i=a.onUnload)===null||i===void 0||i.call(a)}catch(l){oe.error(`Plugin ${n.id} errored whilst unloading`,l)}delete Mt[e]}t&&(n.enabled=!1)}async function Ft(e){e.endsWith("/")||(e+="/");var t=j[e];t.enabled&&St(e),delete j[e],await Mo(e)}async function $o(){var e;await gt(b),await gt(j);var t=Object.keys(j);return!((e=b.safeMode)===null||e===void 0)&&e.enabled||(await Fo(t.filter(function(r){return j[r].enabled}).map(async function(r){return j[r].update&&await Et(r).catch(function(n){return oe.error(n.message)}),await _t(r)})),t.filter(function(r){return!j[r].enabled&&j[r].update}).forEach(function(r){return Et(r)})),Ms}var j,Mt,Ms,Lr,ot=f(()=>{"use strict";gi();re();ie();ht();Ot();j=ze(Le(Ye("VENDETTA_PLUGINS"))),Mt={};o(Et,"fetchPlugin");o(nt,"installPlugin");o(Ri,"_evalPlugin");o(_t,"startPlugin");o(St,"stopPlugin");o(Ft,"removePlugin");o($o,"_initPlugins");Ms=o(function(){return Object.keys(Mt).forEach(function(e){return St(e,!1)})},"stopAllPlugins"),Lr=o(function(e){var t;return(t=Mt[e])===null||t===void 0?void 0:t.settings},"getSettings")});var Pr={};A(Pr,{_getThemeFromLoader:()=>yt,_initThemes:()=>Wo,_patchChatBackground:()=>zo,applyTheme:()=>xn,color:()=>$,fetchTheme:()=>Ut,installTheme:()=>at,removeTheme:()=>kt,selectTheme:()=>We,themes:()=>z,updateThemes:()=>bn});async function Yo(e){if(typeof e!="object")throw new Error("Theme must be an object");await pt(Ao()||"theme.json").set(e)}function zo(){var e=te("MessagesWrapperConnected",!1);if(e){var{MessagesWrapper:t}=d("MessagesWrapper");if(t){var r=[k("default",e,function(n,a){var i,l,s,m,D,I;return React.createElement(Rt.ImageBackground,{style:{flex:1,height:"100%"},source:(K==null||(l=K.data)===null||l===void 0||(i=l.background)===null||i===void 0?void 0:i.url)&&{uri:K.data.background.url}||0,blurRadius:typeof(K==null||(m=K.data)===null||m===void 0||(s=m.background)===null||s===void 0?void 0:s.blur)=="number"?K==null||(I=K.data)===null||I===void 0||(D=I.background)===null||D===void 0?void 0:D.blur:0,children:a})}),k("render",t.prototype,function(n,a){var i=Oe(a,function(l){var s;return l&&"HACK_fixModalInteraction"in l.props&&(l==null||(s=l.props)===null||s===void 0?void 0:s.style)});i?i.props.style=Object.assign(Rt.StyleSheet.flatten(i.props.style??{}),{backgroundColor:"#0000"}):oe.error("Didn't find Messages when patching MessagesWrapper!")})];return function(){return r.forEach(function(n){return n()})}}}}function xi(e){if(He.valid(e))return He(e).hex();var t=Number((0,Rt.processColor)(e));return He.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}function Us(e){if(e.semanticColors){var{semanticColors:t}=e;for(var r in t)for(var n in t[r])t[r][n]&&=xi(t[r][n])}if(e.rawColors){var{rawColors:a}=e;for(var i in a)e.rawColors[i]=xi(a[i]);Rt.Platform.OS==="android"&&ks(a)}return e}function ks(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[n,a]=t[r];e[n]&&(e[r]=He(e[n]).alpha(a).hex())}}async function Ut(e,t=!1){var r;try{r=await(await rt(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}z[e]={id:e,selected:t,data:Us(r)},t&&Yo(z[e])}async function at(e){if(typeof e!="string"||e in z)throw new Error("Theme already installed");await Ut(e)}async function We(e){if(Object.values(z).forEach(function(t){return t.selected=t.id===e}),e===null)return await Yo({});z[e].selected=!0,await Yo(z[e])}async function kt(e){var t=z[e];return t.selected&&await We(null),delete z[e],t.selected}function yt(){return gn()}async function bn(){await gt(z);var e=yt();await Promise.allSettled(Object.keys(z).map(function(t){return Ut(t,e?.id===t)}))}function Ci(e){return Gs.has(e)}function Vs(){var e=ee(function(r){var n;return r.isThemeDark&&((n=Object.getOwnPropertyDescriptor(r,"isThemeDark"))===null||n===void 0?void 0:n.value)}),t=o(function([r]){return r===ve?[ye]:void 0},"callback");Object.keys($.RawColor).forEach(function(r){Object.defineProperty($.RawColor,r,{configurable:!0,enumerable:!0,get:function(){var n,a;return ar?(K==null||(a=K.data)===null||a===void 0||(n=a.rawColors)===null||n===void 0?void 0:n[r])??Ai[r]:Ai[r]}})}),Nt("isThemeDark",e,t),Nt("isThemeLight",e,t),Nt("updateTheme",Po,t),or.addChangeListener(function(){or.theme&&(ar=or.theme===ve,or.theme!==ve&&(ye=or.theme))}),k("get",Ti,function([r],n){if(r==="SelectivelySyncedUserSettingsStore"){var a,i,l;!(n==null||(l=n._state)===null||l===void 0||(i=l.appearance)===null||i===void 0||(a=i.settings)===null||a===void 0)&&a.theme&&ar&&(n._state.appearance.settings.theme=ve)}else if(r==="ThemeStore"){var s;!(n==null||(s=n._state)===null||s===void 0)&&s.theme&&ar&&(n._state.theme=ve)}}),Nt("set",Ti,function(r){if(r[1]){var n=r[0],a=JSON.parse(JSON.stringify(r[1])),i={SelectivelySyncedUserSettingsStore:function(){var l,s,m;if(!((m=a._state)===null||m===void 0||(s=m.appearance)===null||s===void 0||(l=s.settings)===null||l===void 0)&&l.theme){var D,I,{theme:C}=((I=a._state)===null||I===void 0||(D=I.appearance)===null||D===void 0?void 0:D.settings)??{};Ci(C)?ye=C:a._state.appearance.settings.theme=ye}},ThemeStore:function(){var l;if(!((l=a._state)===null||l===void 0)&&l.theme){var{theme:s}=a._state;Ci(s)?(We("default"),ye=s):a._state.theme=ye}}};return n in i?(i[n](),[n,a]):r}}),ge("resolveSemanticColor",$.default.meta??$.default.internal,function(r,n){var a,i,l,s,m,D,I,C,U;if(!ar||!K)return n(...r);if(r[1]!==ve)return n(...r);var[P,ce]=wi(ye,r[1]),vr=ye==="midnight"?2:ye==="light"?1:0;var eo=Fs[P]??P,At=(a=((l=K.data)===null||l===void 0||(i=l.semanticColors)===null||i===void 0?void 0:i[P])??((m=K.data)===null||m===void 0||(s=m.semanticColors)===null||s===void 0?void 0:s[eo]))===null||a===void 0?void 0:a[vr];if(P==="CHAT_BACKGROUND"&&typeof((I=K.data)===null||I===void 0||(D=I.background)===null||D===void 0?void 0:D.alpha)=="number")return He(At||"black").alpha(1-K.data.background.alpha).hex();if(At)return At;var Ct=(U=K.data)===null||U===void 0||(C=U.rawColors)===null||C===void 0?void 0:C[ce.raw];return Ct?ce.opacity===1?Ct:He(Ct).alpha(ce.opacity).hex():n(...r)})}function js(e=ye){var t=or.theme.toLowerCase();return t==="darker"||t==="midnight"||t==="dark"||t==="light"?t:e}function xn(e,t,r=!0){t||(t=js()),K=e,ye=t,ve=`vd-theme-${Hs++}-${t}`,e&&($.Theme[ve.toUpperCase()]=ve,bi.DIVIDER_COLORS=new Proxy(bi.DIVIDER_COLORS,{get:function(n,a,i){return a===ve&&t?n[t]:Reflect.get(n,a,i)}}),Object.keys($.Shadow).forEach(function(n){return $.Shadow[n][ve]=$.Shadow[n][t]}),Object.keys($.SemanticColor).forEach(function(n){var a,i,l;$.SemanticColor[n][ve]={...$.SemanticColor[n][t],override:e==null||(l=e.data)===null||l===void 0||(i=l.semanticColors)===null||i===void 0||(a=i[n])===null||a===void 0?void 0:a[0]}})),r&&(yi.setShouldSyncAppearanceSettings(!1),yi.updateTheme(e?ve:t))}async function Wo(){var e=yt();ar=!!e,Vs(),xn(e,ye,!1),bn().catch(function(t){return console.error("Failed to update themes",t)})}function wi(e,t){var r=t[wi._sym??=Object.getOwnPropertySymbols(t)[0]],n=$.SemanticColor[r];return[r,n[e]]}var Rt,$,yi,Ti,or,bi,z,Fs,Ai,Hs,ve,ye,ar,K,Gs,Ke=f(()=>{"use strict";Ne();$e();fe();re();ht();Ot();B();Y();Rt=X(Q());$=d("SemanticColor"),yi=d("updateTheme"),Ti=d("storage"),or=ft("ThemeStore"),bi=d("DIVIDER_COLORS"),z=ze(Le(Ye("VENDETTA_THEMES"))),Fs={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};o(Yo,"writeTheme");o(zo,"_patchChatBackground");o(xi,"normalizeToHex");o(Us,"processData");o(ks,"applyAndroidAlphaKeys");o(Ut,"fetchTheme");o(at,"installTheme");o(We,"selectTheme");o(kt,"removeTheme");o(yt,"_getThemeFromLoader");o(bn,"updateThemes");Ai={...$.RawColor},Hs=0,ve="vd-theme",ye="darker",ar=!1,Gs=new Set(["darker","midnight","dark","light"]);o(Ci,"isDiscordTheme");o(Vs,"patchColor");o(js,"getDefaultFallbackTheme");o(xn,"applyTheme");o(Wo,"_initThemes");o(wi,"extractInfo")});var Ko={};A(Ko,{common:()=>Tr,filters:()=>_r,find:()=>ee,findAll:()=>ut,findByDisplayName:()=>Zt,findByDisplayNameAll:()=>cn,findByName:()=>te,findByNameAll:()=>sn,findByProps:()=>d,findByPropsAll:()=>ln,findByStoreName:()=>ft,findByTypeName:()=>un,findByTypeNameAll:()=>fn,modules:()=>Er});var ir=f(()=>{"use strict";B();Y();Y()});var Qo={};A(Qo,{Form:()=>$s,FormArrow:()=>Ys,FormCTA:()=>zs,FormCTAButton:()=>Ws,FormCardSection:()=>Ks,FormCheckbox:()=>Xs,FormCheckboxRow:()=>Js,FormCheckmark:()=>Zs,FormDivider:()=>Xo,FormHint:()=>Qs,FormIcon:()=>Jo,FormInput:()=>Zo,FormLabel:()=>qs,FormRadio:()=>ec,FormRadioGroup:()=>tc,FormRadioRow:()=>rc,FormRow:()=>Te,FormSection:()=>Cn,FormSelect:()=>nc,FormSliderRow:()=>oc,FormSubLabel:()=>ac,FormSwitch:()=>ic,FormSwitchRow:()=>lc,FormTernaryCheckBox:()=>sc,FormText:()=>Ht,FormTitle:()=>cc,Forms:()=>An});var An,$s,Ys,zs,Ws,Ks,Xs,Js,Zs,Xo,Qs,Jo,Zo,qs,ec,tc,rc,Te,Cn,nc,oc,ac,ic,lc,sc,Ht,cc,be=f(()=>{"use strict";ir();An=d("Form","FormSection"),{Form:$s,FormArrow:Ys,FormCTA:zs,FormCTAButton:Ws,FormCardSection:Ks,FormCheckbox:Xs,FormCheckboxRow:Js,FormCheckmark:Zs,FormDivider:Xo,FormHint:Qs,FormIcon:Jo,FormInput:Zo,FormLabel:qs,FormRadio:ec,FormRadioGroup:tc,FormRadioRow:rc,FormRow:Te,FormSection:Cn,FormSelect:nc,FormSliderRow:oc,FormSubLabel:ac,FormSwitch:ic,FormSwitchRow:lc,FormTernaryCheckBox:sc,FormText:Ht,FormTitle:cc}=An});var oa={};A(oa,{AccessibilityAnnouncer:()=>Mu,AccessibilityPreferencesContext:()=>Fu,AccessibilityView:()=>Uu,AccessibilityViewAnimated:()=>ku,ActionSheet:()=>Hu,ActionSheetCloseButton:()=>Gu,ActionSheetContentContainer:()=>Vu,ActionSheetIconHeader:()=>ju,ActionSheetPresenter:()=>$u,ActionSheetRow:()=>Yu,ActionSheetSwitchRow:()=>zu,ActionSheetTitleHeader:()=>Wu,AlertActionButton:()=>fc,AlertModal:()=>mc,AlertModalContainer:()=>dc,AnimatedEnterExitItem:()=>Ku,AvatarDuoPile:()=>vc,AvatarPile:()=>pc,Backdrop:()=>gc,BottomSheetTextInput:()=>Xu,Button:()=>ra,Card:()=>hc,CompatfulRedesign:()=>Gt,ContextMenu:()=>Ec,ContextMenuContainer:()=>_c,Dialog:()=>Ju,DisableCustomTheme:()=>Zu,FauxHeader:()=>Sc,FloatingActionButton:()=>Rc,FormCheckbox:()=>ta,FormRadio:()=>uc,FormSwitch:()=>ea,GhostInput:()=>yc,GuildIconPile:()=>Tc,HeaderActionButton:()=>bc,HeaderButton:()=>xc,HeaderSubmittingIndicator:()=>Ac,IconButton:()=>wn,Input:()=>Cc,InputButton:()=>wc,InputContainer:()=>Dc,LayerContext:()=>Ic,LayerScope:()=>Nc,Menu:()=>Qu,MenuGroup:()=>qu,MenuItem:()=>ef,MenuPopout:()=>tf,Modal:()=>Lc,ModalActionButton:()=>Oc,ModalContent:()=>Pc,ModalDisclaimer:()=>Bc,ModalFloatingAction:()=>Mc,ModalFloatingActionSpacer:()=>Fc,ModalFooter:()=>Uc,ModalScreen:()=>kc,ModalStepIndicator:()=>Hc,Navigator:()=>Gc,NavigatorHeader:()=>Vc,NavigatorScreen:()=>jc,Pile:()=>$c,PileOverflow:()=>Yc,Redesign:()=>Di,RedesignCompat:()=>zc,RedesignCompatContext:()=>Wc,RootThemeContextProvider:()=>rf,RowButton:()=>Kc,SceneLoadingIndicator:()=>Xc,SearchField:()=>Jc,SegmentedControl:()=>Zc,SegmentedControlPages:()=>Qc,SimpleActionSheet:()=>nf,Slider:()=>qc,Stack:()=>Vt,StepModal:()=>eu,StickyContext:()=>tu,StickyHeader:()=>ru,StickyWrapper:()=>nu,TableCheckboxRow:()=>ou,TableRadioGroup:()=>au,TableRadioRow:()=>iu,TableRow:()=>x,TableRowGroup:()=>xe,TableRowGroupTitle:()=>lu,TableRowIcon:()=>su,TableSwitchRow:()=>lr,Tabs:()=>cu,Text:()=>of,TextArea:()=>uu,TextField:()=>fu,TextInput:()=>sr,TextStyleSheet:()=>af,ThemeContextFlags:()=>lf,ThemeContextForLegacyStyles:()=>sf,ThemeContextProvider:()=>cf,Toast:()=>mu,TransitionGroup:()=>uf,TransitionItem:()=>ff,TransitionStates:()=>mf,UseThemeContext:()=>df,WCAGContrastRatios:()=>vf,createLegacyClassComponentStyles:()=>pf,createNativeStyleProperties:()=>gf,createStyleProperties:()=>hf,createStyles:()=>Ef,darkenColor:()=>_f,dismissAlerts:()=>du,experimental_createToken:()=>Sf,getContrastingColor:()=>Rf,getHeaderBackButton:()=>vu,getHeaderCloseButton:()=>pu,getHeaderConditionalBackButton:()=>gu,getHeaderNoTitle:()=>hu,getHeaderTextButton:()=>Eu,getSemanticColorContextFromThemeContext:()=>yf,hasThemeFlag:()=>Tf,hideContextMenu:()=>_u,navigatorShouldCrossfade:()=>Su,openAlert:()=>Ru,setColorOpacity:()=>bf,setThemeFlag:()=>xf,showSimpleActionSheet:()=>Af,useAccessibilityNativeStackOptions:()=>yu,useAndroidNavScrim:()=>Tu,useCoachmark:()=>bu,useFloatingActionButtonScroll:()=>xu,useFloatingActionButtonState:()=>Au,useLegacyClassComponentStyles:()=>Cf,useNativeStackNavigation:()=>Cu,useNavigation:()=>na,useNavigationTheme:()=>wu,useNavigatorBackPressHandler:()=>Du,useNavigatorScreens:()=>Iu,useNavigatorShouldCrossfade:()=>Nu,useSegmentedControlState:()=>Lu,useStackNavigation:()=>Ou,useTabNavigation:()=>Pu,useThemeContext:()=>wf,useToken:()=>Df,useTooltip:()=>Bu});var qo,Di,Gt,ea,uc,ta,fc,mc,dc,vc,pc,gc,ra,hc,Ec,_c,Sc,Rc,yc,Tc,bc,xc,Ac,wn,Cc,wc,Dc,Ic,Nc,Lc,Oc,Pc,Bc,Mc,Fc,Uc,kc,Hc,Gc,Vc,jc,$c,Yc,zc,Wc,Kc,Xc,Jc,Zc,Qc,qc,Vt,eu,tu,ru,nu,ou,au,iu,x,xe,lu,su,lr,cu,uu,fu,sr,mu,du,vu,pu,gu,hu,Eu,_u,Su,Ru,yu,Tu,bu,xu,Au,Cu,na,wu,Du,Iu,Nu,Lu,Ou,Pu,Bu,Mu,Fu,Uu,ku,Hu,Gu,Vu,ju,$u,Yu,zu,Wu,Ku,Xu,Ju,Zu,Qu,qu,ef,tf,rf,nf,of,af,lf,sf,cf,uf,ff,mf,df,vf,pf,gf,hf,Ef,_f,Sf,Rf,yf,Tf,bf,xf,Af,Cf,wf,Df,Ae=f(()=>{"use strict";ir();qo=o(function(e){var t;return(t=ee(function(r){return r[e]&&Object.keys(r).length===1}))===null||t===void 0?void 0:t[e]},"findSingular"),Di=d("TableRow"),Gt=d("ActionSheetRow"),ea=qo("FormSwitch"),uc=qo("FormRadio"),ta=qo("FormCheckbox"),{AlertActionButton:fc,AlertModal:mc,AlertModalContainer:dc,AvatarDuoPile:vc,AvatarPile:pc,Backdrop:gc,Button:ra,Card:hc,ContextMenu:Ec,ContextMenuContainer:_c,FauxHeader:Sc,FloatingActionButton:Rc,GhostInput:yc,GuildIconPile:Tc,HeaderActionButton:bc,HeaderButton:xc,HeaderSubmittingIndicator:Ac,IconButton:wn,Input:Cc,InputButton:wc,InputContainer:Dc,LayerContext:Ic,LayerScope:Nc,Modal:Lc,ModalActionButton:Oc,ModalContent:Pc,ModalDisclaimer:Bc,ModalFloatingAction:Mc,ModalFloatingActionSpacer:Fc,ModalFooter:Uc,ModalScreen:kc,ModalStepIndicator:Hc,Navigator:Gc,NavigatorHeader:Vc,NavigatorScreen:jc,Pile:$c,PileOverflow:Yc,RedesignCompat:zc,RedesignCompatContext:Wc,RowButton:Kc,SceneLoadingIndicator:Xc,SearchField:Jc,SegmentedControl:Zc,SegmentedControlPages:Qc,Slider:qc,Stack:Vt,StepModal:eu,StickyContext:tu,StickyHeader:ru,StickyWrapper:nu,TableCheckboxRow:ou,TableRadioGroup:au,TableRadioRow:iu,TableRow:x,TableRowGroup:xe,TableRowGroupTitle:lu,TableRowIcon:su,TableSwitchRow:lr,Tabs:cu,TextArea:uu,TextField:fu,TextInput:sr,Toast:mu,dismissAlerts:du,getHeaderBackButton:vu,getHeaderCloseButton:pu,getHeaderConditionalBackButton:gu,getHeaderNoTitle:hu,getHeaderTextButton:Eu,hideContextMenu:_u,navigatorShouldCrossfade:Su,openAlert:Ru,useAccessibilityNativeStackOptions:yu,useAndroidNavScrim:Tu,useCoachmark:bu,useFloatingActionButtonScroll:xu,useFloatingActionButtonState:Au,useNativeStackNavigation:Cu,useNavigation:na,useNavigationTheme:wu,useNavigatorBackPressHandler:Du,useNavigatorScreens:Iu,useNavigatorShouldCrossfade:Nu,useSegmentedControlState:Lu,useStackNavigation:Ou,useTabNavigation:Pu,useTooltip:Bu}=Di,{AccessibilityAnnouncer:Mu,AccessibilityPreferencesContext:Fu,AccessibilityView:Uu,AccessibilityViewAnimated:ku,ActionSheet:Hu,ActionSheetCloseButton:Gu,ActionSheetContentContainer:Vu,ActionSheetIconHeader:ju,ActionSheetPresenter:$u,ActionSheetRow:Yu,ActionSheetSwitchRow:zu,ActionSheetTitleHeader:Wu,AnimatedEnterExitItem:Ku,BottomSheetTextInput:Xu,Dialog:Ju,DisableCustomTheme:Zu,Menu:Qu,MenuGroup:qu,MenuItem:ef,MenuPopout:tf,RootThemeContextProvider:rf,SimpleActionSheet:nf,Text:of,TextStyleSheet:af,ThemeContextFlags:lf,ThemeContextForLegacyStyles:sf,ThemeContextProvider:cf,TransitionGroup:uf,TransitionItem:ff,TransitionStates:mf,UseThemeContext:df,WCAGContrastRatios:vf,createLegacyClassComponentStyles:pf,createNativeStyleProperties:gf,createStyleProperties:hf,createStyles:Ef,darkenColor:_f,experimental_createToken:Sf,getContrastingColor:Rf,getSemanticColorContextFromThemeContext:yf,hasThemeFlag:Tf,setColorOpacity:bf,setThemeFlag:xf,showSimpleActionSheet:Af,useLegacyClassComponentStyles:Cf,useThemeContext:wf,useToken:Df}=Gt});var Tt={};A(Tt,{Alert:()=>aa,Button:()=>Xe,Forms:()=>Qo,HelpMessage:()=>ia,Redesign:()=>oa,SafeAreaView:()=>la});var aa,Xe,ia,la,jt=f(()=>{"use strict";Y();be();Ae();aa=Zt("FluxContainer(Alert)"),Xe=d("Looks","Colors","Sizes"),ia=te("HelpMessage"),la=d("useSafeAreaInsets").SafeAreaView});var Br={};A(Br,{isSemanticColor:()=>fa,rawColors:()=>ua,resolveSemanticColor:()=>ma,semanticColors:()=>W});function fa(e){return Ii.isSemanticColor(e)}function ma(e,t=If.theme){return Ii.resolveSemanticColor(t,e)}var sa,ca,W,ua,If,Ii,bt=f(()=>{"use strict";Ke();Y();B();W=($===null||$===void 0||(sa=$.default)===null||sa===void 0?void 0:sa.colors)??(he===null||he===void 0?void 0:he.ThemeColorMap),ua=($===null||$===void 0||(ca=$.default)===null||ca===void 0?void 0:ca.unsafe_rawColors)??(he===null||he===void 0?void 0:he.Colors),If=ft("ThemeStore"),Ii=$.default.internal??=$.default.meta;o(fa,"isSemanticColor");o(ma,"resolveSemanticColor")});var Dn={};A(Dn,{TextStyleSheet:()=>Je,createStyles:()=>$t,createThemedStyleSheet:()=>Yt});function $t(e){return Gt.createStyles(e)}function Yt(e){for(var t in e)e[t]=new Proxy(Ni.StyleSheet.flatten(e[t]),{get(r,n,a){var i=Reflect.get(r,n,a);return fa(i)?ma(i):i}});return e}var Ni,Je,xt=f(()=>{"use strict";bt();Ae();Ni=X(Q()),{TextStyleSheet:Je}=Gt;o($t,"createStyles");o(Yt,"createThemedStyleSheet")});function Pe({selectable:e,style:t,children:r}){return e?cr.Platform.select({ios:React.createElement(Nf,{style:t,children:r}),default:React.createElement(Li,{style:t,children:r,selectable:!0})}):React.createElement(Li,{style:t,children:r})}var cr,Oi,Nf,Li,Pi=f(()=>{"use strict";B();bt();xt();cr=X(Q()),Oi=$t({codeBlock:{fontFamily:he.Fonts.CODE_SEMIBOLD,fontSize:12,textAlignVertical:"center",backgroundColor:W.BACKGROUND_SECONDARY,color:W.TEXT_NORMAL,borderWidth:1,borderRadius:4,borderColor:W.BACKGROUND_TERTIARY,padding:10}}),Nf=o(function({style:e,children:t}){return React.createElement(cr.TextInput,{editable:!1,multiline:!0,style:[Oi().codeBlock,e&&e],value:t})},"InputBasedCodeblock"),Li=o(function({selectable:e,style:t,children:r}){return React.createElement(cr.Text,{selectable:e,style:[Oi().codeBlock,t&&t]},r)},"TextBasedCodeblock");o(Pe,"Codeblock")});function da(e){var t=React.useRef(null);return React.useEffect(function(){var r,n,a;if(zt.Platform.OS==="android"){var i=(a=t.current)===null||a===void 0||(n=a._children)===null||n===void 0||(r=n[0])===null||r===void 0?void 0:r._nativeTag;return function(){if(i)var l=ge("setAccessibilityFocus",zt.AccessibilityInfo,function([s],m){if(s!==i)return m.apply(zt.AccessibilityInfo,[s]);l()})}}},[]),React.createElement(zt.View,{ref:t},React.createElement(Lf,e))}var zt,Lf,Bi=f(()=>{"use strict";fe();Y();zt=X(Q()),{ContextMenu:Lf}=d("ContextMenu");o(da,"ContextMenu")});function Mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Fi=f(()=>{o(Mi,"_class_call_check")});function Ui(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ki(e,t,r){return t&&Ui(e.prototype,t),r&&Ui(e,r),e}var Hi=f(()=>{o(Ui,"_defineProperties");o(ki,"_create_class")});function Gi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vi=f(()=>{o(Gi,"_define_property")});function In(e,t){return In=Object.setPrototypeOf||o(function(n,a){return n.__proto__=a,n},"setPrototypeOf"),In(e,t)}var ji=f(()=>{o(In,"_set_prototype_of")});function $i(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}var Yi=f(()=>{ji();o($i,"_inherits")});function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"getPrototypeOf"),Mr(e)}var zi=f(()=>{o(Mr,"_get_prototype_of")});function Wi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ki=f(()=>{o(Wi,"_is_native_reflect_construct")});function Xi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ji=f(()=>{o(Xi,"_assert_this_initialized")});function Zi(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var Qi=f(()=>{o(Zi,"_type_of")});function qi(e,t){return t&&(Zi(t)==="object"||typeof t=="function")?t:Xi(e)}var el=f(()=>{Ji();Qi();o(qi,"_possible_constructor_return")});function tl(e){var t=Wi();return o(function(){var n=Mr(e),a;if(t){var i=Mr(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return qi(this,a)},"_createSuperInternal")}var rl=f(()=>{zi();Ki();el();o(tl,"_create_super")});var va,nl,Of,q,pa=f(()=>{"use strict";Fi();Hi();Vi();Yi();rl();J();B();Ze();jt();be();xt();va=X(Q()),nl=Yt({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),q=function(e){"use strict";$i(r,e);var t=tl(r);function r(n){Mi(this,r);var a;return a=t.call(this,n),a.state={hasErr:!1},a}return o(r,"ErrorBoundary"),ki(r,[{key:"render",value:o(function(){var a=this;return this.state.hasErr?_e.createElement(va.ScrollView,{style:nl.view},_e.createElement(Ht,{style:nl.title},c.UH_OH),_e.createElement(Pe,{selectable:!0,style:{marginBottom:5}},this.state.error.name),_e.createElement(Pe,{selectable:!0,style:{marginBottom:5}},this.state.error.message),this.state.error.stack&&_e.createElement(va.ScrollView,{style:{maxHeight:420,marginBottom:5}},_e.createElement(Pe,{selectable:!0},this.state.error.stack)),_e.createElement(Xe,{color:Xe.Colors.RED,size:Xe.Sizes.MEDIUM,look:Xe.Looks.FILLED,onPress:function(){return a.setState({hasErr:!1})},text:c.RETRY})):this.props.children},"render")}]),r}(Of=_e.Component);Gi(q,"getDerivedStateFromError",function(e){return{hasErr:!0,error:e}})});function Pf(){return React.createElement(Nn.Image,{style:{transform:[{scale:.8}]},source:_("search")})}function it({onChangeText:e,placeholder:t,style:r}){var[n,a]=React.useState(""),i=o(function(l){a(l),e?.(l)},"onChange");return React.createElement(q,null,React.createElement(Nn.View,{style:r},React.createElement(sr,{grow:!0,isClearable:!0,leadingIcon:Pf,placeholder:t??c.SEARCH,onChange:i,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:n})))}var Nn,ol=f(()=>{"use strict";J();Z();Ae();pa();Nn=X(Q());o(Pf,"SearchIcon");o(it,"default")});function Ur({label:e,icon:t,noPadding:r=!1,noAnimation:n=!1,children:a}){var[i,l]=React.useState(!0);return React.createElement(React.Fragment,null,React.createElement(x,{label:e,icon:t&&React.createElement(x.Icon,{source:_(t)}),trailing:React.createElement(Te.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:function(){l(!i),n||Fr.LayoutAnimation.configureNext(Fr.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&React.createElement(React.Fragment,null,React.createElement(Fr.View,{style:!r&&{paddingHorizontal:15}},a)))}var Fr,al=f(()=>{"use strict";Z();be();Ae();Fr=X(Q());o(Ur,"Summary")});var kr={};A(kr,{Codeblock:()=>Pe,ContextMenu:()=>da,ErrorBoundary:()=>q,Search:()=>it,Summary:()=>Ur,discord:()=>Tt});var Ze=f(()=>{"use strict";jt();Pi();Bi();pa();ol();al()});var Hr={};A(Hr,{showToast:()=>N});var ga,Bf,N,Qe=f(()=>{"use strict";J();Z();B();Y();ga=X(Q()),{uuid4:Bf}=d("uuid4"),N=o(function(e,t){return Rr.open({key:`vd-toast-${Bf()}`,content:e,source:t,icon:t})},"showToast");N.showCopyToClipboard=function(e=c.COPIED_TO_CLIPBOARD){(ga.Platform.OS!=="android"||ga.Platform.Version<=32)&&N(e,_("toast_copy_link"))}});function Uf(e,t=null,r=!1){var n,a;if(e.guild_id===Go){var i;if(e.parent_id===Vo)i="Plugin";else if(e.parent_id===Ir&&Re())i="Theme";else return;var{firstMessage:l}=r?Mf(e):{firstMessage:t},s=l==null||(a=l.content)===null||a===void 0||(n=a.match(Dr))===null||n===void 0?void 0:n.filter(Gr[i].urlsFilter);if(!(!s||!s[0]))return i==="Plugin"&&!s[0].endsWith("/")&&(s[0]+="/"),[i,s[0]]}}function kf(e,t=null,r=!1){var[n,a]=Uf(e,t,r)??[];F(j),F(z);var[i,l]=React.useState(!1);if(!n||!a)return[!0];var s=!!Gr[n].storage[a],m=o(async function(){l(!0);try{await Gr[n].installOrRemove(a)}catch(D){N(D.message,_("Small"))}finally{l(!1)}},"installOrRemove");return[!1,n,s,i,m]}function ha(){var e=[Hf()];return function(){return e.map(function(t){return t()})}}var Mf,Ff,Gr,Hf,il=f(()=>{"use strict";J();Z();Ne();fe();re();ot();Ke();Ze();Ae();tr();Y();Qe();({useFirstForumPostMessage:Mf}=d("useFirstForumPostMessage")),Ff=d("MostCommonForumPostReaction"),Gr={Plugin:{storage:j,urlsFilter:function(e){return e.startsWith(wr)},installOrRemove:function(e){var t=Gr.Plugin.storage[e];return t?Ft(e):nt(e)}},Theme:{storage:z,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){var t=Gr.Theme.storage[e];return t?kt(e):at(e)}}};o(Uf,"useExtractThreadContent");o(kf,"useInstaller");Hf=o(function(){return k("MostCommonForumPostReaction",Ff,function([{thread:e,firstMessage:t}],r){var[n,a,i,l,s]=kf(e,t,!0);if(!n)return React.createElement(React.Fragment,null,r,React.createElement(q,null,React.createElement(ra,{size:"sm",loading:l,disabled:l,variant:i?"secondary":"primary",text:i?c.UNINSTALL:c.INSTALL,onPress:s,icon:_(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})))})},"installButtonPatch");o(ha,"default")});function Ea({title:e,confirmText:t,confirmColor:r,onConfirm:n,cancelText:a,placeholder:i,initialValue:l="",secureTextEntry:s}){var[m,D]=React.useState(l),[I,C]=React.useState("");function U(){var P=Promise.resolve(n(m));P.then(function(){ll.close()}).catch(function(ce){C(ce.message)})}return o(U,"onConfirmWrapper"),React.createElement(aa,{title:e,confirmText:t,confirmColor:r,isConfirmButtonDisabled:I.length!==0,onConfirm:U,cancelText:a,onCancel:function(){return ll.close()}},React.createElement(Zo,{placeholder:i,value:m,onChange:function(P){D(typeof P=="string"?P:P.text),I&&C("")},returnKeyType:"done",onSubmitEditing:U,error:I||void 0,secureTextEntry:s,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}}))}var ll,sl=f(()=>{"use strict";Y();jt();be();ll=d("openLazy","close");o(Ea,"InputAlert")});var jr={};A(jr,{showConfirmationAlert:()=>Be,showCustomAlert:()=>Ln,showInputAlert:()=>Vr});function Be(e){var t=e;return t.body=e.content,delete t.content,t.isDismissable??=!0,cl.show(t)}var cl,Ln,Vr,Wt=f(()=>{"use strict";Y();sl();cl=d("openLazy","close");o(Be,"showConfirmationAlert");Ln=o(function(e,t){return cl.openLazy({importer:async function(){return function(){return React.createElement(e,t)}}})},"showCustomAlert"),Vr=o(function(e){return Ln(Ea,e)},"showInputAlert")});function ul(e){if(e.startsWith(wr))return"plugin";if(e.endsWith(".json")&&Re())return"theme"}function fl(e,t){(e==="plugin"?nt:at)(t).then(function(){N(c.SUCCESSFULLY_INSTALLED,_("Check"))}).catch(function(r){N(r.message,_("Small"))})}function _a(){var e=new Array;return e.push(k("showSimpleActionSheet",Gf,function(t){if(t[0].key==="LongPressUrl"){var{header:{title:r},options:n}=t[0],a=ul(r);a&&n.push({label:c.INSTALL_ADDON,onPress:function(){return fl(a,r)}})}})),e.push(ge("handleClick",Vf,async function(t,r){var n,{href:a}=t[0],i=ul(a);if(!i)return r.apply(this,t);if(i==="theme"&&((n=Yf($f()))===null||n===void 0?void 0:n.parent_id)!==Ir)return r.apply(this,t);Be({title:c.HOLD_UP,content:De("CONFIRMATION_LINK_IS_A_TYPE",{urlType:i}),onConfirm:function(){return fl(i,a)},confirmText:c.INSTALL,cancelText:c.CANCEL,secondaryConfirmText:c.OPEN_IN_BROWSER,onConfirmSecondary:function(){return jf(a)}})})),function(){return e.forEach(function(t){return t()})}}var Gf,Vf,jf,$f,Yf,ml=f(()=>{"use strict";J();Z();Ne();fe();ot();Ke();tr();B();Y();Wt();Qe();Gf=ee(function(e){var t;return e?.showSimpleActionSheet&&!(!((t=Object.getOwnPropertyDescriptor(e,"showSimpleActionSheet"))===null||t===void 0)&&t.get)}),Vf=d("handleClick"),{openURL:jf}=dt,{getChannelId:$f}=Sr,{getChannel:Yf}=d("getChannel");o(ul,"typeFromUrl");o(fl,"installWithToast");o(_a,"default")});var vl={};A(vl,{default:()=>dl});function dl(){var e=new Array;return e.push(ha()),e.push(_a()),function(){return e.forEach(function(t){return t()})}}var pl=f(()=>{"use strict";il();ml();o(dl,"onLoad")});function gl(){var e=[(pl(),tn(vl))].map(function(t){return t.default()});return function(){return e.forEach(function(t){return typeof t=="function"&&t()})}}var hl=f(()=>{"use strict";o(gl,"initCorePlugins")});function Pn(e,t,r,n,a){return async function(){if(e)return void e();var i=await r().then(function(l){return l.default});typeof n=="string"&&(n={title:n}),t??=zf.getRootNavigationRef(),t.navigate("VendettaCustomPage",{...n,render:function(){return React.createElement(i,a)}})}}var zf,On,Sa=f(()=>{"use strict";B();Y();Ze();zf=d("getRootNavigationRef"),On=React.memo(function(){var e=Ee.useNavigation(),t=Ee.useRoute(),{render:r,...n}=t.params;return React.useEffect(function(){return void e.setOptions({...n})},[]),React.createElement(q,null,React.createElement(r,null))});o(Pn,"wrapOnPress")});function Wf(){var e=Ee.useNavigation();return React.createElement(React.Fragment,null,Object.keys(qe).map(function(t){return React.createElement(Cn,{key:t,title:t},qe[t].filter(function(r){var n;return((n=r.usePredicate)===null||n===void 0?void 0:n.call(r))??!0}).map(function(r){return React.createElement(Te,{label:r.title(),leading:React.createElement(Jo,{source:r.icon}),trailing:Te.Arrow,onPress:Pn(r.onPress,e,r.render,r.title())})}))}))}function El(e){e.push(k("default",te("getScreens",!1),function(r,n){return{...n,VendettaCustomPage:{title:"Bnuuy",render:function(){return React.createElement(On,null)}}}}));var t=k("default",te("UserSettingsOverviewWrapper",!1),function(r,n){var a=Oe(n.props.children,function(i){var l;return((l=i.type)===null||l===void 0?void 0:l.name)==="UserSettingsOverview"});e.push(k("renderSupportAndAcknowledgements",a.type.prototype,function(i,{props:{children:l}}){var s=l.findIndex(function(m){var D;return(m==null||(D=m.type)===null||D===void 0?void 0:D.name)==="UploadLogsButton"});s!==-1&&l.splice(s,1)})),e.push(k("render",a.type.prototype,function(i,l){var s=[mt.Messages.BILLING_SETTINGS,mt.Messages.PREMIUM_SETTINGS],m=Oe(l.props.children,function(I){var C,U;return(I==null||(U=I.children)===null||U===void 0||(C=U[1])===null||C===void 0?void 0:C.type)===Cn}).children,D=m.findIndex(function(I){return s.includes(I?.props.label)});m.splice(-~D||4,0,React.createElement(Wf,null))}))},!0);e.push(t)}var _l=f(()=>{"use strict";ir();B();be();ur();ht();Jt();Sa();o(Wf,"SettingsSection");o(El,"patchPanelUI")});function Xf(){var e=!1;return React.useEffect(function(){return void(e=!0)},[]),e}function Sl(e){$r.SETTING_RENDERER_CONFIG.VendettaCustomPage={type:"route",title:function(){return"Bnuuy"},screen:{route:"VendettaCustomPage",getComponent:function(){return On}}};var t=o(function(){return Object.values(qe).flatMap(function(n){return n.map(function(a){return{[a.key]:{type:"pressable",title:a.title(),icon:a.icon,usePredicate:a.usePredicate,onPress:Pn(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}})}).reduce(function(n,a){return Object.assign(n,a)})},"getRows"),r=$r.SETTING_RENDERER_CONFIG;$r.SETTING_RENDERER_CONFIG=new Proxy(r,{get:function(n,a,i){return Reflect.get({...n,...t()},a,i)},getOwnPropertyDescriptor:function(n,a){return Reflect.getOwnPropertyDescriptor({...n,...t()},a)},ownKeys:function(n){return[...Reflect.ownKeys(n),...Object.keys(t())]}}),e.push(function(){$r.SETTING_RENDERER_CONFIG=r,delete $r.SETTING_RENDERER_CONFIG.VendettaCustomPage}),e.push(k("default",Kf,function(n,a){if(!Xf()){var{sections:i}=Oe(a,function(s){var m;return(m=s.props)===null||m===void 0?void 0:m.sections}).props,l=-~i.findIndex(function(s){return s.label===mt.Messages.ACCOUNT_SETTINGS})||1;Object.keys(qe).forEach(function(s){i.splice(l++,0,{label:s,settings:qe[s].map(function(m){return m.key})})})}}))}var $r,Kf,Rl=f(()=>{"use strict";ir();B();ur();ht();Jt();Sa();$r=d("SETTING_RENDERER_CONFIG"),Kf=te("SettingsOverviewScreen",!1);o(Xf,"useIsFirstRender");o(Sl,"patchTabsUI")});var Bn={};A(Bn,{_patchSettings:()=>ya,registerSection:()=>Ra,registeredSections:()=>qe});function Ra(e){return qe[e.name]=e.items,function(){return delete qe[e.name]}}function ya(){var e=new Array;return El(e),Sl(e),function(){return e.forEach(function(t){return t()})}}var qe,ur=f(()=>{"use strict";_l();Rl();qe={};o(Ra,"registerSection");o(ya,"_patchSettings")});var Tl,yl=f(()=>{Tl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA+CAYAAACbQR1vAAAAAXNSR0IArs4c6QAAAuRJREFUaEPtmjFuFTEQhudPCiqEgtIhuAAUVDQUyR0QFRU3gZtwAMQdQHSIAiUNZShSAaKgoMrAPmVXu479PF7PeNdrXvts7/zf/DO29z3Qyj7MzOOQAMAyRNPFUwN3xffzLSFUAaADYQWhGgBWEP4DSK1Ty/GhHmDZFKtygEUZqALwZPA3gNtS10gcQERvALyUrhkbpwYgFryki8fWsNgWiwGQBN8EgGsQDODAtWdLAHba3bKQAiCiLwAex+pb8r1mCZwT0UPJQ90xPYgEAGonQzUAnagUAT4IKfMlTVWSDFUAuRAkAUuaadI6KYOlY1MyKV0zVDZz5w8gcxcIzbeGsNoSGAOxhFAFAMueUA0AQwgHACavz+aUs/ouULAnHAK4miN6PKcYAAMnnAD4UBUAZQiv/vWB19UBUIRwCeBelQAUIWTfCYr2ADdbiueEtwCez3HD0gB+EtHRnMB9c+acDZYGkL2P594RFgOgaH+fGa4AHEqctQgAY/GDbklJFAdgJP4HgGNm7vpJ11fEEIoBYOZbRPRHYsvEMZ8APNl3C93nhCIAjLK+0+wT53teCIIpAEvhfcalAEKwggCug/9KRC8AfJbYkpnPiOiRZKzmmDGEGHQX2AQAM/8iojuawa1trSCAGLm1CcmJZwxhcEDTAFoS7zbDnQNaAuDtAa0A8G2ZvQO6ravbwjb9CQJoqQxi5wD1+7nHUu8BnOZajZnvE9G31HX2Ath3oUh9UMqNLGftOTF7zwFuELmNUXIX1xLuWycS//DCxHsXYOanRPRxToBLC5fC6OMMAUjuBWsUHnN1F3M2gBqEe0B0/2U69wJg5gsiehCzf43CfZpuOEDS/LYifncviNXJEttZzH2a37svRILNb0tZnyRVcpDYqvgbJeCp/3cAnmlabm1rBd8IbTnr3hIYZ78V8ZMS6AG0JH4A0Kr4CYDWMt/3ATDzMYDva+vOpeLpANwFMPlJudTD1/CcvynvVk7pHrbOAAAAAElFTkSuQmCC"});var Fn={};A(Fn,{_patchLogHook:()=>Ta,_toggleSafeMode:()=>Yr,_versionHash:()=>Kt,connectToDebugger:()=>zr,getDebugInfo:()=>lt,socket:()=>se});async function Yr(){var e;if(b.safeMode={...b.safeMode,enabled:!(!((e=b.safeMode)===null||e===void 0)&&e.enabled)},Re()){var t,r,n;if(!((t=yt())===null||t===void 0)&&t.id&&(b.safeMode.currentThemeId=yt().id),!((r=b.safeMode)===null||r===void 0)&&r.enabled)await We("default");else if(!((n=b.safeMode)===null||n===void 0)&&n.currentThemeId){var a;await We((a=b.safeMode)===null||a===void 0?void 0:a.currentThemeId)}}setTimeout(Ar.reload,400)}function zr(e){if(se!==void 0&&se.readyState!==WebSocket.CLOSED&&se.close(),!e){N("Invalid debugger URL!",_("Small"));return}se=new WebSocket(`ws://${e}`),se.addEventListener("open",function(){return N("Connected to debugger.",_("Check"))}),se.addEventListener("message",function(t){try{(0,eval)(t.data)}catch(r){console.error(r)}}),se.addEventListener("error",function(t){console.log(`Debugger error: ${t.message}`),N("An error occurred with the debugger connection!",_("Small"))})}function Ta(){var e=k("nativeLoggingHook",globalThis,function(t){se?.readyState===WebSocket.OPEN&&se.send(JSON.stringify({message:t[0],level:t[1]})),oe.log(t[0])});return function(){se&&se.close(),e()}}function lt(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",n=Mn.Platform.constants,a=n.reactNativeVersion;return{vendetta:{version:Kt,loader:vn()},bunny:{version:Kt,loader:vn()},discord:{version:En.Version,build:En.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):`${a.major}.${a.minor}.${a.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...Mn.Platform.select({android:{os:{name:"Android",version:n.Release,sdk:n.Version}},ios:{os:{name:n.systemName,version:n.osVersion}}}),...Mn.Platform.select({android:{device:{manufacturer:n.Manufacturer,brand:n.Brand,model:n.Model,codename:je.device}},ios:{device:{manufacturer:je.deviceManufacturer,brand:je.deviceBrand,model:je.deviceModel,codename:je.device}}})}}var Mn,se,Kt,st=f(()=>{"use strict";Z();Ne();$e();fe();Ke();ie();Ot();Qe();Mn=X(Q());o(Yr,"_toggleSafeMode");o(zr,"connectToDebugger");o(Ta,"_patchLogHook");Kt="67e4934";o(lt,"getDebugInfo")});function Un({label:e,version:t,icon:r}){return React.createElement(x,{label:e,icon:React.createElement(x.Icon,{source:_(r)}),trailing:React.createElement(Ht,null,t),onPress:function(){me.setString(`${e} - ${t}`),N.showCopyToClipboard()}})}var bl=f(()=>{"use strict";Z();be();Ae();B();Qe();o(Un,"Version")});function ba(){var e=lt();F(b);var t=[{label:c.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:c.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],r=[{label:c.LOADER,version:e.bunny.loader,icon:"ic_download_24px"},{label:c.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:c.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:c.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:c.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:kn.Platform.select({android:c.CODENAME,ios:c.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return React.createElement(kn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(Vt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(xe,{title:c.VERSIONS},t.map(function(n){return React.createElement(Un,{label:n.label,version:n.version,icon:n.icon})})),React.createElement(xe,{title:c.PLATFORM},r.map(function(n){return React.createElement(Un,{label:n.label,version:n.version,icon:n.icon})}))))}var kn,xl=f(()=>{"use strict";J();bl();re();st();ie();Ae();kn=X(Q());o(ba,"About")});var Cl={};A(Cl,{default:()=>Al});function Al(){var e,t;F(b);var r=lt(),n=na();return React.createElement(Hn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(Vt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(xe,{title:c.INFO},React.createElement(x,{label:c.BUNNY,icon:React.createElement(x.Icon,{source:{uri:xa}}),trailing:React.createElement(x.TrailingText,{text:r.bunny.version})}),React.createElement(x,{label:"Discord",icon:React.createElement(x.Icon,{source:_("Discord")}),trailing:React.createElement(x.TrailingText,{text:`${r.discord.version} (${r.discord.build})`})}),React.createElement(x,{arrow:!0,label:c.ABOUT,icon:React.createElement(x.Icon,{source:_("CircleInformationIcon")}),trailing:x.Arrow,onPress:function(){return n.push("VendettaCustomPage",{title:c.ABOUT,render:function(){return React.createElement(ba,null)}})}})),React.createElement(xe,{title:c.LINKS},React.createElement(x,{label:c.DISCORD_SERVER,icon:React.createElement(x.Icon,{source:_("Discord")}),trailing:x.Arrow,onPress:function(){return dt.openDeeplink(ko)}}),React.createElement(x,{label:c.GITHUB,icon:React.createElement(x.Icon,{source:_("img_account_sync_github_white")}),trailing:x.Arrow,onPress:function(){return dt.openURL(Ho)}})),React.createElement(xe,{title:c.ACTIONS},React.createElement(x,{label:c.RELOAD_DISCORD,icon:React.createElement(x.Icon,{source:_("ic_message_retry")}),onPress:function(){return Hn.NativeModules.BundleUpdaterManager.reload()}}),React.createElement(x,{label:!((e=b.safeMode)===null||e===void 0)&&e.enabled?c.RELOAD_IN_NORMAL_MODE:c.RELOAD_IN_SAFE_MODE,subLabel:!((t=b.safeMode)===null||t===void 0)&&t.enabled?c.RELOAD_IN_NORMAL_MODE_DESC:c.RELOAD_IN_SAFE_MODE_DESC,icon:React.createElement(x.Icon,{source:_("ic_privacy_24px")}),onPress:Yr}),React.createElement(lr,{label:c.DEVELOPER_SETTINGS,icon:React.createElement(x.Icon,{source:_("ic_progress_wrench_24px")}),value:b.developerSettings,onValueChange:function(a){b.developerSettings=a}}))))}var Hn,wl=f(()=>{"use strict";J();Aa();Z();re();st();ie();Ae();tr();B();Hn=X(Q());xl();o(Al,"General")});var Il=Ya((Dl,Gn)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof Gn=="object"&&Gn.exports?Gn.exports=t():e.fuzzysort=t()})(Dl,function(e){"use strict";var t=o(function(v,u){if(v=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!v||!u)return L;var g=D(v);Dt(u)||(u=m(u));var h=g.bitflags;return(h&u._bitflags)!==h?L:C(g,u)},"single"),r=o(function(v,u,g){if(v=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:u?u[0]:L}];if(!v)return g&&g.all?I(v,u,g):ro;var h=D(v),E=h.bitflags,R=h.containsSpace,S=g&&g.threshold||It,p=g&&g.limit||to,T=0,y=0,w=u.length;if(g&&g.key)for(var ne=g.key,O=0;O<w;++O){var pe=u[O],H=qr(pe,ne);if(H&&(Dt(H)||(H=m(H)),(E&H._bitflags)===E)){var V=C(h,H);V!==L&&(V.score<S||(V={target:V.target,_targetLower:"",_targetLowerCodes:L,_nextBeginningIndexes:L,_bitflags:0,score:V.score,_indexes:V._indexes,obj:pe},T<p?(Me.add(V),++T):(++y,V.score>Me.peek().score&&Me.replaceTop(V))))}}else if(g&&g.keys)for(var ja=g.scoreFn||gs,pr=g.keys,en=pr.length,O=0;O<w;++O){for(var pe=u[O],ue=new Array(en),Fe=0;Fe<en;++Fe){var ne=pr[Fe],H=qr(pe,ne);if(!H){ue[Fe]=L;continue}Dt(H)||(H=m(H)),(E&H._bitflags)!==E?ue[Fe]=L:ue[Fe]=C(h,H)}ue.obj=pe;var G=ja(ue);G!==L&&(G<S||(ue.score=G,T<p?(Me.add(ue),++T):(++y,G>Me.peek().score&&Me.replaceTop(ue))))}else for(var O=0;O<w;++O){var H=u[O];if(H&&(Dt(H)||(H=m(H)),(E&H._bitflags)===E)){var V=C(h,H);V!==L&&(V.score<S||(T<p?(Me.add(V),++T):(++y,V.score>Me.peek().score&&Me.replaceTop(V))))}}if(T===0)return ro;for(var Xt=new Array(T),O=T-1;O>=0;--O)Xt[O]=Me.poll();return Xt.total=T+y,Xt},"go"),n=o(function(v,u,g){if(typeof u=="function")return a(v,u);if(v===L)return L;u===void 0&&(u="<b>"),g===void 0&&(g="</b>");var h="",E=0,R=!1,S=v.target,p=S.length,T=v._indexes;T=T.slice(0,T.len).sort(function(ne,O){return ne-O});for(var y=0;y<p;++y){var w=S[y];if(T[E]===y){if(++E,R||(R=!0,h+=u),E===T.length){h+=w+g+S.substr(y+1);break}}else R&&(R=!1,h+=g);h+=w}return h},"highlight"),a=o(function(y,u){if(y===L)return L;var g=y.target,h=g.length,E=y._indexes;E=E.slice(0,E.len).sort(function(O,pe){return O-pe});for(var R="",S=0,p=0,T=!1,y=[],w=0;w<h;++w){var ne=g[w];if(E[p]===w){if(++p,T||(T=!0,y.push(R),R=""),p===E.length){R+=ne,y.push(u(R,S++)),R="",y.push(g.substr(w+1));break}}else T&&(T=!1,y.push(u(R,S++)),R="");R+=ne}return y},"highlightCallback"),i=o(function(v){return v._indexes.slice(0,v._indexes.len).sort(function(u,g){return u-g})},"indexes"),l=o(function(v){typeof v!="string"&&(v="");var u=P(v);return{target:v,_targetLower:u._lower,_targetLowerCodes:u.lowerCodes,_nextBeginningIndexes:L,_bitflags:u.bitflags,score:L,_indexes:[0],obj:L}},"prepare"),s=o(function(v){typeof v!="string"&&(v=""),v=v.trim();var u=P(v),g=[];if(u.containsSpace){var h=v.split(/\s+/);h=[...new Set(h)];for(var E=0;E<h.length;E++)if(h[E]!==""){var R=P(h[E]);g.push({lowerCodes:R.lowerCodes,_lower:h[E].toLowerCase(),containsSpace:!1})}}return{lowerCodes:u.lowerCodes,bitflags:u.bitflags,containsSpace:u.containsSpace,_lower:u._lower,spaceSearches:g}},"prepareSearch"),m=o(function(v){if(v.length>999)return l(v);var u=At.get(v);return u!==void 0||(u=l(v),At.set(v,u)),u},"getPrepared"),D=o(function(v){if(v.length>999)return s(v);var u=Ct.get(v);return u!==void 0||(u=s(v),Ct.set(v,u)),u},"getPreparedSearch"),I=o(function(v,u,g){var h=[];h.total=u.length;var E=g&&g.limit||to;if(g&&g.key)for(var R=0;R<u.length;R++){var S=u[R],p=qr(S,g.key);if(p){Dt(p)||(p=m(p)),p.score=It,p._indexes.len=0;var T=p;if(T={target:T.target,_targetLower:"",_targetLowerCodes:L,_nextBeginningIndexes:L,_bitflags:0,score:p.score,_indexes:L,obj:S},h.push(T),h.length>=E)return h}}else if(g&&g.keys)for(var R=0;R<u.length;R++){for(var S=u[R],y=new Array(g.keys.length),w=g.keys.length-1;w>=0;--w){var p=qr(S,g.keys[w]);if(!p){y[w]=L;continue}Dt(p)||(p=m(p)),p.score=It,p._indexes.len=0,y[w]=p}if(y.obj=S,y.score=It,h.push(y),h.length>=E)return h}else for(var R=0;R<u.length;R++){var p=u[R];if(p&&(Dt(p)||(p=m(p)),p.score=It,p._indexes.len=0,h.push(p),h.length>=E))return h}return h},"all"),C=o(function(v,u,g=!1){if(g===!1&&v.containsSpace)return U(v,u);for(var h=v._lower,E=v.lowerCodes,R=E[0],S=u._targetLowerCodes,p=E.length,T=S.length,O=0,y=0,w=0;;){var ne=R===S[y];if(ne){if(wt[w++]=y,++O,O===p)break;R=E[O]}if(++y,y>=T)return L}var O=0,pe=!1,H=0,V=u._nextBeginningIndexes;V===L&&(V=u._nextBeginningIndexes=vr(u.target));var ja=y=wt[0]===0?0:V[wt[0]-1],pr=0;if(y!==T)for(;;)if(y>=T){if(O<=0||(++pr,pr>200))break;--O;var en=Qr[--H];y=V[en]}else{var ne=E[O]===S[y];if(ne){if(Qr[H++]=y,++O,O===p){pe=!0;break}++y}else y=V[y]}var ue=u._targetLower.indexOf(h,wt[0]),Fe=~ue;if(Fe&&!pe)for(var G=0;G<w;++G)wt[G]=ue+G;var Xt=!1;Fe&&(Xt=u._nextBeginningIndexes[ue-1]===ue);{if(pe)var Ue=Qr,no=H;else var Ue=wt,no=w;for(var et=0,$a=0,G=1;G<p;++G)Ue[G]-Ue[G-1]!==1&&(et-=Ue[G],++$a);var Es=Ue[p-1]-Ue[0]-(p-1);if(et-=(12+Es)*$a,Ue[0]!==0&&(et-=Ue[0]*Ue[0]*.2),!pe)et*=1e3;else{for(var oo=1,G=V[0];G<T;G=V[G])++oo;oo>24&&(et*=(oo-24)*10)}Fe&&(et/=1+p*p*1),Xt&&(et/=1+p*p*1),et-=T-p,u.score=et;for(var G=0;G<no;++G)u._indexes[G]=Ue[G];return u._indexes.len=no,u}},"algorithm"),U=o(function(v,u){for(var g=new Set,h=0,E=L,R=0,S=v.spaceSearches,w=0;w<S.length;++w){var p=S[w];if(E=C(p,u),E===L)return L;h+=E.score,E._indexes[0]<R&&(h-=R-E._indexes[0]),R=E._indexes[0];for(var T=0;T<E._indexes.len;++T)g.add(E._indexes[T])}var y=C(v,u,!0);if(y!==L&&y.score>h)return y;E.score=h;var w=0;for(var ne of g)E._indexes[w++]=ne;return E._indexes.len=w,E},"algorithmSpaces"),P=o(function(v){for(var u=v.length,g=v.toLowerCase(),h=[],E=0,R=!1,S=0;S<u;++S){var p=h[S]=g.charCodeAt(S);if(p===32){R=!0;continue}var T=p>=97&&p<=122?p-97:p>=48&&p<=57?26:p<=127?30:31;E|=1<<T}return{lowerCodes:h,bitflags:E,containsSpace:R,_lower:g}},"prepareLowerInfo"),ce=o(function(v){for(var u=v.length,g=[],h=0,E=!1,R=!1,S=0;S<u;++S){var p=v.charCodeAt(S),T=p>=65&&p<=90,y=T||p>=97&&p<=122||p>=48&&p<=57,w=T&&!E||!R||!y;E=T,R=y,w&&(g[h++]=S)}return g},"prepareBeginningIndexes"),vr=o(function(v){for(var u=v.length,g=ce(v),h=[],E=g[0],R=0,S=0;S<u;++S)E>S?h[S]=E:(E=g[++R],h[S]=E===void 0?u:E);return h},"prepareNextBeginningIndexes"),eo=o(function(){At.clear(),Ct.clear(),wt=[],Qr=[]},"cleanup"),At=new Map,Ct=new Map,wt=[],Qr=[],gs=o(function(v){for(var u=It,g=v.length,h=0;h<g;++h){var E=v[h];if(E!==L){var R=E.score;R>u&&(u=R)}}return u===It?L:u},"defaultScoreFn"),qr=o(function(v,u){var g=v[u];if(g!==void 0)return g;var h=u;Array.isArray(u)||(h=u.split("."));for(var E=h.length,R=-1;v&&++R<E;)v=v[h[R]];return v},"getValue"),Dt=o(function(v){return typeof v=="object"},"isObj"),to=1/0,It=-to,ro=[];ro.total=0;var L=null,hs=o(function(v){var u=[],g=0,h={},E=o(function(R){for(var S=0,p=u[S],T=1;T<g;){var y=T+1;S=T,y<g&&u[y].score<u[T].score&&(S=y),u[S-1>>1]=u[S],T=1+(S<<1)}for(var w=S-1>>1;S>0&&p.score<u[w].score;w=(S=w)-1>>1)u[S]=u[w];u[S]=p},"v");return h.add=function(R){var S=g;u[g++]=R;for(var p=S-1>>1;S>0&&R.score<u[p].score;p=(S=p)-1>>1)u[S]=u[p];u[S]=R},h.poll=function(R){if(g!==0){var S=u[0];return u[0]=u[--g],E(),S}},h.peek=function(R){if(g!==0)return u[0]},h.replaceTop=function(R){u[0]=R,E()},h},"fastpriorityqueue"),Me=hs();return{single:t,go:r,highlight:n,prepare:l,indexes:i,cleanup:eo}})});function Zf(e,t){return t?Nl.default.go(t,e,{keys:["id","manifest.name","manifest.description","manifest.authors.0.name","manifest.authors.1.name"]}).map(function(r){return r.obj}):e}function Wr({floatingButtonText:e,fetchFunction:t,items:r,safeModeMessage:n,safeModeExtras:a,card:i}){var l;F(b),F(r);var s=Qf.useSharedValue(0),m=React.useRef(0),[D,I]=React.useState("");return React.createElement(q,null,React.createElement(Vn.FlatList,{ListHeaderComponent:React.createElement(React.Fragment,null,((l=b.safeMode)===null||l===void 0?void 0:l.enabled)&&React.createElement(Vn.View,{style:{marginBottom:10}},React.createElement(ia,{messageType:0},n),a),React.createElement(it,{style:{marginBottom:15},onChangeText:function(C){return I(C.toLowerCase())},placeholder:c.SEARCH})),onScroll:function(C){C.nativeEvent.contentOffset.y<=0||(s.value=+(C.nativeEvent.contentOffset.y>m.current),m.current=C.nativeEvent.contentOffset.y)},style:{paddingHorizontal:10,paddingTop:10},contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},data:Zf(Object.values(r),D),renderItem:function({item:C,index:U}){return React.createElement(i,{item:C,index:U})}}),React.createElement(qf,{text:e,icon:_("DownloadIcon"),state:{collapseText:s},onPress:function(){me.getString().then(function(C){var U;return Vr({title:e,initialValue:((U=C.match(Dr))===null||U===void 0?void 0:U[0])??"",placeholder:c.URL_PLACEHOLDER,onConfirm:function(P){return t(P)},confirmText:c.INSTALL,cancelText:c.CANCEL})})}}))}var Nl,Vn,Qf,qf,Ca=f(()=>{"use strict";J();Z();re();Y();ie();jt();tr();B();Wt();Ze();Nl=X(Il()),Vn=X(Q());o(Zf,"getItemsByQuery");Qf=d("useSharedValue"),{FloatingActionButton:qf}=d("FloatingActionButton");o(Wr,"AddonPage")});function Kr(e){var t,r=rm();return React.createElement(we.View,{style:[r.card,{marginTop:e.index!==0?15:0}]},React.createElement(fr.ImageBackground,{source:e.headerIcon&&_(e.headerIcon)||{},resizeMode:"cover",imageStyle:r.iconStyle},React.createElement(Te,{style:r.header,label:React.createElement(fr.View,{style:r.headerLeading},React.createElement(we.Text,{style:r.headerLabel},e.headerLabel),e.headerSublabel&&React.createElement(we.Text,{style:r.headerSubtitle},e.headerSublabel)),trailing:React.createElement(fr.View,{style:r.headerTrailing},React.createElement(fr.View,{style:r.actions},e.overflowActions&&React.createElement(wn,{onPress:function(){var n;return tm({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&React.createElement(Te.Icon,{style:{marginRight:8},source:_(e.headerIcon)}),onClose:function(){return em()}},options:(n=e.overflowActions)===null||n===void 0?void 0:n.map(function(a){return{...a,icon:_(a.icon)}})})},size:"sm",variant:"secondary",icon:_("CircleInformationIcon")}),(t=e.actions)===null||t===void 0?void 0:t.map(function({icon:n,onPress:a,disabled:i}){return React.createElement(wn,{onPress:a,disabled:i,size:"sm",variant:"secondary",icon:_(n)})})),e.toggleType&&(e.toggleType==="switch"?React.createElement(ea,{value:e.toggleValue,onValueChange:e.onToggleChange}):React.createElement(we.Pressable,{onPress:function(){var n;(n=e.onToggleChange)===null||n===void 0||n.call(e,!e.toggleValue)}},React.createElement(ta,{checked:e.toggleValue}))))}),React.createElement(Te,{label:React.createElement(we.View,null,React.createElement(we.Text,{style:r.descriptionLabel},e.descriptionLabel))})))}var fr,em,tm,rm,wa=f(()=>{"use strict";Z();be();Ae();xt();B();Y();bt();fr=X(Q()),{hideActionSheet:em}=d("openLazy","hideActionSheet"),{showSimpleActionSheet:tm}=d("showSimpleActionSheet"),rm=$t({card:{backgroundColor:W===null||W===void 0?void 0:W.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...Je["heading-md/semibold"],color:W.TEXT_NORMAL},headerSubtitle:{...Je["text-md/semibold"],color:W.TEXT_MUTED},descriptionLabel:{...Je["text-md/semibold"],color:W.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:W.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}});o(Kr,"Card")});async function Ll(e,t){e.enabled&&St(e.id,!1),t(),e.enabled&&await _t(e.id)}function Da({item:e,index:t}){var r,n;F(e);var a=Lr(e.id),i=Ee.useNavigation(),[l,s]=React.useState(!1);return l?null:React.createElement(Kr,{index:t,headerLabel:`${e.manifest.name}`,headerSublabel:((r=e.manifest.authors)===null||r===void 0?void 0:r[0])&&`by ${e.manifest.authors.map(function(m){return m.name}).join(", ")}`,headerIcon:(n=e.manifest.vendetta)===null||n===void 0?void 0:n.icon,toggleType:"switch",toggleValue:e.enabled,onToggleChange:function(m){try{m?_t(e.id):St(e.id)}catch(D){N(D.message,_("Small"))}},descriptionLabel:e.manifest.description,overflowTitle:e.manifest.name,actions:[{icon:"WrenchIcon",disabled:!a,onPress:function(){return i.push("VendettaCustomPage",{title:e.manifest.name,render:a})}}],overflowActions:[...a?[{label:c.OVERFLOW_PLUGIN_SETTINGS,icon:"settings",onPress:function(){return i.push("VendettaCustomPage",{title:e.manifest.name,render:a})}}]:[],{icon:"ic_sync_24px",label:c.REFETCH,onPress:async function(){Ll(e,function(){Et(e.id).then(async function(){N("Successfully refetched plugin.",_("toast_image_saved"))}).catch(function(){N("Failed to refetch plugin!",_("Small"))})})}},{icon:"copy",label:c.COPY_URL,onPress:function(){me.setString(e.id),N.showCopyToClipboard()}},{icon:"ic_download_24px",label:e.update?c.DISABLE_UPDATES:c.ENABLE_UPDATES,onPress:function(){e.update=!e.update,N(`${e.update?"Enabled":"Disabled"} updates for ${e.manifest.name}.`,_("toast_image_saved"))}},{icon:"ic_duplicate",label:c.CLEAR_DATA,isDestructive:!0,onPress:function(){return Be({title:c.HOLD_UP,content:De("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.manifest.name}),confirmText:c.CLEAR,cancelText:c.CANCEL,confirmColor:le.RED,onConfirm:function(){Ll(e,function(){try{tt.removeItem(e.id),N(De("CLEAR_DATA_SUCCESSFUL",{name:e.manifest.name}),_("trash"))}catch{N(De("CLEAR_DATA_FAILED",{name:e.manifest.name}),_("Small"))}})}})}},{icon:"ic_message_delete",label:c.DELETE,isDestructive:!0,onPress:function(){return Be({title:c.HOLD_UP,content:De("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.manifest.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:le.RED,onConfirm:function(){try{Ft(e.id),s(!0)}catch(m){N(m.message,_("Small"))}}})}}]})}var Ol=f(()=>{"use strict";J();wa();Z();$e();re();ot();nr();B();Wt();Qe();o(Ll,"stopThenStart");o(Da,"PluginCard")});var Bl={};A(Bl,{default:()=>Pl});function Pl(){return F(b),React.createElement(Wr,{title:c.PLUGINS,floatingButtonText:c.INSTALL_PLUGIN,fetchFunction:nt,items:j,safeModeMessage:c.SAFE_MODE_NOTICE_PLUGINS,card:Da})}var Ml=f(()=>{"use strict";J();Ca();Ol();re();ot();ie();o(Pl,"Plugins")});async function Fl(e,t){try{await We(e?t:null),xn(e?z[t]:null)}catch(r){console.error("Error while selectAndApply,",r)}}function Ia({item:e,index:t}){var r;F(e);var[,n]=React.useReducer(function(s){return~s},0),[a,i]=React.useState(!1);if(a)return null;var{authors:l}=e.data;return React.createElement(Kr,{index:t,headerLabel:e.data.name,headerSublabel:l?`by ${l.map(function(s){return s.name}).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:!((r=b.safeMode)===null||r===void 0)&&r.enabled?void 0:"radio",toggleValue:e.selected,onToggleChange:function(s){Fl(s,e.id),n()},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:c.REFETCH,onPress:function(){Ut(e.id,e.selected).then(function(){e.selected?Be({title:c.MODAL_THEME_REFETCHED,content:c.MODAL_THEME_REFETCHED_DESC,confirmText:c.RELOAD,cancelText:c.CANCEL,confirmColor:le.RED,onConfirm:function(){return Ar.reload()}}):N(c.THEME_REFETCH_SUCCESSFUL,_("toast_image_saved"))}).catch(function(){N(c.THEME_REFETCH_FAILED,_("Small"))})}},{icon:"copy",label:c.COPY_URL,onPress:function(){me.setString(e.id),N.showCopyToClipboard()}},{icon:"ic_message_delete",label:c.DELETE,isDestructive:!0,onPress:function(){return Be({title:c.HOLD_UP,content:De("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:le.RED,onConfirm:function(){kt(e.id).then(function(s){i(!0),s&&Fl(!1,e.id)}).catch(function(s){N(s.message,_("Small"))})}})}}]})}var Ul=f(()=>{"use strict";J();wa();Z();$e();re();Ke();ie();nr();B();Wt();Qe();o(Fl,"selectAndApply");o(Ia,"ThemeCard")});var Hl={};A(Hl,{default:()=>kl});function kl(){var e,t;return F(b),F(z),React.createElement(Wr,{title:c.THEMES,floatingButtonText:c.INSTALL_THEME,fetchFunction:at,items:z,safeModeMessage:De("SAFE_MODE_NOTICE_THEMES",{enabled:!!(!((e=b.safeMode)===null||e===void 0)&&e.currentThemeId)}),safeModeExtras:!((t=b.safeMode)===null||t===void 0)&&t.currentThemeId?React.createElement(Xe,{text:c.DISABLE_THEME,color:le.BRAND,size:"small",onPress:function(){var r;(r=b.safeMode)===null||r===void 0||delete r.currentThemeId},style:{marginTop:8}}):void 0,card:Ia})}var Gl=f(()=>{"use strict";J();Ca();Ul();re();Ke();ie();nr();jt();o(kl,"Themes")});function Na({asset:e}){return React.createElement(Te,{label:`${e.name} - ${e.id}`,trailing:React.createElement(Vl.Image,{source:e.id,style:{width:32,height:32}}),onPress:function(){me.setString(e.name),N.showCopyToClipboard()}})}var Vl,jl=f(()=>{"use strict";be();B();Qe();Vl=X(Q());o(Na,"AssetDisplay")});function La(){var[e,t]=React.useState("");return React.createElement(q,null,React.createElement(jn.View,{style:{flex:1}},React.createElement(it,{style:{margin:10},onChangeText:function(r){return t(r)}}),React.createElement(jn.FlatList,{data:Object.values(Ie).filter(function(r){return r.name.includes(e)||r.id.toString()===e}),renderItem:function({item:r}){return React.createElement(Na,{asset:r})},ItemSeparatorComponent:Xo,keyExtractor:function(r){return r.name}})))}var jn,$l=f(()=>{"use strict";jl();Z();be();Ze();jn=X(Q());o(La,"AssetBrowser")});var zl={};A(zl,{default:()=>Yl});function Yl(){var e=am(),t=Ee.useNavigation();return F(b),F(de),React.createElement(q,null,React.createElement($n.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(Vt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(sr,{label:c.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return React.createElement(Ht,{style:e.leadingText},"ws://")},defaultValue:b.debuggerUrl,onChange:function(r){return b.debuggerUrl=r}}),React.createElement(xe,{title:c.DEBUG},React.createElement(x,{label:c.CONNECT_TO_DEBUG_WEBSOCKET,icon:React.createElement(x.Icon,{source:_("copy")}),onPress:function(){return zr(b.debuggerUrl)}}),er()&&React.createElement(React.Fragment,null,React.createElement(x,{label:c.CONNECT_TO_REACT_DEVTOOLS,icon:React.createElement(x.Icon,{source:_("ic_badge_staff")}),onPress:function(){var r,n;return(n=window[Co()||"__vendetta_rdc"])===null||n===void 0?void 0:n.connectToDevTools({host:(r=b.debuggerUrl.split(":"))===null||r===void 0?void 0:r[0],resolveRNStyle:$n.StyleSheet.flatten})}}))),pn()&&React.createElement(React.Fragment,null,React.createElement(xe,{title:"Loader config"},React.createElement(lr,{label:c.LOAD_FROM_CUSTOM_URL,subLabel:c.LOAD_FROM_CUSTOM_URL_DEC,icon:React.createElement(x.Icon,{source:_("copy")}),value:de.customLoadUrl.enabled,onValueChange:function(r){de.customLoadUrl.enabled=r}}),de.customLoadUrl.enabled&&React.createElement(x,{label:React.createElement(sr,{defaultValue:de.customLoadUrl.url,size:"md",onChange:function(r){return de.customLoadUrl.url=r},placeholder:"http://localhost:4040/vendetta.js",label:c.BUNNY_URL})}),er()&&React.createElement(lr,{label:c.LOAD_REACT_DEVTOOLS,subLabel:`${c.VERSION}: ${wo()}`,icon:React.createElement(x.Icon,{source:_("ic_badge_staff")}),value:de.loadReactDevTools,onValueChange:function(r){de.loadReactDevTools=r}}))),React.createElement(xe,{title:"Other"},React.createElement(x,{arrow:!0,label:c.ASSET_BROWSER,icon:React.createElement(x.Icon,{source:_("ic_image")}),trailing:x.Arrow,onPress:function(){return t.push("VendettaCustomPage",{title:c.ASSET_BROWSER,render:La})}}),React.createElement(x,{arrow:!0,label:c.ERROR_BOUNDARY_TOOLS_LABEL,icon:React.createElement(x.Icon,{source:_("ic_warning_24px")}),onPress:function(){return om({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:React.createElement(x.Icon,{style:{marginRight:8},source:_("ic_warning_24px")}),onClose:function(){return nm()}},options:[{label:c.BUNNY,onPress:function(){return t.push("VendettaCustomPage",{render:function(){return React.createElement("undefined",null)}})}},{label:"Discord",isDestructive:!0,onPress:function(){return t.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}})))))}var $n,nm,om,am,Wl=f(()=>{"use strict";J();$l();Z();Ne();re();st();ie();be();Ae();B();Y();bt();Ze();xt();$n=X(Q()),{hideActionSheet:nm}=d("openLazy","hideActionSheet"),{showSimpleActionSheet:om}=d("showSimpleActionSheet"),am=$t({leadingText:{...Je["heading-md/semibold"],color:W.TEXT_MUTED,marginRight:-4}});o(Yl,"Developer")});function Oa(){Ra({name:"Bunny",items:[{key:"BUNNY",title:function(){return c.BUNNY},icon:{uri:xa},render:function(){return Promise.resolve().then(()=>(wl(),Cl))},rawTabsConfig:{useTrailing:function(){return"(67e4934)"}}},{key:"BUNNY_PLUGINS",title:function(){return c.PLUGINS},icon:_("ActivitiesIcon"),render:function(){return Promise.resolve().then(()=>(Ml(),Bl))}},{key:"BUNNY_THEMES",title:function(){return c.THEMES},icon:_("PaintPaletteIcon"),render:function(){return Promise.resolve().then(()=>(Gl(),Hl))},usePredicate:function(){return Re()}},{key:"BUNNY_DEVELOPER",title:function(){return c.DEVELOPER},icon:_("WrenchIcon"),render:function(){return Promise.resolve().then(()=>(Wl(),zl))},usePredicate:function(){return F(b).developerSettings??!1}}]})}var xa,Aa=f(()=>{"use strict";J();Z();Ne();re();ie();ur();yl();xa=Tl;o(Oa,"initSettings")});var Yn,mr,dr,zn=f(()=>{"use strict";(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(Yn||(Yn={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(mr||(mr={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(dr||(dr={}))});var Xl={};A(Xl,{default:()=>Kl});function Kl(){return{name:"debug",description:c.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:mr.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=lt(),n=["**Bunny Debug Info**",`> Bunny: ${r.bunny.version} (${r.bunny.loader})`,`> Discord: ${r.discord.version} (${r.discord.build})`,`> React: ${r.react.version} (RN ${r.react.nativeVersion})`,`> Hermes: ${r.hermes.version} (bcv${r.hermes.bytecodeVersion})`,`> System: ${r.os.name} ${r.os.version} (SDK ${r.os.sdk})`,`> Device: ${r.device.model} (${r.device.codename})`].join(`
`);e?.value?Bt.sendBotMessage(t.channel.id,n):Bt.sendMessage(t.channel.id,{content:n})}}}var Jl=f(()=>{"use strict";J();zn();st();B();o(Kl,"default")});var Ql={};A(Ql,{default:()=>Zl});function Zl(){return{name:"plugins",description:c.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:mr.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=Object.values(j).sort(function(l,s){return l.manifest.name.localeCompare(s.manifest.name)}),n=r.filter(function(l){return l.enabled}).map(function(l){return l.manifest.name}),a=r.filter(function(l){return!l.enabled}).map(function(l){return l.manifest.name}),i=[`**Installed Plugins (${r.length}):**`,...n.length>0?[`Enabled (${n.length}):`,"> "+n.join(", ")]:[],...a.length>0?[`Disabled (${a.length}):`,"> "+a.join(", ")]:[]].join(`
`);e?.value?Bt.sendBotMessage(t.channel.id,i):Bt.sendMessage(t.channel.id,{content:i})}}}var ql=f(()=>{"use strict";J();zn();ot();B();o(Zl,"default")});var Jr={};A(Jr,{_patchCommands:()=>Pa,registerCommand:()=>Wn});function Pa(){var e=k("getBuiltInCommands",Qt,function([t],r){if(t===dr.CHAT)return r.concat(Xr)});return[(Jl(),tn(Xl)),(ql(),tn(Ql))].forEach(function(t){return Wn(t.default())}),function(){Xr=[],e()}}function Wn(e){var t=Qt.getBuiltInCommands(dr.CHAT,!0,!1);t.sort(function(a,i){return parseInt(i.id)-parseInt(a.id)});var r=t[t.length-1];if(e.id=(parseInt(r.id,10)-1).toString(),e.__isBunny=!0,e.applicationId??="-1",e.type??=dr.CHAT,e.inputType=Yn.BUILT_IN,e.displayName??=e.name,e.displayDescription??=e.description,e.options)for(var n of e.options)n.displayName??=n.name,n.displayDescription??=n.description;return Xr.push(e),function(){return Xr=Xr.filter(function({id:a}){return a!==e.id})}}var Xr,Kn=f(()=>{"use strict";zn();fe();B();Xr=[];o(Pa,"_patchCommands");o(Wn,"registerCommand")});var Zn={};A(Zn,{_injectFluxInterceptor:()=>Ba,dispatcher:()=>Xn,intercept:()=>lm});function Ba(){var e=o(function(t){for(var r of Jn){var n=r(t);n!=null&&(n?typeof n=="object"&&(Object.assign(t,n),t[im]=!0):t[es]=!0)}return es in t},"cb");return(Xn._interceptors??=[]).unshift(e),function(){return Xn._interceptors&&=Xn._interceptors.filter(function(t){return t!==e})}}function lm(e){return Jn.push(e),function(){Jn=Jn.filter(function(t){return t!==e})}}var es,im,Xn,Jn,Ma=f(()=>{"use strict";B();es=Symbol.for("bunny.flux.blocked"),im=Symbol.for("bunny.flux.modified"),Xn=Ce,Jn=[];o(Ba,"_injectFluxInterceptor");o(lm,"intercept")});var ts,rs=f(()=>{"use strict";Z();Kn();Ne();fe();re();st();ot();Ke();ie();be();Ae();xt();ht();B();Y();Wt();bt();Ze();Qe();ts=o(function(e){return{patcher:{before:Lt.before,after:Lt.after,instead:Lt.instead},metro:{find:function(t){return ee(t)},findAll:function(t){return ut(t)},findByProps:function(...t){return d(...t)},findByPropsAll:function(...t){return ln(...t)},findByName:function(t,r){return te(t,r)},findByNameAll:function(t,r){return sn(t,r)},findByDisplayName:function(t,r){return Zt(t,r)},findByDisplayNameAll:function(t,r){return cn(t,r)},findByTypeName:function(t,r){return un(t,r)},findByTypeNameAll:function(t,r){return fn(t,r)},findByStoreName:function(t){return ft(t)},common:{constants:he,channels:Sr,i18n:mt,url:dt,toasts:Rr,stylesheet:{...Gt,createThemedStyleSheet:Yt},clipboard:me,assets:Pt,invites:vo,commands:Qt,navigation:po,navigationStack:go,NavigationNative:Ee,Flux:ho,FluxDispatcher:Ce,React:_e,ReactNative:we,moment:yr,chroma:He,lodash:Eo,util:_o}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(t,r){return Oe(t,r)},findInTree:function(t,r,n){return rr(t,r,n)},safeFetch:function(t,r,n){return rt(t,r,n)},unfreeze:function(t){return{...t}},without:function(t,...r){return Nr(t,...r)}},debug:{connectToDebugger:function(t){return zr(t)},getDebugInfo:function(){return lt()}},ui:{components:{Forms:An,General:we,Alert:Tt.Alert,Button:Tt.Button,HelpMessage:Tt.HelpMessage,SafeAreaView:Tt.SafeAreaView,Summary:Ur,ErrorBoundary:q,Codeblock:Pe,Search:it},toasts:{showToast:function(t,r){return N(t,r)}},alerts:{showConfirmationAlert:function(t){return Be(t)},showCustomAlert:function(t,r){return Ln(t,r)},showInputAlert:function(t){return Vr(t)}},assets:{all:Ie,find:function(t){return To(t)},getAssetByName:function(t){return bo(t)},getAssetByID:function(t){return xo(t)},getAssetIDByName:function(t){return _(t)}},semanticColors:W,rawColors:ua},plugins:{plugins:j,fetchPlugin:function(t){return Et(t)},installPlugin:function(t,r){return nt(t,r)},startPlugin:function(t){return _t(t)},stopPlugin:function(t,r){return St(t,r)},removePlugin:function(t){return Ft(t)},getSettings:function(t){return Lr(t)}},themes:{themes:z,fetchTheme:function(t,r){return Ut(t,r)},installTheme:function(t){return at(t)},selectTheme:function(t){return We(t==="default"?null:t)},removeTheme:function(t){return kt(t)},getCurrentTheme:function(){return yt()},updateThemes:function(){return bn()}},commands:{registerCommand:Wn},storage:{createProxy:function(t){return Sn(t)},useProxy:function(t){return F(t)},createStorage:function(t){return Le(t)},wrapSync:function(t){return ze(t)},awaitSyncWrapper:function(t){return gt(t)},createMMKVBackend:function(t){return Ye(t)},createFileBackend:function(t){return pt(t)}},settings:b,loader:{identity:xr()??void 0,config:de},logger:{log:function(...t){return console.log(...t)},info:function(...t){return console.info(...t)},warn:function(...t){return console.warn(...t)},error:function(...t){return console.error(...t)},time:function(...t){return console.time(...t)},trace:function(...t){return console.trace(...t)},verbose:function(...t){return console.log(...t)}},version:Kt,unload:function(){e.filter(function(t){return typeof t=="function"}).forEach(function(t){return t()}),delete window.vendetta}}},"createVendettaObject")});var Fa={};A(Fa,{downloadFile:()=>fm,fileExists:()=>cm,readFile:()=>um,removeFile:()=>sm,writeFile:()=>ns});async function sm(e,t="pyoncord/"){return void await M.removeFile("documents",`${t}${e}`)}async function cm(e,t="pyoncord/"){return await M.fileExists(`${M.getConstants().DocumentsDirPath}/${t}${e}`)}async function ns(e,t,r="pyoncord/"){if(typeof t!="string")throw new Error("Argument 'data' must be a string");return void await M.writeFile("documents",`${r}${e}`,t,"utf8")}async function um(e,t,r="pyoncord/"){try{return await M.readFile(`${M.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch{if(t==null)throw new Error(`Errored while reading ${e} doesn't exist`);return await ns(e,t),t}}async function fm(e,t,r="pyoncord/"){var n=await fetch(e).then(function(s){return s.blob()}),a=await new Promise(function(s){var m=new FileReader;m.onload=function(){return s(m.result)},m.readAsDataURL(n)}),i;if(a==null)throw new Error("Failed to convert blob to data URL");var l=a.indexOf("base64,");if(l===-1)throw new Error("dataURL does not contain base64");return i=a.slice(l+7),void await M.writeFile("documents",`${r}${t}`,i,"base64")}var os=f(()=>{"use strict";$e();o(sm,"removeFile");o(cm,"fileExists");o(ns,"writeFile");o(um,"readFile");o(fm,"downloadFile")});var Qn={};A(Qn,{fs:()=>Fa,loader:()=>No,modules:()=>_n});var as=f(()=>{"use strict";os();Ne();$e()});var Ua={};A(Ua,{assets:()=>br,commands:()=>Jr,flux:()=>Zn,native:()=>Qn,patcher:()=>fo,storage:()=>Cr});var is=f(()=>{"use strict";Z();Kn();Ma();as();fe();re()});var ka={};A(ka,{plugins:()=>Or,themes:()=>Pr});var ls=f(()=>{"use strict";ot();Ke()});var Ha={};A(Ha,{alerts:()=>jr,color:()=>Br,components:()=>kr,settings:()=>Bn,styles:()=>Dn,toasts:()=>Hr});var ss=f(()=>{"use strict";Wt();bt();Ze();ur();xt();Qe()});function mm(e){return{api:{...Ua,patcher:Lt},managers:ka,metro:Ko,ui:Ha,utils:Tn,settings:Uo,debug:Fn,version:Kt,unload:function(){e.filter(function(t){return typeof t=="function"}).forEach(function(t){return t()}),delete window.bunny}}}function Ga(e){window.vendetta=ts(e),window.bunny=mm(e)}var cs=f(()=>{"use strict";rs();is();fe();st();ls();ir();ie();ss();ht();o(mm,"createBunnyObject");o(Ga,"initWindowObject")});function Va(){return k("render",dm.prototype,function(e,t){var r=this,n;if(this.state.error){this.state.activeTab??="message";var a=us.find(function(s){return s.id===r.state.activeTab}),i=this.state.error[this.state.activeTab],l=[{text:c.RELOAD_DISCORD,onPress:this.handleReload},...!((n=b.safeMode)===null||n===void 0)&&n.enabled?[]:[{text:c.RELOAD_IN_SAFE_MODE,onPress:Yr}],{text:c.RETRY_RENDER,color:le.RED,onPress:function(){return r.setState({info:null,error:null})}}];return React.createElement(q,null,React.createElement(la,{style:Zr.container},React.createElement(ct.View,{style:Zr.header},React.createElement(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),React.createElement(ct.View,{style:{flex:2,paddingLeft:24}},React.createElement(ct.Text,{style:Zr.headerTitle},t.props.title),React.createElement(ct.Text,{style:Zr.headerDescription},t.props.body))),React.createElement(ct.View,{style:{flex:6}},React.createElement(ct.View,{style:{paddingBottom:8}},React.createElement(vm,{tabs:us,activeTab:this.state.activeTab,onTabSelected:function(s){r.setState({activeTab:s})}})),React.createElement(Pe,{selectable:!0,style:{flex:1,textAlignVertical:"top"}},a?.trimWhitespace?i.split(`
`).filter(function(s){return s.length!==0}).map(function(s){return s.trim()}).join(`
`):i)),React.createElement(ct.View,{style:Zr.footer},l.map(function(s){var m=l.indexOf(s)!==0?8:0;return React.createElement(Xe,{text:s.text,color:s.color??le.BRAND,size:s.size??"small",onPress:s.onPress,style:je.isTablet?{flex:`0.${l.length}`,marginLeft:m}:{marginTop:m}})}))))}})}var ct,dm,vm,Zr,us,fs=f(()=>{"use strict";J();$e();fe();st();ie();nr();Y();bt();Ze();jt();xt();ct=X(Q()),dm=te("ErrorBoundary"),{BadgableTabBar:vm}=d("BadgableTabBar"),Zr=Yt({container:{flex:1,backgroundColor:W.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...Je["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:W.HEADER_PRIMARY},headerDescription:{...Je["text-sm/medium"],textAlign:"center",color:W.TEXT_MUTED},footer:{flexDirection:je.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),us=[{id:"message",title:c.MESSAGE},{id:"stack",title:c.STACK_TRACE},{id:"componentStack",title:c.COMPONENT,trimWhitespace:!0}];o(Va,"default")});var ds={};A(ds,{default:()=>ms});async function ms(){if(Re())try{Wo()}catch(t){console.error("[Bunny] Failed to initialize themes...",t)}var e=await Promise.all([Ba(),ya(),Ta(),yo(),Pa(),zo(),li(),Oa(),So(),Va(),gl()]);Ga(e),e.push(await $o()),oe.log("Bunny is ready!")}var vs=f(()=>{"use strict";ni();J();hl();Aa();Z();Kn();Ma();Ne();st();ot();Ke();ur();Ot();cs();fs();o(ms,"default")});Jt();globalThis.window=globalThis;var ps=o(async function(){try{console.log("Hello from Bunny! Pyon!"),Object.freeze=Object.seal=Object,await Promise.resolve().then(()=>(vs(),ds)).then(function(a){return a.default()})}catch(a){var e,t,{ClientInfoManager:r}=($e(),tn(_n)),n=a instanceof Error?a.stack:void 0;console.log(n??(a==null||(e=a.toString)===null||e===void 0?void 0:e.call(a))??a),alert([`Failed to load Bunny!
`,`Build Number: ${r.Build}`,"Bunny: 67e4934",n||(a==null||(t=a.toString)===null||t===void 0?void 0:t.call(a))].join(`
`))}},"init");if(typeof globalThis.__r<"u")ps();else{var e=function(t){var r=window.__fbBatchedBridge,n=new Array,a=ge("callFunctionReturnFlushedQueue",r,function(l,s){return l[0]==="AppRegistry"||!r.getCallableModule(l[0])?(n.push(l),r.flushedQueue()):s.apply(r,l)}),i=o(function(){ps(),a(),t(0),n.forEach(function(l){return r.getCallableModule(l[0])&&r.__callFunction(...l)})},"startDiscord");i()};nS=e,o(e,"onceIndexRequired"),Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return qn},set(t){qn=o(function(n){if(n===0)e(t),qn=t;else return t(n)},"patchedRequire")}},__d:{configurable:!0,get(){if(window.Object&&!window.modules){var t,r;window.modules=(t=(r=window).__c)===null||t===void 0?void 0:t.call(r)}return this.value},set(t){this.value=t}}})}var qn,nS;})();
//# sourceURL=bunny
