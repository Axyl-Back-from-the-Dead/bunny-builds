"use strict";(()=>{var sr=Object.defineProperty;var Di=Object.getOwnPropertyDescriptor;var Ii=Object.getOwnPropertyNames;var Ci=Object.prototype.hasOwnProperty;var o=(e,t)=>sr(e,"name",{value:t,configurable:!0});var u=(e,t)=>()=>(e&&(t=e(e=0)),t);var D=(e,t)=>{for(var r in t)sr(e,r,{get:t[r],enumerable:!0})},wi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(var a=Ii(t),i=0,l=a.length,s;i<l;i++)s=a[i],!Ci.call(e,s)&&s!==r&&sr(e,s,{get:(m=>t[m]).bind(null,s),enumerable:!(n=Di(t,s))||n.enumerable});return e};var cr=e=>wi(sr({},"__esModule",{value:!0}),e);var Hr,_e,ur=u(()=>{Hr=["a","b","i"],_e=new Map});function Vr(e,t,r,n,a){var i,l=(i=_e.get(t))===null||i===void 0?void 0:i[e];if(!l)return a?Reflect.construct(t[e],r,n):t[e].apply(n,r);for(var s of l.b.values()){var m=s.call(n,r);Array.isArray(m)&&(r=m)}var g=[...l.i.values()].reduce(function(y,R){return function(...N){return R.call(n,N,y)}},function(...y){return a?Reflect.construct(l.o,y,n):l.o.apply(n,y)})(...r);for(var E of l.a.values())g=E.call(n,r,g)??g;return g}var vo=u(()=>{ur();o(Vr,"default")});function kr(e,t,r,n){var a=_e.get(e),i=a?.[t];if(!i?.[n].has(r))return!1;if(i[n].delete(r),Hr.every(function(s){return i[s].size===0})){var l=Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0});l||(e[t]=i.o),delete a[t]}return Object.keys(a).length==0&&_e.delete(e),!0}function go(){var e;for(var[t,r]of _e.entries())for(var n in r)for(var a of Hr)for(var i of((e=r[n])===null||e===void 0?void 0:e[a].keys())??[])kr(t,n,i,a)}var $r=u(()=>{ur();o(kr,"unpatch");o(go,"unpatchAll")});function xt(e){return function(t,r,n,a=!1){if(typeof r[t]!="function")throw new Error(`${t} is not a function in ${r.constructor.name}`);_e.has(r)||_e.set(r,{});var i=_e.get(r);if(!i[t]){var l=r[t];i[t]={o:l,b:new Map,i:new Map,a:new Map};var s=o(function(R,N,$){var Qe=Vr(t,r,N,R,$);return a&&y(),Qe},"runHook"),m=new Proxy(l,{apply:function(R,N,$){return s(N,$,!1)},construct:function(R,N){return s(l,N,!0)},get:function(R,N,$){return N=="toString"?l.toString.bind(l):Reflect.get(R,N,$)}}),g=Reflect.defineProperty(r,t,{value:m,configurable:!0,writable:!0});g||(r[t]=m)}var E=Symbol(),y=o(function(){return kr(r,t,E,e)},"unpatchThisPatch");return i[t][e].set(E,n),y}}var ho=u(()=>{vo();ur();$r();o(xt,"default")});var jr={};D(jr,{after:()=>T,before:()=>Fe,instead:()=>ue,unpatchAll:()=>go});var Fe,ue,T,fr=u(()=>{ho();$r();Fe=xt("b"),ue=xt("i"),T=xt("a")});var Ge,F=u(()=>{"use strict";fr();fr();Ge={...jr}});var dt={};D(dt,{find:()=>G,findAll:()=>tt,findByDisplayName:()=>Dt,findByDisplayNameAll:()=>Xr,findByName:()=>Y,findByNameAll:()=>Kr,findByProps:()=>f,findByPropsAll:()=>Wr,findByStoreName:()=>Ce,findByTypeName:()=>Jr,findByTypeNameAll:()=>Zr,modules:()=>zr});var Oi,Ro,mr,dr,Yr,pr,Eo,_o,Pi,So,zr,G,tt,yo,To,Ao,No,Mi,f,Wr,Y,Kr,Dt,Xr,Jr,Zr,Ce,b=u(()=>{"use strict";F();Oi=window.ErrorUtils.getGlobalHandler(),Ro=o(function(e){return Object.defineProperty(window.modules,e,{value:window.modules[e],enumerable:!1,configurable:!0,writable:!0})},"blacklist");for(Eo in window.modules)if(Yr=Eo,pr=(dr=window.modules[Yr])===null||dr===void 0||(mr=dr.publicModule)===null||mr===void 0?void 0:mr.exports,!pr||pr===window||pr.proxygone===null){Ro(Yr);continue}_o=new WeakSet,Pi=o(function(e){var t;typeof e!="object"||_o.has(e)||(_o.add(e),(e==null||(t=e.default)===null||t===void 0?void 0:t.name)==="requireNativeComponent"&&ue("default",e,function(r,n){try{return n(...r)}catch{return r[0]}}))},"onModuleCheck"),So=o(function(e,t=!1){return function(r){var n=[];for(var a in e){var i,l,s=a,m=(l=e[s])===null||l===void 0||(i=l.publicModule)===null||i===void 0?void 0:i.exports;if(!e[s].isInitialized)try{window.ErrorUtils.setGlobalHandler(function(){}),__r(s),window.ErrorUtils.setGlobalHandler(Oi)}catch{}if(!m){Ro(s);continue}if(Pi(m),m.default&&m.__esModule&&r(m.default)){if(t)return m.default;n.push(m.default)}if(r(m)){if(t)return m;n.push(m)}}if(!t)return n}},"filterModules"),zr=window.modules,G=So(zr,!0),tt=So(zr),yo=o(function(e){return function(t){return e.every(function(r){return t[r]!==void 0})}},"propsFilter"),To=o(function(e,t){return t?function(r){return r?.name===e}:function(r){var n;return(r==null||(n=r.default)===null||n===void 0?void 0:n.name)===e}},"nameFilter"),Ao=o(function(e,t){return t?function(r){return r?.displayName===e}:function(r){var n;return(r==null||(n=r.default)===null||n===void 0?void 0:n.displayName)===e}},"dNameFilter"),No=o(function(e,t){return t?function(r){var n;return(r==null||(n=r.type)===null||n===void 0?void 0:n.name)===e}:function(r){var n,a;return(r==null||(a=r.default)===null||a===void 0||(n=a.type)===null||n===void 0?void 0:n.name)===e}},"tNameFilter"),Mi=o(function(e){return function(t){return t.getName&&t.getName.length===0&&t.getName()===e}},"storeFilter"),f=o(function(...e){return G(yo(e))},"findByProps"),Wr=o(function(...e){return tt(yo(e))},"findByPropsAll"),Y=o(function(e,t=!0){return G(To(e,t))},"findByName"),Kr=o(function(e,t=!0){return tt(To(e,t))},"findByNameAll"),Dt=o(function(e,t=!0){return G(Ao(e,t))},"findByDisplayName"),Xr=o(function(e,t=!0){return tt(Ao(e,t))},"findByDisplayNameAll"),Jr=o(function(e,t=!0){return G(No(e,t))},"findByTypeName"),Zr=o(function(e,t=!0){return tt(No(e,t))},"findByTypeNameAll"),Ce=o(function(e){return G(Mi(e))},"findByStoreName")});var on={};D(on,{getLoaderConfigPath:()=>nn,getLoaderIdentity:()=>Ui,getLoaderName:()=>Qr,getReactDevToolsProp:()=>en,getReactDevToolsVersion:()=>tn,getStoredTheme:()=>gr,getSysColors:()=>bo,getThemeFilePath:()=>qr,getVendettaLoaderIdentity:()=>It,isLoaderConfigSupported:()=>vr,isPyonLoader:()=>te,isReactDevToolsPreloaded:()=>pt,isSysColorsSupported:()=>rn,isThemeSupported:()=>re,isVendettaLoader:()=>z});function z(){return Re!=null}function te(){return He!=null}function Bi(){if(!te()||z())return null;var e={name:He.loaderName,features:{}};return vr()&&(e.features.loaderConfig=!0),rn()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return bo()},configurable:!0})),re()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){return gr()},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}function Ui(){return te()?He:z()?It():null}function It(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:Bi()}function Qr(){return te()?He.loaderName:z()?Re.name:"Unknown"}function vr(){return te()?!0:z()?Re.features.loaderConfig:!1}function re(){return te()?He.hasThemeSupport:z()?Re.features.themes!=null:!1}function gr(){if(te())return He.storedTheme;if(z()){var e,t=(e=Re.features.themes)===null||e===void 0?void 0:e.prop;return t&&globalThis[t]||null}return null}function qr(){return te()?"pyoncord/current-theme.json":z()?"vendetta_theme.json":null}function pt(){return te()?!1:z()?Re.features.devtools!=null:!1}function en(){return pt()&&z()?Re.features.devtools.prop:null}function tn(){return pt()&&z()?Re.features.devtools.version:null}function rn(){return te()?He.isSysColorsSupported:z()?Re.features.syscolors!=null:!1}function bo(){return rn()?te()?He.sysColors:z()?Re.features.syscolors.prop:null:null}function nn(){return te()?"pyoncord/loader.json":z()?"vendetta_loader.json":"loader.json"}var He,Re,fe=u(()=>{"use strict";He=globalThis.__PYON_LOADER__,Re=globalThis.__vendetta_loader;o(z,"isVendettaLoader");o(te,"isPyonLoader");o(Bi,"polyfillVendettaLoaderIdentity");o(Ui,"getLoaderIdentity");o(It,"getVendettaLoaderIdentity");It();o(Qr,"getLoaderName");o(vr,"isLoaderConfigSupported");o(re,"isThemeSupported");o(gr,"getStoredTheme");o(qr,"getThemeFilePath");o(pt,"isReactDevToolsPreloaded");o(en,"getReactDevToolsProp");o(tn,"getReactDevToolsVersion");o(rn,"isSysColorsSupported");o(bo,"getSysColors");o(nn,"getLoaderConfigPath")});var Se,xo=u(()=>{"use strict";we();Se=o(function(e,t){return Ct(e,t,{walkable:["props","children","child","sibling"]})},"findInReactTree")});function an(e,t,r,n){if(!(n>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var a of e)if(!(typeof a!="object"||a===null))try{var i=an(a,t,r,n+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var l of Object.keys(e))if(!(typeof e[l]!="object"||e[l]===null)&&!(r.walkable.length&&!r.walkable.includes(l))&&!r.ignore.includes(l))try{var s=an(e[l],t,r,n+1);if(s)return s}catch{}}}}var Ct,Do=u(()=>{"use strict";o(an,"treeSearch");Ct=o(function(e,t,{walkable:r=[],ignore:n=[],maxDepth:a=100}={}){return an(e,t,{walkable:r,ignore:n,maxDepth:a},0)},"findInTree")});async function Ve(e,t,r=1e4){var n=await fetch(e,{signal:Fi(r),...t});if(!n.ok)throw new Error("Request returned non-ok");return n}function Fi(e){var t=new AbortController;return setTimeout(function(){return t.abort(`Timed out after ${e}ms`)},e),t.signal}var Io=u(()=>{"use strict";o(Ve,"safeFetch");o(Fi,"timeoutSignal")});function ln(e){return Object.isFrozen(e)?Object.assign({},e):e}var Co=u(()=>{"use strict";o(ln,"unfreeze")});function wt(e,...t){var r={...e};return t.forEach(function(n){return delete r[n]}),r}var wo=u(()=>{"use strict";o(wt,"without")});function cn(){return{listeners:Object.values(sn).reduce(function(e,t){return e[t]=new Set,e},{}),on(e,t){this.listeners[e].has(t)||this.listeners[e].add(t)},off(e,t){this.listeners[e].delete(t)},once(e,t){var r=this,n=o(function(a,i){r.off(a,n),t(a,i)},"once");this.on(e,n)},emit(e,t){for(var r of this.listeners[e])r(e,t)}}}var sn,un=u(()=>{"use strict";(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(sn||(sn={}));o(cn,"createEmitter")});var hr={};D(hr,{DISCORD_SERVER:()=>fn,DISCORD_SERVER_ID:()=>dn,GITHUB:()=>mn,HTTP_REGEX:()=>Gi,HTTP_REGEX_MULTI:()=>nt,PLUGINS_CHANNEL_ID:()=>pn,PROXY_PREFIX:()=>rt,THEMES_CHANNEL_ID:()=>Lt});var fn,mn,rt,Gi,nt,dn,pn,Lt,ke=u(()=>{"use strict";fn="https://discord.gg/XjYgWXHb9Q",mn="https://github.com/pyoncord",rt="https://vd-plugins.github.io/proxy",Gi=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/,nt=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g,dn="1015931589865246730",pn="1091880384561684561",Lt="1091880434939482202"});var _r={};D(_r,{default:()=>W,logModule:()=>Er});var Er,Hi,W,ot=u(()=>{"use strict";b();Er=f("setLogFn").default,Hi=new Er("Vendetta"),W=Hi});var Rr={};D(Rr,{ButtonColors:()=>K});var K,vt=u(()=>{"use strict";(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(K||(K={}))});var we=u(()=>{"use strict";xo();Do();Io();Co();wo();un();ke();ot();vt()});var yr={};D(yr,{BundleUpdaterManager:()=>Ot,ClientInfoManager:()=>Sr,DeviceManager:()=>Te,FileManager:()=>A,MMKVManager:()=>Le,ThemeManager:()=>vn});var ye,Le,A,Sr,Te,Ot,vn,Ae=u(()=>{"use strict";ye=window.nativeModuleProxy,Le=ye.MMKVManager;A=ye.DCDFileManager??ye.RTNFileManager;Sr=ye.InfoDictionaryManager??ye.RTNClientInfoManager;Te=ye.DCDDeviceManager??ye.RTNDeviceManager,Ot=ye.BundleUpdaterManager,vn=ye.RTNThemeManager??ye.DCDTheme});var Oo,gn,Po,hn,Ne,$e,Mo=u(()=>{"use strict";_();Ae();Oo=/[<>:"\/\\|?*]/g,gn=o(function(e){return d.Platform.select({default:e,ios:A.saveFileToGallery?e:`Documents/${e}`})},"filePathFixer"),Po=o(function(e){return Oo.test(e)&&(e=e.replace(Oo,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`},"getMMKVPath"),hn=o(async function(e){await Le.getItem(e)&&Le.removeItem(e);var t=Po(e);if(await A.fileExists(`${A.getConstants().DocumentsDirPath}/${t}`)){var r;await((r=A.removeFile)===null||r===void 0?void 0:r.call(A,"documents",t))}},"purgeStorage"),Ne=o(function(e,t={}){var r=Po(e),n=JSON.stringify(t);return $e(r,t,async function(){var a=`${A.getConstants().DocumentsDirPath}/${r}`;if(!await A.fileExists(a)){var i=await Le.getItem(e)??n;if(i==="!!LARGE_VALUE!!"){var l=`${A.getConstants().CacheDirPath}/mmkv/${e}`;await A.fileExists(l)?i=await A.readFile(l,"utf8"):(console.log(`${e}: Experienced data loss :(`),i=n)}try{JSON.parse(i)}catch{console.error(`${e} had an unparseable data while migrating`),i=n}await A.writeFile("documents",gn(r),i,"utf8"),await Le.getItem(e)!==null&&(Le.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}}())},"createMMKVBackend"),$e=o(function(e,t={},r){return{get:async function(){await r;var n=`${A.getConstants().DocumentsDirPath}/${e}`;if(await A.fileExists(n)){var a=await A.readFile(n,"utf8");try{return JSON.parse(a)}catch{}}return await A.writeFile("documents",gn(e),JSON.stringify(t),"utf8"),JSON.parse(await A.readFile(n,"utf8"))},set:async function(n){await r,await A.writeFile("documents",gn(e),JSON.stringify(n),"utf8")}}},"createFileBackend")});var Pt={};D(Pt,{awaitSyncWrapper:()=>je,createFileBackend:()=>$e,createMMKVBackend:()=>Ne,createProxy:()=>Tr,createStorage:()=>me,purgeStorage:()=>hn,useProxy:()=>x,wrapSync:()=>be});function Tr(e={}){var t=cn();function r(n,a){return new Proxy(n,{get(i,l){if(l===Bo)return t;var s=[...a,l],m=i[l];return m!=null?(t.emit("GET",{path:s,value:m}),typeof m=="object"?r(m,s):m):m},set(i,l,s){return i[l]=s,t.emit("SET",{path:[...a,l],value:s}),!0},deleteProperty(i,l){var s=delete i[l];return s&&t.emit("DEL",{path:[...a,l]}),s}})}return o(r,"createProxy"),{proxy:r(e,[]),emitter:t}}function x(e){var t=e[Bo],[,r]=React.useReducer(function(n){return~n},0);return React.useEffect(function(){var n=o(function(){return r()},"listener");return t.on("SET",n),t.on("DEL",n),function(){t.off("SET",n),t.off("DEL",n)}},[]),e}async function me(e){var t=await e.get(),{proxy:r,emitter:n}=Tr(t),a=o(function(){return e.set(r)},"handler");return n.on("SET",a),n.on("DEL",a),r}function be(e){var t=void 0,r=[],n=o(function(a){return t?a():r.push(a)},"awaitInit");return e.then(function(a){t=a,r.forEach(function(i){return i()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(a){return[a,function(i,...l){return Reflect[a](t??i,...l)}]})),get(a,i,l){return i===Uo?n:Reflect.get(t??a,i,l)}})}var Bo,Uo,je,H=u(()=>{"use strict";un();Mo();Bo=Symbol.for("vendetta.storage.emitter"),Uo=Symbol.for("vendetta.storage.accessor");o(Tr,"createProxy");o(x,"useProxy");o(me,"createStorage");o(be,"wrapSync");je=o(function(e){return new Promise(function(t){return e[Uo](t)})},"awaitSyncWrapper")});var Et={};D(Et,{applyTheme:()=>Mt,color:()=>C,fetchTheme:()=>at,getThemeFromLoader:()=>Ye,initThemes:()=>Ki,installTheme:()=>pe,patchChatBackground:()=>_n,removeTheme:()=>it,selectTheme:()=>xe,themes:()=>O,updateThemes:()=>Ar});async function En(e){if(typeof e!="object")throw new Error("Theme must be an object");await $e(qr()||"theme.json").set(e)}function _n(){var e=Y("MessagesWrapperConnected",!1);if(e){var{MessagesWrapper:t}=f("MessagesWrapper");if(t){var r=[T("default",e,function(n,a){var i,l,s,m,g,E;return React.createElement(d.ImageBackground,{style:{flex:1,height:"100%"},source:(L==null||(l=L.data)===null||l===void 0||(i=l.background)===null||i===void 0?void 0:i.url)&&{uri:L.data.background.url}||0,blurRadius:typeof(L==null||(m=L.data)===null||m===void 0||(s=m.background)===null||s===void 0?void 0:s.blur)=="number"?L==null||(E=L.data)===null||E===void 0||(g=E.background)===null||g===void 0?void 0:g.blur:0,children:a})}),T("render",t.prototype,function(n,a){var i=Se(a,function(l){var s;return"HACK_fixModalInteraction"in l?.props&&(l==null||(s=l.props)===null||s===void 0?void 0:s.style)});i?i.props.style=Object.assign(d.StyleSheet.flatten(i.props.style??{}),{backgroundColor:"#0000"}):W.error("Didn't find Messages when patching MessagesWrapper!")})];return function(){return r.forEach(function(n){return n()})}}}}function Ho(e){if(de.valid(e))return de(e).hex();var t=Number(d.processColor(e));return de.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}function ki(e){if(e.semanticColors){var t=e.semanticColors;for(var r in t)for(var n in t[r])t[r][n]&&=Ho(t[r][n])}if(e.rawColors){var a=e.rawColors;for(var i in a)e.rawColors[i]=Ho(a[i]);d.Platform.OS==="android"&&$i(a)}return e}function $i(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[n,a]=t[r];e[n]&&(e[r]=de(e[n]).alpha(a).hex())}}async function at(e,t=!1){var r;try{r=await(await Ve(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}O[e]={id:e,selected:t,data:ki(r)},t&&En(O[e])}async function pe(e){if(typeof e!="string"||e in O)throw new Error("Theme already installed");await at(e)}async function xe(e){if(Object.values(O).forEach(function(t){return t.selected=t.id===e}),e==="default")return await En({});await En(O[e])}async function it(e){var t=O[e];return t.selected&&await xe("default"),delete O[e],t.selected}function Ye(){return gr()}async function Ar(){await je(O);var e=Ye();await Promise.allSettled(Object.keys(O).map(function(t){return at(t,e?.id===t)}))}function ko(e){return Yi.has(e)}function zi(){var e=G(function(r){var n;return r.isThemeDark&&((n=Object.getOwnPropertyDescriptor(r,"isThemeDark"))===null||n===void 0?void 0:n.value)}),t=o(function([r]){return r===oe?[ne]:void 0},"callback");Object.keys(C.RawColor).forEach(function(r){Object.defineProperty(C.RawColor,r,{configurable:!0,enumerable:!0,get:function(){var n,a;return ht?(L==null||(a=L.data)===null||a===void 0||(n=a.rawColors)===null||n===void 0?void 0:n[r])??Vo[r]:Vo[r]}})}),Fe("isThemeDark",e,t),Fe("isThemeLight",e,t),Fe("updateTheme",vn,t),gt.addChangeListener(function(){gt.theme&&(ht=gt.theme===oe,gt.theme!==oe&&(ne=gt.theme))}),T("get",Go,function([r],n){if(r==="SelectivelySyncedUserSettingsStore"){var a,i,l;!(n==null||(l=n._state)===null||l===void 0||(i=l.appearance)===null||i===void 0||(a=i.settings)===null||a===void 0)&&a.theme&&ht&&(n._state.appearance.settings.theme=oe)}else if(r==="ThemeStore"){var s;!(n==null||(s=n._state)===null||s===void 0)&&s.theme&&ht&&(n._state.theme=oe)}}),Fe("set",Go,function(r){if(r[1]){var n=r[0],a=JSON.parse(JSON.stringify(r[1])),i={SelectivelySyncedUserSettingsStore:function(){var l,s,m;if(!((m=a._state)===null||m===void 0||(s=m.appearance)===null||s===void 0||(l=s.settings)===null||l===void 0)&&l.theme){var g,E,{theme:y}=(E=a._state)===null||E===void 0||(g=E.appearance)===null||g===void 0?void 0:g.settings;ko(y)?ne=y:a._state.appearance.settings.theme=ne}},ThemeStore:function(){var l;if(!((l=a._state)===null||l===void 0)&&l.theme){var{theme:s}=a._state;ko(s)?(xe("default"),ne=s):a._state.theme=ne}}};return n in i?(i[n](),[n,a]):r}}),ue("resolveSemanticColor",C.default.meta??C.default.internal,function(r,n){var a,i,l,s,m,g,E,y,R;if(!ht||!L)return n(...r);if(r[1]!==oe)return n(...r);var[N,$]=$o(ne,r[1]),Qe=ne==="midnight"?2:ne==="light"?1:0;var qe=Vi[N]??N,j=(a=((l=L.data)===null||l===void 0||(i=l.semanticColors)===null||i===void 0?void 0:i[N])??((m=L.data)===null||m===void 0||(s=m.semanticColors)===null||s===void 0?void 0:s[qe]))===null||a===void 0?void 0:a[Qe];if(N==="CHAT_BACKGROUND"&&typeof((E=L.data)===null||E===void 0||(g=E.background)===null||g===void 0?void 0:g.alpha)=="number")return de(j||"black").alpha(1-L.data.background.alpha).hex();if(j)return j;var et=(R=L.data)===null||R===void 0||(y=R.rawColors)===null||y===void 0?void 0:y[$.raw];return et?$.opacity===1?et:de(et).alpha($.opacity).hex():n(...r)})}function Wi(e=ne){var t=gt.theme.toLowerCase();return t==="darker"||t==="midnight"||t==="dark"||t==="light"?t:e}function Mt(e,t,r=!0){t||(t=Wi()),L=e,ne=t,oe=`vd-theme-${ji++}-${t}`,e&&(C.Theme[oe.toUpperCase()]=oe,Object.keys(C.Shadow).forEach(function(n){return C.Shadow[n][oe]=C.Shadow[n][t]}),Object.keys(C.SemanticColor).forEach(function(n){var a,i,l;C.SemanticColor[n][oe]={...C.SemanticColor[n][t],override:e==null||(l=e.data)===null||l===void 0||(i=l.semanticColors)===null||i===void 0||(a=i[n])===null||a===void 0?void 0:a[0]}})),r&&(Fo.setShouldSyncAppearanceSettings(!1),Fo.updateTheme(e?oe:t))}async function Ki(){var e=Ye();ht=!!e,zi(),Mt(e,ne,!1),await Ar()}function $o(e,t){var r=t[$o._sym??=Object.getOwnPropertySymbols(t)[0]],n=C.SemanticColor[r];return[r,n[e]]}var C,Fo,Go,gt,O,Vi,Vo,ji,oe,ne,ht,L,Yi,ae=u(()=>{"use strict";_();we();b();F();H();ot();Ae();fe();C=f("SemanticColor"),Fo=f("updateTheme"),Go=f("storage"),gt=Ce("ThemeStore"),O=be(me(Ne("VENDETTA_THEMES"))),Vi={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};o(En,"writeTheme");o(_n,"patchChatBackground");o(Ho,"normalizeToHex");o(ki,"processData");o($i,"applyAndroidAlphaKeys");o(at,"fetchTheme");o(pe,"installTheme");o(xe,"selectTheme");o(it,"removeTheme");o(Ye,"getThemeFromLoader");o(Ar,"updateThemes");Vo={...C.RawColor},ji=0,oe="vd-theme",ne="darker",ht=!1,Yi=new Set(["darker","midnight","dark","light"]);o(ko,"isDiscordTheme");o(zi,"patchColor");o(Wi,"getDefaultFallbackTheme");o(Mt,"applyTheme");o(Ki,"initThemes");o($o,"extractInfo")});var Rn,d,de,Bt=u(()=>{"use strict";fe();Rn=o(function(e){for(var t in window.modules){var r,n=(r=window.modules[t])===null||r===void 0?void 0:r.publicModule.exports;if(n&&e(n))return n}},"basicFind");window.React=Rn(function(e){return e.createElement});d=Rn(function(e){return e.AppRegistry}),de=Rn(function(e){return e.brewer});if(re())try{(ae(),cr(Et)).initThemes()}catch(e){console.error("[Vendetta] Failed to initialize themes...",e)}});var Ht={};D(Ht,{Flux:()=>Nn,FluxDispatcher:()=>Rt,NavigationNative:()=>ve,React:()=>Pe,ReactNative:()=>d,assets:()=>lt,channels:()=>Ut,chroma:()=>de,clipboard:()=>V,commands:()=>_t,constants:()=>ie,i18n:()=>Oe,invites:()=>yn,lodash:()=>St,messageUtil:()=>st,moment:()=>Gt,navigation:()=>Tn,navigationStack:()=>An,stylesheet:()=>P,toasts:()=>Ft,url:()=>ze,util:()=>bn});function Ji(e){if(Sn){for(var t in e)e[t]=new Proxy(d.StyleSheet.flatten(e[t]),{get(r,n,a){var i=Reflect.get(r,n,a);return jo.isSemanticColor(i)?jo.resolveSemanticColor(Xi.theme,i):i}});return e}}var Xi,Sn,jo,ie,Ut,Oe,ze,Ft,P,V,lt,yn,_t,Tn,st,An,ve,Nn,Rt,Pe,Gt,St,bn,_=u(()=>{"use strict";b();Bt();Bt();Bt();Xi=Ce("ThemeStore"),Sn=f("colors","unsafe_rawColors"),jo=Sn.internal??Sn.meta;o(Ji,"createThemedStyleSheet");ie=f("Fonts","Permissions"),Ut=f("getVoiceChannelId"),Oe=f("Messages"),ze=f("openURL","openDeeplink"),Ft=G(function(e){return e.open&&e.close&&!e.startDrag&&!e.init&&!e.openReplay&&!e.setAlwaysOnTop&&!e.setAccountFlag}),P={...G(function(e){return e.createStyles&&!e.ActionSheet}),createThemedStyleSheet:Ji,...f("createThemedStyleSheet")},V=f("setString","getString","hasString"),lt=f("registerAsset"),yn=f("acceptInviteAndTransitionToInviteChannel"),_t=f("getBuiltInCommands"),Tn=f("pushLazy"),st=f("sendBotMessage"),An=f("createStackNavigator"),ve=f("NavigationContainer"),Nn=f("connectStores"),Rt=f("_currentDispatchActionType"),Pe=window.React,Gt=f("isMoment"),St=f("forEachRight"),bn=f("inspect","isNullOrUndefined")});var Vt={};D(Vt,{all:()=>ge,find:()=>Dn,getAssetByID:()=>Cn,getAssetByName:()=>In,getAssetIDByName:()=>p,patchAssets:()=>xn});function xn(){for(var e=T("registerAsset",lt,function(n,a){var i=n[0];ge[i.name]={...i,id:a}}),t=1;;t++){var r=lt.getAssetByID(t);if(!r)break;ge[r.name]||(ge[r.name]={...r,id:t})}return e}var ge,Dn,In,Cn,p,w=u(()=>{"use strict";_();F();ge={};o(xn,"patchAssets");Dn=o(function(e){return Object.values(ge).find(e)},"find"),In=o(function(e){return ge[e]},"getAssetByName"),Cn=o(function(e){return lt.getAssetByID(e)},"getAssetByID"),p=o(function(e){var t;return(t=ge[e])===null||t===void 0?void 0:t.id},"getAssetIDByName")});var kt={};D(kt,{showToast:()=>h});var Zi,h,he=u(()=>{"use strict";b();_();w();({uuid4:Zi}=f("uuid4")),h=o(function(e,t){return Ft.open({key:`vd-toast-${Zi()}`,content:e,source:t,icon:t})},"showToast");h.showCopyToClipboard=function(e="Copied plugin URL to clipboard."){(d.Platform.OS!=="android"||d.Platform.Version<=32)&&h(e,p("toast_copy_link"))}});var v,Q,X=u(()=>{"use strict";H();fe();v=be(me(Ne("VENDETTA_SETTINGS"))),Q=be(me($e(nn(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var Nr={};D(Nr,{connectToDebugger:()=>jt,getDebugInfo:()=>ct,patchLogHook:()=>wn,socket:()=>J,toggleSafeMode:()=>$t,versionHash:()=>yt});async function $t(){var e;if(v.safeMode={...v.safeMode,enabled:!(!((e=v.safeMode)===null||e===void 0)&&e.enabled)},re()){var t,r,n;if(!((t=Ye())===null||t===void 0)&&t.id&&(v.safeMode.currentThemeId=Ye().id),!((r=v.safeMode)===null||r===void 0)&&r.enabled)await xe("default");else if(!((n=v.safeMode)===null||n===void 0)&&n.currentThemeId){var a;await xe((a=v.safeMode)===null||a===void 0?void 0:a.currentThemeId)}}setTimeout(Ot.reload,400)}function jt(e){if(J!==void 0&&J.readyState!==WebSocket.CLOSED&&J.close(),!e){h("Invalid debugger URL!",p("Small"));return}J=new WebSocket(`ws://${e}`),J.addEventListener("open",function(){return h("Connected to debugger.",p("Check"))}),J.addEventListener("message",function(t){try{(0,eval)(t.data)}catch(r){console.error(r)}}),J.addEventListener("error",function(t){console.log(`Debugger error: ${t.message}`),h("An error occurred with the debugger connection!",p("Small"))})}function wn(){var e=T("nativeLoggingHook",globalThis,function(t){J?.readyState===WebSocket.OPEN&&J.send(JSON.stringify({message:t[0],level:t[1]})),W.log(t[0])});return function(){J&&J.close(),e()}}function ct(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",n=d.Platform.constants,a=n.reactNativeVersion;return{vendetta:{version:yt,loader:Qr()},discord:{version:Sr.Version,build:Sr.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):`${a.major}.${a.minor}.${a.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...d.Platform.select({android:{os:{name:"Android",version:n.Release,sdk:n.Version}},ios:{os:{name:n.systemName,version:n.osVersion}}}),...d.Platform.select({android:{device:{manufacturer:n.Manufacturer,brand:n.Brand,model:n.Model,codename:Te.device}},ios:{device:{manufacturer:Te.deviceManufacturer,brand:Te.deviceBrand,model:Te.deviceModel,codename:Te.device}}})}}var J,yt,We=u(()=>{"use strict";_();F();ae();Ae();w();he();X();ot();fe();o($t,"toggleSafeMode");o(jt,"connectToDebugger");o(wn,"patchLogHook");yt="d633f4e";o(ct,"getDebugInfo")});var br,Tt,At,xr=u(()=>{"use strict";(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(br||(br={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(Tt||(Tt={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(At||(At={}))});var zo,Yo=u(()=>{zo={ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",CONFIRMATION_LINK_IS_A_TYPE:"This link is a {urlType}, would you like to install it?",COPY_URL:"Copy URL",DELETE:"Delete",DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",ENABLE_UPDATES:"Enable updates",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_PLUGIN:"Install Plugin",INSTALL_THEME:"Install Theme",INSTALL_TITLE:"Install {title}",LINKS:"Links",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by Vendetta staff. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PHONE_MODEL:"Model",PLATFORM:"Platform",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",RETRY:"Retry",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled.",SAFE_MODE_NOTICE_THEMES_EXTEND:"If a theme appears to be causing the issue, you can press below to disable it persistently.",SEARCH:"Search",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_SUCCESSFULLY_INSTALLED:"Successfully installed",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",VERSIONS:"Versions",COMMAND_DEBUG_DESC:"Send Vendetta debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally."}});function le(e,t){var r=c[e];return r.replaceAll(/{(.*)}/g,function(n,a){return t[a]??a})}function Dr(e,t){var r=c[e],n=r.split(/({[^}]+})/);for(var a in t)for(var i=0;i<n.length;i++)n[i]===`{${a}}`&&(n[i]=t[a]);return n}var c,B=u(()=>{"use strict";Yo();c=new Proxy({},{get:function(e,t){return zo[t]}});o(le,"formatString");o(Dr,"formatStringSplit")});var Ko={};D(Ko,{default:()=>Wo});function Wo(){return{name:"debug",description:c.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:Tt.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=ct(),n=["**Bunny Debug Info**",`> Bunny: ${r.vendetta.version} (${r.vendetta.loader})`,`> Discord: ${r.discord.version} (${r.discord.build})`,`> React: ${r.react.version} (RN ${r.react.nativeVersion})`,`> Hermes: ${r.hermes.version} (bcv${r.hermes.bytecodeVersion})`,`> System: ${r.os.name} ${r.os.version} (SDK ${r.os.sdk})`,`> Device: ${r.device.model} (${r.device.codename})`].join(`
`);e?.value?st.sendBotMessage(t.channel.id,n):st.sendMessage(t.channel.id,{content:n})}}}var Xo=u(()=>{"use strict";B();We();_();xr();o(Wo,"default")});var el,tl,rl,Ln,Jo=u(()=>{"use strict";el=o(function(e){return{status:"fulfilled",value:e}},"allSettledFulfill"),tl=o(function(e){return{status:"rejected",reason:e}},"allSettledReject"),rl=o(function(e){return Promise.resolve(e).then(el,tl)},"mapAllSettled"),Ln=o(function(e){return Promise.all(Array.from(e).map(rl))},"allSettled");Promise.allSettled??=Ln});var zt={};D(zt,{evalPlugin:()=>Zo,fetchPlugin:()=>Ke,getSettings:()=>Yt,initPlugins:()=>On,installPlugin:()=>se,plugins:()=>I,removePlugin:()=>ft,startPlugin:()=>Xe,stopPlugin:()=>Je});async function Ke(e){e.endsWith("/")||(e+="/");var t=I[e],r;try{r=await(await Ve(e+"manifest.json",{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var n;if(t?.manifest.hash!==r.hash)try{n=await(await Ve(e+(r.main||"index.js"),{cache:"no-store"})).text()}catch{}if(!n&&!t)throw new Error(`Failed to fetch JS for ${e}`);I[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:n??t.js}}async function se(e,t=!0){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in I)throw new Error("Plugin already installed");await Ke(e),t&&await Xe(e)}async function Zo(e){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await me(Ne(e.id))},logger:new Er(`Bunny \xBB ${e.manifest.name}`)},r=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,n=(0,eval)(r)(t),a=typeof n=="function"?n():n;return a?.default??a??{}}async function Xe(e){e.endsWith("/")||(e+="/");var t=I[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{var r;if(!(!((r=v.safeMode)===null||r===void 0)&&r.enabled)){var n,a=await Zo(t);ut[e]=a,(n=a.onLoad)===null||n===void 0||n.call(a)}t.enabled=!0}catch(s){W.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,s);try{var i,l;(l=ut[t.id])===null||l===void 0||(i=l.onUnload)===null||i===void 0||i.call(l)}catch(m){W.error(`Plugin ${t.id} errored whilst unloading`,m)}delete ut[e],t.enabled=!1}}function Je(e,t=!0){var r;e.endsWith("/")||(e+="/");var n=I[e],a=ut[e];if(!n)throw new Error("Attempted to stop non-existent plugin");if(!(!((r=v.safeMode)===null||r===void 0)&&r.enabled)){try{var i;a==null||(i=a.onUnload)===null||i===void 0||i.call(a)}catch(l){W.error(`Plugin ${n.id} errored whilst unloading`,l)}delete ut[e]}t&&(n.enabled=!1)}async function ft(e){e.endsWith("/")||(e+="/");var t=I[e];t.enabled&&Je(e),delete I[e],await hn(e)}async function On(){var e;await je(v),await je(I);var t=Object.keys(I);return!((e=v.safeMode)===null||e===void 0)&&e.enabled||(await Ln(t.filter(function(r){return I[r].enabled}).map(async function(r){return I[r].update&&await Ke(r).catch(function(n){return W.error(n.message)}),await Xe(r)})),t.filter(function(r){return!I[r].enabled&&I[r].update}).forEach(function(r){return Ke(r)})),nl}var I,ut,nl,Yt,De=u(()=>{"use strict";we();H();ot();X();Jo();I=be(me(Ne("VENDETTA_PLUGINS"))),ut={};o(Ke,"fetchPlugin");o(se,"installPlugin");o(Zo,"evalPlugin");o(Xe,"startPlugin");o(Je,"stopPlugin");o(ft,"removePlugin");o(On,"initPlugins");nl=o(function(){return Object.keys(ut).forEach(function(e){return Je(e,!1)})},"stopAllPlugins"),Yt=o(function(e){var t;return(t=ut[e])===null||t===void 0?void 0:t.settings},"getSettings")});var qo={};D(qo,{default:()=>Qo});function Qo(){return{name:"plugins",description:c.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:Tt.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=Object.values(I).sort(function(l,s){return l.manifest.name.localeCompare(s.manifest.name)}),n=r.filter(function(l){return l.enabled}).map(function(l){return l.manifest.name}),a=r.filter(function(l){return!l.enabled}).map(function(l){return l.manifest.name}),i=[`**Installed Plugins (${r.length}):**`,...n.length>0?[`Enabled (${n.length}):`,"> "+n.join(", ")]:[],...a.length>0?[`Disabled (${a.length}):`,"> "+a.join(", ")]:[]].join(`
`);e?.value?st.sendBotMessage(t.channel.id,i):st.sendMessage(t.channel.id,{content:i})}}}var ea=u(()=>{"use strict";_();De();B();xr();o(Qo,"default")});var Kt={};D(Kt,{patchCommands:()=>Pn,registerCommand:()=>Ir});function Pn(){var e=T("getBuiltInCommands",_t,function([t],r){if(t===At.CHAT)return r.concat(Wt)});return[(Xo(),cr(Ko)),(ea(),cr(qo))].forEach(function(t){return Ir(t.default())}),function(){Wt=[],e()}}function Ir(e){var t=_t.getBuiltInCommands(At.CHAT,!0,!1);t.sort(function(a,i){return parseInt(i.id)-parseInt(a.id)});var r=t[t.length-1];if(e.id=(parseInt(r.id,10)-1).toString(),e.__isBunny=!0,e.applicationId??="-1",e.type??=At.CHAT,e.inputType=br.BUILT_IN,e.displayName??=e.name,e.displayDescription??=e.description,e.options)for(var n of e.options)n.displayName??=n.name,n.displayDescription??=n.description;return Wt.push(e),function(){return Wt=Wt.filter(function({id:a}){return a!==e.id})}}var Wt,Cr=u(()=>{"use strict";_();F();xr();Wt=[];o(Pn,"patchCommands");o(Ir,"registerCommand")});function sl(e,t=null,r=!1){var n,a;if(e.guild_id===dn){var i;if(e.parent_id===pn)i="Plugin";else if(e.parent_id===Lt&&re())i="Theme";else return;var{firstMessage:l}=r?il(e):{firstMessage:t},s=l==null||(a=l.content)===null||a===void 0||(n=a.match(nt))===null||n===void 0?void 0:n.filter(Xt[i].urlsFilter);if(!(!s||!s[0]))return i==="Plugin"&&!s[0].endsWith("/")&&(s[0]+="/"),[i,s[0]]}}function ra(e,t=null,r=!1){var[n,a]=sl(e,t,r)??[];x(I),x(O);var[i,l]=React.useState(!1);if(!n||!a)return[!0];var s=!!Xt[n].storage[a],m=o(async function(){l(!0);try{await Xt[n].installOrRemove(a)}catch(g){h(g.message,p("Small"))}finally{l(!1)}},"installOrRemove");return[!1,n,s,i,m]}function Mn(){var e=[cl(),ul()];return function(){return e.map(function(t){return t()})}}var ol,ta,al,il,ll,Xt,cl,ul,na=u(()=>{"use strict";b();ke();F();De();ae();we();w();he();H();fe();B();ol=Y("ForumPostLongPressActionSheet",!1),{ActionSheetRow:ta}=f("ActionSheetRow"),{Button:al}=f("TableRow"),{useFirstForumPostMessage:il}=f("useFirstForumPostMessage"),ll=f("MostCommonForumPostReaction"),Xt={Plugin:{storage:I,urlsFilter:function(e){return e.startsWith(rt)},installOrRemove:function(e){var t=Xt.Plugin.storage[e];return t?ft(e):se(e)}},Theme:{storage:O,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){var t=Xt.Theme.storage[e];return t?it(e):pe(e)}}};o(sl,"useExtractThreadContent");o(ra,"useInstaller");cl=o(function(){return T("default",ol,function([{thread:e}],t){var[r,n,a,i,l]=ra(e);if(!r){var s=Se(t,function(g){var E;return g==null||(E=g[0])===null||E===void 0?void 0:E.key}),m=s[0].type;s.unshift(React.createElement(m,{key:"install"},React.createElement(ta,{icon:React.createElement(ta.Icon,{source:p(a?"ic_message_delete":"DownloadIcon")}),label:Dr(a?"UNINSTALL_TITLE":"INSTALL_TITLE",{title:n}),disabled:i,onPress:l})))}})},"actionSheetPatch"),ul=o(function(){return T("MostCommonForumPostReaction",ll,function([{thread:e,firstMessage:t}],r){var[n,a,i,l,s]=ra(e,t,!0);if(!n)return React.createElement(React.Fragment,null,r,React.createElement(al,{size:"sm",loading:l,disabled:l,variant:i?"danger":"primary",text:i?c.UNINSTALL:c.INSTALL,onPress:s,icon:p(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}}))})},"installButtonPatch");o(Mn,"default")});function Ze({label:e,icon:t,noPadding:r=!1,noAnimation:n=!1,children:a}){var[i,l]=React.useState(!0);return React.createElement(React.Fragment,null,React.createElement(oa,{label:e,icon:t&&React.createElement(oa.Icon,{source:p(t)}),trailing:React.createElement(fl.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:function(){l(!i),n||d.LayoutAnimation.configureNext(d.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&React.createElement(React.Fragment,null,React.createElement(d.View,{style:!r&&{paddingHorizontal:15}},a)))}var fl,oa,aa=u(()=>{"use strict";_();w();b();({FormRow:fl}=f("FormRow")),{TableRow:oa}=f("TableRow");o(Ze,"Summary")});function ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var la=u(()=>{o(ia,"_class_call_check")});function sa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ca(e,t,r){return t&&sa(e.prototype,t),r&&sa(e,r),e}var ua=u(()=>{o(sa,"_defineProperties");o(ca,"_create_class")});function fa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ma=u(()=>{o(fa,"_define_property")});function wr(e,t){return wr=Object.setPrototypeOf||o(function(n,a){return n.__proto__=a,n},"setPrototypeOf"),wr(e,t)}var da=u(()=>{o(wr,"_set_prototype_of")});function pa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}var va=u(()=>{da();o(pa,"_inherits")});function Jt(e){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"getPrototypeOf"),Jt(e)}var ga=u(()=>{o(Jt,"_get_prototype_of")});function ha(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ea=u(()=>{o(ha,"_is_native_reflect_construct")});function _a(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ra=u(()=>{o(_a,"_assert_this_initialized")});function Sa(e){return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var ya=u(()=>{o(Sa,"_type_of")});function Ta(e,t){return t&&(Sa(t)==="object"||typeof t=="function")?t:_a(e)}var Aa=u(()=>{Ra();ya();o(Ta,"_possible_constructor_return")});function Na(e){var t=ha();return o(function(){var n=Jt(e),a;if(t){var i=Jt(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Ta(this,a)},"_createSuperInternal")}var ba=u(()=>{ga();Ea();Aa();o(Na,"_create_super")});var xa,ml,M,Lr=u(()=>{"use strict";la();ua();ma();va();ba();B();_();Z();xa=P.createThemedStyleSheet({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),M=function(e){"use strict";pa(r,e);var t=Na(r);function r(n){ia(this,r);var a;return a=t.call(this,n),a.state={hasErr:!1},a}return o(r,"ErrorBoundary"),ca(r,[{key:"render",value:o(function(){var a=this;return this.state.hasErr?Pe.createElement(d.ScrollView,{style:xa.view},Pe.createElement(U.FormText,{style:xa.title},c.UH_OH),Pe.createElement(Me,{selectable:!0,style:{marginBottom:5}},this.state.errText),Pe.createElement(ce,{color:ce.Colors.RED,size:ce.Sizes.MEDIUM,look:ce.Looks.FILLED,onPress:function(){return a.setState({hasErr:!1,errText:void 0})},text:c.RETRY})):this.props.children},"render")}]),r}(ml=Pe.Component);fa(M,"getDerivedStateFromError",function(e){return{hasErr:!0,errText:e.message}})});var Zt={};D(Zt,{rawColors:()=>Fn,semanticColors:()=>S});var Bn,Un,S,Fn,Ie=u(()=>{"use strict";_();ae();S=(C===null||C===void 0||(Bn=C.default)===null||Bn===void 0?void 0:Bn.colors)??(ie===null||ie===void 0?void 0:ie.ThemeColorMap),Fn=(C===null||C===void 0||(Un=C.default)===null||Un===void 0?void 0:Un.unsafe_rawColors)??(ie===null||ie===void 0?void 0:ie.Colors)});function Me({selectable:e,style:t,children:r}){return e?d.Platform.select({ios:React.createElement(dl,{style:t,children:r}),default:React.createElement(Da,{style:t,children:r,selectable:!0})}):React.createElement(Da,{style:t,children:r})}var Ia,dl,Da,Ca=u(()=>{"use strict";_();Ie();Ia=P.createThemedStyleSheet({codeBlock:{fontFamily:ie.Fonts.CODE_SEMIBOLD,fontSize:12,textAlignVertical:"center",backgroundColor:S.BACKGROUND_SECONDARY,color:S.TEXT_NORMAL,borderWidth:1,borderRadius:4,borderColor:S.BACKGROUND_TERTIARY,padding:10}}),dl=o(function({style:e,children:t}){return React.createElement(d.TextInput,{editable:!1,multiline:!0,style:[Ia.codeBlock,e&&e],value:t})},"InputBasedCodeblock"),Da=o(function({selectable:e,style:t,children:r}){return React.createElement(d.Text,{selectable:e,style:[Ia.codeBlock,t&&t]},r)},"TextBasedCodeblock");o(Me,"Codeblock")});function vl(){return React.createElement(d.Image,{style:{transform:[{scale:.8}]},source:p("search")})}function Be({onChangeText:e,placeholder:t,style:r}){var[n,a]=React.useState(""),i=o(function(l){a(l),e?.(l)},"onChange");return React.createElement(M,null,React.createElement(d.View,{style:r},React.createElement(pl,{isClearable:!0,grow:!0,leadingIcon:vl,placeholder:t??c.SEARCH,onChange:i,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:n})))}var pl,wa=u(()=>{"use strict";_();b();Lr();w();B();({TextInput:pl}=f("TableRow"));o(vl,"SearchIcon");o(Be,"default")});var tr={};D(tr,{Alert:()=>Qt,Button:()=>ce,Codeblock:()=>Me,ErrorBoundary:()=>M,Forms:()=>U,General:()=>Gn,HelpMessage:()=>qt,SafeAreaView:()=>er,Search:()=>Be,Summary:()=>Ze});var U,Gn,Qt,ce,qt,er,Z=u(()=>{"use strict";b();aa();Lr();Ca();wa();U=f("Form","FormSection"),Gn=f("Button","Text","View"),Qt=Dt("FluxContainer(Alert)"),ce=f("Looks","Colors","Sizes"),qt=Y("HelpMessage"),er=f("useSafeAreaInsets").SafeAreaView});function Hn({title:e,confirmText:t,confirmColor:r,onConfirm:n,cancelText:a,placeholder:i,initialValue:l="",secureTextEntry:s}){var[m,g]=React.useState(l),[E,y]=React.useState("");function R(){var N=Promise.resolve(n(m));N.then(function(){La.close()}).catch(function($){y($.message)})}return o(R,"onConfirmWrapper"),React.createElement(Qt,{title:e,confirmText:t,confirmColor:r,isConfirmButtonDisabled:E.length!==0,onConfirm:R,cancelText:a,onCancel:function(){return La.close()}},React.createElement(gl,{placeholder:i,value:m,onChange:function(N){g(typeof N=="string"?N:N.text),E&&y("")},returnKeyType:"done",onSubmitEditing:R,error:E||void 0,secureTextEntry:s,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}}))}var gl,La,Oa=u(()=>{"use strict";b();Z();({FormInput:gl}=U),La=f("openLazy","close");o(Hn,"InputAlert")});var rr={};D(rr,{showConfirmationAlert:()=>q,showCustomAlert:()=>Or,showInputAlert:()=>mt});function q(e){var t=e;return t.body=e.content,delete t.content,t.isDismissable??=!0,Pa.show(t)}var Pa,Or,mt,Ue=u(()=>{"use strict";b();Oa();Pa=f("openLazy","close");o(q,"showConfirmationAlert");Or=o(function(e,t){return Pa.openLazy({importer:async function(){return function(){return React.createElement(e,t)}}})},"showCustomAlert"),mt=o(function(e){return Or(Hn,e)},"showInputAlert")});function Ma(e){return e.startsWith(rt)?"Plugin":e.endsWith(".json")&&re()?"Theme":void 0}function Ba(e,t){(e==="Plugin"?se:pe)(t).then(function(){h(c.TOASTS_SUCCESSFULLY_INSTALLED,p("Check"))}).catch(function(r){h(r.message,p("Small"))})}function Vn(){var e=new Array;return e.push(T("showSimpleActionSheet",hl,function(t){if(t[0].key==="LongPressUrl"){var{header:{title:r},options:n}=t[0],a=Ma(r);a&&n.push({label:le("INSTALL_TITLE",{urlType:a}),onPress:function(){return Ba(a,r)}})}})),e.push(ue("handleClick",El,async function(t,r){var n,{href:a}=t[0],i=Ma(a);if(!i)return r.apply(this,t);if(i==="Theme"&&((n=Sl(Rl()))===null||n===void 0?void 0:n.parent_id)!==Lt)return r.apply(this,t);q({title:c.HOLD_UP,content:Dr("CONFIRMATION_LINK_IS_A_TYPE",{urlType:React.createElement(d.Text,{style:yl["text-md/semibold"]},i)}),onConfirm:function(){return Ba(i,a)},confirmText:c.INSTALL,cancelText:c.CANCEL,secondaryConfirmText:c.OPEN_IN_BROWSER,onConfirmSecondary:function(){return _l(a)}})})),function(){return e.forEach(function(t){return t()})}}var hl,El,_l,Rl,Sl,yl,Ua=u(()=>{"use strict";b();_();ke();F();De();ae();Ue();w();he();fe();B();hl=G(function(e){var t;return e?.showSimpleActionSheet&&!(!((t=Object.getOwnPropertyDescriptor(e,"showSimpleActionSheet"))===null||t===void 0)&&t.get)}),El=f("handleClick"),{openURL:_l}=ze,{getChannelId:Rl}=Ut,{getChannel:Sl}=f("getChannel"),{TextStyleSheet:yl}=f("TextStyleSheet");o(Ma,"typeFromUrl");o(Ba,"installWithToast");o(Vn,"default")});function kn(){var e=new Array;return e.push(Mn()),e.push(Vn()),function(){return e.forEach(function(t){return t()})}}var Fa=u(()=>{"use strict";na();Ua();o(kn,"initQuickInstall")});function $n(){return T("render",Tl.prototype,function(e,t){var r=this,n;if(this.state.error){this.state.activeTab??="message";var a=Ha.find(function(s){return s.id===r.state.activeTab}),i=this.state.error[this.state.activeTab],l=[{text:"Restart Discord",onPress:this.handleReload},...!((n=v.safeMode)===null||n===void 0)&&n.enabled?[]:[{text:"Restart in Safe Mode",onPress:$t}],{text:"Retry Render",color:K.RED,onPress:function(){return r.setState({info:null,error:null})}}];return React.createElement(M,null,React.createElement(er,{style:nr.container},React.createElement(d.View,{style:nr.header},React.createElement(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),React.createElement(d.View,{style:{flex:2,paddingLeft:24}},React.createElement(d.Text,{style:nr.headerTitle},t.props.title),React.createElement(d.Text,{style:nr.headerDescription},t.props.body))),React.createElement(d.View,{style:{flex:6}},React.createElement(d.View,{style:{paddingBottom:8}},React.createElement(Al,{tabs:Ha,activeTab:this.state.activeTab,onTabSelected:function(s){r.setState({activeTab:s})}})),React.createElement(Me,{selectable:!0,style:{flex:1,textAlignVertical:"top"}},a?.trimWhitespace?i.split(`
`).filter(function(s){return s.length!==0}).map(function(s){return s.trim()}).join(`
`):i)),React.createElement(d.View,{style:nr.footer},l.map(function(s){var m=l.indexOf(s)!==0?8:0;return React.createElement(ce,{text:s.text,color:s.color??K.BRAND,size:s.size??"small",onPress:s.onPress,style:Te.isTablet?{flex:`0.${l.length}`,marginLeft:m}:{marginTop:m}})}))))}})}var Tl,Al,um,Ga,nr,Ha,Va=u(()=>{"use strict";_();b();F();We();Ae();Ie();Z();X();vt();Tl=Y("ErrorBoundary"),{BadgableTabBar:Al}=f("BadgableTabBar"),um=Ce("ThemeStore"),{TextStyleSheet:Ga}=f("TextStyleSheet"),nr=P.createThemedStyleSheet({container:{flex:1,backgroundColor:S.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...Ga["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:S.HEADER_PRIMARY},headerDescription:{...Ga["text-sm/medium"],textAlign:"center",color:S.TEXT_MUTED},footer:{flexDirection:Te.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),Ha=[{id:"message",title:"Message"},{id:"stack",title:"Stack Trace"},{id:"componentStack",title:"Component",trimWhitespace:!0}];o($n,"default")});function Pr({alertTitle:e,installFunction:t}){return React.createElement(d.TouchableOpacity,{onPress:function(){return V.getString().then(function(r){var n;return mt({title:e,initialValue:((n=r.match(nt))===null||n===void 0?void 0:n[0])??"",placeholder:"https://example.com/",onConfirm:function(a){return t(a)},confirmText:c.INSTALL,cancelText:c.CANCEL})})}},React.createElement(d.Image,{style:Nl.icon,source:p("ic_add_24px")}))}var Nl,ka=u(()=>{"use strict";_();ke();Ue();w();Ie();B();Nl=P.createThemedStyleSheet({icon:{marginRight:10,tintColor:S.HEADER_PRIMARY}});o(Pr,"InstallButton")});function Mr({label:e,version:t,icon:r,padding:n}){return React.createElement($a,{style:n&&{paddingHorizontal:15,paddingVertical:-15},label:e,icon:React.createElement($a.Icon,{source:p(r)}),trailing:React.createElement(bl,null,t),onPress:function(){V.setString(`${e} - ${t}`),h.showCopyToClipboard()}})}var $a,bl,ja=u(()=>{"use strict";_();w();he();Z();b();({TableRow:$a}=f("TableRow")),{FormText:bl}=U;o(Mr,"Version")});function Yn(){var e,t;x(v);var r=[{label:c.BUNNY,version:k.vendetta.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${k.discord.version} (${k.discord.build})`,icon:"Discord"},{label:"React",version:k.react.version,icon:"ic_category_16px"},{label:"React Native",version:k.react.nativeVersion,icon:"mobile"},{label:c.BYTECODE,version:k.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],n=[{label:c.LOADER,version:k.vendetta.loader,icon:"ic_download_24px"},{label:c.OPERATING_SYSTEM,version:`${k.os.name} ${k.os.version}`,icon:"ic_cog_24px"},...k.os.sdk?[{label:"SDK",version:k.os.sdk,icon:"pencil"}]:[],{label:c.MANUFACTURER,version:k.device.manufacturer,icon:"ic_badge_staff"},{label:c.BRAND,version:k.device.brand,icon:"ic_settings_boost_24px"},{label:c.PHONE_MODEL,version:k.device.model,icon:"ic_phonelink_24px"},{label:d.Platform.select({android:c.CODENAME,ios:c.MACHINE_ID}),version:k.device.codename,icon:"ic_compose_24px"}];return React.createElement(d.ScrollView,{style:Il.container},React.createElement(xl,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(jn,{title:c.LINKS},React.createElement(Ee,{label:c.DISCORD_SERVER,icon:React.createElement(Ee.Icon,{source:p("Discord")}),trailing:Ee.Arrow,onPress:function(){return ze.openDeeplink(fn)}}),React.createElement(Ee,{label:c.GITHUB,icon:React.createElement(Ee.Icon,{source:p("img_account_sync_github_white")}),trailing:Ee.Arrow,onPress:function(){return ze.openURL(mn)}})),React.createElement(jn,{title:c.ACTIONS},React.createElement(Ee,{label:c.RELOAD_DISCORD,icon:React.createElement(Ee.Icon,{source:p("ic_message_retry")}),onPress:function(){return d.NativeModules.BundleUpdaterManager.reload()}}),React.createElement(Ee,{label:!((e=v.safeMode)===null||e===void 0)&&e.enabled?c.RELOAD_IN_NORMAL_MODE:c.RELOAD_IN_SAFE_MODE,subLabel:!((t=v.safeMode)===null||t===void 0)&&t.enabled?c.RELOAD_IN_NORMAL_MODE_DESC:c.RELOAD_IN_SAFE_MODE_DESC,icon:React.createElement(Ee.Icon,{source:p("ic_privacy_24px")}),onPress:$t}),React.createElement(Dl,{label:c.DEVELOPER_SETTINGS,icon:React.createElement(Ee.Icon,{source:p("ic_progress_wrench_24px")}),value:v.developerSettings,onValueChange:function(a){v.developerSettings=a}})),React.createElement(jn,{title:c.INFO},React.createElement(Ze,{noPadding:!0,label:c.VERSIONS,icon:"ic_information_filled_24px"},r.map(function(a){return React.createElement(Mr,{padding:!0,label:a.label,version:a.version,icon:a.icon})})),React.createElement(Ze,{noPadding:!0,label:c.PLATFORM,icon:"ic_mobile_device"},n.map(function(a){return React.createElement(Mr,{padding:!0,label:a.label,version:a.version,icon:a.icon})})))))}var xl,Ee,Dl,jn,k,Il,Ya=u(()=>{"use strict";_();ke();We();H();w();Z();X();ja();b();Ie();B();({Stack:xl,TableRow:Ee,TableSwitchRow:Dl,TableRowGroup:jn}=f("TableRow")),k=ct(),Il=P.createThemedStyleSheet({container:{flex:1,backgroundColor:S.BACKGROUND_MOBILE_SECONDARY}});o(Yn,"General")});function or({title:e,fetchFunction:t,items:r,safeModeMessage:n,safeModeExtras:a,card:i}){var l;x(v),x(r);var s=Cl.useSharedValue(0),m=React.useRef(0),[g,E]=React.useState("");return React.createElement(M,null,React.createElement(d.FlatList,{ListHeaderComponent:React.createElement(React.Fragment,null,((l=v.safeMode)===null||l===void 0?void 0:l.enabled)&&React.createElement(d.View,{style:{marginBottom:10}},React.createElement(qt,{messageType:0},n),a),React.createElement(Be,{style:{marginBottom:15},onChangeText:function(y){return E(y.toLowerCase())},placeholder:c.SEARCH})),onScroll:function(y){y.nativeEvent.contentOffset.y<=0||(s.value=+(y.nativeEvent.contentOffset.y>m.current),m.current=y.nativeEvent.contentOffset.y)},onMomentumScrollEnd:function(){return s.value=0},style:{paddingHorizontal:10,paddingTop:10},contentContainerStyle:{paddingBottom:70},data:Object.values(r).filter(function(y){var R;return(R=y.id)===null||R===void 0?void 0:R.toLowerCase().includes(g)}),renderItem:function({item:y,index:R}){return React.createElement(i,{item:y,index:R})}}),React.createElement(wl,{text:le("INSTALL_TITLE",{title:e}),icon:p("DownloadIcon"),state:{collapseText:s},onPress:function(){V.getString().then(function(y){var R;return mt({title:le("INSTALL_TITLE",{title:e}),initialValue:((R=y.match(nt))===null||R===void 0?void 0:R[0])??"",placeholder:"https://example.com/",onConfirm:function(N){return t(N)},confirmText:c.INSTALL,cancelText:c.CANCEL})})}}))}var Cl,wl,zn=u(()=>{"use strict";_();H();Z();X();b();ke();Ue();w();B();Cl=f("useSharedValue"),{FloatingActionButton:wl}=f("FloatingActionButton");o(or,"AddonPage")});function Wn(e){var t=React.useRef(null);return React.useEffect(function(){var r,n,a;if(d.Platform.OS==="android"){var i=(a=t.current)===null||a===void 0||(n=a._children)===null||n===void 0||(r=n[0])===null||r===void 0?void 0:r._nativeTag;return function(){if(i)var l=ue("setAccessibilityFocus",za,function([s],m){if(s!==i)return m.apply(za,[s]);l()})}}},[]),React.createElement(d.View,{ref:t},React.createElement(Ll,{...e,title:e.title,children:e.children,triggerOnLongPress:e.triggerOnLongPress,items:e.items,align:e.align}))}var Ll,za,Wa=u(()=>{"use strict";b();Bt();F();({ContextMenu:Ll}=f("ContextMenu")),{AccessibilityInfo:za}=d;o(Wn,"ContextMenu")});function ar(e){var t=e.toggleValue??!1,r={style:Br.header,label:e.headerLabel,icon:e.headerIcon&&React.createElement(Ol,{source:p(e.headerIcon)})};return React.createElement(d.View,{style:[Br.card,{marginTop:e.index!==0?10:0}]},React.createElement(Bl,null,e.toggleType&&(e.toggleType==="switch"?React.createElement(Pl,{...r,value:e.toggleValue,onValueChange:e.onToggleChange}):e.toggleType==="radio"?React.createElement(Ml,{...r,onPress:function(){var n;t=!t,(n=e.onToggleChange)===null||n===void 0||n.call(e,t)},checked:e.toggleValue}):void 0)||React.createElement(Ka,r),React.createElement(Ka,{label:e.descriptionLabel,trailing:React.createElement(d.View,{style:Br.actions},e.overflowActions&&React.createElement(Wn,{triggerOnLongPress:!1,items:e.overflowActions.map(function(n){return{label:n.label,iconSource:p(n.icon),action:n.onPress}}),align:"auto",title:e.overflowTitle,children:function(n){return React.createElement(d.TouchableOpacity,n,React.createElement(d.Image,{style:Br.icon,source:p("ic_more_24px")}))}}))})))}var Ka,Ol,Pl,Ml,Bl,Br,Kn=u(()=>{"use strict";Wa();_();b();w();Ie();({TableRow:Ka,TableRowIcon:Ol,TableSwitchRow:Pl,TableCheckboxRow:Ml,TableRowGroup:Bl}=f("TableRow")),Br=P.createThemedStyleSheet({card:{backgroundColor:S===null||S===void 0?void 0:S.BACKGROUND_SECONDARY,borderRadius:15,overflow:"hidden"},header:{padding:0,backgroundColor:S===null||S===void 0?void 0:S.BACKGROUND_TERTIARY},actions:{flexDirection:"row-reverse",alignItems:"center"},actionIcon:{width:22,height:22,marginLeft:5,tintColor:S===null||S===void 0?void 0:S.INTERACTIVE_NORMAL},icon:{width:22,height:22,marginLeft:5,tintColor:S===null||S===void 0?void 0:S.INTERACTIVE_NORMAL}});o(ar,"Card")});async function Xa(e,t){e.enabled&&Je(e.id,!1),t(),e.enabled&&await Xe(e.id)}function Xn({item:e,index:t}){var r;x(e);var n=Yt(e.id),a=ve.useNavigation(),[i,l]=React.useState(!1);return i?null:React.createElement(ar,{index:t,headerLabel:`${e.manifest.name} by ${e.manifest.authors.map(function(s){return s.name}).join(", ")}`,headerIcon:((r=e.manifest.vendetta)===null||r===void 0?void 0:r.icon)||"ic_application_command_24px",toggleType:"switch",toggleValue:e.enabled,onToggleChange:function(s){try{s?Xe(e.id):Je(e.id)}catch(m){h(m.message,p("Small"))}},descriptionLabel:e.manifest.description,overflowTitle:e.manifest.name,overflowActions:[...n?[{label:c.OVERFLOW_PLUGIN_SETTINGS,icon:"settings",onPress:function(){return a.push("VendettaCustomPage",{title:e.manifest.name,render:n})}}]:[],{icon:"ic_sync_24px",label:c.REFETCH,onPress:async function(){Xa(e,function(){Ke(e.id).then(async function(){h("Successfully refetched plugin.",p("toast_image_saved"))}).catch(function(){h("Failed to refetch plugin!",p("Small"))})})}},{icon:"copy",label:c.COPY_URL,onPress:function(){V.setString(e.id),h.showCopyToClipboard()}},{icon:"ic_download_24px",label:e.update?c.DISABLE_UPDATES:c.ENABLE_UPDATES,onPress:function(){e.update=!e.update,h(`${e.update?"Enabled":"Disabled"} updates for ${e.manifest.name}.`,p("toast_image_saved"))}},{icon:"ic_duplicate",label:c.CLEAR_DATA,isDestructive:!0,onPress:function(){return q({title:c.HOLD_UP,content:le("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.manifest.name}),confirmText:c.CLEAR,cancelText:c.CANCEL,confirmColor:K.RED,onConfirm:function(){Xa(e,function(){try{Le.removeItem(e.id),h(le("CLEAR_DATA_SUCCESSFUL",{name:e.manifest.name}),p("trash"))}catch{h(le("CLEAR_DATA_FAILED",{name:e.manifest.name}),p("Small"))}})}})}},{icon:"ic_message_delete",label:c.DELETE,isDestructive:!0,onPress:function(){return q({title:c.HOLD_UP,content:le("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.manifest.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:K.RED,onConfirm:function(){try{ft(e.id),l(!0)}catch(s){h(s.message,p("Small"))}}})}}]})}var Ja=u(()=>{"use strict";_();De();Ae();w();he();Ue();Kn();H();vt();B();o(Xa,"stopThenStart");o(Xn,"PluginCard")});function Jn(){return x(v),React.createElement(or,{title:c.PLUGINS,fetchFunction:se,items:I,safeModeMessage:c.SAFE_MODE_NOTICE_PLUGINS,card:Xn})}var Za=u(()=>{"use strict";H();De();X();zn();Ja();B();o(Jn,"Plugins")});async function Qa(e,t){try{await xe(e?t:"default"),e?Mt(O[t]):Mt(null),h(c.THEMES_RELOAD_FOR_CHANGES,p("yellow-alert"))}catch(r){console.error("Error while selectAndApply,",r)}}function Zn({item:e,index:t}){var r;x(e);var[n,a]=React.useState(!1);if(n)return null;var i=e.data.authors;return React.createElement(ar,{index:t,headerLabel:`${e.data.name} ${i?`by ${i.map(function(l){return l.name}).join(", ")}`:""}`,descriptionLabel:e.data.description??"No description.",toggleType:!((r=v.safeMode)===null||r===void 0)&&r.enabled?void 0:"radio",toggleValue:e.selected,onToggleChange:function(l){Qa(l,e.id)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:c.REFETCH,onPress:function(){at(e.id,e.selected).then(function(){e.selected?q({title:c.MODAL_THEME_REFETCHED,content:c.MODAL_THEME_REFETCHED_DESC,confirmText:c.RELOAD,cancelText:c.CANCEL,confirmColor:K.RED,onConfirm:function(){return Ot.reload()}}):h(c.THEME_REFETCH_SUCCESSFUL,p("toast_image_saved"))}).catch(function(){h(c.THEME_REFETCH_FAILED,p("Small"))})}},{icon:"copy",label:c.COPY_URL,onPress:function(){V.setString(e.id),h.showCopyToClipboard()}},{icon:"ic_message_delete",label:c.DELETE,isDestructive:!0,onPress:function(){return q({title:c.HOLD_UP,content:le("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:K.RED,onConfirm:function(){it(e.id).then(function(l){a(!0),l&&Qa(!1,e.id)}).catch(function(l){h(l.message,p("Small"))})}})}}]})}var qa=u(()=>{"use strict";_();ae();H();Ae();w();Ue();he();X();Kn();vt();B();o(Qa,"selectAndApply");o(Zn,"ThemeCard")});function Qn(){var e,t;return x(v),React.createElement(or,{title:c.THEMES,fetchFunction:pe,items:O,safeModeMessage:`${c.SAFE_MODE_NOTICE_THEMES}${!((e=v.safeMode)===null||e===void 0)&&e.currentThemeId?` ${c.SAFE_MODE_NOTICE_THEMES_EXTEND}`:""}`,safeModeExtras:!((t=v.safeMode)===null||t===void 0)&&t.currentThemeId?React.createElement(ce,{text:c.DISABLE_THEME,color:K.BRAND,size:"small",onPress:function(){var r;(r=v.safeMode)===null||r===void 0||delete r.currentThemeId},style:{marginTop:8}}):void 0,card:Zn})}var ei=u(()=>{"use strict";H();ae();Z();X();zn();qa();vt();B();o(Qn,"Themes")});function qn({asset:e}){return React.createElement(Ul,{label:`${e.name} - ${e.id}`,trailing:React.createElement(d.Image,{source:e.id,style:{width:32,height:32}}),onPress:function(){V.setString(e.name),h.showCopyToClipboard()}})}var Ul,ti=u(()=>{"use strict";_();he();Z();({FormRow:Ul}=U);o(qn,"AssetDisplay")});function eo(){var[e,t]=React.useState("");return React.createElement(M,null,React.createElement(d.View,{style:{flex:1}},React.createElement(Be,{style:{margin:10},onChangeText:function(r){return t(r)},placeholder:"Search"}),React.createElement(d.FlatList,{data:Object.values(ge).filter(function(r){return r.name.includes(e)||r.id.toString()===e}),renderItem:function({item:r}){return React.createElement(qn,{asset:r})},ItemSeparatorComponent:Fl,keyExtractor:function(r){return r.name}})))}var Fl,ri=u(()=>{"use strict";_();w();Z();ti();({FormDivider:Fl}=U);o(eo,"AssetBrowser")});function ro(){var e=ve.useNavigation();return x(v),x(Q),React.createElement(M,null,React.createElement(d.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(Gl,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(oi,{label:"Debugger URL",placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return React.createElement(Hl,{style:jl.leadingText},"ws://")},defaultValue:v.debuggerUrl,onChange:function(t){return v.debuggerUrl=t}}),React.createElement(to,{title:"Debug"},React.createElement(ee,{label:"Connect to debug websocket",icon:React.createElement(ee.Icon,{source:p("copy")}),onPress:function(){return jt(v.debuggerUrl)}}),pt()&&React.createElement(React.Fragment,null,React.createElement(ee,{label:"Connect to React DevTools",icon:React.createElement(ee.Icon,{source:p("ic_badge_staff")}),onPress:function(){var t,r;return(r=window[en()||"__vendetta_rdc"])===null||r===void 0?void 0:r.connectToDevTools({host:(t=v.debuggerUrl.split(":"))===null||t===void 0?void 0:t[0],resolveRNStyle:d.StyleSheet.flatten})}}))),vr()&&React.createElement(React.Fragment,null,React.createElement(to,{title:"Loader config"},React.createElement(ni,{label:"Load from custom url",subLabel:"Load Bunny from a custom endpoint.",icon:React.createElement(ee.Icon,{source:p("copy")}),value:Q.customLoadUrl.enabled,onValueChange:function(t){Q.customLoadUrl.enabled=t}}),Q.customLoadUrl.enabled&&React.createElement(ee,{label:React.createElement(oi,{defaultValue:Q.customLoadUrl.url,size:"md",onChange:function(t){return Q.customLoadUrl.url=t},placeholder:"http://localhost:4040/vendetta.js",label:c.BUNNY_URL})}),pt()&&React.createElement(ni,{label:"Load React DevTools",subLabel:`Version: ${tn()}`,icon:React.createElement(ee.Icon,{source:p("ic_badge_staff")}),value:Q.loadReactDevTools,onValueChange:function(t){Q.loadReactDevTools=t}}))),React.createElement(to,{title:"Other"},React.createElement(ee,{arrow:!0,label:"Asset Browser",icon:React.createElement(ee.Icon,{source:p("ic_image")}),trailing:ee.Arrow,onPress:function(){return e.push("VendettaCustomPage",{title:"Asset Browser",render:eo})}}),React.createElement(ee,{arrow:!0,label:"ErrorBoundary Tools",icon:React.createElement(ee.Icon,{source:p("ic_warning_24px")}),onPress:function(){return kl({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:React.createElement(ee.Icon,{style:{marginRight:8},source:p("ic_warning_24px")}),onClose:function(){return Vl()}},options:[{label:c.BUNNY,onPress:function(){return e.push("VendettaCustomPage",{render:function(){return React.createElement("undefined",null)}})}},{label:"Discord",isDestructive:!0,onPress:function(){return e.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}})))))}var Gl,ee,ni,to,oi,Hl,Vl,kl,$l,jl,ai=u(()=>{"use strict";_();b();We();H();w();Z();X();ri();Ie();fe();B();({Stack:Gl,TableRow:ee,TableSwitchRow:ni,TableRowGroup:to,TextInput:oi}=f("TableRow")),{FormText:Hl}=U,{hideActionSheet:Vl}=f("openLazy","hideActionSheet"),{showSimpleActionSheet:kl}=f("showSimpleActionSheet"),{TextStyleSheet:$l}=f("TextStyleSheet"),jl=P.createThemedStyleSheet({leadingText:{...$l["heading-md/semibold"],color:S.TEXT_MUTED,marginRight:-4}});o(ro,"Developer")});var Yl,zl,ir,Ur,Nt,lr,ii,no,Fr=u(()=>{"use strict";_();De();ae();Ue();Ie();he();we();w();X();Lr();ka();Ya();Za();ei();ai();ke();b();fe();B();({useSafeAreaInsets:Yl}=f("useSafeAreaInsets")),zl=P.createStyles({container:{flex:1,backgroundColor:S.BACKGROUND_MOBILE_PRIMARY}}),ir=o(function(e,t){return t?St.snakeCase(e).toUpperCase():e},"formatKey"),Ur=o(function(e,t){return Object.fromEntries(e.map(function(r){return[r.key,typeof t=="function"?t(r):typeof t=="string"?r[t]:t]}))},"keyMap"),Nt=o(function(e=!1){return[{key:ir("VendettaSettings",e),title:c.GENERAL,icon:"settings",render:Yn},{key:ir("VendettaPlugins",e),title:c.PLUGINS,icon:"debug",options:{headerRight:function(){return React.createElement(Pr,{alertTitle:c.INSTALL_PLUGIN,installFunction:async function(t){if(!t.startsWith(rt)&&!v.developerSettings)setImmediate(function(){return q({title:c.MODAL_UNPROXIED_PLUGIN_HEADER,content:c.MODAL_UNPROXIED_PLUGIN_DESC,confirmText:c.INSTALL,onConfirm:function(){return se(t).then(function(){return h(c.TOASTS_INSTALLED_PLUGIN,p("Check"))}).catch(function(r){return h(r?.message??`${r}`,p("Small"))})},cancelText:c.CANCEL})});else return await se(t)}})}},render:Jn},{key:ir("VendettaThemes",e),title:c.THEMES,icon:"ic_theme_24px",shouldRender:function(){return re()},options:{headerRight:function(){var t;return!(!((t=v.safeMode)===null||t===void 0)&&t.enabled)&&React.createElement(Pr,{alertTitle:c.INSTALL_THEME,installFunction:pe})}},render:Qn},{key:ir("VendettaDeveloper",e),title:c.DEVELOPER,icon:"ic_progress_wrench_24px",shouldRender:function(){return v.developerSettings??!1},render:ro},{key:ir("VendettaCustomPage",e),title:"Vendetta Page",shouldRender:function(){return!1},render:function({render:t,noErrorBoundary:r,...n}){var a=ve.useNavigation();return a.addListener("focus",function(){return a.setOptions(wt(n,"render","noErrorBoundary"))}),r?React.createElement(t,null):React.createElement(M,null,React.createElement(t,null))}}]},"getScreens"),lr=o(function(e=!1){return Nt(e).filter(function(t){var r;return((r=t.shouldRender)===null||r===void 0?void 0:r.call(t))??!0})},"getRenderableScreens"),ii=o(function(){return Ur(Nt(),function(e){return{title:e.title,render:e.render,...e.options}})},"getPanelsScreens"),no=o(function(){var e=Nt(!0);return{getLayout:function(){return{title:"Vendetta",label:c.BUNNY,settings:lr(!0).map(function(t){return t.key})}},titleConfig:Ur(e,"title"),relationships:Ur(e,null),rendererConfigs:Ur(e,function(t){var r=React.memo(function({navigation:n,route:a}){var i=zl(),{bottom:l}=Yl();return n.addListener("focus",function(){return n.setOptions(t.options)}),React.createElement(d.View,{style:[{paddingBottom:l},i.container]},React.createElement(t.render,a.params))});return{type:"route",title:function(){return t.title},icon:t.icon?p(t.icon):null,screen:{route:St.chain(t.key).camelCase().upperFirst().value(),getComponent:function(){return r}}}})}},"getYouData")});function ao(){var e,t=ve.useNavigation();x(v);var r=lr();return React.createElement(M,null,React.createElement(Wl,{key:"Vendetta",title:`${c.BUNNY}${!((e=v.safeMode)===null||e===void 0)&&e.enabled?` (${c.SAFE_MODE})`:""}`},r.map(function(n,a){return React.createElement(React.Fragment,null,React.createElement(oo,{label:n.title,leading:React.createElement(oo.Icon,{source:p(n.icon)}),trailing:oo.Arrow,onPress:function(){return t.push(n.key)}}),a!==r.length-1&&React.createElement(Kl,null))})))}var oo,Wl,Kl,li=u(()=>{"use strict";_();H();w();Fr();Z();X();B();({FormRow:oo,FormSection:Wl,FormDivider:Kl}=U);o(ao,"SettingsSection")});function io(){var e=new Array;return e.push(T("default",Xl,function(t,r){return{...r,...ii()}})),T("default",Jl,function(t,r){var n=Se(r.props.children,function(a){return a.type&&a.type.name==="UserSettingsOverview"});e.push(T("renderSupportAndAcknowledgements",n.type.prototype,function(a,{props:{children:i}}){var l=i.findIndex(function(s){var m;return(s==null||(m=s.type)===null||m===void 0?void 0:m.name)==="UploadLogsButton"});l!==-1&&i.splice(l,1)})),e.push(T("render",n.type.prototype,function(a,{props:{children:i}}){var l=[Oe.Messages.BILLING_SETTINGS,Oe.Messages.PREMIUM_SETTINGS];i=Se(i,function(m){var g,E;return((E=m.children)===null||E===void 0||(g=E[1].type)===null||g===void 0?void 0:g.name)==="FormSection"}).children;var s=i.findIndex(function(m){return l.includes(m?.props.label)});i.splice(s===-1?4:s,0,React.createElement(ao,null))}))},!0),function(){return e.forEach(function(t){return t()})}}var Xl,Jl,si=u(()=>{"use strict";_();b();F();we();Fr();li();Xl=Y("getScreens",!1),Jl=Y("UserSettingsOverviewWrapper",!1);o(io,"patchPanels")});function so(){var e=new Array;return Ql(e)||Zl(e),function(){return e.forEach(function(t){return t?.()})}}function Zl(e){var t=f("useOverviewSettings"),r=f("getSettingTitleConfig"),n=f("SETTING_RELATIONSHIPS","SETTING_RENDERER_CONFIGS"),a="getSettingSearchListItems",i="getSettingListItems",l=f(a),s=!l,m=s?i:a,g=l??f(i);if(!(!g||!t)){var E=Nt(!0),y=lr(!0),R=no();e.push(T("useOverviewSettings",t,function(Qe,qe){return ci(qe,R.getLayout())})),e.push(T("getSettingTitleConfig",r,function(Qe,qe){return{...qe,...R.titleConfig}})),e.push(T(m,g,function([Qe],qe){return[...y.filter(function(j){return Qe.includes(j.key)}).map(function(j){return{type:"setting_search_result",ancestorRendererData:R.rendererConfigs[j.key],setting:j.key,title:R.titleConfig[j.key],breadcrumbs:[c.BUNNY],icon:R.rendererConfigs[j.key].icon}}),...qe.filter(function(j){return s||!E.map(function(et){return et.key}).includes(j.setting)})].map(function(j,et,xi){return{...j,index:et,total:xi.length}})}));var N=n.SETTING_RELATIONSHIPS,$=n.SETTING_RENDERER_CONFIGS;return n.SETTING_RELATIONSHIPS={...N,...R.relationships},n.SETTING_RENDERER_CONFIGS={...$,...R.rendererConfigs},e.push(function(){n.SETTING_RELATIONSHIPS=N,n.SETTING_RENDERER_CONFIGS=$}),!0}}function Ql(e){var t=f("SearchableSettingsList"),r=f("SETTING_RENDERER_CONFIG"),n=f("getSettingListItems");if(!n||!t||!r)return!1;var a=Nt(!0),i=no();e.push(Fe("type",t.SearchableSettingsList,function([{sections:s}]){return ci(s,i.getLayout())})),e.push(T("getSettingListSearchResultItems",n,function(s,m){m.forEach(function(g){return a.some(function(E){return E.key===g.setting})&&(g.breadcrumbs=[c.BUNNY])})}));var l=r.SETTING_RENDERER_CONFIG;return r.SETTING_RENDERER_CONFIG={...l,...i.rendererConfigs},e.push(function(){r.SETTING_RENDERER_CONFIG=l}),!0}function ci(e,t){if(!(!Array.isArray(e)||e.find(function(a){return lo(a,c.BUNNY)}))){var r=e.findIndex(function(a){return lo(a,Oe.Messages.ACCOUNT_SETTINGS)});e.splice(r+1,0,t);var n=e.find(function(a){return lo(a,Oe.Messages.SUPPORT)});n&&(n.settings=n.settings.filter(function(a){return a!=="UPLOAD_DEBUG_LOGS"}))}}var lo,ui=u(()=>{"use strict";b();F();Fr();_();B();o(so,"patchYou");o(Zl,"oldYouPatch");o(Ql,"newYouPatch");lo=o(function(e,t){return e?.label===t||e?.title===t},"isLabel");o(ci,"manipulateSections")});function co(){var e=[io(),so()];return function(){return e.forEach(function(t){return t?.()})}}var uo=u(()=>{"use strict";si();ui();o(co,"initSettings")});function fi({locale:e}){try{Gt.locale(e.toLowerCase())}catch(t){W.error("Failed to fix timestamps...",t)}Rt.unsubscribe("I18N_LOAD_SUCCESS",fi)}function fo(){return Rt.subscribe("I18N_LOAD_SUCCESS",fi)}var mi=u(()=>{"use strict";_();ot();o(fi,"onDispatch");o(fo,"default")});var di,pi=u(()=>{"use strict";F();fe();X();We();De();ae();Cr();H();b();_();Z();he();Ue();w();Ie();we();di=o(function(e){return{patcher:{before:Ge.before,after:Ge.after,instead:Ge.instead},metro:{find:function(t){return G(t)},findAll:function(t){return tt(t)},findByProps:function(...t){return f(...t)},findByPropsAll:function(...t){return Wr(...t)},findByName:function(t,r){return Y(t,r)},findByNameAll:function(t,r){return Kr(t,r)},findByDisplayName:function(t,r){return Dt(t,r)},findByDisplayNameAll:function(t,r){return Xr(t,r)},findByTypeName:function(t,r){return Jr(t,r)},findByTypeNameAll:function(t,r){return Zr(t,r)},findByStoreName:function(t){return Ce(t)},common:{constants:ie,channels:Ut,i18n:Oe,url:ze,toasts:Ft,stylesheet:P,clipboard:V,assets:lt,invites:yn,commands:_t,navigation:Tn,navigationStack:An,NavigationNative:ve,Flux:Nn,FluxDispatcher:Rt,React:Pe,ReactNative:d,moment:Gt,chroma:de,lodash:St,util:bn}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(t,r){return Se(t,r)},findInTree:function(t,r,n){return Ct(t,r,n)},safeFetch:function(t,r,n){return Ve(t,r,n)},unfreeze:function(t){return ln(t)},without:function(t,...r){return wt(t,...r)}},debug:{connectToDebugger:function(t){return jt(t)},getDebugInfo:function(){return ct()}},ui:{components:{Forms:U,General:Gn,Alert:Qt,Button:ce,HelpMessage:qt,SafeAreaView:er,Summary:Ze,ErrorBoundary:M,Codeblock:Me,Search:Be},toasts:{showToast:function(t,r){return h(t,r)}},alerts:{showConfirmationAlert:function(t){return q(t)},showCustomAlert:function(t,r){return Or(t,r)},showInputAlert:function(t){return mt(t)}},assets:{all:ge,find:function(t){return Dn(t)},getAssetByName:function(t){return In(t)},getAssetByID:function(t){return Cn(t)},getAssetIDByName:function(t){return p(t)}},semanticColors:S,rawColors:Fn},plugins:{plugins:I,fetchPlugin:function(t){return Ke(t)},installPlugin:function(t,r){return se(t,r)},startPlugin:function(t){return Xe(t)},stopPlugin:function(t,r){return Je(t,r)},removePlugin:function(t){return ft(t)},getSettings:function(t){return Yt(t)}},themes:{themes:O,fetchTheme:function(t,r){return at(t,r)},installTheme:function(t){return pe(t)},selectTheme:function(t){return xe(t)},removeTheme:function(t){return it(t)},getCurrentTheme:function(){return Ye()},updateThemes:function(){return Ar()}},commands:{registerCommand:Ir},storage:{createProxy:function(t){return Tr(t)},useProxy:function(t){return x(t)},createStorage:function(t){return me(t)},wrapSync:function(t){return be(t)},awaitSyncWrapper:function(t){return je(t)},createMMKVBackend:function(t){return Ne(t)},createFileBackend:function(t){return $e(t)}},settings:v,loader:{identity:It()??void 0,config:Q},logger:{log:function(...t){return console.log(...t)},info:function(...t){return console.info(...t)},warn:function(...t){return console.warn(...t)},error:function(...t){return console.error(...t)},time:function(...t){return console.time(...t)},trace:function(...t){return console.trace(...t)},verbose:function(...t){return console.log(...t)}},version:yt,unload:function(){e.filter(function(t){return typeof t=="function"}).forEach(function(t){return t()}),delete window.vendetta}}},"createVendettaObject")});var mo={};D(mo,{downloadFile:()=>ns,fileExists:()=>ts,readFile:()=>rs,removeFile:()=>es,writeFile:()=>vi});async function es(e,t="pyoncord/"){return void await A.removeFile("documents",`${t}${e}`)}async function ts(e,t="pyoncord/"){return await A.fileExists(`${A.getConstants().DocumentsDirPath}/${t}${e}`)}async function vi(e,t,r="pyoncord/"){if(typeof t!="string")throw new Error("Argument 'data' must be a string");return void await A.writeFile("documents",`${r}${e}`,t,"utf8")}async function rs(e,t,r="pyoncord/"){try{return await A.readFile(`${A.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch{if(t==null)throw new Error(`Errored while reading ${e} doesn't exist`);return await vi(e,t),t}}async function ns(e,t,r="pyoncord/"){var n=await fetch(e).then(function(s){return s.blob()}),a=await new Promise(function(s){var m=new FileReader;m.onload=function(){return s(m.result)},m.readAsDataURL(n)}),i;if(a==null)throw new Error("Failed to convert blob to data URL");var l=a.indexOf("base64,");if(l===-1)throw new Error("dataURL does not contain base64");return i=a.slice(l+7),void await A.writeFile("documents",`${r}${t}`,i,"base64")}var gi=u(()=>{"use strict";Ae();o(es,"removeFile");o(ts,"fileExists");o(vi,"writeFile");o(rs,"readFile");o(ns,"downloadFile")});var bt={};D(bt,{fs:()=>mo,loader:()=>on,modules:()=>yr});var hi=u(()=>{"use strict";gi();Ae();fe()});var Ei=u(()=>{"use strict";Cr();hi();H();w();F()});var _i=u(()=>{"use strict";De();ae()});var Ri=u(()=>{"use strict";b();b();_()});var Si=u(()=>{"use strict";Ue();Ie();he();uo();Z()});function ss(e){return{api:{commands:{...Kt},native:{fs:{...bt.fs},modules:{...bt.modules},loader:{...bt.loader}},storage:{...Pt},assets:{...Vt},patcher:{before:Ge.before,instead:Ge.instead,after:Ge.after}},managers:{plugins:{...zt},themes:{...Et}},metro:{common:{...Ht},filters:{...dt},...dt},ui:{components:{...tr},alerts:{...rr},color:{...Zt},toasts:{...kt}},utils:{constants:{...hr},types:{...Rr},logger:{..._r}},settings:{settings:v,loaderConfig:{...Q}},debug:{...Nr},version:yt,unload:function(){e.filter(function(t){return typeof t=="function"}).forEach(function(t){return t()}),delete window.bunny}}}function po(e){window.vendetta=di(e),window.bunny=ss(e)}var yi=u(()=>{"use strict";pi();Ei();We();_i();Ri();X();Si();we();F();o(ss,"createBunnyObject");o(po,"initWindowObject")});var Ai={};D(Ai,{default:()=>Ti});async function Ti(){var e=await Promise.all([wn(),xn(),Pn(),_n(),fo(),$n(),co(),kn()]);po(e),e.push(await On()),W.log("Vendetta is ready!")}var Ni=u(()=>{"use strict";We();Cr();De();ae();w();Fa();Va();uo();mi();ot();yi();o(Ti,"default")});fr();globalThis.window=globalThis;var bi=o(async function(){try{console.log("Hello from Bunny! Pyon!"),Object.freeze=Object.seal=Object,await Promise.resolve().then(()=>(Ni(),Ai)).then(function(a){return a.default()})}catch(a){var e,t,{ClientInfoManager:r}=(Ae(),cr(yr)),n=a instanceof Error?a.stack:void 0;console.log(n??(a==null||(e=a.toString)===null||e===void 0?void 0:e.call(a))??a),alert([`Failed to load Bunny!
`,`Build Number: ${r.Build}`,"Bunny: d633f4e",n||(a==null||(t=a.toString)===null||t===void 0?void 0:t.call(a))].join(`
`))}},"init");if(typeof globalThis.__r<"u")bi();else{var e=function(t){var r=window.__fbBatchedBridge,n=new Array,a=ue("callFunctionReturnFlushedQueue",r,function(l,s){return l[0]==="AppRegistry"||!r.getCallableModule(l[0])?(n.push(l),r.flushedQueue()):s.apply(r,l)}),i=o(function(){bi(),a(),t(0),n.forEach(function(l){return r.getCallableModule(l[0])&&r.__callFunction(...l)})},"startDiscord");i()};zv=e,o(e,"onceIndexRequired"),Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return Gr},set(t){Gr=o(function(n){if(n===0)e(t),Gr=t;else return t(n)},"patchedRequire")}},__d:{configurable:!0,get(){if(window.Object&&!window.modules){var t,r;window.modules=(t=(r=window).__c)===null||t===void 0?void 0:t.call(r)}return this.value},set(t){this.value=t}}})}var Gr,zv;})();
//# sourceURL=bunny
