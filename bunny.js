"use strict";(()=>{var Zc=Object.create;var _r=Object.defineProperty;var Qc=Object.getOwnPropertyDescriptor;var $c=Object.getOwnPropertyNames;var el=Object.getPrototypeOf,tl=Object.prototype.hasOwnProperty;var o=(e,t)=>_r(e,"name",{value:t,configurable:!0});var f=(e,t)=>()=>(e&&(t=e(e=0)),t);var so=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t)=>{for(var r in t)_r(e,r,{get:t[r],enumerable:!0})},ti=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(var a=$c(t),i=0,l=a.length,s;i<l;i++)s=a[i],!tl.call(e,s)&&s!==r&&_r(e,s,{get:(m=>t[m]).bind(null,s),enumerable:!(n=Qc(t,s))||n.enumerable});return e};var z=(e,t,r)=>(r=e!=null?Zc(el(e)):{},ti(t||!e||!e.__esModule?_r(r,"default",{value:e,enumerable:!0}):r,e)),tt=e=>ti(_r({},"__esModule",{value:!0}),e);var co,Ve,nn=f(()=>{co=["a","b","i"],Ve=new Map});function lo(e,t,r,n,a){var i=Ve.get(t)?.[e];if(!i)return a?Reflect.construct(t[e],r,n):t[e].apply(n,r);for(var l of i.b.values()){var s=l.call(n,r);Array.isArray(s)&&(r=s)}var m=[...i.i.values()].reduce(function(L,C){return function(){for(var I=arguments.length,H=new Array(I),te=0;te<I;te++)H[te]=arguments[te];return C.call(n,H,L)}},function(){for(var L=arguments.length,C=new Array(L),I=0;I<L;I++)C[I]=arguments[I];return a?Reflect.construct(i.o,C,n):i.o.apply(n,C)})(...r);for(var N of i.a.values())m=N.call(n,r,m)??m;return m}var ri=f(()=>{nn();o(lo,"default")});function uo(e,t,r,n){var a=Ve.get(e),i=a?.[t];if(!i?.[n].has(r))return!1;if(i[n].delete(r),co.every(function(s){return i[s].size===0})){var l=Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0});l||(e[t]=i.o),delete a[t]}return Object.keys(a).length==0&&Ve.delete(e),!0}function ni(){for(var[e,t]of Ve.entries())for(var r in t)for(var n of co)for(var a of t[r]?.[n].keys()??[])uo(e,r,a,n)}var fo=f(()=>{nn();o(uo,"unpatch");o(ni,"unpatchAll")});function Sr(e){return function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof r[t]!="function")throw new Error("".concat(t," is not a function in ").concat(r.constructor.name));Ve.has(r)||Ve.set(r,Object.create(null));var i=Ve.get(r);if(!i[t]){var l=r[t];i[t]={o:l,b:new Map,i:new Map,a:new Map};var s=o(function(I,H,te){var hr=lo(t,r,H,I,te);return a&&C(),hr},"runHook"),m=new Proxy(l,{apply:function(I,H,te){return s(H,te,!1)},construct:function(I,H){return s(l,H,!0)},get:function(I,H,te){return H=="toString"?l.toString.bind(l):Reflect.get(I,H,te)}}),N=Reflect.defineProperty(r,t,{value:m,configurable:!0,writable:!0});N||(r[t]=m)}var L=Symbol(),C=o(function(){return uo(r,t,L,e)},"unpatchThisPatch");return i[t][e].set(L,n),C}}var oi=f(()=>{ri();nn();fo();o(Sr,"default")});var Ut={};b(Ut,{after:()=>U,before:()=>ht,instead:()=>oe,unpatchAll:()=>ni});var ht,oe,U,rr=f(()=>{oi();fo();ht=Sr("b"),oe=Sr("i"),U=Sr("a")});var mo={};b(mo,{after:()=>U,before:()=>ht,default:()=>Ut,instead:()=>oe});var ve=f(()=>{"use strict";rr();rr()});var he,nr,rl,nl,ol,po=f(()=>{"use strict";he=window.modules,nr=window.__r,rl=window.__d,nl=window.__c,ol=window.__registerSegment});var ai,al,il,sl,Rr,go=f(()=>{"use strict";al=o(function(e){return{status:"fulfilled",value:e}},"allSettledFulfill"),il=o(function(e){return{status:"rejected",reason:e}},"allSettledReject"),sl=o(function(e){return Promise.resolve(e).then(al,il)},"mapAllSettled"),Rr=o(function(e){return Promise.all(Array.from(e).map(sl))},"allSettled");(ai=Promise).allSettled??(ai.allSettled=Rr)});var an={};b(an,{BundleUpdaterManager:()=>vo,ClientInfoManager:()=>on,DeviceManager:()=>je,FileManager:()=>B,MMKVManager:()=>Ht,ThemeManager:()=>ho});var ke,Ht,B,on,je,vo,ho,rt=f(()=>{"use strict";ke=window.nativeModuleProxy,Ht=ke.MMKVManager;B=ke.DCDFileManager??ke.RTNFileManager;on=ke.InfoDictionaryManager??ke.RTNClientInfoManager;je=ke.DCDDeviceManager??ke.RTNDeviceManager,{BundleUpdaterManager:vo}=ke,ho=ke.RTNThemeManager??ke.DCDTheme});function sn(){return{listeners:Object.values(Eo).reduce(function(e,t){return e[t]=new Set,e},{}),on(e,t){this.listeners[e].has(t)||this.listeners[e].add(t)},off(e,t){this.listeners[e].delete(t)},once(e,t){var r=this,n=o(function(a,i){r.off(a,n),t(a,i)},"once");this.on(e,n)},emit(e,t){for(var r of this.listeners[e])r(e,t)}}}var Eo,_o=f(()=>{"use strict";(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(Eo||(Eo={}));o(sn,"createEmitter")});var X=so((yd,ii)=>{Object.defineProperty(ii,"exports",{get:()=>globalThis.ReactNative})});var ci,si,So,li,or,we,nt,ui=f(()=>{"use strict";rt();ci=z(X()),si=/[<>:"/\\|?*]/g,So=o(function(e){return ci.Platform.select({default:e,ios:B.saveFileToGallery?e:"Documents/".concat(e)})},"filePathFixer"),li=o(function(e){return si.test(e)&&(e=e.replace(si,"-").replace(/-+/g,"-")),"vd_mmkv/".concat(e)},"getMMKVPath"),or=o(async function(e){await Ht.getItem(e)&&Ht.removeItem(e);var t=li(e);await B.fileExists("".concat(B.getConstants().DocumentsDirPath,"/").concat(t))&&await B.removeFile?.("documents",t)},"purgeStorage"),we=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=li(e),n=JSON.stringify(t);return nt(r,t,async function(){var a="".concat(B.getConstants().DocumentsDirPath,"/").concat(r);if(!await B.fileExists(a)){var i=await Ht.getItem(e)??n;if(i==="!!LARGE_VALUE!!"){var l="".concat(B.getConstants().CacheDirPath,"/mmkv/").concat(e);await B.fileExists(l)?i=await B.readFile(l,"utf8"):(console.log("".concat(e,": Experienced data loss :(")),i=n)}try{JSON.parse(i)}catch{console.error("".concat(e," had an unparseable data while migrating")),i=n}await B.writeFile("documents",So(r),i,"utf8"),await Ht.getItem(e)!==null&&(Ht.removeItem(e),console.log("Successfully migrated ".concat(e," store from MMKV storage to fs")))}}())},"createMMKVBackend"),nt=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return{get:async function(){await r;var n="".concat(B.getConstants().DocumentsDirPath,"/").concat(e);if(await B.fileExists(n)){var a=await B.readFile(n,"utf8");try{return JSON.parse(a)}catch{}}return await B.writeFile("documents",So(e),JSON.stringify(t),"utf8"),JSON.parse(await B.readFile(n,"utf8"))},set:async function(n){await r,await B.writeFile("documents",So(e),JSON.stringify(n),"utf8")}}},"createFileBackend")});var ln={};b(ln,{awaitSyncWrapper:()=>Et,createFileBackend:()=>nt,createMMKVBackend:()=>we,createProxy:()=>cn,createStorage:()=>Ie,purgeStorage:()=>or,useProxy:()=>F,wrapSync:()=>Ye});function cn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=sn();function r(n,a){return new Proxy(n,{get(i,l){if(l===fi)return t;var s=[...a,l],m=i[l];return m!=null?(t.emit("GET",{path:s,value:m}),typeof m=="object"?r(m,s):m):m},set(i,l,s){return i[l]=s,t.emit("SET",{path:[...a,l],value:s}),!0},deleteProperty(i,l){var s=delete i[l];return s&&t.emit("DEL",{path:[...a,l]}),s}})}return o(r,"createProxy"),{proxy:r(e,[]),emitter:t}}function F(e){var t=e[fi],[,r]=React.useReducer(function(n){return~n},0);return React.useEffect(function(){var n=o(function(){return r()},"listener");return t.on("SET",n),t.on("DEL",n),function(){t.off("SET",n),t.off("DEL",n)}},[]),e}async function Ie(e){var t=await e.get(),{proxy:r,emitter:n}=cn(t),a=o(function(){return e.set(r)},"handler");return n.on("SET",a),n.on("DEL",a),r}function Ye(e){var t=void 0,r=[],n=o(function(a){return t?a():r.push(a)},"awaitInit");return e.then(function(a){t=a,r.forEach(function(i){return i()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(a){return[a,function(i){for(var l=arguments.length,s=new Array(l>1?l-1:0),m=1;m<l;m++)s[m-1]=arguments[m];return Reflect[a](t??i,...s)}]})),get(a,i,l){return i===mi?n:Reflect.get(t??a,i,l)}})}var fi,mi,Et,ae=f(()=>{"use strict";_o();ui();fi=Symbol.for("vendetta.storage.emitter"),mi=Symbol.for("vendetta.storage.accessor");o(cn,"createProxy");o(F,"useProxy");o(Ie,"createStorage");o(Ye,"wrapSync");Et=o(function(e){return new Promise(function(t){return e[mi](t)})},"awaitSyncWrapper")});var bo={};b(bo,{BUNNY_PROXY_PREFIX:()=>yo,DISCORD_SERVER:()=>Ro,DISCORD_SERVER_ID:()=>Ao,GITHUB:()=>To,HTTP_REGEX:()=>cl,HTTP_REGEX_MULTI:()=>Tr,PLUGINS_CHANNEL_ID:()=>xo,PROXY_PREFIX:()=>_t,THEMES_CHANNEL_ID:()=>yr});var Ro,To,_t,yo,cl,Tr,Ao,xo,yr,Gt=f(()=>{"use strict";Ro="https://discord.gg/XjYgWXHb9Q",To="https://github.com/pyoncord",_t="https://vd-plugins.github.io/proxy",yo="https://bn-plugins.github.io/vd-proxy",cl=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Tr=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,Ao="1015931589865246730",xo="1091880384561684561",yr="1091880434939482202"});var De,di=f(()=>{"use strict";St();De=o(function(e,t){return ar(e,t,{walkable:["props","children","child","sibling"]})},"findInReactTree")});function Co(e,t,r,n){if(!(n>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var a of e)if(!(typeof a!="object"||a===null))try{var i=Co(a,t,r,n+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var l of Object.keys(e))if(!(typeof e[l]!="object"||e[l]===null)&&!(r.walkable.length&&!r.walkable.includes(l))&&!r.ignore.includes(l))try{var s=Co(e[l],t,r,n+1);if(s)return s}catch{}}}}var ar,pi=f(()=>{"use strict";o(Co,"treeSearch");ar=o(function(e,t){var{walkable:r=[],ignore:n=[],maxDepth:a=100}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Co(e,t,{walkable:r,ignore:n,maxDepth:a},0)},"findInTree")});async function Rt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e4,n=await fetch(e,{signal:ll(r),...t});if(!n.ok)throw new Error("Request returned non-ok");return n}function ll(e){var t=new AbortController;return setTimeout(function(){return t.abort("Timed out after ".concat(e,"ms"))},e),t.signal}var gi=f(()=>{"use strict";o(Rt,"safeFetch");o(ll,"timeoutSignal")});var wo={};b(wo,{ButtonColors:()=>fe});var fe,ir=f(()=>{"use strict";(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(fe||(fe={}))});function un(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a={...e};return r.forEach(function(i){return delete a[i]}),a}var vi=f(()=>{"use strict";o(un,"without")});var fn={};b(fn,{constants:()=>bo,createEmitter:()=>sn,findInReactTree:()=>De,findInTree:()=>ar,logger:()=>Io,safeFetch:()=>Rt,types:()=>wo,without:()=>un});var St=f(()=>{"use strict";Gt();_o();di();pi();Vt();gi();ir();vi()});var mn={};b(mn,{Flux:()=>Oo,FluxDispatcher:()=>Ne,NavigationNative:()=>_e,React:()=>Se,ReactNative:()=>Le,assets:()=>kt,channels:()=>Ar,chroma:()=>ze,clipboard:()=>me,commands:()=>sr,constants:()=>Tt,i18n:()=>yt,invites:()=>Do,lodash:()=>Po,messageUtil:()=>Ee,moment:()=>br,navigation:()=>No,navigationStack:()=>Lo,toasts:()=>xr,url:()=>At,util:()=>Bo});var Tt,Ar,yt,At,xr,me,kt,Do,sr,No,Ee,Lo,_e,Oo,Ne,Se,Le,br,ze,Po,Bo,M=f(()=>{"use strict";W();Tt=d("Fonts","Permissions"),Ar=d("getVoiceChannelId"),yt=d("Messages"),At=d("openURL","openDeeplink"),xr=re(function(e){return e.open&&e.close&&!e.startDrag&&!e.init&&!e.openReplay&&!e.setAlwaysOnTop&&!e.setAccountFlag}),me=d("setString","getString","hasString"),kt=d("registerAsset"),Do=d("acceptInviteAndTransitionToInviteChannel"),sr=d("getBuiltInCommands"),No=d("pushLazy"),Ee=d("sendBotMessage"),Lo=d("createStackNavigator"),_e=d("NavigationContainer"),Oo=d("connectStores"),Ne=d("_currentDispatchActionType"),Se=window.React=d("createElement"),Le=window.ReactNative=d("AppRegistry"),br=d("isMoment"),ze=d("brewer"),Po=d("forEachRight"),Bo=d("inspect","isNullOrUndefined")});var wr={};b(wr,{applyTheme:()=>Cr,color:()=>J,fetchTheme:()=>jt,getThemeFromLoader:()=>bt,initThemes:()=>Go,installTheme:()=>ot,patchChatBackground:()=>Ho,removeTheme:()=>Yt,selectTheme:()=>at,themes:()=>j,updateThemes:()=>dn});async function Mo(e){if(typeof e!="object")throw new Error("Theme must be an object");await nt(Vo()||"theme.json").set(e)}function Ho(){var e=K("MessagesWrapperConnected",!1);if(e){var{MessagesWrapper:t}=d("MessagesWrapper");if(t){var r=[U("default",e,function(n,a){return xt?React.createElement(cr.ImageBackground,{style:{flex:1,height:"100%"},source:de?.data?.background?.url&&{uri:de.data.background.url}||0,blurRadius:typeof de?.data?.background?.blur=="number"?de?.data?.background?.blur:0,children:a}):a}),U("render",t.prototype,function(n,a){if(!(!xt||!de?.data?.background?.url)){var i=De(a,function(l){return l&&"HACK_fixModalInteraction"in l.props&&l?.props?.style});i?i.props.style=[i.props.style,{backgroundColor:ze(i.props.style.backgroundColor||"black").alpha(1-(de?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return function(){return r.forEach(function(n){return n()})}}}}function Si(e){if(ze.valid(e))return ze(e).hex();var t=Number((0,cr.processColor)(e));return ze.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}function ml(e){var t;if(e.semanticColors){var{semanticColors:r}=e;for(var n in r)for(var a in r[n]){var i,l;(i=r[n])[l=a]&&(i[l]=Si(r[n][a]))}}if(e.rawColors){var{rawColors:s}=e;for(var m in s)e.rawColors[m]=Si(s[m]);cr.Platform.OS==="android"&&dl(s)}return(t=e).spec??(t.spec=2),e}function dl(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[n,a]=t[r];e[n]&&(e[r]=ze(e[n]).alpha(a).hex())}}async function jt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;try{r=await(await Rt(e,{cache:"no-store"})).json()}catch{throw new Error("Failed to fetch theme at ".concat(e))}j[e]={id:e,selected:t,data:ml(r)},t&&(Mo(j[e]),Cr(j[e],ne))}async function ot(e){if(typeof e!="string"||e in j)throw new Error("Theme already installed");await jt(e)}function at(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e&&(e.selected=!0),Object.keys(j).forEach(function(r){return j[r].selected=j[r].id===e?.id}),e==null&&t)return Mo({});if(e)return Mo(e)}async function Yt(e){var t=j[e];return t.selected&&await at(null),delete j[e],t.selected}function bt(){return Ir()}async function dn(){await Et(j);var e=bt();await Rr(Object.keys(j).map(function(t){return jt(t,e?.id===t)}))}function Uo(e){return gl.has(e)}function vl(){var e=re(function(r){return r.isThemeDark&&Object.getOwnPropertyDescriptor(r,"isThemeDark")?.value}),t=o(function(r){var[n]=r;return n===Oe?[ne]:void 0},"callback");Object.keys(J.RawColor).forEach(function(r){Object.defineProperty(J.RawColor,r,{configurable:!0,enumerable:!0,get:function(){return xt?de?.data?.rawColors?.[r]??Ri[r]:Ri[r]}})}),ht("isThemeDark",e,t),ht("isThemeLight",e,t),ht("updateTheme",ho,t),U("get",Ei,function(r,n){var[a]=r;a==="SelectivelySyncedUserSettingsStore"?(Fo=!0,n?._state?.appearance?.settings?.theme&&xt&&(ne=n._state.appearance.settings.theme,n._state.appearance.settings.theme=Oe)):a==="ThemeStore"&&(Fo=!0,n?._state?.theme&&xt&&(ne=n._state.theme,n._state.theme=Oe))}),ht("set",Ei,function(r){if(r[1]){var n=r[0],a=JSON.parse(JSON.stringify(r[1])),i={SelectivelySyncedUserSettingsStore:function(){if(a._state?.appearance?.settings?.theme){var{theme:l}=a._state?.appearance?.settings??{};Uo(l)?ne=l:a._state.appearance.settings.theme=ne}},ThemeStore:function(){if(a._state?.theme){var{theme:l}=a._state;Uo(l)?ne=l:a._state.theme=ne}}};return n in i?(i[n](),[n,a]):r}}),oe("resolveSemanticColor",J.default.meta??J.default.internal,function(r,n){if(!xt||!de)return n(...r);if(r[0]!==Oe)return n(...r);r[0]=ne;var[a,i]=Ti(ne,r[1]),l=ne==="midnight"?2:ne==="light"?1:0;var s=fl[a]??a,m=(de.data?.semanticColors?.[a]??de.data?.semanticColors?.[s])?.[l];if(m)return m;var N=de.data?.rawColors?.[i.raw];return N?i.opacity===1?N:ze(N).alpha(i.opacity).hex():n(...r)})}function hl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ne,t=ul.theme.toLowerCase();return Uo(t)?t:e}function Cr(e,t){t||(t=hl()),de=e,xt=!!de,ne=t,Oe="vd-theme-".concat(pl++,"-").concat(t),e&&(J.Theme[Oe.toUpperCase()]=Oe,_i.DIVIDER_COLORS[Oe]=_i.DIVIDER_COLORS[ne],Object.keys(J.Shadow).forEach(function(r){return J.Shadow[r][Oe]=J.Shadow[r][ne]}),Object.keys(J.SemanticColor).forEach(function(r){J.SemanticColor[r][Oe]={...J.SemanticColor[r][ne],override:e?.data?.semanticColors?.[r]?.[0]}})),Fo&&(hi.setShouldSyncAppearanceSettings(!1),hi.updateTheme(e?Oe:t))}function Go(){var e=bt();xt=!!e,vl(),Cr(e,ne),dn().catch(function(t){return console.error("Failed to update themes",t)})}function Ti(e,t){var r,n=t[(r=Ti)._sym??(r._sym=Object.getOwnPropertySymbols(t)[0])],a=J.SemanticColor[n];return[n,a[e]]}var cr,J,hi,Ei,ul,_i,j,fl,Ri,pl,Oe,ne,xt,de,Fo,gl,Pe=f(()=>{"use strict";go();Be();rt();ve();ae();St();M();W();cr=z(X());J=d("SemanticColor"),hi=d("updateTheme"),Ei=d("storage")?.parseResolve?d("storage"):d("impl").impl,ul=it("ThemeStore"),_i=d("DIVIDER_COLORS"),j=Ye(Ie(we("VENDETTA_THEMES"))),fl={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};o(Mo,"writeTheme");o(Ho,"patchChatBackground");o(Si,"normalizeToHex");o(ml,"processData");o(dl,"applyAndroidAlphaKeys");o(jt,"fetchTheme");o(ot,"installTheme");o(at,"selectTheme");o(Yt,"removeTheme");o(bt,"getThemeFromLoader");o(dn,"updateThemes");Ri={...J.RawColor},pl=0,Oe="vd-theme",ne="darker",xt=!1,Fo=!1,gl=new Set(["darker","midnight","dark","light"]);o(Uo,"isDiscordTheme");o(vl,"patchColor");o(hl,"getDefaultFallbackTheme");o(Cr,"applyTheme");o(Go,"initThemes");o(Ti,"extractInfo")});var Ko={};b(Ko,{getLoaderConfigPath:()=>Wo,getLoaderIdentity:()=>_l,getLoaderName:()=>pn,getLoaderVersion:()=>ko,getReactDevToolsProp:()=>jo,getReactDevToolsVersion:()=>Yo,getStoredTheme:()=>Ir,getSysColors:()=>yi,getThemeFilePath:()=>Vo,getVendettaLoaderIdentity:()=>Dr,isLoaderConfigSupported:()=>gn,isPyonLoader:()=>Z,isReactDevToolsPreloaded:()=>lr,isSysColorsSupported:()=>zo,isThemeSupported:()=>Re,isVendettaLoader:()=>ie});function ie(){return We!=null}function Z(){return st!=null}function El(){if(!Z()||ie())return null;var e={name:st.loaderName,features:{}};return gn()&&(e.features.loaderConfig=!0),zo()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return yi()},configurable:!0})),Re()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){var t=Ir()?.id;if(!t)return null;var{themes:r}=(Pe(),tt(wr));return r[t]??Ir()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}function _l(){return Z()?st:ie()?Dr():null}function Dr(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:El()}function pn(){return Z()?st.loaderName:ie()?We.name:"Unknown"}function ko(){return Z()?st.loaderVersion:null}function gn(){return Z()?!0:ie()?We.features.loaderConfig:!1}function Re(){return Z()?st.hasThemeSupport:ie()?We.features.themes!=null:!1}function Ir(){if(Z())return st.storedTheme;if(ie()){var e=We.features.themes?.prop;return e&&globalThis[e]||null}return null}function Vo(){return Z()?"pyoncord/current-theme.json":ie()?"vendetta_theme.json":null}function lr(){return Z()?!!window.__reactDevTools:ie()?We.features.devtools!=null:!1}function jo(){return lr()?Z()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):ie()?We.features.devtools.prop:null:null}function Yo(){return lr()?Z()?window.__reactDevTools.version||null:ie()?We.features.devtools.version:null:null}function zo(){return Z()?st.isSysColorsSupported:ie()?We.features.syscolors!=null:!1}function yi(){return zo()?Z()?st.sysColors:ie()?We.features.syscolors.prop:null:null}function Wo(){return Z()?"pyoncord/loader.json":ie()?"vendetta_loader.json":"loader.json"}var st,We,Be=f(()=>{"use strict";st=globalThis.__PYON_LOADER__,We=globalThis.__vendetta_loader;o(ie,"isVendettaLoader");o(Z,"isPyonLoader");o(El,"polyfillVendettaLoaderIdentity");o(_l,"getLoaderIdentity");o(Dr,"getVendettaLoaderIdentity");Dr();o(pn,"getLoaderName");o(ko,"getLoaderVersion");o(gn,"isLoaderConfigSupported");o(Re,"isThemeSupported");o(Ir,"getStoredTheme");o(Vo,"getThemeFilePath");o(lr,"isReactDevToolsPreloaded");o(jo,"getReactDevToolsProp");o(Yo,"getReactDevToolsVersion");o(zo,"isSysColorsSupported");o(yi,"getSysColors");o(Wo,"getLoaderConfigPath")});var vn={};b(vn,{loaderConfig:()=>Te,settings:()=>T});var T,Te,se=f(()=>{"use strict";Be();ae();T=Ye(Ie(we("VENDETTA_SETTINGS"))),Te=Ye(Ie(nt(Wo(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var Xo={};b(Xo,{clear:()=>nl,common:()=>mn,define:()=>rl,filters:()=>hn,find:()=>re,findAll:()=>ct,findByDisplayName:()=>zt,findByDisplayNameAll:()=>Or,findByName:()=>K,findByNameAll:()=>Lr,findByProps:()=>d,findByPropsAll:()=>Nr,findByStoreName:()=>it,findByTypeName:()=>Pr,findByTypeNameAll:()=>Br,metroRequire:()=>nr,modules:()=>he,registerSegment:()=>ol});var Ct=f(()=>{"use strict";po();W();W();M()});var bi={};b(bi,{default:()=>Tl});function Rl(e){var t=new Map;for(var r of Sl)e?.[r]?t.set(r,null):e?.default?.[r]&&t.set(r,"default");for(var[n,a]of t){var i=a?e[a]:e;En[n]?Object.keys(i).length<Object.keys(qo[n]).length&&(En[n]=i[n],qo[n]=i):(En[n]=i[n],qo[n]=i)}}var Sl,qo,En,xi,Ai,Tl,Ci=f(()=>{"use strict";Ct();Sl=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),qo={},En={};for(Ai in he)xi=nr(Ai),Rl(xi);o(Rl,"polyfillRedesignModule");Tl=En});var hn={};b(hn,{find:()=>re,findAll:()=>ct,findByDisplayName:()=>zt,findByDisplayNameAll:()=>Or,findByName:()=>K,findByNameAll:()=>Lr,findByProps:()=>d,findByPropsAll:()=>Nr,findByStoreName:()=>it,findByTypeName:()=>Pr,findByTypeNameAll:()=>Br});function Ni(e){Object.defineProperty(he,e,{enumerable:!1}),Di.add(String(e))}function bl(e,t){var r;if((r=e).initSentry&&(r.initSentry=function(){}),e.default?.track&&e.default.trackMaker&&(e.default.track=function(){return Promise.resolve()}),e?.default?.name==="requireNativeComponent"&&oe("default",e,function(s,m){try{return m(...s)}catch{return s[0]}}),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(s,m,N){if(m==="isDeveloper"){var{settings:L}=(se(),tt(vn));return L.enableDiscordDeveloperSettings??!1}return Reflect.get(s,m,N)}})),!Ii&&window["__core-js_shared__"]){var n=o(function(s){return typeof s=="function"&&Al.apply(s,[])},"inspect");window["__core-js_shared__"].inspectSource=n,Ii=!0}if(e.findHostInstance_DEPRECATED){var a=Number(t),i=he[a-1]?.publicModule.exports,l=i.default?.reactProfilingEnabled?1:-1;he[a+l]?.isInitialized||Ni(a+l)}}function Li(e){if(he[e].isInitialized)return nr(e);var t=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(xl);var r;try{r=nr(e)}catch{r=void 0}return ErrorUtils.setGlobalHandler(t),r}function*Oi(){yield(Ci(),tt(bi));for(var e in he)yield Li(e)}function Pi(e,t){if(e.default&&e.__esModule&&t(e.default))return e.default;if(t(e))return e}function re(e){for(var t of Oi()){var r=Pi(t,e);if(r!==void 0)return r}}function ct(e){var t=[];for(var r of Oi()){var n=Pi(r,e);n!==void 0&&t.push(n)}return t}var yl,Di,Al,wi,Sn,_n,xl,Ii,Bi,Mi,Fi,Ui,Cl,d,Nr,K,Lr,zt,Or,Pr,Br,it,W=f(()=>{"use strict";ve();po();yl=o(function(e){var t=he[e];t.factory&&oe("factory",t,function(r,n){var{1:a,4:i}=r;r[2]=function(l){var s=a(l);return s&&s.__esModule?s.default:s},r[3]=function(l){var s=a(l);if(s&&s.__esModule)return s;var m={};return s&&Object.assign(m,s),m.default=s,m},n(...r),i.exports&&bl(i.exports,e)})},"_loop"),Di=new Set;o(Ni,"blacklistModule");Al=Function.prototype.toString;for(wi in he)yl(wi);for(_n in he)Di.has(_n)||(Sn=Li(_n),(!Sn||Sn===window||Sn["i think pyoncord eol tomorrow idk tho"]===null)&&Ni(_n));xl=o(function(){},"noopHandler"),Ii=!1;o(bl,"onModuleRequire");o(Li,"requireModule");o(Oi,"getModuleExports");o(Pi,"testExports");o(re,"find");o(ct,"findAll");Bi=o(function(e){return function(t){return e.every(function(r){return t[r]!==void 0})}},"propsFilter"),Mi=o(function(e,t){return t?function(r){return r?.name===e}:function(r){return r?.default?.name===e}},"nameFilter"),Fi=o(function(e,t){return t?function(r){return r?.displayName===e}:function(r){return r?.default?.displayName===e}},"dNameFilter"),Ui=o(function(e,t){return t?function(r){return r?.type?.name===e}:function(r){return r?.default?.type?.name===e}},"tNameFilter"),Cl=o(function(e){return function(t){return t.getName&&t.getName.length===0&&t.getName()===e}},"storeFilter"),d=o(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return re(Bi(t))},"findByProps"),Nr=o(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ct(Bi(t))},"findByPropsAll"),K=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return re(Mi(e,t))},"findByName"),Lr=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ct(Mi(e,t))},"findByNameAll"),zt=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return re(Fi(e,t))},"findByDisplayName"),Or=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ct(Fi(e,t))},"findByDisplayNameAll"),Pr=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return re(Ui(e,t))},"findByTypeName"),Br=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ct(Ui(e,t))},"findByTypeNameAll"),it=o(function(e){return re(Cl(e))},"findByStoreName")});var Io={};b(Io,{logModule:()=>Rn,logger:()=>le});var Rn,le,Vt=f(()=>{"use strict";W();Rn=K("Logger"),le=new Rn("Bunny")});function Hi(e){var{locale:t}=e;try{br.locale(t.toLowerCase())}catch(r){le.error("Failed to fix timestamps...",r)}Ne.unsubscribe("I18N_LOAD_SUCCESS",Hi)}function Jo(){Ne.subscribe("I18N_LOAD_SUCCESS",Hi)}var Gi=f(()=>{"use strict";Vt();M();o(Hi,"onDispatch");o(Jo,"default")});var ki,Vi=f(()=>{ki={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install Add-on",INSTALL_PLUGIN:"Install Plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function zi(){var e=o(function(t){var{locale:r}=t,n={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},a=ji=n[r]??r;if(a.startsWith("en-")){ur=null;return}Yi.has(a)?ur=a:(Yi.add(a),fetch("https://raw.githubusercontent.com/pyoncord/i18n/main/resources/".concat(a,"/bunny.json")).then(function(i){return i.json()}).then(function(i){return Zo[a]=i}).then(function(){return a===ji&&(ur=a)}).catch(function(i){return console.error("An error occured while fetching strings for ".concat(a,": ").concat(i))}))},"cb");return Ne.subscribe("I18N_LOAD_SUCCESS",e),function(){return Ne.unsubscribe("I18N_LOAD_SUCCESS",e)}}function ye(e,t){var r=c[e];return new Il(r).format(t)}var Il,ur,ji,Yi,Zo,c,q=f(()=>{"use strict";M();W();Vi();Il=K("MessageFormat"),ur=null,ji=null,Yi=new Set,Zo={},c=new Proxy({},{get:function(e,t){return ur&&Zo[ur]?.[t]?Zo[ur]?.[t]:ki[t]}});o(zi,"initFetchI18nStrings");o(ye,"formatString")});var Tn={};b(Tn,{all:()=>Me,find:()=>$o,getAssetByID:()=>ta,getAssetByName:()=>ea,getAssetIDByName:()=>E,patchAssets:()=>Qo});function Qo(){for(var e=U("registerAsset",kt,function(n,a){var i=n[0];Me[i.name]={...i,id:a}}),t=1;;t++){var r=kt.getAssetByID(t);if(!r)break;Me[r.name]||(Me[r.name]={...r,id:t})}return e}var Me,$o,ea,ta,E,Q=f(()=>{"use strict";ve();M();Me={};o(Qo,"patchAssets");$o=o(function(e){return Object.values(Me).find(e)},"find"),ea=o(function(e){return Me[e]},"getAssetByName"),ta=o(function(e){return kt.getAssetByID(e)},"getAssetByID"),E=o(function(e){return Me[e]?.id},"getAssetIDByName")});var yn={};b(yn,{evalPlugin:()=>Ki,fetchPlugin:()=>wt,getSettings:()=>Mr,initPlugins:()=>ra,installPlugin:()=>lt,plugins:()=>Y,removePlugin:()=>Kt,startPlugin:()=>It,stopPlugin:()=>Dt});async function Wi(e){return e.startsWith(_t)&&(e=e.replace(_t,yo)),await Rt(e,{cache:"no-store"})}async function wt(e){e.endsWith("/")||(e+="/");var t=Y[e],r;try{r=await(await Wi(e+"manifest.json")).json()}catch{throw new Error("Failed to fetch manifest for ".concat(e))}var n;if(t?.manifest.hash!==r.hash)try{n=await(await Wi(e+(r.main||"index.js"))).text()}catch{}if(!n&&!t)throw new Error("Failed to fetch JS for ".concat(e));Y[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:n??t.js}}async function lt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in Y)throw new Error("Plugin already installed");await wt(e),t&&await It(e)}async function Ki(e){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await Ie(we(e.id))},logger:new Rn("Bunny \xBB ".concat(e.manifest.name))},r="vendetta=>{return ".concat(e.js,`}
//# sourceURL=`).concat(e.id),n=(0,eval)(r)(t),a=typeof n=="function"?n():n;return a?.default??a??{}}async function It(e){e.endsWith("/")||(e+="/");var t=Y[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{if(!T.safeMode?.enabled){var r=await Ki(t);Wt[e]=r,r.onLoad?.()}t.enabled=!0}catch(n){le.error("Plugin ".concat(t.id," errored whilst loading, and will be unloaded"),n);try{Wt[t.id]?.onUnload?.()}catch(a){le.error("Plugin ".concat(t.id," errored whilst unloading"),a)}delete Wt[e],t.enabled=!1}}function Dt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.endsWith("/")||(e+="/");var r=Y[e],n=Wt[e];if(!r)throw new Error("Attempted to stop non-existent plugin");if(!T.safeMode?.enabled){try{n?.onUnload?.()}catch(a){le.error("Plugin ".concat(r.id," errored whilst unloading"),a)}delete Wt[e]}t&&(r.enabled=!1)}async function Kt(e){e.endsWith("/")||(e+="/");var t=Y[e];t.enabled&&Dt(e),delete Y[e],await or(e)}async function ra(){await Et(T),await Et(Y);var e=Object.keys(Y);return T.safeMode?.enabled||(await Rr(e.filter(function(t){return Y[t].enabled}).map(async function(t){return Y[t].update&&await wt(t).catch(function(r){return le.error(r.message)}),await It(t)})),e.filter(function(t){return!Y[t].enabled&&Y[t].update}).forEach(function(t){return wt(t)})),Dl}var Y,Wt,Dl,Mr,ut=f(()=>{"use strict";go();ae();se();St();Gt();Vt();Y=Ye(Ie(we("VENDETTA_PLUGINS"))),Wt={};o(Wi,"pluginFetch");o(wt,"fetchPlugin");o(lt,"installPlugin");o(Ki,"evalPlugin");o(It,"startPlugin");o(Dt,"stopPlugin");o(Kt,"removePlugin");o(ra,"initPlugins");Dl=o(function(){return Object.keys(Wt).forEach(function(e){return Dt(e,!1)})},"stopAllPlugins"),Mr=o(function(e){return Wt[e]?.settings},"getSettings")});var ia={};b(ia,{Form:()=>Nl,FormArrow:()=>Ll,FormCTA:()=>Ol,FormCTAButton:()=>Pl,FormCardSection:()=>Bl,FormCheckbox:()=>Ml,FormCheckboxRow:()=>Fl,FormCheckmark:()=>Ul,FormDivider:()=>na,FormHint:()=>Hl,FormIcon:()=>oa,FormInput:()=>aa,FormLabel:()=>Gl,FormRadio:()=>Vl,FormRadioGroup:()=>kl,FormRadioRow:()=>jl,FormRow:()=>Ae,FormSection:()=>xn,FormSelect:()=>Yl,FormSliderRow:()=>zl,FormSubLabel:()=>Wl,FormSwitch:()=>Kl,FormSwitchRow:()=>Xl,FormTernaryCheckBox:()=>ql,FormText:()=>Xt,FormTitle:()=>Jl,Forms:()=>An});var An,Nl,Ll,Ol,Pl,Bl,Ml,Fl,Ul,na,Hl,oa,aa,Gl,Vl,kl,jl,Ae,xn,Yl,zl,Wl,Kl,Xl,ql,Xt,Jl,xe=f(()=>{"use strict";Ct();An=d("Form","FormSection"),{Form:Nl,FormArrow:Ll,FormCTA:Ol,FormCTAButton:Pl,FormCardSection:Bl,FormCheckbox:Ml,FormCheckboxRow:Fl,FormCheckmark:Ul,FormDivider:na,FormHint:Hl,FormIcon:oa,FormInput:aa,FormLabel:Gl,FormRadio:Vl,FormRadioGroup:kl,FormRadioRow:jl,FormRow:Ae,FormSection:xn,FormSelect:Yl,FormSliderRow:zl,FormSubLabel:Wl,FormSwitch:Kl,FormSwitchRow:Xl,FormTernaryCheckBox:ql,FormText:Xt,FormTitle:Jl}=An});var sa=so((Lp,Xi)=>{Object.defineProperty(Xi,"exports",{get:()=>globalThis.React})});var ma={};b(ma,{AccessibilityAnnouncer:()=>Af,AccessibilityPreferencesContext:()=>xf,AccessibilityView:()=>bf,AccessibilityViewAnimated:()=>Cf,ActionSheet:()=>wf,ActionSheetCloseButton:()=>If,ActionSheetIconHeader:()=>Df,ActionSheetPresenter:()=>Nf,ActionSheetRow:()=>Lf,ActionSheetSwitchRow:()=>Of,AlertActionButton:()=>Ql,AlertModal:()=>$l,AlertModalContainer:()=>eu,AnimatedEnterExitItem:()=>Pf,AvatarDuoPile:()=>tu,AvatarPile:()=>ru,Backdrop:()=>nu,BottomSheetTextInput:()=>Bf,Button:()=>Fr,Card:()=>ou,CompatfulRedesign:()=>ft,ContextMenu:()=>au,ContextMenuContainer:()=>iu,Dialog:()=>Mf,DisableCustomTheme:()=>Ff,FauxHeader:()=>su,FloatingActionButton:()=>cu,FormCheckbox:()=>ua,FormRadio:()=>Zl,FormSwitch:()=>la,GhostInput:()=>lu,GuildIconPile:()=>uu,HeaderActionButton:()=>fu,HeaderButton:()=>mu,HeaderSubmittingIndicator:()=>du,IconButton:()=>bn,Input:()=>pu,InputButton:()=>gu,InputContainer:()=>vu,LayerContext:()=>hu,LayerScope:()=>Eu,Menu:()=>Uf,MenuGroup:()=>Hf,MenuItem:()=>Gf,MenuPopout:()=>Vf,Modal:()=>_u,ModalActionButton:()=>Su,ModalContent:()=>Ru,ModalDisclaimer:()=>Tu,ModalFloatingAction:()=>yu,ModalFloatingActionSpacer:()=>Au,ModalFooter:()=>xu,ModalScreen:()=>bu,ModalStepIndicator:()=>Cu,Navigator:()=>wu,NavigatorHeader:()=>Iu,NavigatorScreen:()=>Du,Pile:()=>Nu,PileOverflow:()=>Lu,Redesign:()=>$i,RedesignCompat:()=>Ou,RedesignCompatContext:()=>Pu,RootThemeContextProvider:()=>kf,RowButton:()=>Bu,SceneLoadingIndicator:()=>Mu,SearchField:()=>Fu,SegmentedControl:()=>Uu,SegmentedControlPages:()=>Hu,SimpleActionSheet:()=>jf,Slider:()=>Gu,Stack:()=>qt,StepModal:()=>Vu,StickyContext:()=>ku,StickyHeader:()=>ju,StickyWrapper:()=>Yu,TableCheckboxRow:()=>zu,TableRadioGroup:()=>Wu,TableRadioRow:()=>Ku,TableRow:()=>x,TableRowGroup:()=>pe,TableRowGroupTitle:()=>Xu,TableRowIcon:()=>qu,TableSwitchRow:()=>Nt,Tabs:()=>Ju,Text:()=>Yf,TextArea:()=>Zu,TextField:()=>Qu,TextInput:()=>fr,TextStyleSheet:()=>zf,ThemeContextFlags:()=>Wf,ThemeContextForLegacyStyles:()=>Kf,ThemeContextProvider:()=>Xf,Toast:()=>$u,TransitionGroup:()=>qf,TransitionItem:()=>Jf,TransitionStates:()=>Zf,UseThemeContext:()=>Qf,WCAGContrastRatios:()=>$f,createLegacyClassComponentStyles:()=>em,createNativeStyleProperties:()=>tm,createStyleProperties:()=>rm,createStyles:()=>nm,darkenColor:()=>om,dismissAlerts:()=>ef,experimental_createToken:()=>am,getContrastingColor:()=>im,getHeaderBackButton:()=>tf,getHeaderCloseButton:()=>rf,getHeaderConditionalBackButton:()=>nf,getHeaderNoTitle:()=>of,getHeaderTextButton:()=>af,getSemanticColorContextFromThemeContext:()=>sm,hasThemeFlag:()=>cm,hideContextMenu:()=>sf,navigatorShouldCrossfade:()=>cf,openAlert:()=>lf,setColorOpacity:()=>lm,setThemeFlag:()=>um,showSimpleActionSheet:()=>fm,useAccessibilityNativeStackOptions:()=>uf,useAndroidNavScrim:()=>ff,useCoachmark:()=>mf,useFloatingActionButtonScroll:()=>df,useFloatingActionButtonState:()=>pf,useLegacyClassComponentStyles:()=>mm,useNativeStackNavigation:()=>gf,useNavigation:()=>fa,useNavigationTheme:()=>vf,useNavigatorBackPressHandler:()=>hf,useNavigatorScreens:()=>Ef,useNavigatorShouldCrossfade:()=>_f,useSegmentedControlState:()=>Sf,useStackNavigation:()=>Rf,useTabNavigation:()=>Tf,useThemeContext:()=>dm,useToken:()=>pm,useTooltip:()=>yf});var Zi,Qi,qi,Ji,ca,$i,ft,la,Zl,ua,Ql,$l,eu,tu,ru,nu,Fr,ou,au,iu,su,cu,lu,uu,fu,mu,du,bn,pu,gu,vu,hu,Eu,_u,Su,Ru,Tu,yu,Au,xu,bu,Cu,wu,Iu,Du,Nu,Lu,Ou,Pu,Bu,Mu,Fu,Uu,Hu,Gu,qt,Vu,ku,ju,Yu,zu,Wu,Ku,x,pe,Xu,qu,Nt,Ju,Zu,Qu,fr,$u,ef,tf,rf,nf,of,af,sf,cf,lf,uf,ff,mf,df,pf,gf,fa,vf,hf,Ef,_f,Sf,Rf,Tf,yf,Af,xf,bf,Cf,wf,If,Df,Nf,Lf,Of,Pf,Bf,Mf,Ff,Uf,Hf,Gf,Vf,kf,jf,Yf,zf,Wf,Kf,Xf,qf,Jf,Zf,Qf,$f,em,tm,rm,nm,om,am,im,sm,cm,lm,um,fm,mm,dm,pm,be=f(()=>{"use strict";Ct();Zi=z(sa()),Qi=z(X()),ca=o(function(e){return re(function(t){return t[e]&&Object.keys(t).length===1})?.[e]},"findSingular"),$i=d("TableRow"),ft=d("ActionSheetRow");(qi=ft).ActionSheetTitleHeader??(qi.ActionSheetTitleHeader=ft.BottomSheetTitleHeader);(Ji=ft).ActionSheetContentContainer??(Ji.ActionSheetContentContainer=function(e){var{children:t}=e;return(0,Zi.useEffect)(function(){return console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. It has been temporarily replaced with View")},[]),React.createElement(Qi.View,null,t)});la=ca("FormSwitch"),Zl=ca("FormRadio"),ua=ca("FormCheckbox"),{AlertActionButton:Ql,AlertModal:$l,AlertModalContainer:eu,AvatarDuoPile:tu,AvatarPile:ru,Backdrop:nu,Button:Fr,Card:ou,ContextMenu:au,ContextMenuContainer:iu,FauxHeader:su,FloatingActionButton:cu,GhostInput:lu,GuildIconPile:uu,HeaderActionButton:fu,HeaderButton:mu,HeaderSubmittingIndicator:du,IconButton:bn,Input:pu,InputButton:gu,InputContainer:vu,LayerContext:hu,LayerScope:Eu,Modal:_u,ModalActionButton:Su,ModalContent:Ru,ModalDisclaimer:Tu,ModalFloatingAction:yu,ModalFloatingActionSpacer:Au,ModalFooter:xu,ModalScreen:bu,ModalStepIndicator:Cu,Navigator:wu,NavigatorHeader:Iu,NavigatorScreen:Du,Pile:Nu,PileOverflow:Lu,RedesignCompat:Ou,RedesignCompatContext:Pu,RowButton:Bu,SceneLoadingIndicator:Mu,SearchField:Fu,SegmentedControl:Uu,SegmentedControlPages:Hu,Slider:Gu,Stack:qt,StepModal:Vu,StickyContext:ku,StickyHeader:ju,StickyWrapper:Yu,TableCheckboxRow:zu,TableRadioGroup:Wu,TableRadioRow:Ku,TableRow:x,TableRowGroup:pe,TableRowGroupTitle:Xu,TableRowIcon:qu,TableSwitchRow:Nt,Tabs:Ju,TextArea:Zu,TextField:Qu,TextInput:fr,Toast:$u,dismissAlerts:ef,getHeaderBackButton:tf,getHeaderCloseButton:rf,getHeaderConditionalBackButton:nf,getHeaderNoTitle:of,getHeaderTextButton:af,hideContextMenu:sf,navigatorShouldCrossfade:cf,openAlert:lf,useAccessibilityNativeStackOptions:uf,useAndroidNavScrim:ff,useCoachmark:mf,useFloatingActionButtonScroll:df,useFloatingActionButtonState:pf,useNativeStackNavigation:gf,useNavigation:fa,useNavigationTheme:vf,useNavigatorBackPressHandler:hf,useNavigatorScreens:Ef,useNavigatorShouldCrossfade:_f,useSegmentedControlState:Sf,useStackNavigation:Rf,useTabNavigation:Tf,useTooltip:yf}=$i,{AccessibilityAnnouncer:Af,AccessibilityPreferencesContext:xf,AccessibilityView:bf,AccessibilityViewAnimated:Cf,ActionSheet:wf,ActionSheetCloseButton:If,ActionSheetIconHeader:Df,ActionSheetPresenter:Nf,ActionSheetRow:Lf,ActionSheetSwitchRow:Of,AnimatedEnterExitItem:Pf,BottomSheetTextInput:Bf,Dialog:Mf,DisableCustomTheme:Ff,Menu:Uf,MenuGroup:Hf,MenuItem:Gf,MenuPopout:Vf,RootThemeContextProvider:kf,SimpleActionSheet:jf,Text:Yf,TextStyleSheet:zf,ThemeContextFlags:Wf,ThemeContextForLegacyStyles:Kf,ThemeContextProvider:Xf,TransitionGroup:qf,TransitionItem:Jf,TransitionStates:Zf,UseThemeContext:Qf,WCAGContrastRatios:$f,createLegacyClassComponentStyles:em,createNativeStyleProperties:tm,createStyleProperties:rm,createStyles:nm,darkenColor:om,experimental_createToken:am,getContrastingColor:im,getSemanticColorContextFromThemeContext:sm,hasThemeFlag:cm,setColorOpacity:lm,setThemeFlag:um,showSimpleActionSheet:fm,useLegacyClassComponentStyles:mm,useThemeContext:dm,useToken:pm}=ft});var Lt={};b(Lt,{Alert:()=>da,Button:()=>Ke,Forms:()=>ia,HelpMessage:()=>pa,Redesign:()=>ma,SafeAreaView:()=>ga});var da,Ke,pa,ga,Jt=f(()=>{"use strict";W();xe();be();da=zt("FluxContainer(Alert)"),Ke=d("Looks","Colors","Sizes"),pa=K("HelpMessage"),ga=d("useSafeAreaInsets").SafeAreaView});var Cn={};b(Cn,{isSemanticColor:()=>ha,rawColors:()=>va,resolveSemanticColor:()=>Ea,semanticColors:()=>$});function ha(e){return ts.isSemanticColor(e)}function Ea(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gm.theme;return ts.resolveSemanticColor(t,e)}var es,$,va,gm,ts,Ot=f(()=>{"use strict";Pe();W();M();$=J?.default?.colors??Tt?.ThemeColorMap,va=J?.default?.unsafe_rawColors??Tt?.Colors,gm=it("ThemeStore"),ts=(es=J.default).meta??(es.meta=J.default.internal);o(ha,"isSemanticColor");o(Ea,"resolveSemanticColor")});var _a={};b(_a,{TextStyleSheet:()=>Xe,createStyles:()=>Zt,createThemedStyleSheet:()=>Qt});function Zt(e){return ft.createStyles(e)}function Qt(e){for(var t in e)e[t]=new Proxy(rs.StyleSheet.flatten(e[t]),{get(r,n,a){var i=Reflect.get(r,n,a);return ha(i)?Ea(i):i}});return e}var rs,Xe,Pt=f(()=>{"use strict";Ct();Ot();be();rs=z(X()),{TextStyleSheet:Xe}=d("TextStyleSheet");o(Zt,"createStyles");o(Qt,"createThemedStyleSheet")});function Fe(e){var{selectable:t,style:r,children:n}=e;return t?mr.Platform.select({ios:React.createElement(vm,{style:r,children:n}),default:React.createElement(ns,{style:r,children:n,selectable:!0})}):React.createElement(ns,{style:r,children:n})}var mr,os,vm,ns,as=f(()=>{"use strict";M();Ot();Pt();mr=z(X()),os=Zt({codeBlock:{fontFamily:Tt.Fonts.CODE_SEMIBOLD,fontSize:12,textAlignVertical:"center",backgroundColor:$.BACKGROUND_SECONDARY,color:$.TEXT_NORMAL,borderWidth:1,borderRadius:4,borderColor:$.BACKGROUND_TERTIARY,padding:10}}),vm=o(function(e){var{style:t,children:r}=e;return React.createElement(mr.TextInput,{editable:!1,multiline:!0,style:[os().codeBlock,t&&t],value:r})},"InputBasedCodeblock"),ns=o(function(e){var{selectable:t,style:r,children:n}=e;return React.createElement(mr.Text,{selectable:t,style:[os().codeBlock,r&&r]},n)},"TextBasedCodeblock");o(Fe,"Codeblock")});function Sa(e){var t=React.useRef(null);return React.useEffect(function(){if($t.Platform.OS==="android"){var r=t.current?._children?.[0]?._nativeTag;return function(){if(r)var n=oe("setAccessibilityFocus",$t.AccessibilityInfo,function(a,i){var[l]=a;if(l!==r)return i.apply($t.AccessibilityInfo,[l]);n()})}}},[]),React.createElement($t.View,{ref:t},React.createElement(hm,e))}var $t,hm,is=f(()=>{"use strict";ve();W();$t=z(X()),{ContextMenu:hm}=d("ContextMenu");o(Sa,"ContextMenu")});function ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var cs=f(()=>{o(ss,"_class_call_check")});function ls(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function us(e,t,r){return t&&ls(e.prototype,t),r&&ls(e,r),e}var fs=f(()=>{o(ls,"_defineProperties");o(us,"_create_class")});function ms(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ds=f(()=>{o(ms,"_define_property")});function wn(e,t){return wn=Object.setPrototypeOf||o(function(n,a){return n.__proto__=a,n},"setPrototypeOf"),wn(e,t)}var ps=f(()=>{o(wn,"_set_prototype_of")});function gs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}var vs=f(()=>{ps();o(gs,"_inherits")});function Ur(e){return Ur=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"getPrototypeOf"),Ur(e)}var hs=f(()=>{o(Ur,"_get_prototype_of")});function Es(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _s=f(()=>{o(Es,"_is_native_reflect_construct")});function Ss(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Rs=f(()=>{o(Ss,"_assert_this_initialized")});function Ts(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var ys=f(()=>{o(Ts,"_type_of")});function As(e,t){return t&&(Ts(t)==="object"||typeof t=="function")?t:Ss(e)}var xs=f(()=>{Rs();ys();o(As,"_possible_constructor_return")});function bs(e){var t=Es();return o(function(){var n=Ur(e),a;if(t){var i=Ur(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return As(this,a)},"_createSuperInternal")}var Cs=f(()=>{hs();_s();xs();o(bs,"_create_super")});var Ra,ws,Em,ee,Ta=f(()=>{"use strict";cs();fs();ds();vs();Cs();q();M();qe();Jt();xe();Pt();Ra=z(X()),ws=Qt({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),ee=function(e){"use strict";gs(r,e);var t=bs(r);function r(n){ss(this,r);var a;return a=t.call(this,n),a.state={hasErr:!1},a}return o(r,"ErrorBoundary"),us(r,[{key:"render",value:o(function(){var a=this;return this.state.hasErr?Se.createElement(Ra.ScrollView,{style:ws.view},Se.createElement(Xt,{style:ws.title},c.UH_OH),Se.createElement(Fe,{selectable:!0,style:{marginBottom:5}},this.state.error.name),Se.createElement(Fe,{selectable:!0,style:{marginBottom:5}},this.state.error.message),this.state.error.stack&&Se.createElement(Ra.ScrollView,{style:{maxHeight:420,marginBottom:5}},Se.createElement(Fe,{selectable:!0},this.state.error.stack)),Se.createElement(Ke,{color:Ke.Colors.RED,size:Ke.Sizes.MEDIUM,look:Ke.Looks.FILLED,onPress:function(){return a.setState({hasErr:!1})},text:c.RETRY})):this.props.children},"render")}]),r}(Em=Se.Component);ms(ee,"getDerivedStateFromError",function(e){return{hasErr:!0,error:e}})});function _m(){return React.createElement(In.Image,{style:{transform:[{scale:.8}]},source:E("search")})}function mt(e){var{onChangeText:t,placeholder:r,style:n}=e,[a,i]=React.useState(""),l=o(function(s){i(s),t?.(s)},"onChange");return React.createElement(ee,null,React.createElement(In.View,{style:n},React.createElement(fr,{grow:!0,isClearable:!0,leadingIcon:_m,placeholder:r??c.SEARCH,onChange:l,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:a})))}var In,Is=f(()=>{"use strict";q();Q();be();Ta();In=z(X());o(_m,"SearchIcon");o(mt,"default")});function Gr(e){var{label:t,icon:r,noPadding:n=!1,noAnimation:a=!1,children:i}=e,[l,s]=React.useState(!0);return React.createElement(React.Fragment,null,React.createElement(x,{label:t,icon:r&&React.createElement(x.Icon,{source:E(r)}),trailing:React.createElement(Ae.Arrow,{style:{transform:[{rotate:"".concat(l?180:90,"deg")}]}}),onPress:function(){s(!l),a||Hr.LayoutAnimation.configureNext(Hr.LayoutAnimation.Presets.easeInEaseOut)}}),!l&&React.createElement(React.Fragment,null,React.createElement(Hr.View,{style:!n&&{paddingHorizontal:15}},i)))}var Hr,Ds=f(()=>{"use strict";Q();xe();be();Hr=z(X());o(Gr,"Summary")});var Dn={};b(Dn,{Codeblock:()=>Fe,ContextMenu:()=>Sa,ErrorBoundary:()=>ee,Search:()=>mt,Summary:()=>Gr,discord:()=>Lt});var qe=f(()=>{"use strict";Jt();as();is();Ta();Is();Ds()});var Nn={};b(Nn,{showToast:()=>D});var ya,Sm,D,Je=f(()=>{"use strict";q();Q();M();W();ya=z(X()),{uuid4:Sm}=d("uuid4"),D=o(function(e,t){return xr.open({key:"vd-toast-".concat(Sm()),content:e,source:t,icon:t})},"showToast");D.showCopyToClipboard=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c.COPIED_TO_CLIPBOARD;(ya.Platform.OS!=="android"||ya.Platform.Version<=32)&&D(e,E("toast_copy_link"))}});function ym(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.guild_id===Ao){var n;if(e.parent_id===xo)n="Plugin";else if(e.parent_id===yr&&Re())n="Theme";else return;var{firstMessage:a}=r?Rm(e):{firstMessage:t},i=a?.content?.match(Tr)?.filter(Vr[n].urlsFilter);if(!(!i||!i[0]))return n==="Plugin"&&!i[0].endsWith("/")&&(i[0]+="/"),[n,i[0]]}}function Am(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,[n,a]=ym(e,t,r)??[];F(Y),F(j);var[i,l]=React.useState(!1);if(!n||!a)return[!0];var s=!!Vr[n].storage[a],m=o(async function(){l(!0);try{await Vr[n].installOrRemove(a)}catch(N){D(N.message,E("Small"))}finally{l(!1)}},"installOrRemove");return[!1,n,s,i,m]}function Aa(){var e=[xm()];return function(){return e.map(function(t){return t()})}}var Rm,Tm,Vr,xm,Ns=f(()=>{"use strict";q();Q();Be();ve();ae();ut();Pe();qe();be();Gt();W();Je();({useFirstForumPostMessage:Rm}=d("useFirstForumPostMessage")),Tm=d("MostCommonForumPostReaction"),Vr={Plugin:{storage:Y,urlsFilter:function(e){return e.startsWith(_t)},installOrRemove:function(e){var t=Vr.Plugin.storage[e];return t?Kt(e):lt(e)}},Theme:{storage:j,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){var t=Vr.Theme.storage[e];return t?Yt(e):ot(e)}}};o(ym,"useExtractThreadContent");o(Am,"useInstaller");xm=o(function(){return U("MostCommonForumPostReaction",Tm,function(e,t){var[{thread:r,firstMessage:n}]=e,[a,i,l,s,m]=Am(r,n,!0);if(!a)return React.createElement(React.Fragment,null,t,React.createElement(ee,null,React.createElement(Fr,{size:"sm",loading:s,disabled:s,variant:l?"secondary":"primary",text:l?c.UNINSTALL:c.INSTALL,onPress:m,icon:E(l?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})))})},"installButtonPatch");o(Aa,"default")});function xa(e){var{title:t,confirmText:r,confirmColor:n,onConfirm:a,cancelText:i,placeholder:l,initialValue:s="",secureTextEntry:m}=e,[N,L]=React.useState(s),[C,I]=React.useState("");function H(){var te=Promise.resolve(a(N));te.then(function(){Ls.close()}).catch(function(hr){I(hr.message)})}return o(H,"onConfirmWrapper"),React.createElement(da,{title:t,confirmText:r,confirmColor:n,isConfirmButtonDisabled:C.length!==0,onConfirm:H,cancelText:i,onCancel:function(){return Ls.close()}},React.createElement(aa,{placeholder:l,value:N,onChange:function(te){L(typeof te=="string"?te:te.text),C&&I("")},returnKeyType:"done",onSubmitEditing:H,error:C||void 0,secureTextEntry:m,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}}))}var Ls,Os=f(()=>{"use strict";W();Jt();xe();Ls=d("openLazy","close");o(xa,"InputAlert")});var On={};b(On,{showConfirmationAlert:()=>Ze,showCustomAlert:()=>Ln,showInputAlert:()=>kr});function Ze(e){var t,r=e;return r.body=e.content,delete r.content,(t=r).isDismissable??(t.isDismissable=!0),Ps.show(r)}var Ps,Ln,kr,er=f(()=>{"use strict";W();Os();Ps=d("openLazy","close");o(Ze,"showConfirmationAlert");Ln=o(function(e,t){return Ps.openLazy({importer:async function(){return function(){return React.createElement(e,t)}}})},"showCustomAlert"),kr=o(function(e){return Ln(xa,e)},"showInputAlert")});function Bs(e){if(e.startsWith(_t))return"plugin";if(e.endsWith(".json")&&Re())return"theme"}function Ms(e,t){(e==="plugin"?lt:ot)(t).then(function(){D(c.SUCCESSFULLY_INSTALLED,E("Check"))}).catch(function(r){D(r.message,E("Small"))})}function ba(){var e=new Array;return e.push(U("showSimpleActionSheet",bm,function(t){if(t[0].key==="LongPressUrl"){var{header:{title:r},options:n}=t[0],a=Bs(r);a&&n.push({label:c.INSTALL_ADDON,onPress:function(){return Ms(a,r)}})}})),e.push(oe("handleClick",Cm,async function(t,r){var{href:n}=t[0],a=Bs(n);if(!a)return r.apply(this,t);if(a==="theme"&&Dm(Im())?.parent_id!==yr)return r.apply(this,t);Ze({title:c.HOLD_UP,content:ye("CONFIRMATION_LINK_IS_A_TYPE",{urlType:a}),onConfirm:function(){return Ms(a,n)},confirmText:c.INSTALL,cancelText:c.CANCEL,secondaryConfirmText:c.OPEN_IN_BROWSER,onConfirmSecondary:function(){return wm(n)}})})),function(){return e.forEach(function(t){return t()})}}var bm,Cm,wm,Im,Dm,Fs=f(()=>{"use strict";q();Q();Be();ve();ut();Pe();Gt();M();W();er();Je();bm=re(function(e){return e?.showSimpleActionSheet&&!Object.getOwnPropertyDescriptor(e,"showSimpleActionSheet")?.get}),Cm=d("handleClick"),{openURL:wm}=At,{getChannelId:Im}=Ar,{getChannel:Dm}=d("getChannel");o(Bs,"typeFromUrl");o(Ms,"installWithToast");o(ba,"default")});var Hs={};b(Hs,{default:()=>Us});function Us(){var e=new Array;return e.push(Aa()),e.push(ba()),function(){return e.forEach(function(t){return t()})}}var Gs=f(()=>{"use strict";Ns();Fs();o(Us,"onLoad")});function Vs(){var e=[(Gs(),tt(Hs))].map(function(t){return t.default()});return function(){return e.forEach(function(t){return typeof t=="function"&&t()})}}var ks=f(()=>{"use strict";o(Vs,"initCorePlugins")});function Bn(e,t,r,n,a){return async function(){if(e)return void e();var i=await r().then(function(l){return l.default});typeof n=="string"&&(n={title:n}),t??(t=Nm.getRootNavigationRef()),t.navigate("VendettaCustomPage",{...n,render:function(){return React.createElement(i,a)}})}}var Nm,Pn,Ca=f(()=>{"use strict";M();W();qe();Nm=d("getRootNavigationRef"),Pn=React.memo(function(){var e=_e.useNavigation(),t=_e.useRoute(),{render:r,...n}=t.params;return React.useEffect(function(){return void e.setOptions({...n})},[]),React.createElement(ee,null,React.createElement(r,null))});o(Bn,"wrapOnPress")});function Lm(){var e=_e.useNavigation();return React.createElement(React.Fragment,null,Object.keys(Qe).map(function(t){return React.createElement(xn,{key:t,title:t},Qe[t].filter(function(r){return r.usePredicate?.()??!0}).map(function(r){return React.createElement(Ae,{label:r.title(),leading:React.createElement(oa,{source:r.icon}),trailing:Ae.Arrow,onPress:Bn(r.onPress,e,r.render,r.title())})}))}))}function js(e){e.push(U("default",K("getScreens",!1),function(r,n){return{...n,VendettaCustomPage:{title:"Bnuuy",render:function(){return React.createElement(Pn,null)}}}}));var t=U("default",K("UserSettingsOverviewWrapper",!1),function(r,n){var a=De(n.props.children,function(i){return i.type?.name==="UserSettingsOverview"});e.push(U("renderSupportAndAcknowledgements",a.type.prototype,function(i,l){var{props:{children:s}}=l,m=s.findIndex(function(N){return N?.type?.name==="UploadLogsButton"});m!==-1&&s.splice(m,1)})),e.push(U("render",a.type.prototype,function(i,l){var s=[yt.Messages.BILLING_SETTINGS,yt.Messages.PREMIUM_SETTINGS],m=De(l.props.children,function(L){return L?.children?.[1]?.type===xn}).children,N=m.findIndex(function(L){return s.includes(L?.props.label)});m.splice(-~N||4,0,React.createElement(Lm,null))}))},!0);e.push(t)}var Ys=f(()=>{"use strict";Ct();M();xe();dr();St();rr();Ca();o(Lm,"SettingsSection");o(js,"patchPanelUI")});function Pm(){var e=!1;return React.useEffect(function(){return void(e=!0)},[]),e}function zs(e){jr.SETTING_RENDERER_CONFIG.VendettaCustomPage={type:"route",title:function(){return"Bunny"},screen:{route:"VendettaCustomPage",getComponent:function(){return Pn}}};var t=o(function(){return Object.values(Qe).flatMap(function(n){return n.map(function(a){return{[a.key]:{type:"pressable",title:a.title,icon:a.icon,usePredicate:a.usePredicate,onPress:Bn(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}})}).reduce(function(n,a){return Object.assign(n,a)})},"getRows"),r=jr.SETTING_RENDERER_CONFIG;jr.SETTING_RENDERER_CONFIG=new Proxy(r,{get:function(n,a,i){return Reflect.get({...n,...t()},a,i)},getOwnPropertyDescriptor:function(n,a){return Reflect.getOwnPropertyDescriptor({...n,...t()},a)},ownKeys:function(n){return[...Reflect.ownKeys(n),...Object.keys(t())]}}),e.push(function(){jr.SETTING_RENDERER_CONFIG=r,delete jr.SETTING_RENDERER_CONFIG.VendettaCustomPage}),e.push(U("default",Om,function(n,a){if(!Pm()){var{sections:i}=De(a,function(s){return s.props?.sections}).props,l=-~i.findIndex(function(s){return s.label===yt.Messages.ACCOUNT_SETTINGS})||1;Object.keys(Qe).forEach(function(s){i.splice(l++,0,{label:s,title:s,settings:Qe[s].map(function(m){return m.key})})})}}))}var jr,Om,Ws=f(()=>{"use strict";Ct();M();dr();St();rr();Ca();jr=d("SETTING_RENDERER_CONFIG"),Om=K("SettingsOverviewScreen",!1);o(Pm,"useIsFirstRender");o(zs,"patchTabsUI")});var Ia={};b(Ia,{patchSettings:()=>wa,registerSection:()=>Mn,registeredSections:()=>Qe});function Mn(e){return Qe[e.name]=e.items,function(){return delete Qe[e.name]}}function wa(){var e=new Array;return js(e),zs(e),function(){return e.forEach(function(t){return t()})}}var Qe,dr=f(()=>{"use strict";Ys();Ws();Qe={};o(Mn,"registerSection");o(wa,"patchSettings")});var Xs,Ks=f(()=>{Xs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA+CAYAAACbQR1vAAAAAXNSR0IArs4c6QAAAuRJREFUaEPtmjFuFTEQhudPCiqEgtIhuAAUVDQUyR0QFRU3gZtwAMQdQHSIAiUNZShSAaKgoMrAPmVXu479PF7PeNdrXvts7/zf/DO29z3Qyj7MzOOQAMAyRNPFUwN3xffzLSFUAaADYQWhGgBWEP4DSK1Ty/GhHmDZFKtygEUZqALwZPA3gNtS10gcQERvALyUrhkbpwYgFryki8fWsNgWiwGQBN8EgGsQDODAtWdLAHba3bKQAiCiLwAex+pb8r1mCZwT0UPJQ90xPYgEAGonQzUAnagUAT4IKfMlTVWSDFUAuRAkAUuaadI6KYOlY1MyKV0zVDZz5w8gcxcIzbeGsNoSGAOxhFAFAMueUA0AQwgHACavz+aUs/ouULAnHAK4miN6PKcYAAMnnAD4UBUAZQiv/vWB19UBUIRwCeBelQAUIWTfCYr2ADdbiueEtwCez3HD0gB+EtHRnMB9c+acDZYGkL2P594RFgOgaH+fGa4AHEqctQgAY/GDbklJFAdgJP4HgGNm7vpJ11fEEIoBYOZbRPRHYsvEMZ8APNl3C93nhCIAjLK+0+wT53teCIIpAEvhfcalAEKwggCug/9KRC8AfJbYkpnPiOiRZKzmmDGEGHQX2AQAM/8iojuawa1trSCAGLm1CcmJZwxhcEDTAFoS7zbDnQNaAuDtAa0A8G2ZvQO6ravbwjb9CQJoqQxi5wD1+7nHUu8BnOZajZnvE9G31HX2Ath3oUh9UMqNLGftOTF7zwFuELmNUXIX1xLuWycS//DCxHsXYOanRPRxToBLC5fC6OMMAUjuBWsUHnN1F3M2gBqEe0B0/2U69wJg5gsiehCzf43CfZpuOEDS/LYifncviNXJEttZzH2a37svRILNb0tZnyRVcpDYqvgbJeCp/3cAnmlabm1rBd8IbTnr3hIYZ78V8ZMS6AG0JH4A0Kr4CYDWMt/3ATDzMYDva+vOpeLpANwFMPlJudTD1/CcvynvVk7pHrbOAAAAAElFTkSuQmCC"});var Un={};b(Un,{connectToDebugger:()=>Wr,getDebugInfo:()=>dt,patchLogHook:()=>Da,socket:()=>Ce,toggleSafeMode:()=>zr,versionHash:()=>Yr});async function zr(){T.safeMode={...T.safeMode,enabled:!T.safeMode?.enabled},Re()&&(bt()?.id&&(T.safeMode.currentThemeId=bt().id),T.safeMode?.enabled?await at(null):T.safeMode?.currentThemeId&&await at(j[T.safeMode?.currentThemeId])),setTimeout(vo.reload,400)}function Wr(e){if(Ce!==void 0&&Ce.readyState!==WebSocket.CLOSED&&Ce.close(),!e){D("Invalid debugger URL!",E("Small"));return}Ce=new WebSocket("ws://".concat(e)),Ce.addEventListener("open",function(){return D("Connected to debugger.",E("Check"))}),Ce.addEventListener("message",function(t){try{(0,eval)(t.data)}catch(r){console.error(r)}}),Ce.addEventListener("error",function(t){console.log("Debugger error: ".concat(t.message)),D("An error occurred with the debugger connection!",E("Small"))})}function Da(){var e=U("nativeLoggingHook",globalThis,function(t){Ce?.readyState===WebSocket.OPEN&&Ce.send(JSON.stringify({message:t[0],level:t[1]})),le.log(t[0])});return function(){Ce&&Ce.close(),e()}}function dt(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",n=Fn.Platform.constants,a=n.reactNativeVersion;return{vendetta:{version:Yr,loader:pn()},bunny:{version:Yr,loader:{name:pn(),version:ko()}},discord:{version:on.Version,build:on.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):"".concat(a.major,".").concat(a.minor,".").concat(a.patch)},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...Fn.Platform.select({android:{os:{name:"Android",version:n.Release,sdk:n.Version}},ios:{os:{name:n.systemName,version:n.osVersion}}}),...Fn.Platform.select({android:{device:{manufacturer:n.Manufacturer,brand:n.Brand,model:n.Model,codename:je.device}},ios:{device:{manufacturer:je.deviceManufacturer,brand:je.deviceBrand,model:je.deviceModel,codename:je.device}}})}}var Fn,Ce,Yr,pt=f(()=>{"use strict";Q();Be();rt();ve();Pe();se();Vt();Je();Fn=z(X());o(zr,"toggleSafeMode");o(Wr,"connectToDebugger");o(Da,"patchLogHook");Yr="58781a0";o(dt,"getDebugInfo")});function Hn(e){var{label:t,version:r,icon:n}=e;return React.createElement(x,{label:t,icon:React.createElement(x.Icon,{source:E(n)}),trailing:React.createElement(Xt,null,r),onPress:function(){me.setString("".concat(t," - ").concat(r)),D.showCopyToClipboard()}})}var qs=f(()=>{"use strict";Q();xe();be();M();Je();o(Hn,"Version")});function Na(){var e=dt();F(T);var t=[{label:c.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:"".concat(e.discord.version," (").concat(e.discord.build,")"),icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:c.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],r=[{label:c.LOADER,version:"".concat(e.bunny.loader.name," (").concat(e.bunny.loader.version,")"),icon:"ic_download_24px"},{label:c.OPERATING_SYSTEM,version:"".concat(e.os.name," ").concat(e.os.version),icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:c.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:c.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:c.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:Gn.Platform.select({android:c.CODENAME,ios:c.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return React.createElement(Gn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(qt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(pe,{title:c.VERSIONS},t.map(function(n){return React.createElement(Hn,{label:n.label,version:n.version,icon:n.icon})})),React.createElement(pe,{title:c.PLATFORM},r.map(function(n){return React.createElement(Hn,{label:n.label,version:n.version,icon:n.icon})}))))}var Gn,Js=f(()=>{"use strict";q();qs();ae();pt();se();be();Gn=z(X());o(Na,"About")});var Qs={};b(Qs,{default:()=>Zs});function Zs(){F(T);var e=dt(),t=fa();return React.createElement(Vn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(qt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(pe,{title:c.INFO},React.createElement(x,{label:c.BUNNY,icon:React.createElement(x.Icon,{source:{uri:La}}),trailing:React.createElement(x.TrailingText,{text:e.bunny.version})}),React.createElement(x,{label:"Discord",icon:React.createElement(x.Icon,{source:E("Discord")}),trailing:React.createElement(x.TrailingText,{text:"".concat(e.discord.version," (").concat(e.discord.build,")")})}),React.createElement(x,{arrow:!0,label:c.ABOUT,icon:React.createElement(x.Icon,{source:E("CircleInformationIcon")}),trailing:x.Arrow,onPress:function(){return t.push("VendettaCustomPage",{title:c.ABOUT,render:function(){return React.createElement(Na,null)}})}})),React.createElement(pe,{title:c.LINKS},React.createElement(x,{label:c.DISCORD_SERVER,icon:React.createElement(x.Icon,{source:E("Discord")}),trailing:x.Arrow,onPress:function(){return At.openDeeplink(Ro)}}),React.createElement(x,{label:c.GITHUB,icon:React.createElement(x.Icon,{source:E("img_account_sync_github_white")}),trailing:x.Arrow,onPress:function(){return At.openURL(To)}})),React.createElement(pe,{title:c.ACTIONS},React.createElement(x,{label:c.RELOAD_DISCORD,icon:React.createElement(x.Icon,{source:E("ic_message_retry")}),onPress:function(){return Vn.NativeModules.BundleUpdaterManager.reload()}}),React.createElement(x,{label:T.safeMode?.enabled?c.RELOAD_IN_NORMAL_MODE:c.RELOAD_IN_SAFE_MODE,subLabel:T.safeMode?.enabled?c.RELOAD_IN_NORMAL_MODE_DESC:c.RELOAD_IN_SAFE_MODE_DESC,icon:React.createElement(x.Icon,{source:E("ic_privacy_24px")}),onPress:zr}),React.createElement(Nt,{label:c.DEVELOPER_SETTINGS,icon:React.createElement(x.Icon,{source:E("ic_progress_wrench_24px")}),value:T.developerSettings,onValueChange:function(r){T.developerSettings=r}})),React.createElement(pe,{title:c.MISCELLANEOUS},React.createElement(Nt,{label:c.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:c.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:React.createElement(x.Icon,{source:E("ic_progress_wrench_24px")}),value:T.enableDiscordDeveloperSettings,onValueChange:function(r){T.enableDiscordDeveloperSettings=r}}))))}var Vn,$s=f(()=>{"use strict";q();Oa();Q();ae();pt();se();be();Gt();M();Vn=z(X());Js();o(Zs,"General")});var tc=so((ec,kn)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof kn=="object"&&kn.exports?kn.exports=t():e.fuzzysort=t()})(ec,function(e){"use strict";var t=o(function(p,u){if(p=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!p||!u)return O;var v=N(p);Mt(u)||(u=m(u));var h=v.bitflags;return(h&u._bitflags)!==h?O:C(v,u)},"single"),r=o(function(p,u,v){if(p=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:u?u[0]:O}];if(!p)return v&&v.all?L(p,u,v):oo;var h=N(p),_=h.bitflags,R=h.containsSpace,S=v&&v.threshold||Ft,g=v&&v.limit||no,A=0,y=0,w=u.length;if(v&&v.key)for(var ce=v.key,P=0;P<w;++P){var ge=u[P],G=tn(ge,ce);if(G&&(Mt(G)||(G=m(G)),(_&G._bitflags)===_)){var k=C(h,G);k!==O&&(k.score<S||(k={target:k.target,_targetLower:"",_targetLowerCodes:O,_nextBeginningIndexes:O,_bitflags:0,score:k.score,_indexes:k._indexes,obj:ge},A<g?(Ue.add(k),++A):(++y,k.score>Ue.peek().score&&Ue.replaceTop(k))))}}else if(v&&v.keys)for(var $a=v.scoreFn||Xc,Er=v.keys,rn=Er.length,P=0;P<w;++P){for(var ge=u[P],ue=new Array(rn),He=0;He<rn;++He){var ce=Er[He],G=tn(ge,ce);if(!G){ue[He]=O;continue}Mt(G)||(G=m(G)),(_&G._bitflags)!==_?ue[He]=O:ue[He]=C(h,G)}ue.obj=ge;var V=$a(ue);V!==O&&(V<S||(ue.score=V,A<g?(Ue.add(ue),++A):(++y,V>Ue.peek().score&&Ue.replaceTop(ue))))}else for(var P=0;P<w;++P){var G=u[P];if(G&&(Mt(G)||(G=m(G)),(_&G._bitflags)===_)){var k=C(h,G);k!==O&&(k.score<S||(A<g?(Ue.add(k),++A):(++y,k.score>Ue.peek().score&&Ue.replaceTop(k))))}}if(A===0)return oo;for(var tr=new Array(A),P=A-1;P>=0;--P)tr[P]=Ue.poll();return tr.total=A+y,tr},"go"),n=o(function(p,u,v){if(typeof u=="function")return a(p,u);if(p===O)return O;u===void 0&&(u="<b>"),v===void 0&&(v="</b>");var h="",_=0,R=!1,S=p.target,g=S.length,A=p._indexes;A=A.slice(0,A.len).sort(function(ce,P){return ce-P});for(var y=0;y<g;++y){var w=S[y];if(A[_]===y){if(++_,R||(R=!0,h+=u),_===A.length){h+=w+v+S.substr(y+1);break}}else R&&(R=!1,h+=v);h+=w}return h},"highlight"),a=o(function(y,u){if(y===O)return O;var v=y.target,h=v.length,_=y._indexes;_=_.slice(0,_.len).sort(function(P,ge){return P-ge});for(var R="",S=0,g=0,A=!1,y=[],w=0;w<h;++w){var ce=v[w];if(_[g]===w){if(++g,A||(A=!0,y.push(R),R=""),g===_.length){R+=ce,y.push(u(R,S++)),R="",y.push(v.substr(w+1));break}}else A&&(A=!1,y.push(u(R,S++)),R="");R+=ce}return y},"highlightCallback"),i=o(function(p){return p._indexes.slice(0,p._indexes.len).sort(function(u,v){return u-v})},"indexes"),l=o(function(p){typeof p!="string"&&(p="");var u=H(p);return{target:p,_targetLower:u._lower,_targetLowerCodes:u.lowerCodes,_nextBeginningIndexes:O,_bitflags:u.bitflags,score:O,_indexes:[0],obj:O}},"prepare"),s=o(function(p){typeof p!="string"&&(p=""),p=p.trim();var u=H(p),v=[];if(u.containsSpace){var h=p.split(/\s+/);h=[...new Set(h)];for(var _=0;_<h.length;_++)if(h[_]!==""){var R=H(h[_]);v.push({lowerCodes:R.lowerCodes,_lower:h[_].toLowerCase(),containsSpace:!1})}}return{lowerCodes:u.lowerCodes,bitflags:u.bitflags,containsSpace:u.containsSpace,_lower:u._lower,spaceSearches:v}},"prepareSearch"),m=o(function(p){if(p.length>999)return l(p);var u=to.get(p);return u!==void 0||(u=l(p),to.set(p,u)),u},"getPrepared"),N=o(function(p){if(p.length>999)return s(p);var u=ro.get(p);return u!==void 0||(u=s(p),ro.set(p,u)),u},"getPreparedSearch"),L=o(function(p,u,v){var h=[];h.total=u.length;var _=v&&v.limit||no;if(v&&v.key)for(var R=0;R<u.length;R++){var S=u[R],g=tn(S,v.key);if(g){Mt(g)||(g=m(g)),g.score=Ft,g._indexes.len=0;var A=g;if(A={target:A.target,_targetLower:"",_targetLowerCodes:O,_nextBeginningIndexes:O,_bitflags:0,score:g.score,_indexes:O,obj:S},h.push(A),h.length>=_)return h}}else if(v&&v.keys)for(var R=0;R<u.length;R++){for(var S=u[R],y=new Array(v.keys.length),w=v.keys.length-1;w>=0;--w){var g=tn(S,v.keys[w]);if(!g){y[w]=O;continue}Mt(g)||(g=m(g)),g.score=Ft,g._indexes.len=0,y[w]=g}if(y.obj=S,y.score=Ft,h.push(y),h.length>=_)return h}else for(var R=0;R<u.length;R++){var g=u[R];if(g&&(Mt(g)||(g=m(g)),g.score=Ft,g._indexes.len=0,h.push(g),h.length>=_))return h}return h},"all"),C=o(function(p,u){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(v===!1&&p.containsSpace)return I(p,u);for(var h=p._lower,_=p.lowerCodes,R=_[0],S=u._targetLowerCodes,g=_.length,A=S.length,P=0,y=0,w=0;;){var ce=R===S[y];if(ce){if(Bt[w++]=y,++P,P===g)break;R=_[P]}if(++y,y>=A)return O}var P=0,ge=!1,G=0,k=u._nextBeginningIndexes;k===O&&(k=u._nextBeginningIndexes=hr(u.target));var $a=y=Bt[0]===0?0:k[Bt[0]-1],Er=0;if(y!==A)for(;;)if(y>=A){if(P<=0||(++Er,Er>200))break;--P;var rn=en[--G];y=k[rn]}else{var ce=_[P]===S[y];if(ce){if(en[G++]=y,++P,P===g){ge=!0;break}++y}else y=k[y]}var ue=u._targetLower.indexOf(h,Bt[0]),He=~ue;if(He&&!ge)for(var V=0;V<w;++V)Bt[V]=ue+V;var tr=!1;He&&(tr=u._nextBeginningIndexes[ue-1]===ue);{if(ge)var Ge=en,ao=G;else var Ge=Bt,ao=w;for(var et=0,ei=0,V=1;V<g;++V)Ge[V]-Ge[V-1]!==1&&(et-=Ge[V],++ei);var Jc=Ge[g-1]-Ge[0]-(g-1);if(et-=(12+Jc)*ei,Ge[0]!==0&&(et-=Ge[0]*Ge[0]*.2),!ge)et*=1e3;else{for(var io=1,V=k[0];V<A;V=k[V])++io;io>24&&(et*=(io-24)*10)}He&&(et/=1+g*g*1),tr&&(et/=1+g*g*1),et-=A-g,u.score=et;for(var V=0;V<ao;++V)u._indexes[V]=Ge[V];return u._indexes.len=ao,u}},"algorithm"),I=o(function(p,u){for(var v=new Set,h=0,_=O,R=0,S=p.spaceSearches,w=0;w<S.length;++w){var g=S[w];if(_=C(g,u),_===O)return O;h+=_.score,_._indexes[0]<R&&(h-=R-_._indexes[0]),R=_._indexes[0];for(var A=0;A<_._indexes.len;++A)v.add(_._indexes[A])}var y=C(p,u,!0);if(y!==O&&y.score>h)return y;_.score=h;var w=0;for(var ce of v)_._indexes[w++]=ce;return _._indexes.len=w,_},"algorithmSpaces"),H=o(function(p){for(var u=p.length,v=p.toLowerCase(),h=[],_=0,R=!1,S=0;S<u;++S){var g=h[S]=v.charCodeAt(S);if(g===32){R=!0;continue}var A=g>=97&&g<=122?g-97:g>=48&&g<=57?26:g<=127?30:31;_|=1<<A}return{lowerCodes:h,bitflags:_,containsSpace:R,_lower:v}},"prepareLowerInfo"),te=o(function(p){for(var u=p.length,v=[],h=0,_=!1,R=!1,S=0;S<u;++S){var g=p.charCodeAt(S),A=g>=65&&g<=90,y=A||g>=97&&g<=122||g>=48&&g<=57,w=A&&!_||!R||!y;_=A,R=y,w&&(v[h++]=S)}return v},"prepareBeginningIndexes"),hr=o(function(p){for(var u=p.length,v=te(p),h=[],_=v[0],R=0,S=0;S<u;++S)_>S?h[S]=_:(_=v[++R],h[S]=_===void 0?u:_);return h},"prepareNextBeginningIndexes"),Kc=o(function(){to.clear(),ro.clear(),Bt=[],en=[]},"cleanup"),to=new Map,ro=new Map,Bt=[],en=[],Xc=o(function(p){for(var u=Ft,v=p.length,h=0;h<v;++h){var _=p[h];if(_!==O){var R=_.score;R>u&&(u=R)}}return u===Ft?O:u},"defaultScoreFn"),tn=o(function(p,u){var v=p[u];if(v!==void 0)return v;var h=u;Array.isArray(u)||(h=u.split("."));for(var _=h.length,R=-1;p&&++R<_;)p=p[h[R]];return p},"getValue"),Mt=o(function(p){return typeof p=="object"},"isObj"),no=1/0,Ft=-no,oo=[];oo.total=0;var O=null,qc=o(function(p){var u=[],v=0,h={},_=o(function(R){for(var S=0,g=u[S],A=1;A<v;){var y=A+1;S=A,y<v&&u[y].score<u[A].score&&(S=y),u[S-1>>1]=u[S],A=1+(S<<1)}for(var w=S-1>>1;S>0&&g.score<u[w].score;w=(S=w)-1>>1)u[S]=u[w];u[S]=g},"v");return h.add=function(R){var S=v;u[v++]=R;for(var g=S-1>>1;S>0&&R.score<u[g].score;g=(S=g)-1>>1)u[S]=u[g];u[S]=R},h.poll=function(R){if(v!==0){var S=u[0];return u[0]=u[--v],_(),S}},h.peek=function(R){if(v!==0)return u[0]},h.replaceTop=function(R){u[0]=R,_()},h},"fastpriorityqueue"),Ue=qc();return{single:t,go:r,highlight:n,prepare:l,indexes:i,cleanup:Kc}})});function Mm(e,t){return t?rc.default.go(t,e,{keys:["id","manifest.name","manifest.description","manifest.authors.0.name","manifest.authors.1.name"]}).map(function(r){return r.obj}):e}function Kr(e){var{floatingButtonText:t,fetchFunction:r,items:n,safeModeMessage:a,safeModeExtras:i,card:l}=e;F(T),F(n);var s=Fm.useSharedValue(0),m=React.useRef(0),[N,L]=React.useState("");return React.createElement(ee,null,React.createElement(jn.FlatList,{ListHeaderComponent:React.createElement(React.Fragment,null,T.safeMode?.enabled&&React.createElement(jn.View,{style:{marginBottom:10}},React.createElement(pa,{messageType:0},a),i),React.createElement(mt,{style:{marginBottom:15},onChangeText:function(C){return L(C.toLowerCase())},placeholder:c.SEARCH})),onScroll:function(C){C.nativeEvent.contentOffset.y<=0||(s.value=+(C.nativeEvent.contentOffset.y>m.current),m.current=C.nativeEvent.contentOffset.y)},style:{paddingHorizontal:10,paddingTop:10},contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},data:Mm(Object.values(n),N),renderItem:function(C){var{item:I,index:H}=C;return React.createElement(l,{item:I,index:H})}}),React.createElement(Um,{text:t,icon:E("DownloadIcon"),state:{collapseText:s},onPress:function(){me.getString().then(function(C){return kr({title:t,initialValue:C.match(Tr)?.[0]??"",placeholder:c.URL_PLACEHOLDER,onConfirm:function(I){return r(I)},confirmText:c.INSTALL,cancelText:c.CANCEL})})}}))}var rc,jn,Fm,Um,Pa=f(()=>{"use strict";q();Q();ae();W();se();Jt();Gt();M();er();qe();rc=z(tc()),jn=z(X());o(Mm,"getItemsByQuery");Fm=d("useSharedValue"),{FloatingActionButton:Um}=d("FloatingActionButton");o(Kr,"AddonPage")});function Xr(e){var t=Vm();return React.createElement(Le.View,{style:[t.card,{marginTop:e.index!==0?15:0}]},React.createElement(pr.ImageBackground,{source:e.headerIcon&&E(e.headerIcon)||{},resizeMode:"cover",imageStyle:t.iconStyle},React.createElement(Ae,{style:t.header,label:React.createElement(pr.View,{style:t.headerLeading},React.createElement(Le.Text,{style:t.headerLabel},e.headerLabel),e.headerSublabel&&React.createElement(Le.Text,{style:t.headerSubtitle},e.headerSublabel)),trailing:React.createElement(pr.View,{style:t.headerTrailing},React.createElement(pr.View,{style:t.actions},e.overflowActions&&React.createElement(bn,{onPress:function(){return Gm({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&React.createElement(Ae.Icon,{style:{marginRight:8},source:E(e.headerIcon)}),onClose:function(){return Hm()}},options:e.overflowActions?.map(function(r){return{...r,icon:E(r.icon)}})})},size:"sm",variant:"secondary",icon:E("CircleInformationIcon")}),e.actions?.map(function(r){var{icon:n,onPress:a,disabled:i}=r;return React.createElement(bn,{onPress:a,disabled:i,size:"sm",variant:"secondary",icon:E(n)})})),e.toggleType&&(e.toggleType==="switch"?React.createElement(la,{value:e.toggleValue,onValueChange:e.onToggleChange}):React.createElement(Le.Pressable,{onPress:function(){e.onToggleChange?.(!e.toggleValue)}},React.createElement(ua,{checked:e.toggleValue}))))}),React.createElement(Ae,{label:React.createElement(Le.View,null,React.createElement(Le.Text,{style:t.descriptionLabel},e.descriptionLabel))})))}var pr,Hm,Gm,Vm,Ba=f(()=>{"use strict";Q();xe();be();Pt();M();W();Ot();pr=z(X()),{hideActionSheet:Hm}=d("openLazy","hideActionSheet"),{showSimpleActionSheet:Gm}=d("showSimpleActionSheet"),Vm=Zt({card:{backgroundColor:$?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...Xe["heading-md/semibold"],color:$.TEXT_NORMAL},headerSubtitle:{...Xe["text-md/semibold"],color:$.TEXT_MUTED},descriptionLabel:{...Xe["text-md/semibold"],color:$.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:$.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}});o(Xr,"Card")});async function nc(e,t){e.enabled&&Dt(e.id,!1),t(),e.enabled&&await It(e.id)}function Ma(e){var{item:t,index:r}=e;F(t);var n=Mr(t.id),a=_e.useNavigation(),[i,l]=React.useState(!1);return i?null:React.createElement(Xr,{index:r,headerLabel:"".concat(t.manifest.name),headerSublabel:t.manifest.authors?.[0]&&"by ".concat(t.manifest.authors.map(function(s){return s.name}).join(", ")),headerIcon:t.manifest.vendetta?.icon,toggleType:"switch",toggleValue:t.enabled,onToggleChange:function(s){try{s?It(t.id):Dt(t.id)}catch(m){D(m.message,E("Small"))}},descriptionLabel:t.manifest.description,overflowTitle:t.manifest.name,actions:[{icon:"WrenchIcon",disabled:!n,onPress:function(){return a.push("VendettaCustomPage",{title:t.manifest.name,render:n})}}],overflowActions:[...n?[{label:c.OVERFLOW_PLUGIN_SETTINGS,icon:"settings",onPress:function(){return a.push("VendettaCustomPage",{title:t.manifest.name,render:n})}}]:[],{icon:"ic_sync_24px",label:c.REFETCH,onPress:async function(){nc(t,function(){wt(t.id).then(async function(){D(c.PLUGIN_REFETCH_SUCCESSFUL,E("toast_image_saved"))}).catch(function(){D(c.PLUGIN_REFETCH_FAILED,E("Small"))})})}},{icon:"copy",label:c.COPY_URL,onPress:function(){me.setString(t.id),D.showCopyToClipboard()}},{icon:"ic_download_24px",label:t.update?c.DISABLE_UPDATES:c.ENABLE_UPDATES,onPress:function(){t.update=!t.update,D(ye("TOASTS_PLUGIN_UPDATE",{update:t.update,name:t.manifest.name}),E("toast_image_saved"))}},{icon:"ic_duplicate",label:c.CLEAR_DATA,isDestructive:!0,onPress:function(){return Ze({title:c.HOLD_UP,content:ye("ARE_YOU_SURE_TO_CLEAR_DATA",{name:t.manifest.name}),confirmText:c.CLEAR,cancelText:c.CANCEL,confirmColor:fe.RED,onConfirm:function(){nc(t,function(){try{or(t.id),D(ye("CLEAR_DATA_SUCCESSFUL",{name:t.manifest.name}),E("trash"))}catch{D(ye("CLEAR_DATA_FAILED",{name:t.manifest.name}),E("Small"))}})}})}},{icon:"ic_message_delete",label:c.DELETE,isDestructive:!0,onPress:function(){return Ze({title:c.HOLD_UP,content:ye("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:t.manifest.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:fe.RED,onConfirm:function(){try{Kt(t.id),l(!0)}catch(s){D(s.message,E("Small"))}}})}}]})}var oc=f(()=>{"use strict";q();Ba();Q();ae();ut();ir();M();er();Je();o(nc,"stopThenStart");o(Ma,"PluginCard")});var ic={};b(ic,{default:()=>ac});function ac(){return F(T),React.createElement(Kr,{title:c.PLUGINS,floatingButtonText:c.INSTALL_PLUGIN,fetchFunction:lt,items:Y,safeModeMessage:c.SAFE_MODE_NOTICE_PLUGINS,card:Ma})}var sc=f(()=>{"use strict";q();Pa();oc();ae();ut();se();o(ac,"Plugins")});function cc(e,t){try{at(e?t:null),Cr(e?t:null)}catch(r){console.error("Error while selectAndApply,",r)}}function Fa(e){var{item:t,index:r}=e;F(t);var[n,a]=React.useState(!1);if(n)return null;var{authors:i}=t.data;return React.createElement(Xr,{index:r,headerLabel:t.data.name,headerSublabel:i?"by ".concat(i.map(function(l){return l.name}).join(", ")):"",descriptionLabel:t.data.description??"No description.",toggleType:T.safeMode?.enabled?void 0:"radio",toggleValue:t.selected,onToggleChange:function(l){cc(l,t)},overflowTitle:t.data.name,overflowActions:[{icon:"ic_sync_24px",label:c.REFETCH,onPress:function(){jt(t.id,t.selected).then(function(){D(c.THEME_REFETCH_SUCCESSFUL,E("toast_image_saved"))}).catch(function(){D(c.THEME_REFETCH_FAILED,E("Small"))})}},{icon:"copy",label:c.COPY_URL,onPress:function(){me.setString(t.id),D.showCopyToClipboard()}},{icon:"ic_message_delete",label:c.DELETE,isDestructive:!0,onPress:function(){return Ze({title:c.HOLD_UP,content:ye("ARE_YOU_SURE_TO_DELETE_THEME",{name:t.data.name}),confirmText:c.DELETE,cancelText:c.CANCEL,confirmColor:fe.RED,onConfirm:function(){Yt(t.id).then(function(l){a(!0),l&&cc(!1,t)}).catch(function(l){D(l.message,E("Small"))})}})}}]})}var lc=f(()=>{"use strict";q();Ba();Q();ae();Pe();se();ir();M();er();Je();o(cc,"selectAndApply");o(Fa,"ThemeCard")});var fc={};b(fc,{default:()=>uc});function uc(){return F(T),F(j),React.createElement(Kr,{title:c.THEMES,floatingButtonText:c.INSTALL_THEME,fetchFunction:ot,items:j,safeModeMessage:ye("SAFE_MODE_NOTICE_THEMES",{enabled:!!T.safeMode?.currentThemeId}),safeModeExtras:T.safeMode?.currentThemeId?React.createElement(Ke,{text:c.DISABLE_THEME,color:fe.BRAND,size:"small",onPress:function(){delete T.safeMode?.currentThemeId},style:{marginTop:8}}):void 0,card:Fa})}var mc=f(()=>{"use strict";q();Pa();lc();ae();Pe();se();ir();Jt();o(uc,"Themes")});var qr={};b(qr,{downloadFile:()=>jm,fileExists:()=>Ha,readFile:()=>km,removeFile:()=>Ua,writeFile:()=>Yn});async function Ua(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"pyoncord/";if(typeof B.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void await B.removeFile("documents","".concat(t).concat(e))}async function Ha(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"pyoncord/";return await B.fileExists("".concat(B.getConstants().DocumentsDirPath,"/").concat(t).concat(e))}async function Yn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"pyoncord/";if(typeof t!="string")throw new Error("Argument 'data' must be a string");return void await B.writeFile("documents","".concat(r).concat(e),t,"utf8")}async function km(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"pyoncord/";try{return await B.readFile("".concat(B.getConstants().DocumentsDirPath,"/").concat(r).concat(e),"utf8")}catch{if(t==null)throw new Error("Errored while reading ".concat(e," doesn't exist"));return await Yn(e,t),t}}async function jm(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"pyoncord/",n=await fetch(e).then(function(s){return s.blob()}),a=await new Promise(function(s){var m=new FileReader;m.onload=function(){return s(m.result)},m.readAsDataURL(n)}),i;if(a==null)throw new Error("Failed to convert blob to data URL");var l=a.indexOf("base64,");if(l===-1)throw new Error("dataURL does not contain base64");return i=a.slice(l+7),void await B.writeFile("documents","".concat(r).concat(t),i,"base64")}var zn=f(()=>{"use strict";rt();o(Ua,"removeFile");o(Ha,"fileExists");o(Yn,"writeFile");o(km,"readFile");o(jm,"downloadFile")});function dc(e,t){var[r,n]=(0,gr.useState)(2),a=o(function(){return Ha(e,t).then(function(l){return n(l?1:0)}).catch(function(){return n(3)})},"check"),i=(0,gr.useMemo)(function(){return new Proxy(qr,{get(l,s,m){var N=Reflect.get(l,s,m);if(typeof N=="function")return function(){for(var L=arguments.length,C=new Array(L),I=0;I<L;I++)C[I]=arguments[I];var H=(a(),N(...C));return H?.constructor?.name==="Promise"&&(n(2),H.finally(a)),H}}})},[]);return(0,gr.useEffect)(function(){return void a()},[]),[r,i]}var gr,$e,pc=f(()=>{"use strict";zn();gr=z(sa());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})($e||($e={}));o(dc,"useFileExists")});function Ga(e){var{asset:t}=e;return React.createElement(Ae,{label:"".concat(t.name," - ").concat(t.id),trailing:React.createElement(gc.Image,{source:t.id,style:{width:32,height:32}}),onPress:function(){me.setString(t.name),D.showCopyToClipboard()}})}var gc,vc=f(()=>{"use strict";xe();M();Je();gc=z(X());o(Ga,"AssetDisplay")});function Va(){var[e,t]=React.useState("");return React.createElement(ee,null,React.createElement(Wn.View,{style:{flex:1}},React.createElement(mt,{style:{margin:10},onChangeText:function(r){return t(r)}}),React.createElement(Wn.FlatList,{data:Object.values(Me).filter(function(r){return r.name.includes(e)||r.id.toString()===e}),renderItem:function(r){var{item:n}=r;return React.createElement(Ga,{asset:n})},ItemSeparatorComponent:na,keyExtractor:function(r){return r.name}})))}var Wn,hc=f(()=>{"use strict";vc();Q();xe();qe();Wn=z(X());o(Va,"AssetBrowser")});var _c={};b(_c,{default:()=>Ec});function Ec(){var[e,t]=dc("preloads/reactDevtools.js"),r=Km(),n=_e.useNavigation();return F(T),F(Te),React.createElement(ee,null,React.createElement(Kn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(qt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(fr,{label:c.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return React.createElement(Xt,{style:r.leadingText},"ws://")},defaultValue:T.debuggerUrl,onChange:function(a){return T.debuggerUrl=a}}),React.createElement(pe,{title:c.DEBUG},React.createElement(x,{label:c.CONNECT_TO_DEBUG_WEBSOCKET,icon:React.createElement(x.Icon,{source:E("copy")}),onPress:function(){return Wr(T.debuggerUrl)}}),lr()&&React.createElement(React.Fragment,null,React.createElement(x,{label:c.CONNECT_TO_REACT_DEVTOOLS,icon:React.createElement(x.Icon,{source:E("ic_badge_staff")}),onPress:function(){return window[jo()||"__vendetta_rdc"]?.connectToDevTools({host:T.debuggerUrl.split(":")?.[0],resolveRNStyle:Kn.StyleSheet.flatten})}}))),gn()&&React.createElement(React.Fragment,null,React.createElement(pe,{title:"Loader config"},React.createElement(Nt,{label:c.LOAD_FROM_CUSTOM_URL,subLabel:c.LOAD_FROM_CUSTOM_URL_DEC,icon:React.createElement(x.Icon,{source:E("copy")}),value:Te.customLoadUrl.enabled,onValueChange:function(a){Te.customLoadUrl.enabled=a}}),Te.customLoadUrl.enabled&&React.createElement(x,{label:React.createElement(fr,{defaultValue:Te.customLoadUrl.url,size:"md",onChange:function(a){return Te.customLoadUrl.url=a},placeholder:"http://localhost:4040/vendetta.js",label:c.BUNNY_URL})}),lr()&&ie()&&React.createElement(Nt,{label:c.LOAD_REACT_DEVTOOLS,subLabel:"".concat(c.VERSION,": ").concat(Yo()),icon:React.createElement(x.Icon,{source:E("ic_badge_staff")}),value:Te.loadReactDevTools,onValueChange:function(a){Te.loadReactDevTools=a}}))),React.createElement(pe,{title:"Other"},React.createElement(x,{arrow:!0,label:c.ASSET_BROWSER,icon:React.createElement(x.Icon,{source:E("ic_image")}),trailing:x.Arrow,onPress:function(){return n.push("VendettaCustomPage",{title:c.ASSET_BROWSER,render:Va})}}),React.createElement(x,{arrow:!0,label:c.ERROR_BOUNDARY_TOOLS_LABEL,icon:React.createElement(x.Icon,{source:E("ic_warning_24px")}),onPress:function(){return zm({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:React.createElement(x.Icon,{style:{marginRight:8},source:E("ic_warning_24px")}),onClose:function(){return Ym()}},options:[{label:c.BUNNY,onPress:function(){return n.push("VendettaCustomPage",{render:function(){return React.createElement("undefined",null)}})}},{label:"Discord",isDestructive:!0,onPress:function(){return n.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}}),React.createElement(x,{label:c.INSTALL_REACT_DEVTOOLS,subLabel:c.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:React.createElement(x.Icon,{source:E("DownloadIcon")}),trailing:React.createElement(Fr,{size:"sm",loading:e===$e.LOADING,disabled:e===$e.LOADING,variant:e===$e.TRUE?"secondary":"primary",text:e===$e.TRUE?c.UNINSTALL:c.INSTALL,onPress:async function(){e===$e.FALSE?t.downloadFile(Wm,"preloads/reactDevtools.js"):e===$e.TRUE&&t.removeFile("preloads/reactDevtools.js")},icon:E(e===$e.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),React.createElement(Nt,{label:c.ENABLE_EVAL_COMMAND,subLabel:c.ENABLE_EVAL_COMMAND_DESC,icon:React.createElement(x.Icon,{source:E("PencilIcon")}),value:T.enableEvalCommand,onValueChange:function(a){T.enableEvalCommand=a}})))))}var Kn,Ym,zm,Wm,Km,Sc=f(()=>{"use strict";q();pc();hc();Q();Be();ae();pt();se();xe();be();M();W();Ot();qe();Pt();Kn=z(X()),{hideActionSheet:Ym}=d("openLazy","hideActionSheet"),{showSimpleActionSheet:zm}=d("showSimpleActionSheet"),Wm="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",Km=Zt({leadingText:{...Xe["heading-md/semibold"],color:$.TEXT_MUTED,marginRight:-4}});o(Ec,"Developer")});function ka(){Mn({name:"Bunny",items:[{key:"BUNNY",title:function(){return c.BUNNY},icon:{uri:La},render:function(){return Promise.resolve().then(()=>($s(),Qs))},rawTabsConfig:{useTrailing:function(){return"(58781a0)"}}},{key:"BUNNY_PLUGINS",title:function(){return c.PLUGINS},icon:E("ActivitiesIcon"),render:function(){return Promise.resolve().then(()=>(sc(),ic))}},{key:"BUNNY_THEMES",title:function(){return c.THEMES},icon:E("PaintPaletteIcon"),render:function(){return Promise.resolve().then(()=>(mc(),fc))},usePredicate:function(){return Re()}},{key:"BUNNY_DEVELOPER",title:function(){return c.DEVELOPER},icon:E("WrenchIcon"),render:function(){return Promise.resolve().then(()=>(Sc(),_c))},usePredicate:function(){return F(T).developerSettings??!1}}]}),Mn({name:"Vendetta",items:[]})}var La,Oa=f(()=>{"use strict";q();Q();Be();ae();se();dr();Ks();La=Xs;o(ka,"initSettings")});var Xn,gt,vr,Jr=f(()=>{"use strict";(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(Xn||(Xn={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(gt||(gt={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(vr||(vr={}))});var yc={};b(yc,{default:()=>Tc});function Rc(e){return"```js\n"+e.replaceAll("`","`"+Jm)+"\n```"}function Tc(){return{name:"eval",description:c.COMMAND_EVAL_DESC,shouldHide:function(){return T.enableEvalCommand===!0},options:[{name:"code",type:gt.STRING,description:c.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:gt.BOOLEAN,description:c.COMMAND_EVAL_OPT_ASYNC}],async execute(e,t){var[r,n]=e;try{var a=Xm.inspect(n?.value?await qm(r.value)():eval?.(r.value)),i=a.length>2e3?a.slice(0,2e3)+"...":a;Ee.sendBotMessage(t.channel.id,Rc(i))}catch(l){Ee.sendBotMessage(t.channel.id,Rc(l?.stack??l))}}}}var Xm,qm,Jm,Ac=f(()=>{"use strict";q();Jr();se();M();W();Xm=d("inspect"),qm=async function(){}.constructor,Jm="\u200B";o(Rc,"wrapInJSCodeblock");o(Tc,"default")});var bc={};b(bc,{default:()=>xc});function xc(){return{name:"debug",description:c.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:gt.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute(e,t){var[r]=e,n=dt(),a=["**Bunny Debug Info**","> Bunny: ".concat(n.bunny.version," (").concat(n.bunny.loader.name," ").concat(n.bunny.loader.version,")"),"> Discord: ".concat(n.discord.version," (").concat(n.discord.build,")"),"> React: ".concat(n.react.version," (RN ").concat(n.react.nativeVersion,")"),"> Hermes: ".concat(n.hermes.version," (bcv").concat(n.hermes.bytecodeVersion,")"),"> System: ".concat(n.os.name," ").concat(n.os.version," ").concat(n.os.sdk?"(SDK ".concat(n.os.sdk,")"):"").trimEnd(),"> Device: ".concat(n.device.model," (").concat(n.device.codename,")")].join(`
`);r?.value?Ee.sendBotMessage(t.channel.id,a):Ee.sendMessage(t.channel.id,{content:a})}}}var Cc=f(()=>{"use strict";q();Jr();pt();M();o(xc,"default")});var Ic={};b(Ic,{default:()=>wc});function wc(){return{name:"plugins",description:c.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:gt.BOOLEAN,description:c.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute(e,t){var[r]=e,n=Object.values(Y).sort(function(s,m){return s.manifest.name.localeCompare(m.manifest.name)}),a=n.filter(function(s){return s.enabled}).map(function(s){return s.manifest.name}),i=n.filter(function(s){return!s.enabled}).map(function(s){return s.manifest.name}),l=["**Installed Plugins (".concat(n.length,"):**"),...a.length>0?["Enabled (".concat(a.length,"):"),"> "+a.join(", ")]:[],...i.length>0?["Disabled (".concat(i.length,"):"),"> "+i.join(", ")]:[]].join(`
`);r?.value?Ee.sendBotMessage(t.channel.id,l):Ee.sendMessage(t.channel.id,{content:l})}}}var Dc=f(()=>{"use strict";q();Jr();ut();M();o(wc,"default")});var Jn={};b(Jn,{patchCommands:()=>ja,registerCommand:()=>qn});function ja(){var e=U("getBuiltInCommands",sr,function(t,r){var[n]=t;if(n===vr.CHAT)return r.concat(Zr.filter(function(a){return a.__bunny?.shouldHide?.()!==!1}))});return[(Ac(),tt(yc)),(Cc(),tt(bc)),(Dc(),tt(Ic))].forEach(function(t){return qn(t.default())}),function(){Zr=[],e()}}function qn(e){var t,r,n,a,i=sr.getBuiltInCommands(vr.CHAT,!0,!1);i.sort(function(L,C){return parseInt(C.id)-parseInt(L.id)});var l=i[i.length-1];if(e.id=(parseInt(l.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},(t=e).applicationId??(t.applicationId="-1"),(r=e).type??(r.type=vr.CHAT),e.inputType=Xn.BUILT_IN,(n=e).displayName??(n.displayName=e.name),(a=e).displayDescription??(a.displayDescription=e.description),e.options)for(var s of e.options){var m,N;(m=s).displayName??(m.displayName=s.name),(N=s).displayDescription??(N.displayDescription=s.description)}return oe("execute",e,function(L,C){Promise.resolve(C.apply(e,L)).then(function(I){I&&typeof I=="object"&&Ee.sendMessage(L[1].channel.id,I)}).catch(function(I){le.error("Failed to execute command",I)})}),Zr.push(e),function(){return Zr=Zr.filter(function(L){var{id:C}=L;return C!==e.id})}}var Zr,Zn=f(()=>{"use strict";Jr();ve();Vt();M();Zr=[];o(ja,"patchCommands");o(qn,"registerCommand")});var Nc,Lc=f(()=>{"use strict";Q();Zn();Be();ve();ae();pt();ut();Pe();se();xe();be();Pt();St();M();W();er();Ot();qe();Je();Nc=o(function(){var e=window.vendetta={patcher:{before:Ut.before,after:Ut.after,instead:Ut.instead},metro:{modules:window.modules,find:function(t){return re(t)},findAll:function(t){return ct(t)},findByProps:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.length===1&&r[0]==="KeyboardAwareScrollView"&&r.push("listenToKeyboardEvents"),d(...r)},findByPropsAll:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Nr(...r)},findByName:function(t,r){return t==="create"&&typeof r>"u"?K("create",!1).default:K(t,r??!0)},findByNameAll:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Lr(t,r)},findByDisplayName:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return zt(t,r)},findByDisplayNameAll:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Or(t,r)},findByTypeName:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Pr(t,r)},findByTypeNameAll:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Br(t,r)},findByStoreName:function(t){return it(t)},common:{constants:Tt,channels:Ar,i18n:yt,url:At,toasts:xr,stylesheet:{...ft,createThemedStyleSheet:Qt},clipboard:me,assets:kt,invites:Do,commands:sr,navigation:No,navigationStack:Lo,NavigationNative:_e,Flux:Oo,FluxDispatcher:Ne,React:Se,ReactNative:Le,moment:br,chroma:ze,lodash:Po,util:Bo}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(t,r){return De(t,r)},findInTree:function(t,r,n){return ar(t,r,n)},safeFetch:function(t,r,n){return Rt(t,r,n)},unfreeze:function(t){return Object.isFrozen(t)?{...t}:t},without:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return un(t,...n)}},debug:{connectToDebugger:function(t){return Wr(t)},getDebugInfo:function(){return dt()}},ui:{components:{Forms:An,General:Le,Alert:Lt.Alert,Button:Lt.Button,HelpMessage:Lt.HelpMessage,SafeAreaView:Lt.SafeAreaView,Summary:Gr,ErrorBoundary:ee,Codeblock:Fe,Search:mt},toasts:{showToast:function(t,r){return D(t,r)}},alerts:{showConfirmationAlert:function(t){return Ze(t)},showCustomAlert:function(t,r){return Ln(t,r)},showInputAlert:function(t){return kr(t)}},assets:{all:Me,find:function(t){return $o(t)},getAssetByName:function(t){return ea(t)},getAssetByID:function(t){return ta(t)},getAssetIDByName:function(t){return E(t)}},semanticColors:$,rawColors:va},plugins:{plugins:Y,fetchPlugin:function(t){return wt(t)},installPlugin:function(t,r){return lt(t,r)},startPlugin:function(t){return It(t)},stopPlugin:function(t,r){return Dt(t,r)},removePlugin:function(t){return Kt(t)},getSettings:function(t){return Mr(t)}},themes:{themes:j,fetchTheme:function(t,r){return jt(t,r)},installTheme:function(t){return ot(t)},selectTheme:function(t){return at(t==="default"?null:j[t])},removeTheme:function(t){return Yt(t)},getCurrentTheme:function(){return bt()},updateThemes:function(){return dn()}},commands:{registerCommand:qn},storage:{createProxy:function(t){return cn(t)},useProxy:function(t){return F(t)},createStorage:function(t){return Ie(t)},wrapSync:function(t){return Ye(t)},awaitSyncWrapper:function(t){return Et(t)},createMMKVBackend:function(t){return we(t)},createFileBackend:function(t){return Z()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),nt(t)}},settings:T,loader:{identity:Dr()??void 0,config:Te},logger:{log:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.log(...r)},info:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.info(...r)},warn:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.warn(...r)},error:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.error(...r)},time:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.time(...r)},trace:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.trace(...r)},verbose:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.log(...r)}},version:Yr,unload:function(){delete window.vendetta}};return function(){return e.unload()}},"initVendettaObject")});var za={};b(za,{dispatcher:()=>Qn,injectFluxInterceptor:()=>Ya,intercept:()=>Qm});function Ya(){var e,t,r=o(function(n){for(var a of $n){var i=a(n);i!=null&&(i?typeof i=="object"&&(Object.assign(n,i),n[Zm]=!0):n[Oc]=!0)}return Oc in n},"cb");return((e=Qn)._interceptors??(e._interceptors=[])).unshift(r),function(){return(t=Qn)._interceptors&&(t._interceptors=Qn._interceptors.filter(function(n){return n!==r}))}}function Qm(e){return $n.push(e),function(){$n=$n.filter(function(t){return t!==e})}}var Oc,Zm,Qn,$n,Wa=f(()=>{"use strict";M();Oc=Symbol.for("bunny.flux.blocked"),Zm=Symbol.for("bunny.flux.modified"),Qn=Ne,$n=[];o(Ya,"injectFluxInterceptor");o(Qm,"intercept")});function Ka(){return U("render",$m.prototype,function(e,t){var r=this,n;if(this.state.error){(n=this.state).activeTab??(n.activeTab="message");var a=Pc.find(function(s){return s.id===r.state.activeTab}),i=this.state.error[this.state.activeTab],l=[{text:c.RELOAD_DISCORD,onPress:this.handleReload},...T.safeMode?.enabled?[]:[{text:c.RELOAD_IN_SAFE_MODE,onPress:zr}],{text:c.RETRY_RENDER,color:fe.RED,onPress:function(){return r.setState({info:null,error:null})}}];return React.createElement(ee,null,React.createElement(ga,{style:Qr.container},React.createElement(vt.View,{style:Qr.header},React.createElement(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),React.createElement(vt.View,{style:{flex:2,paddingLeft:24}},React.createElement(vt.Text,{style:Qr.headerTitle},t.props.title),React.createElement(vt.Text,{style:Qr.headerDescription},t.props.body))),React.createElement(vt.View,{style:{flex:6}},React.createElement(vt.View,{style:{paddingBottom:8}},React.createElement(ed,{tabs:Pc.map(function(s){return{...s,title:s.title()}}),activeTab:this.state.activeTab,onTabSelected:function(s){r.setState({activeTab:s})}})),React.createElement(Fe,{selectable:!0,style:{flex:1,textAlignVertical:"top"}},a?.trimWhitespace?i.split(`
`).filter(function(s){return s.length!==0}).map(function(s){return s.trim()}).join(`
`):i)),React.createElement(vt.View,{style:Qr.footer},l.map(function(s){var m=l.indexOf(s)!==0?8:0;return React.createElement(Ke,{text:s.text,color:s.color??fe.BRAND,size:s.size??"small",onPress:s.onPress,style:je.isTablet?{flex:"0.".concat(l.length),marginLeft:m}:{marginTop:m}})}))))}})}var vt,$m,ed,Qr,Pc,Bc=f(()=>{"use strict";q();rt();ve();pt();se();ir();W();Ot();qe();Jt();Pt();vt=z(X()),$m=K("ErrorBoundary"),{BadgableTabBar:ed}=d("BadgableTabBar"),Qr=Qt({container:{flex:1,backgroundColor:$.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...Xe["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:$.HEADER_PRIMARY},headerDescription:{...Xe["text-sm/medium"],textAlign:"center",color:$.TEXT_MUTED},footer:{flexDirection:je.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),Pc=[{id:"message",title:function(){return c.MESSAGE}},{id:"stack",title:function(){return c.STACK_TRACE}},{id:"componentStack",title:function(){return c.COMPONENT},trimWhitespace:!0}];o(Ka,"default")});var Mc=f(()=>{"use strict"});var Xa={};b(Xa,{fs:()=>qr,loader:()=>Ko,modules:()=>an});var Fc=f(()=>{"use strict";zn();Be();rt()});var qa={};b(qa,{assets:()=>Tn,commands:()=>Jn,flux:()=>za,native:()=>Xa,patcher:()=>mo,storage:()=>ln});var Uc=f(()=>{"use strict";Q();Zn();Wa();Fc();ve();ae()});var Ja={};b(Ja,{plugins:()=>yn,themes:()=>wr});var Hc=f(()=>{"use strict";ut();Pe()});var Za={};b(Za,{alerts:()=>On,color:()=>Cn,components:()=>Dn,settings:()=>Ia,styles:()=>_a,toasts:()=>Nn});var Gc=f(()=>{"use strict";er();Ot();qe();dr();Pt();Je()});var Qa={};b(Qa,{api:()=>qa,debug:()=>Un,managers:()=>Ja,metro:()=>Xo,settings:()=>vn,ui:()=>Za,unload:()=>$r,utils:()=>fn});function $r(){for(var e of Vc)typeof e=="function"&&e();delete window.bunny}var Vc,kc=f(()=>{"use strict";Mc();Uc();pt();Hc();Ct();se();Gc();St();Vc=new Array;o($r,"unload");$r.push=function(e){Vc.push(e)}});var Yc={};b(Yc,{default:()=>jc});async function jc(){if(Re())try{Z()&&(B.removeFile!=null?Ua("vendetta_theme.json",""):Yn("vendetta_theme.json","null","")),Go()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}await Promise.all([Ya(),wa(),Da(),Qo(),ja(),Ho(),Nc(),zi(),ka(),Jo(),Ka(),Vs()]).then(function(e){return e.forEach(function(t){return t&&$r.push(t)})}),window.bunny=Qa,$r.push(await ra()),le.log("Bunny is ready!")}var zc=f(()=>{"use strict";Gi();q();ks();Oa();Lc();Q();Zn();Wa();zn();Be();rt();pt();ut();Pe();dr();Vt();Bc();kc();o(jc,"default")});rr();globalThis.window=globalThis;var Wc=o(function(){try{console.log("Hello from Bunny! Pyon!"),Object.freeze=Object.seal=Object,(zc(),tt(Yc)).default()}catch(r){var{ClientInfoManager:e}=(rt(),tt(an)),t=r instanceof Error?r.stack:void 0;console.log(t??r?.toString?.()??r),alert([`Failed to load Bunny!
`,"Build Number: ".concat(e.Build),"Bunny: 58781a0",t||r?.toString?.()].join(`
`))}},"init");if(typeof globalThis.__r<"u")Wc();else{var e=function(t){var r=window.__fbBatchedBridge,n=new Array,a=oe("callFunctionReturnFlushedQueue",r,function(l,s){return l[0]==="AppRegistry"||!r.getCallableModule(l[0])?(n.push(l),r.flushedQueue()):s.apply(r,l)}),i=o(function(){Wc(),a(),t(0),n.forEach(function(l){return r.getCallableModule(l[0])&&r.__callFunction(...l)})},"startDiscord");i()};td=e,o(e,"onceIndexRequired"),Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return eo},set(t){eo=o(function(n){if(n===0)e(t),eo=t;else return t(n)},"patchedRequire")}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(t){this.value=t}}})}var eo,td;})();
//# sourceURL=bunny
