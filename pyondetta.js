"use strict";(()=>{var js=Object.create;var Er=Object.defineProperty;var $s=Object.getOwnPropertyDescriptor;var Ys=Object.getOwnPropertyNames;var zs=Object.getPrototypeOf,Ws=Object.prototype.hasOwnProperty;var o=(e,t)=>Er(e,"name",{value:t,configurable:!0});var f=(e,t)=>()=>(e&&(t=e(e=0)),t);var ao=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),C=(e,t)=>{for(var r in t)Er(e,r,{get:t[r],enumerable:!0})},ri=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(var a=Ys(t),l=0,i=a.length,s;l<i;l++)s=a[l],!Ws.call(e,s)&&s!==r&&Er(e,s,{get:(d=>t[d]).bind(null,s),enumerable:!(n=$s(t,s))||n.enumerable});return e};var W=(e,t,r)=>(r=e!=null?js(zs(e)):{},ri(t||!e||!e.__esModule?Er(r,"default",{value:e,enumerable:!0}):r,e)),gt=e=>ri(Er({},"__esModule",{value:!0}),e);var io,Ge,rn=f(()=>{io=["a","b","i"],Ge=new Map});function lo(e,t,r,n,a){var l,i=(l=Ge.get(t))===null||l===void 0?void 0:l[e];if(!i)return a?Reflect.construct(t[e],r,n):t[e].apply(n,r);for(var s of i.b.values()){var d=s.call(n,r);Array.isArray(d)&&(r=d)}var b=[...i.i.values()].reduce(function(w,N){return function(...k){return N.call(n,k,w)}},function(...w){return a?Reflect.construct(i.o,w,n):i.o.apply(n,w)})(...r);for(var I of i.a.values())b=I.call(n,r,b)??b;return b}var ni=f(()=>{rn();o(lo,"default")});function so(e,t,r,n){var a=Ge.get(e),l=a?.[t];if(!l?.[n].has(r))return!1;if(l[n].delete(r),io.every(function(s){return l[s].size===0})){var i=Reflect.defineProperty(e,t,{value:l.o,writable:!0,configurable:!0});i||(e[t]=l.o),delete a[t]}return Object.keys(a).length==0&&Ge.delete(e),!0}function oi(){var e;for(var[t,r]of Ge.entries())for(var n in r)for(var a of io)for(var l of((e=r[n])===null||e===void 0?void 0:e[a].keys())??[])so(t,n,l,a)}var uo=f(()=>{rn();o(so,"unpatch");o(oi,"unpatchAll")});function _r(e){return function(t,r,n,a=!1){if(typeof r[t]!="function")throw new Error(`${t} is not a function in ${r.constructor.name}`);Ge.has(r)||Ge.set(r,Object.create(null));var l=Ge.get(r);if(!l[t]){var i=r[t];l[t]={o:i,b:new Map,i:new Map,a:new Map};var s=o(function(N,k,Ce){var er=lo(t,r,k,N,Ce);return a&&w(),er},"runHook"),d=new Proxy(i,{apply:function(N,k,Ce){return s(k,Ce,!1)},construct:function(N,k){return s(i,k,!0)},get:function(N,k,Ce){return k=="toString"?i.toString.bind(i):Reflect.get(N,k,Ce)}}),b=Reflect.defineProperty(r,t,{value:d,configurable:!0,writable:!0});b||(r[t]=d)}var I=Symbol(),w=o(function(){return so(r,t,I,e)},"unpatchThisPatch");return l[t][e].set(I,n),w}}var ai=f(()=>{ni();rn();uo();o(_r,"default")});var Ft={};C(Ft,{after:()=>U,before:()=>ht,instead:()=>oe,unpatchAll:()=>oi});var ht,oe,U,rr=f(()=>{ai();uo();ht=_r("b"),oe=_r("i"),U=_r("a")});var co={};C(co,{after:()=>U,before:()=>ht,default:()=>Ft,instead:()=>oe});var ge=f(()=>{"use strict";rr();rr()});var Ks,Xs,Js,Sr,fo=f(()=>{"use strict";Ks=o(function(e){return{status:"fulfilled",value:e}},"allSettledFulfill"),Xs=o(function(e){return{status:"rejected",reason:e}},"allSettledReject"),Js=o(function(e){return Promise.resolve(e).then(Ks,Xs)},"mapAllSettled"),Sr=o(function(e){return Promise.all(Array.from(e).map(Js))},"allSettled");Promise.allSettled??=Sr});var on={};C(on,{BundleUpdaterManager:()=>mo,ClientInfoManager:()=>nn,DeviceManager:()=>je,FileManager:()=>O,MMKVManager:()=>Ut,ThemeManager:()=>vo});var Ve,Ut,O,nn,je,mo,vo,tt=f(()=>{"use strict";Ve=window.nativeModuleProxy,Ut=Ve.MMKVManager;O=Ve.DCDFileManager??Ve.RTNFileManager;nn=Ve.InfoDictionaryManager??Ve.RTNClientInfoManager;je=Ve.DCDDeviceManager??Ve.RTNDeviceManager,{BundleUpdaterManager:mo}=Ve,vo=Ve.RTNThemeManager??Ve.DCDTheme});function an(){return{listeners:Object.values(po).reduce(function(e,t){return e[t]=new Set,e},{}),on(e,t){this.listeners[e].has(t)||this.listeners[e].add(t)},off(e,t){this.listeners[e].delete(t)},once(e,t){var r=this,n=o(function(a,l){r.off(a,n),t(a,l)},"once");this.on(e,n)},emit(e,t){for(var r of this.listeners[e])r(e,t)}}}var po,go=f(()=>{"use strict";(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(po||(po={}));o(an,"createEmitter")});var Z=ao((fm,ii)=>{Object.defineProperty(ii,"exports",{get:()=>globalThis.ReactNative})});var si,li,ho,ui,nr,we,rt,ci=f(()=>{"use strict";tt();si=W(Z()),li=/[<>:"/\\|?*]/g,ho=o(function(e){return si.Platform.select({default:e,ios:O.saveFileToGallery?e:`Documents/${e}`})},"filePathFixer"),ui=o(function(e){return li.test(e)&&(e=e.replace(li,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`},"getMMKVPath"),nr=o(async function(e){await Ut.getItem(e)&&Ut.removeItem(e);var t=ui(e);if(await O.fileExists(`${O.getConstants().DocumentsDirPath}/${t}`)){var r;await((r=O.removeFile)===null||r===void 0?void 0:r.call(O,"documents",t))}},"purgeStorage"),we=o(function(e,t={}){var r=ui(e),n=JSON.stringify(t);return rt(r,t,async function(){var a=`${O.getConstants().DocumentsDirPath}/${r}`;if(!await O.fileExists(a)){var l=await Ut.getItem(e)??n;if(l==="!!LARGE_VALUE!!"){var i=`${O.getConstants().CacheDirPath}/mmkv/${e}`;await O.fileExists(i)?l=await O.readFile(i,"utf8"):(console.log(`${e}: Experienced data loss :(`),l=n)}try{JSON.parse(l)}catch{console.error(`${e} had an unparseable data while migrating`),l=n}await O.writeFile("documents",ho(r),l,"utf8"),await Ut.getItem(e)!==null&&(Ut.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}}())},"createMMKVBackend"),rt=o(function(e,t={},r){return{get:async function(){await r;var n=`${O.getConstants().DocumentsDirPath}/${e}`;if(await O.fileExists(n)){var a=await O.readFile(n,"utf8");try{return JSON.parse(a)}catch{}}return await O.writeFile("documents",ho(e),JSON.stringify(t),"utf8"),JSON.parse(await O.readFile(n,"utf8"))},set:async function(n){await r,await O.writeFile("documents",ho(e),JSON.stringify(n),"utf8")}}},"createFileBackend")});var sn={};C(sn,{awaitSyncWrapper:()=>Et,createFileBackend:()=>rt,createMMKVBackend:()=>we,createProxy:()=>ln,createStorage:()=>Ie,purgeStorage:()=>nr,useProxy:()=>F,wrapSync:()=>$e});function ln(e={}){var t=an();function r(n,a){return new Proxy(n,{get(l,i){if(i===fi)return t;var s=[...a,i],d=l[i];return d!=null?(t.emit("GET",{path:s,value:d}),typeof d=="object"?r(d,s):d):d},set(l,i,s){return l[i]=s,t.emit("SET",{path:[...a,i],value:s}),!0},deleteProperty(l,i){var s=delete l[i];return s&&t.emit("DEL",{path:[...a,i]}),s}})}return o(r,"createProxy"),{proxy:r(e,[]),emitter:t}}function F(e){var t=e[fi],[,r]=React.useReducer(function(n){return~n},0);return React.useEffect(function(){var n=o(function(){return r()},"listener");return t.on("SET",n),t.on("DEL",n),function(){t.off("SET",n),t.off("DEL",n)}},[]),e}async function Ie(e){var t=await e.get(),{proxy:r,emitter:n}=ln(t),a=o(function(){return e.set(r)},"handler");return n.on("SET",a),n.on("DEL",a),r}function $e(e){var t=void 0,r=[],n=o(function(a){return t?a():r.push(a)},"awaitInit");return e.then(function(a){t=a,r.forEach(function(l){return l()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(a){return[a,function(l,...i){return Reflect[a](t??l,...i)}]})),get(a,l,i){return l===di?n:Reflect.get(t??a,l,i)}})}var fi,di,Et,ae=f(()=>{"use strict";go();ci();fi=Symbol.for("vendetta.storage.emitter"),di=Symbol.for("vendetta.storage.accessor");o(ln,"createProxy");o(F,"useProxy");o(Ie,"createStorage");o($e,"wrapSync");Et=o(function(e){return new Promise(function(t){return e[di](t)})},"awaitSyncWrapper")});var To={};C(To,{BUNNY_PROXY_PREFIX:()=>So,DISCORD_SERVER:()=>Eo,DISCORD_SERVER_ID:()=>Ro,GITHUB:()=>_o,HTTP_REGEX:()=>Zs,HTTP_REGEX_MULTI:()=>Rr,PLUGINS_CHANNEL_ID:()=>yo,PROXY_PREFIX:()=>_t,THEMES_CHANNEL_ID:()=>yr});var Eo,_o,_t,So,Zs,Rr,Ro,yo,yr,Ht=f(()=>{"use strict";Eo="https://discord.gg/XjYgWXHb9Q",_o="https://github.com/pyoncord",_t="https://vd-plugins.github.io/proxy",So="https://bunny-mod.github.io/plugins-proxy",Zs=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Rr=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,Ro="1015931589865246730",yo="1091880384561684561",yr="1091880434939482202"});var De,mi=f(()=>{"use strict";St();De=o(function(e,t){return or(e,t,{walkable:["props","children","child","sibling"]})},"findInReactTree")});function Ao(e,t,r,n){if(!(n>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var a of e)if(!(typeof a!="object"||a===null))try{var l=Ao(a,t,r,n+1);if(l)return l}catch{}}else if(typeof e=="object"){for(var i of Object.keys(e))if(!(typeof e[i]!="object"||e[i]===null)&&!(r.walkable.length&&!r.walkable.includes(i))&&!r.ignore.includes(i))try{var s=Ao(e[i],t,r,n+1);if(s)return s}catch{}}}}var or,vi=f(()=>{"use strict";o(Ao,"treeSearch");or=o(function(e,t,{walkable:r=[],ignore:n=[],maxDepth:a=100}={}){return Ao(e,t,{walkable:r,ignore:n,maxDepth:a},0)},"findInTree")});async function Rt(e,t,r=1e4){var n=await fetch(e,{signal:qs(r),...t});if(!n.ok)throw new Error("Request returned non-ok");return n}function qs(e){var t=new AbortController;return setTimeout(function(){return t.abort(`Timed out after ${e}ms`)},e),t.signal}var pi=f(()=>{"use strict";o(Rt,"safeFetch");o(qs,"timeoutSignal")});var bo={};C(bo,{ButtonColors:()=>de});var de,ar=f(()=>{"use strict";(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(de||(de={}))});function un(e,...t){var r={...e};return t.forEach(function(n){return delete r[n]}),r}var gi=f(()=>{"use strict";o(un,"without")});var cn={};C(cn,{constants:()=>To,createEmitter:()=>an,findInReactTree:()=>De,findInTree:()=>or,logger:()=>xo,safeFetch:()=>Rt,types:()=>bo,without:()=>un});var St=f(()=>{"use strict";Ht();go();mi();vi();kt();pi();ar();gi()});var fn={};C(fn,{Flux:()=>Do,FluxDispatcher:()=>Ne,NavigationNative:()=>_e,React:()=>Se,ReactNative:()=>Le,assets:()=>Gt,channels:()=>Tr,chroma:()=>Ye,clipboard:()=>me,commands:()=>ir,constants:()=>he,i18n:()=>yt,invites:()=>Co,lodash:()=>No,messageUtil:()=>Ee,moment:()=>br,navigation:()=>wo,navigationStack:()=>Io,toasts:()=>Ar,url:()=>Tt,util:()=>Lo});var he,Tr,yt,Tt,Ar,me,Gt,Co,ir,wo,Ee,Io,_e,Do,Ne,Se,Le,br,Ye,No,Lo,M=f(()=>{"use strict";K();he=m("Fonts","Permissions"),Tr=m("getVoiceChannelId"),yt=m("Messages"),Tt=m("openURL","openDeeplink"),Ar=re(function(e){return e.open&&e.close&&!e.startDrag&&!e.init&&!e.openReplay&&!e.setAlwaysOnTop&&!e.setAccountFlag}),me=m("setString","getString","hasString"),Gt=m("registerAsset"),Co=m("acceptInviteAndTransitionToInviteChannel"),ir=m("getBuiltInCommands"),wo=m("pushLazy"),Ee=m("sendBotMessage"),Io=m("createStackNavigator"),_e=m("NavigationContainer"),Do=m("connectStores"),Ne=m("_currentDispatchActionType"),Se=window.React=m("createElement"),Le=window.ReactNative=m("AppRegistry"),br=m("isMoment"),Ye=m("brewer"),No=m("forEachRight"),Lo=m("inspect","isNullOrUndefined")});var Cr={};C(Cr,{applyTheme:()=>xr,color:()=>$,fetchTheme:()=>Vt,getThemeFromLoader:()=>bt,initThemes:()=>Uo,installTheme:()=>nt,patchChatBackground:()=>Fo,removeTheme:()=>jt,selectTheme:()=>ot,themes:()=>Y,updateThemes:()=>dn});async function Po(e){if(typeof e!="object")throw new Error("Theme must be an object");await rt(Ho()||"theme.json").set(e)}function Fo(){var e=X("MessagesWrapperConnected",!1);if(e){var{MessagesWrapper:t}=m("MessagesWrapper");if(t){var r=[U("default",e,function(n,a){var l,i,s,d,b,I;return At?React.createElement(lr.ImageBackground,{style:{flex:1,height:"100%"},source:(H==null||(i=H.data)===null||i===void 0||(l=i.background)===null||l===void 0?void 0:l.url)&&{uri:H.data.background.url}||0,blurRadius:typeof(H==null||(d=H.data)===null||d===void 0||(s=d.background)===null||s===void 0?void 0:s.blur)=="number"?H==null||(I=H.data)===null||I===void 0||(b=I.background)===null||b===void 0?void 0:b.blur:0,children:a}):a}),U("render",t.prototype,function(n,a){var l,i;if(!(!At||!(!(H==null||(i=H.data)===null||i===void 0||(l=i.background)===null||l===void 0)&&l.url))){var s=De(a,function(b){var I;return b&&"HACK_fixModalInteraction"in b.props&&(b==null||(I=b.props)===null||I===void 0?void 0:I.style)});if(s){var d;s.props.style=[s.props.style,{backgroundColor:Ye(s.props.style.backgroundColor||"black").alpha(1-((H==null||(d=H.data.background)===null||d===void 0?void 0:d.alpha)??1)).hex()}]}else console.error("Didn't find Messages when patching MessagesWrapper!")}})];return function(){return r.forEach(function(n){return n()})}}}}function Si(e){if(Ye.valid(e))return Ye(e).hex();var t=Number((0,lr.processColor)(e));return Ye.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}function tu(e){if(e.semanticColors){var{semanticColors:t}=e;for(var r in t)for(var n in t[r])t[r][n]&&=Si(t[r][n])}if(e.rawColors){var{rawColors:a}=e;for(var l in a)e.rawColors[l]=Si(a[l]);lr.Platform.OS==="android"&&ru(a)}return e.spec??=2,e}function ru(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[n,a]=t[r];e[n]&&(e[r]=Ye(e[n]).alpha(a).hex())}}async function Vt(e,t=!1){var r;try{r=await(await Rt(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}Y[e]={id:e,selected:t,data:tu(r)},t&&(Po(Y[e]),xr(Y[e],ne))}async function nt(e){if(typeof e!="string"||e in Y)throw new Error("Theme already installed");await Vt(e)}function ot(e,t=!0){if(e&&(e.selected=!0),Object.keys(Y).forEach(function(r){return Y[r].selected=Y[r].id===e?.id}),e==null&&t)return Po({});if(e)return Po(e)}async function jt(e){var t=Y[e];return t.selected&&await ot(null),delete Y[e],t.selected}function bt(){return wr()}async function dn(){await Et(Y);var e=bt();await Sr(Object.keys(Y).map(function(t){return Vt(t,e?.id===t)}))}function Mo(e){return ou.has(e)}function au(){var e=re(function(r){var n;return r.isThemeDark&&((n=Object.getOwnPropertyDescriptor(r,"isThemeDark"))===null||n===void 0?void 0:n.value)}),t=o(function([r]){return r===Oe?[ne]:void 0},"callback");Object.keys($.RawColor).forEach(function(r){Object.defineProperty($.RawColor,r,{configurable:!0,enumerable:!0,get:function(){var n,a;return At?(H==null||(a=H.data)===null||a===void 0||(n=a.rawColors)===null||n===void 0?void 0:n[r])??Ri[r]:Ri[r]}})}),ht("isThemeDark",e,t),ht("isThemeLight",e,t),ht("updateTheme",vo,t),U("get",Ei,function([r],n){if(r==="SelectivelySyncedUserSettingsStore"){var a,l,i;Bo=!0,!(n==null||(i=n._state)===null||i===void 0||(l=i.appearance)===null||l===void 0||(a=l.settings)===null||a===void 0)&&a.theme&&At&&(ne=n._state.appearance.settings.theme,n._state.appearance.settings.theme=Oe)}else if(r==="ThemeStore"){var s;Bo=!0,!(n==null||(s=n._state)===null||s===void 0)&&s.theme&&At&&(ne=n._state.theme,n._state.theme=Oe)}}),ht("set",Ei,function(r){if(r[1]){var n=r[0],a=JSON.parse(JSON.stringify(r[1])),l={SelectivelySyncedUserSettingsStore:function(){var i,s,d;if(!((d=a._state)===null||d===void 0||(s=d.appearance)===null||s===void 0||(i=s.settings)===null||i===void 0)&&i.theme){var b,I,{theme:w}=((I=a._state)===null||I===void 0||(b=I.appearance)===null||b===void 0?void 0:b.settings)??{};Mo(w)?ne=w:a._state.appearance.settings.theme=ne}},ThemeStore:function(){var i;if(!((i=a._state)===null||i===void 0)&&i.theme){var{theme:s}=a._state;Mo(s)?ne=s:a._state.theme=ne}}};return n in l?(l[n](),[n,a]):r}}),oe("resolveSemanticColor",$.default.meta??$.default.internal,function(r,n){var a,l,i,s,d,b,I;if(!At||!H)return n(...r);if(r[0]!==Oe)return n(...r);r[0]=ne;var[w,N]=yi(ne,r[1]),k=ne==="midnight"?2:ne==="light"?1:0;var Ce=eu[w]??w,er=(a=((i=H.data)===null||i===void 0||(l=i.semanticColors)===null||l===void 0?void 0:l[w])??((d=H.data)===null||d===void 0||(s=d.semanticColors)===null||s===void 0?void 0:s[Ce]))===null||a===void 0?void 0:a[k];if(er)return er;var gr=(I=H.data)===null||I===void 0||(b=I.rawColors)===null||b===void 0?void 0:b[N.raw];return gr?N.opacity===1?gr:Ye(gr).alpha(N.opacity).hex():n(...r)})}function iu(e=ne){var t=Qs.theme.toLowerCase();return Mo(t)?t:e}function xr(e,t){t||(t=iu()),H=e,At=!!H,ne=t,Oe=`vd-theme-${nu++}-${t}`,e&&($.Theme[Oe.toUpperCase()]=Oe,_i.DIVIDER_COLORS[Oe]=_i.DIVIDER_COLORS[ne],Object.keys($.Shadow).forEach(function(r){return $.Shadow[r][Oe]=$.Shadow[r][ne]}),Object.keys($.SemanticColor).forEach(function(r){var n,a,l;$.SemanticColor[r][Oe]={...$.SemanticColor[r][ne],override:e==null||(l=e.data)===null||l===void 0||(a=l.semanticColors)===null||a===void 0||(n=a[r])===null||n===void 0?void 0:n[0]}})),Bo&&(hi.setShouldSyncAppearanceSettings(!1),hi.updateTheme(e?Oe:t))}function Uo(){var e=bt();At=!!e,au(),xr(e,ne),dn().catch(function(t){return console.error("Failed to update themes",t)})}function yi(e,t){var r=t[yi._sym??=Object.getOwnPropertySymbols(t)[0]],n=$.SemanticColor[r];return[r,n[e]]}var lr,Oo,$,hi,Ei,Qs,_i,Y,eu,Ri,nu,Oe,ne,At,H,Bo,ou,Pe=f(()=>{"use strict";fo();Be();tt();ge();ae();St();M();K();lr=W(Z());$=m("SemanticColor"),hi=m("updateTheme"),Ei=!((Oo=m("storage"))===null||Oo===void 0)&&Oo.parseResolve?m("storage"):m("impl").impl,Qs=at("ThemeStore"),_i=m("DIVIDER_COLORS"),Y=$e(Ie(we("VENDETTA_THEMES"))),eu={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};o(Po,"writeTheme");o(Fo,"patchChatBackground");o(Si,"normalizeToHex");o(tu,"processData");o(ru,"applyAndroidAlphaKeys");o(Vt,"fetchTheme");o(nt,"installTheme");o(ot,"selectTheme");o(jt,"removeTheme");o(bt,"getThemeFromLoader");o(dn,"updateThemes");Ri={...$.RawColor},nu=0,Oe="vd-theme",ne="darker",At=!1,Bo=!1,ou=new Set(["darker","midnight","dark","light"]);o(Mo,"isDiscordTheme");o(au,"patchColor");o(iu,"getDefaultFallbackTheme");o(xr,"applyTheme");o(Uo,"initThemes");o(yi,"extractInfo")});var Yo={};C(Yo,{getLoaderConfigPath:()=>$o,getLoaderIdentity:()=>su,getLoaderName:()=>mn,getLoaderVersion:()=>ko,getReactDevToolsProp:()=>Go,getReactDevToolsVersion:()=>Vo,getStoredTheme:()=>wr,getSysColors:()=>Ti,getThemeFilePath:()=>Ho,getVendettaLoaderIdentity:()=>Ir,isLoaderConfigSupported:()=>vn,isPyonLoader:()=>Q,isReactDevToolsPreloaded:()=>sr,isSysColorsSupported:()=>jo,isThemeSupported:()=>Re,isVendettaLoader:()=>ie});function ie(){return ze!=null}function Q(){return it!=null}function lu(){if(!Q()||ie())return null;var e={name:it.loaderName,features:{}};return vn()&&(e.features.loaderConfig=!0),jo()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return Ti()},configurable:!0})),Re()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){var t,r=(t=wr())===null||t===void 0?void 0:t.id;if(!r)return null;var{themes:n}=(Pe(),gt(Cr));return n[r]??wr()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}function su(){return Q()?it:ie()?Ir():null}function Ir(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:lu()}function mn(){return Q()?it.loaderName:ie()?ze.name:"Unknown"}function ko(){return Q()?it.loaderVersion:null}function vn(){return Q()?!0:ie()?ze.features.loaderConfig:!1}function Re(){return Q()?it.hasThemeSupport:ie()?ze.features.themes!=null:!1}function wr(){if(Q())return it.storedTheme;if(ie()){var e,t=(e=ze.features.themes)===null||e===void 0?void 0:e.prop;return t&&globalThis[t]||null}return null}function Ho(){return Q()?"pyoncord/current-theme.json":ie()?"vendetta_theme.json":null}function sr(){return Q()?!!window.__reactDevTools:ie()?ze.features.devtools!=null:!1}function Go(){return sr()?Q()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):ie()?ze.features.devtools.prop:null:null}function Vo(){return sr()?Q()?window.__reactDevTools.version||null:ie()?ze.features.devtools.version:null:null}function jo(){return Q()?it.isSysColorsSupported:ie()?ze.features.syscolors!=null:!1}function Ti(){return jo()?Q()?it.sysColors:ie()?ze.features.syscolors.prop:null:null}function $o(){return Q()?"pyoncord/loader.json":ie()?"vendetta_loader.json":"loader.json"}var it,ze,Be=f(()=>{"use strict";it=globalThis.__PYON_LOADER__,ze=globalThis.__vendetta_loader;o(ie,"isVendettaLoader");o(Q,"isPyonLoader");o(lu,"polyfillVendettaLoaderIdentity");o(su,"getLoaderIdentity");o(Ir,"getVendettaLoaderIdentity");Ir();o(mn,"getLoaderName");o(ko,"getLoaderVersion");o(vn,"isLoaderConfigSupported");o(Re,"isThemeSupported");o(wr,"getStoredTheme");o(Ho,"getThemeFilePath");o(sr,"isReactDevToolsPreloaded");o(Go,"getReactDevToolsProp");o(Vo,"getReactDevToolsVersion");o(jo,"isSysColorsSupported");o(Ti,"getSysColors");o($o,"getLoaderConfigPath")});var pn={};C(pn,{loaderConfig:()=>ye,settings:()=>y});var y,ye,le=f(()=>{"use strict";Be();ae();y=$e(Ie(we("VENDETTA_SETTINGS"))),ye=$e(Ie(rt($o(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var zo={};C(zo,{common:()=>fn,filters:()=>gn,find:()=>re,findAll:()=>lt,findByDisplayName:()=>$t,findByDisplayNameAll:()=>Lr,findByName:()=>X,findByNameAll:()=>Nr,findByProps:()=>m,findByPropsAll:()=>Dr,findByStoreName:()=>at,findByTypeName:()=>Or,findByTypeNameAll:()=>Pr});var xt=f(()=>{"use strict";M();K();K()});var xi={};C(xi,{default:()=>fu});function cu(e){var t=new Map;for(var r of uu){var n;e?.[r]?t.set(r,null):!(e==null||(n=e.default)===null||n===void 0)&&n[r]&&t.set(r,"default")}for(var[a,l]of t){var i=l?e[l]:e;hn[a]?Object.keys(i).length<Object.keys(Wo[a]).length&&(hn[a]=i[a],Wo[a]=i):(hn[a]=i[a],Wo[a]=i)}}var uu,Wo,hn,bi,Ai,fu,Ci=f(()=>{"use strict";xt();uu=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),Wo={},hn={};for(Ai in window.modules)bi=window.__r(Ai),cu(bi);o(cu,"polyfillRedesignModule");fu=hn});var gn={};C(gn,{find:()=>re,findAll:()=>lt,findByDisplayName:()=>$t,findByDisplayNameAll:()=>Lr,findByName:()=>X,findByNameAll:()=>Nr,findByProps:()=>m,findByPropsAll:()=>Dr,findByStoreName:()=>at,findByTypeName:()=>Or,findByTypeNameAll:()=>Pr});function pu(e,t){var r,n,a;if((e==null||(r=e.default)===null||r===void 0?void 0:r.name)==="requireNativeComponent"&&oe("default",e,function(i,s){try{return s(...i)}catch{return i[0]}}),(e==null||(a=e.default)===null||a===void 0||(n=a.constructor)===null||n===void 0?void 0:n.displayName)==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get:function(i,s,d){if(s==="isDeveloper"){var{settings:b}=(le(),gt(pn));return b.enableDiscordDeveloperSettings??!1}return Reflect.get(i,s,d)}})),!Ii&&window["__core-js_shared__"]){var l=o(function(i){return typeof i=="function"&&vu.apply(i,[])},"inspect");window["__core-js_shared__"].inspectSource=l,Ii=!0}}function Di(e){if(modules[e].isInitialized)return __r(e);var t=window.ErrorUtils.getGlobalHandler();window.ErrorUtils.setGlobalHandler(null);try{var r=__r(e)}catch{var r=void 0}return window.ErrorUtils.setGlobalHandler(t),r}function*gu(){yield(Ci(),gt(xi));for(var e in modules)yield Di(e)}var du,mu,vu,wi,En,Ko,Ii,Ni,re,lt,Li,Oi,Pi,Bi,hu,m,Dr,X,Nr,$t,Lr,Or,Pr,at,K=f(()=>{"use strict";ge();du=o(function(e){var t=window.modules[e];t.factory&&oe("factory",t,function(r,n){var{1:a,4:l}=r;r[2]=function(i){var s=a(i);return s&&s.__esModule?s.default:s},r[3]=function(i){var s=a(i);if(s&&s.__esModule)return s;var d={};return s&&Object.assign(d,s),d.default=s,d},n(r[0],r[1],r[2],r[3],r[4],r[5],r[6]),l.exports&&pu(l.exports,e)})},"_loop"),mu=o(function(e){return Object.defineProperty(window.modules,e,{value:window.modules[e],enumerable:!1,configurable:!0,writable:!0})},"blacklist"),vu=Function.prototype.toString;for(wi in window.modules)du(wi);for(Ko in window.modules)if(En=Di(Ko),!En||En===window||En["Revenge EOL when?"]===null){mu(Ko);continue}Ii=!1;o(pu,"onModuleRequire");o(Di,"requireModule");o(gu,"getModules");Ni=o(function(e,t=!1){return function(r){var n=[];for(var a of gu()){if(a.default&&a.__esModule&&r(a.default)){if(t)return a.default;n.push(a.default)}if(r(a)){if(t)return a;n.push(a)}}if(!t)return n}},"filterModules"),re=Ni(modules,!0),lt=Ni(modules),Li=o(function(e){return function(t){return e.every(function(r){return t[r]!==void 0})}},"propsFilter"),Oi=o(function(e,t){return t?function(r){return r?.name===e}:function(r){var n;return(r==null||(n=r.default)===null||n===void 0?void 0:n.name)===e}},"nameFilter"),Pi=o(function(e,t){return t?function(r){return r?.displayName===e}:function(r){var n;return(r==null||(n=r.default)===null||n===void 0?void 0:n.displayName)===e}},"dNameFilter"),Bi=o(function(e,t){return t?function(r){var n;return(r==null||(n=r.type)===null||n===void 0?void 0:n.name)===e}:function(r){var n,a;return(r==null||(a=r.default)===null||a===void 0||(n=a.type)===null||n===void 0?void 0:n.name)===e}},"tNameFilter"),hu=o(function(e){return function(t){return t.getName&&t.getName.length===0&&t.getName()===e}},"storeFilter"),m=o(function(...e){return re(Li(e))},"findByProps"),Dr=o(function(...e){return lt(Li(e))},"findByPropsAll"),X=o(function(e,t=!0){return re(Oi(e,t))},"findByName"),Nr=o(function(e,t=!0){return lt(Oi(e,t))},"findByNameAll"),$t=o(function(e,t=!0){return re(Pi(e,t))},"findByDisplayName"),Lr=o(function(e,t=!0){return lt(Pi(e,t))},"findByDisplayNameAll"),Or=o(function(e,t=!0){return re(Bi(e,t))},"findByTypeName"),Pr=o(function(e,t=!0){return lt(Bi(e,t))},"findByTypeNameAll"),at=o(function(e){return re(hu(e))},"findByStoreName")});var xo={};C(xo,{logModule:()=>_n,logger:()=>ue});var _n,ue,kt=f(()=>{"use strict";K();_n=X("Logger"),ue=new _n("Bunny")});function Mi({locale:e}){try{br.locale(e.toLowerCase())}catch(t){ue.error("Failed to fix timestamps...",t)}Ne.unsubscribe("I18N_LOAD_SUCCESS",Mi)}function Xo(){Ne.subscribe("I18N_LOAD_SUCCESS",Mi)}var Fi=f(()=>{"use strict";kt();M();o(Mi,"onDispatch");o(Xo,"default")});var Hi,Ui=f(()=>{Hi={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install Add-on",INSTALL_PLUGIN:"Install Plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function Gi(){var e=o(function({locale:t}){var r={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},n=r[t]??t;if(n.startsWith("en-")){ur=null;return}ki.has(n)?ur=n:(ki.add(n),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${n}/bunny.json`).then(function(a){return a.json()}).then(function(a){return Jo[n]=a}).then(function(){return ur=n}).catch(function(a){return console.error(`An error occured while fetching strings for ${n}: ${a}`)}))},"cb");return Ne.subscribe("I18N_LOAD_SUCCESS",e),function(){return Ne.unsubscribe("I18N_LOAD_SUCCESS",e)}}function Te(e,t){var r=u[e];return new _u(r).format(t)}var _u,ur,ki,Jo,u,q=f(()=>{"use strict";M();K();Ui();_u=X("MessageFormat"),ki=new Set,Jo={},u=new Proxy({},{get:function(e,t){var r;if(ur&&(!((r=Jo[ur])===null||r===void 0)&&r[t])){var n;return(n=Jo[ur])===null||n===void 0?void 0:n[t]}return Hi[t]}});o(Gi,"initFetchI18nStrings");o(Te,"formatString")});var Sn={};C(Sn,{all:()=>Me,find:()=>qo,getAssetByID:()=>ea,getAssetByName:()=>Qo,getAssetIDByName:()=>E,patchAssets:()=>Zo});function Zo(){for(var e=U("registerAsset",Gt,function(n,a){var l=n[0];Me[l.name]={...l,id:a}}),t=1;;t++){var r=Gt.getAssetByID(t);if(!r)break;Me[r.name]||(Me[r.name]={...r,id:t})}return e}var Me,qo,Qo,ea,E,ee=f(()=>{"use strict";ge();M();Me={};o(Zo,"patchAssets");qo=o(function(e){return Object.values(Me).find(e)},"find"),Qo=o(function(e){return Me[e]},"getAssetByName"),ea=o(function(e){return Gt.getAssetByID(e)},"getAssetByID"),E=o(function(e){var t;return(t=Me[e])===null||t===void 0?void 0:t.id},"getAssetIDByName")});var Rn={};C(Rn,{evalPlugin:()=>ji,fetchPlugin:()=>Ct,getSettings:()=>Br,initPlugins:()=>ta,installPlugin:()=>st,plugins:()=>z,removePlugin:()=>zt,startPlugin:()=>wt,stopPlugin:()=>It});async function Vi(e){return e.startsWith(_t)&&(e=e.replace(_t,So)),await Rt(e,{cache:"no-store"})}async function Ct(e){e.endsWith("/")||(e+="/");var t=z[e],r;try{r=await(await Vi(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var n;if(t?.manifest.hash!==r.hash)try{n=await(await Vi(e+(r.main||"index.js"))).text()}catch{}if(!n&&!t)throw new Error(`Failed to fetch JS for ${e}`);z[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:n??t.js}}async function st(e,t=!0){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in z)throw new Error("Plugin already installed");await Ct(e),t&&await wt(e)}async function ji(e){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await Ie(we(e.id))},logger:new _n(`Bunny \xBB ${e.manifest.name}`)},r=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,n=(0,eval)(r)(t),a=typeof n=="function"?n():n;return a?.default??a??{}}async function wt(e){e.endsWith("/")||(e+="/");var t=z[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{var r;if(!(!((r=y.safeMode)===null||r===void 0)&&r.enabled)){var n,a=await ji(t);Yt[e]=a,(n=a.onLoad)===null||n===void 0||n.call(a)}t.enabled=!0}catch(s){ue.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,s);try{var l,i;(i=Yt[t.id])===null||i===void 0||(l=i.onUnload)===null||l===void 0||l.call(i)}catch(d){ue.error(`Plugin ${t.id} errored whilst unloading`,d)}delete Yt[e],t.enabled=!1}}function It(e,t=!0){var r;e.endsWith("/")||(e+="/");var n=z[e],a=Yt[e];if(!n)throw new Error("Attempted to stop non-existent plugin");if(!(!((r=y.safeMode)===null||r===void 0)&&r.enabled)){try{var l;a==null||(l=a.onUnload)===null||l===void 0||l.call(a)}catch(i){ue.error(`Plugin ${n.id} errored whilst unloading`,i)}delete Yt[e]}t&&(n.enabled=!1)}async function zt(e){e.endsWith("/")||(e+="/");var t=z[e];t.enabled&&It(e),delete z[e],await nr(e)}async function ta(){var e;await Et(y),await Et(z);var t=Object.keys(z);return!((e=y.safeMode)===null||e===void 0)&&e.enabled||(await Sr(t.filter(function(r){return z[r].enabled}).map(async function(r){return z[r].update&&await Ct(r).catch(function(n){return ue.error(n.message)}),await wt(r)})),t.filter(function(r){return!z[r].enabled&&z[r].update}).forEach(function(r){return Ct(r)})),Su}var z,Yt,Su,Br,ut=f(()=>{"use strict";fo();ae();le();St();Ht();kt();z=$e(Ie(we("VENDETTA_PLUGINS"))),Yt={};o(Vi,"pluginFetch");o(Ct,"fetchPlugin");o(st,"installPlugin");o(ji,"evalPlugin");o(wt,"startPlugin");o(It,"stopPlugin");o(zt,"removePlugin");o(ta,"initPlugins");Su=o(function(){return Object.keys(Yt).forEach(function(e){return It(e,!1)})},"stopAllPlugins"),Br=o(function(e){var t;return(t=Yt[e])===null||t===void 0?void 0:t.settings},"getSettings")});var aa={};C(aa,{Form:()=>Ru,FormArrow:()=>yu,FormCTA:()=>Tu,FormCTAButton:()=>Au,FormCardSection:()=>bu,FormCheckbox:()=>xu,FormCheckboxRow:()=>Cu,FormCheckmark:()=>wu,FormDivider:()=>ra,FormHint:()=>Iu,FormIcon:()=>na,FormInput:()=>oa,FormLabel:()=>Du,FormRadio:()=>Nu,FormRadioGroup:()=>Lu,FormRadioRow:()=>Ou,FormRow:()=>Ae,FormSection:()=>Tn,FormSelect:()=>Pu,FormSliderRow:()=>Bu,FormSubLabel:()=>Mu,FormSwitch:()=>Fu,FormSwitchRow:()=>Uu,FormTernaryCheckBox:()=>Hu,FormText:()=>Wt,FormTitle:()=>ku,Forms:()=>yn});var yn,Ru,yu,Tu,Au,bu,xu,Cu,wu,ra,Iu,na,oa,Du,Nu,Lu,Ou,Ae,Tn,Pu,Bu,Mu,Fu,Uu,Hu,Wt,ku,be=f(()=>{"use strict";xt();yn=m("Form","FormSection"),{Form:Ru,FormArrow:yu,FormCTA:Tu,FormCTAButton:Au,FormCardSection:bu,FormCheckbox:xu,FormCheckboxRow:Cu,FormCheckmark:wu,FormDivider:ra,FormHint:Iu,FormIcon:na,FormInput:oa,FormLabel:Du,FormRadio:Nu,FormRadioGroup:Lu,FormRadioRow:Ou,FormRow:Ae,FormSection:Tn,FormSelect:Pu,FormSliderRow:Bu,FormSubLabel:Mu,FormSwitch:Fu,FormSwitchRow:Uu,FormTernaryCheckBox:Hu,FormText:Wt,FormTitle:ku}=yn});var ia=ao((Ev,$i)=>{Object.defineProperty($i,"exports",{get:()=>globalThis.React})});var fa={};C(fa,{AccessibilityAnnouncer:()=>vf,AccessibilityPreferencesContext:()=>pf,AccessibilityView:()=>gf,AccessibilityViewAnimated:()=>hf,ActionSheet:()=>Ef,ActionSheetCloseButton:()=>_f,ActionSheetIconHeader:()=>Sf,ActionSheetPresenter:()=>Rf,ActionSheetRow:()=>yf,ActionSheetSwitchRow:()=>Tf,AlertActionButton:()=>Vu,AlertModal:()=>ju,AlertModalContainer:()=>$u,AnimatedEnterExitItem:()=>Af,AvatarDuoPile:()=>Yu,AvatarPile:()=>zu,Backdrop:()=>Wu,BottomSheetTextInput:()=>bf,Button:()=>Mr,Card:()=>Ku,CompatfulRedesign:()=>ct,ContextMenu:()=>Xu,ContextMenuContainer:()=>Ju,Dialog:()=>xf,DisableCustomTheme:()=>Cf,FauxHeader:()=>Zu,FloatingActionButton:()=>qu,FormCheckbox:()=>ua,FormRadio:()=>Gu,FormSwitch:()=>sa,GhostInput:()=>Qu,GuildIconPile:()=>ec,HeaderActionButton:()=>tc,HeaderButton:()=>rc,HeaderSubmittingIndicator:()=>nc,IconButton:()=>An,Input:()=>oc,InputButton:()=>ac,InputContainer:()=>ic,LayerContext:()=>lc,LayerScope:()=>sc,Menu:()=>wf,MenuGroup:()=>If,MenuItem:()=>Df,MenuPopout:()=>Nf,Modal:()=>uc,ModalActionButton:()=>cc,ModalContent:()=>fc,ModalDisclaimer:()=>dc,ModalFloatingAction:()=>mc,ModalFloatingActionSpacer:()=>vc,ModalFooter:()=>pc,ModalScreen:()=>gc,ModalStepIndicator:()=>hc,Navigator:()=>Ec,NavigatorHeader:()=>_c,NavigatorScreen:()=>Sc,Pile:()=>Rc,PileOverflow:()=>yc,Redesign:()=>Wi,RedesignCompat:()=>Tc,RedesignCompatContext:()=>Ac,RootThemeContextProvider:()=>Lf,RowButton:()=>bc,SceneLoadingIndicator:()=>xc,SearchField:()=>Cc,SegmentedControl:()=>wc,SegmentedControlPages:()=>Ic,SimpleActionSheet:()=>Of,Slider:()=>Dc,Stack:()=>Kt,StepModal:()=>Nc,StickyContext:()=>Lc,StickyHeader:()=>Oc,StickyWrapper:()=>Pc,TableCheckboxRow:()=>Bc,TableRadioGroup:()=>Mc,TableRadioRow:()=>Fc,TableRow:()=>x,TableRowGroup:()=>ve,TableRowGroupTitle:()=>Uc,TableRowIcon:()=>Hc,TableSwitchRow:()=>Dt,Tabs:()=>kc,Text:()=>Pf,TextArea:()=>Gc,TextField:()=>Vc,TextInput:()=>cr,TextStyleSheet:()=>Bf,ThemeContextFlags:()=>Mf,ThemeContextForLegacyStyles:()=>Ff,ThemeContextProvider:()=>Uf,Toast:()=>jc,TransitionGroup:()=>Hf,TransitionItem:()=>kf,TransitionStates:()=>Gf,UseThemeContext:()=>Vf,WCAGContrastRatios:()=>jf,createLegacyClassComponentStyles:()=>$f,createNativeStyleProperties:()=>Yf,createStyleProperties:()=>zf,createStyles:()=>Wf,darkenColor:()=>Kf,dismissAlerts:()=>$c,experimental_createToken:()=>Xf,getContrastingColor:()=>Jf,getHeaderBackButton:()=>Yc,getHeaderCloseButton:()=>zc,getHeaderConditionalBackButton:()=>Wc,getHeaderNoTitle:()=>Kc,getHeaderTextButton:()=>Xc,getSemanticColorContextFromThemeContext:()=>Zf,hasThemeFlag:()=>qf,hideContextMenu:()=>Jc,navigatorShouldCrossfade:()=>Zc,openAlert:()=>qc,setColorOpacity:()=>Qf,setThemeFlag:()=>ed,showSimpleActionSheet:()=>td,useAccessibilityNativeStackOptions:()=>Qc,useAndroidNavScrim:()=>ef,useCoachmark:()=>tf,useFloatingActionButtonScroll:()=>rf,useFloatingActionButtonState:()=>nf,useLegacyClassComponentStyles:()=>rd,useNativeStackNavigation:()=>of,useNavigation:()=>ca,useNavigationTheme:()=>af,useNavigatorBackPressHandler:()=>lf,useNavigatorScreens:()=>sf,useNavigatorShouldCrossfade:()=>uf,useSegmentedControlState:()=>cf,useStackNavigation:()=>ff,useTabNavigation:()=>df,useThemeContext:()=>nd,useToken:()=>od,useTooltip:()=>mf});var Yi,zi,la,Wi,ct,sa,Gu,ua,Vu,ju,$u,Yu,zu,Wu,Mr,Ku,Xu,Ju,Zu,qu,Qu,ec,tc,rc,nc,An,oc,ac,ic,lc,sc,uc,cc,fc,dc,mc,vc,pc,gc,hc,Ec,_c,Sc,Rc,yc,Tc,Ac,bc,xc,Cc,wc,Ic,Dc,Kt,Nc,Lc,Oc,Pc,Bc,Mc,Fc,x,ve,Uc,Hc,Dt,kc,Gc,Vc,cr,jc,$c,Yc,zc,Wc,Kc,Xc,Jc,Zc,qc,Qc,ef,tf,rf,nf,of,ca,af,lf,sf,uf,cf,ff,df,mf,vf,pf,gf,hf,Ef,_f,Sf,Rf,yf,Tf,Af,bf,xf,Cf,wf,If,Df,Nf,Lf,Of,Pf,Bf,Mf,Ff,Uf,Hf,kf,Gf,Vf,jf,$f,Yf,zf,Wf,Kf,Xf,Jf,Zf,qf,Qf,ed,td,rd,nd,od,xe=f(()=>{"use strict";xt();Yi=W(ia()),zi=W(Z()),la=o(function(e){var t;return(t=re(function(r){return r[e]&&Object.keys(r).length===1}))===null||t===void 0?void 0:t[e]},"findSingular"),Wi=m("TableRow"),ct=m("ActionSheetRow");ct.ActionSheetTitleHeader??=ct.BottomSheetTitleHeader;ct.ActionSheetContentContainer??=function({children:e}){return(0,Yi.useEffect)(function(){return console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. It has been temporarily replaced with View")},[]),React.createElement(zi.View,null,e)};sa=la("FormSwitch"),Gu=la("FormRadio"),ua=la("FormCheckbox"),{AlertActionButton:Vu,AlertModal:ju,AlertModalContainer:$u,AvatarDuoPile:Yu,AvatarPile:zu,Backdrop:Wu,Button:Mr,Card:Ku,ContextMenu:Xu,ContextMenuContainer:Ju,FauxHeader:Zu,FloatingActionButton:qu,GhostInput:Qu,GuildIconPile:ec,HeaderActionButton:tc,HeaderButton:rc,HeaderSubmittingIndicator:nc,IconButton:An,Input:oc,InputButton:ac,InputContainer:ic,LayerContext:lc,LayerScope:sc,Modal:uc,ModalActionButton:cc,ModalContent:fc,ModalDisclaimer:dc,ModalFloatingAction:mc,ModalFloatingActionSpacer:vc,ModalFooter:pc,ModalScreen:gc,ModalStepIndicator:hc,Navigator:Ec,NavigatorHeader:_c,NavigatorScreen:Sc,Pile:Rc,PileOverflow:yc,RedesignCompat:Tc,RedesignCompatContext:Ac,RowButton:bc,SceneLoadingIndicator:xc,SearchField:Cc,SegmentedControl:wc,SegmentedControlPages:Ic,Slider:Dc,Stack:Kt,StepModal:Nc,StickyContext:Lc,StickyHeader:Oc,StickyWrapper:Pc,TableCheckboxRow:Bc,TableRadioGroup:Mc,TableRadioRow:Fc,TableRow:x,TableRowGroup:ve,TableRowGroupTitle:Uc,TableRowIcon:Hc,TableSwitchRow:Dt,Tabs:kc,TextArea:Gc,TextField:Vc,TextInput:cr,Toast:jc,dismissAlerts:$c,getHeaderBackButton:Yc,getHeaderCloseButton:zc,getHeaderConditionalBackButton:Wc,getHeaderNoTitle:Kc,getHeaderTextButton:Xc,hideContextMenu:Jc,navigatorShouldCrossfade:Zc,openAlert:qc,useAccessibilityNativeStackOptions:Qc,useAndroidNavScrim:ef,useCoachmark:tf,useFloatingActionButtonScroll:rf,useFloatingActionButtonState:nf,useNativeStackNavigation:of,useNavigation:ca,useNavigationTheme:af,useNavigatorBackPressHandler:lf,useNavigatorScreens:sf,useNavigatorShouldCrossfade:uf,useSegmentedControlState:cf,useStackNavigation:ff,useTabNavigation:df,useTooltip:mf}=Wi,{AccessibilityAnnouncer:vf,AccessibilityPreferencesContext:pf,AccessibilityView:gf,AccessibilityViewAnimated:hf,ActionSheet:Ef,ActionSheetCloseButton:_f,ActionSheetIconHeader:Sf,ActionSheetPresenter:Rf,ActionSheetRow:yf,ActionSheetSwitchRow:Tf,AnimatedEnterExitItem:Af,BottomSheetTextInput:bf,Dialog:xf,DisableCustomTheme:Cf,Menu:wf,MenuGroup:If,MenuItem:Df,MenuPopout:Nf,RootThemeContextProvider:Lf,SimpleActionSheet:Of,Text:Pf,TextStyleSheet:Bf,ThemeContextFlags:Mf,ThemeContextForLegacyStyles:Ff,ThemeContextProvider:Uf,TransitionGroup:Hf,TransitionItem:kf,TransitionStates:Gf,UseThemeContext:Vf,WCAGContrastRatios:jf,createLegacyClassComponentStyles:$f,createNativeStyleProperties:Yf,createStyleProperties:zf,createStyles:Wf,darkenColor:Kf,experimental_createToken:Xf,getContrastingColor:Jf,getSemanticColorContextFromThemeContext:Zf,hasThemeFlag:qf,setColorOpacity:Qf,setThemeFlag:ed,showSimpleActionSheet:td,useLegacyClassComponentStyles:rd,useThemeContext:nd,useToken:od}=ct});var Nt={};C(Nt,{Alert:()=>da,Button:()=>We,Forms:()=>aa,HelpMessage:()=>ma,Redesign:()=>fa,SafeAreaView:()=>va});var da,We,ma,va,Xt=f(()=>{"use strict";K();be();xe();da=$t("FluxContainer(Alert)"),We=m("Looks","Colors","Sizes"),ma=X("HelpMessage"),va=m("useSafeAreaInsets").SafeAreaView});var bn={};C(bn,{isSemanticColor:()=>Ea,rawColors:()=>ha,resolveSemanticColor:()=>_a,semanticColors:()=>J});function Ea(e){return Ki.isSemanticColor(e)}function _a(e,t=ad.theme){return Ki.resolveSemanticColor(t,e)}var pa,ga,J,ha,ad,Ki,Lt=f(()=>{"use strict";Pe();K();M();J=($===null||$===void 0||(pa=$.default)===null||pa===void 0?void 0:pa.colors)??(he===null||he===void 0?void 0:he.ThemeColorMap),ha=($===null||$===void 0||(ga=$.default)===null||ga===void 0?void 0:ga.unsafe_rawColors)??(he===null||he===void 0?void 0:he.Colors),ad=at("ThemeStore"),Ki=$.default.meta??=$.default.internal;o(Ea,"isSemanticColor");o(_a,"resolveSemanticColor")});var Sa={};C(Sa,{TextStyleSheet:()=>Ke,createStyles:()=>Jt,createThemedStyleSheet:()=>Zt});function Jt(e){return ct.createStyles(e)}function Zt(e){for(var t in e)e[t]=new Proxy(Xi.StyleSheet.flatten(e[t]),{get(r,n,a){var l=Reflect.get(r,n,a);return Ea(l)?_a(l):l}});return e}var Xi,Ke,Ot=f(()=>{"use strict";xt();Lt();xe();Xi=W(Z()),{TextStyleSheet:Ke}=m("TextStyleSheet");o(Jt,"createStyles");o(Zt,"createThemedStyleSheet")});function Fe({selectable:e,style:t,children:r}){return e?fr.Platform.select({ios:React.createElement(id,{style:t,children:r}),default:React.createElement(Ji,{style:t,children:r,selectable:!0})}):React.createElement(Ji,{style:t,children:r})}var fr,Zi,id,Ji,qi=f(()=>{"use strict";M();Lt();Ot();fr=W(Z()),Zi=Jt({codeBlock:{fontFamily:he.Fonts.CODE_SEMIBOLD,fontSize:12,textAlignVertical:"center",backgroundColor:J.BACKGROUND_SECONDARY,color:J.TEXT_NORMAL,borderWidth:1,borderRadius:4,borderColor:J.BACKGROUND_TERTIARY,padding:10}}),id=o(function({style:e,children:t}){return React.createElement(fr.TextInput,{editable:!1,multiline:!0,style:[Zi().codeBlock,e&&e],value:t})},"InputBasedCodeblock"),Ji=o(function({selectable:e,style:t,children:r}){return React.createElement(fr.Text,{selectable:e,style:[Zi().codeBlock,t&&t]},r)},"TextBasedCodeblock");o(Fe,"Codeblock")});function Ra(e){var t=React.useRef(null);return React.useEffect(function(){var r,n,a;if(qt.Platform.OS==="android"){var l=(a=t.current)===null||a===void 0||(n=a._children)===null||n===void 0||(r=n[0])===null||r===void 0?void 0:r._nativeTag;return function(){if(l)var i=oe("setAccessibilityFocus",qt.AccessibilityInfo,function([s],d){if(s!==l)return d.apply(qt.AccessibilityInfo,[s]);i()})}}},[]),React.createElement(qt.View,{ref:t},React.createElement(ld,e))}var qt,ld,Qi=f(()=>{"use strict";ge();K();qt=W(Z()),{ContextMenu:ld}=m("ContextMenu");o(Ra,"ContextMenu")});function el(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var tl=f(()=>{o(el,"_class_call_check")});function rl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nl(e,t,r){return t&&rl(e.prototype,t),r&&rl(e,r),e}var ol=f(()=>{o(rl,"_defineProperties");o(nl,"_create_class")});function al(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var il=f(()=>{o(al,"_define_property")});function xn(e,t){return xn=Object.setPrototypeOf||o(function(n,a){return n.__proto__=a,n},"setPrototypeOf"),xn(e,t)}var ll=f(()=>{o(xn,"_set_prototype_of")});function sl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}var ul=f(()=>{ll();o(sl,"_inherits")});function Fr(e){return Fr=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"getPrototypeOf"),Fr(e)}var cl=f(()=>{o(Fr,"_get_prototype_of")});function fl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var dl=f(()=>{o(fl,"_is_native_reflect_construct")});function ml(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vl=f(()=>{o(ml,"_assert_this_initialized")});function pl(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var gl=f(()=>{o(pl,"_type_of")});function hl(e,t){return t&&(pl(t)==="object"||typeof t=="function")?t:ml(e)}var El=f(()=>{vl();gl();o(hl,"_possible_constructor_return")});function _l(e){var t=fl();return o(function(){var n=Fr(e),a;if(t){var l=Fr(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return hl(this,a)},"_createSuperInternal")}var Sl=f(()=>{cl();dl();El();o(_l,"_create_super")});var ya,Rl,sd,te,Ta=f(()=>{"use strict";tl();ol();il();ul();Sl();q();M();Xe();Xt();be();Ot();ya=W(Z()),Rl=Zt({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),te=function(e){"use strict";sl(r,e);var t=_l(r);function r(n){el(this,r);var a;return a=t.call(this,n),a.state={hasErr:!1},a}return o(r,"ErrorBoundary"),nl(r,[{key:"render",value:o(function(){var a=this;return this.state.hasErr?Se.createElement(ya.ScrollView,{style:Rl.view},Se.createElement(Wt,{style:Rl.title},u.UH_OH),Se.createElement(Fe,{selectable:!0,style:{marginBottom:5}},this.state.error.name),Se.createElement(Fe,{selectable:!0,style:{marginBottom:5}},this.state.error.message),this.state.error.stack&&Se.createElement(ya.ScrollView,{style:{maxHeight:420,marginBottom:5}},Se.createElement(Fe,{selectable:!0},this.state.error.stack)),Se.createElement(We,{color:We.Colors.RED,size:We.Sizes.MEDIUM,look:We.Looks.FILLED,onPress:function(){return a.setState({hasErr:!1})},text:u.RETRY})):this.props.children},"render")}]),r}(sd=Se.Component);al(te,"getDerivedStateFromError",function(e){return{hasErr:!0,error:e}})});function ud(){return React.createElement(Cn.Image,{style:{transform:[{scale:.8}]},source:E("search")})}function ft({onChangeText:e,placeholder:t,style:r}){var[n,a]=React.useState(""),l=o(function(i){a(i),e?.(i)},"onChange");return React.createElement(te,null,React.createElement(Cn.View,{style:r},React.createElement(cr,{grow:!0,isClearable:!0,leadingIcon:ud,placeholder:t??u.SEARCH,onChange:l,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:n})))}var Cn,yl=f(()=>{"use strict";q();ee();xe();Ta();Cn=W(Z());o(ud,"SearchIcon");o(ft,"default")});function Hr({label:e,icon:t,noPadding:r=!1,noAnimation:n=!1,children:a}){var[l,i]=React.useState(!0);return React.createElement(React.Fragment,null,React.createElement(x,{label:e,icon:t&&React.createElement(x.Icon,{source:E(t)}),trailing:React.createElement(Ae.Arrow,{style:{transform:[{rotate:`${l?180:90}deg`}]}}),onPress:function(){i(!l),n||Ur.LayoutAnimation.configureNext(Ur.LayoutAnimation.Presets.easeInEaseOut)}}),!l&&React.createElement(React.Fragment,null,React.createElement(Ur.View,{style:!r&&{paddingHorizontal:15}},a)))}var Ur,Tl=f(()=>{"use strict";ee();be();xe();Ur=W(Z());o(Hr,"Summary")});var wn={};C(wn,{Codeblock:()=>Fe,ContextMenu:()=>Ra,ErrorBoundary:()=>te,Search:()=>ft,Summary:()=>Hr,discord:()=>Nt});var Xe=f(()=>{"use strict";Xt();qi();Qi();Ta();yl();Tl()});var In={};C(In,{showToast:()=>L});var Aa,cd,L,Je=f(()=>{"use strict";q();ee();M();K();Aa=W(Z()),{uuid4:cd}=m("uuid4"),L=o(function(e,t){return Ar.open({key:`vd-toast-${cd()}`,content:e,source:t,icon:t})},"showToast");L.showCopyToClipboard=function(e=u.COPIED_TO_CLIPBOARD){(Aa.Platform.OS!=="android"||Aa.Platform.Version<=32)&&L(e,E("toast_copy_link"))}});function md(e,t=null,r=!1){var n,a;if(e.guild_id===Ro){var l;if(e.parent_id===yo)l="Plugin";else if(e.parent_id===yr&&Re())l="Theme";else return;var{firstMessage:i}=r?fd(e):{firstMessage:t},s=i==null||(a=i.content)===null||a===void 0||(n=a.match(Rr))===null||n===void 0?void 0:n.filter(kr[l].urlsFilter);if(!(!s||!s[0]))return l==="Plugin"&&!s[0].endsWith("/")&&(s[0]+="/"),[l,s[0]]}}function vd(e,t=null,r=!1){var[n,a]=md(e,t,r)??[];F(z),F(Y);var[l,i]=React.useState(!1);if(!n||!a)return[!0];var s=!!kr[n].storage[a],d=o(async function(){i(!0);try{await kr[n].installOrRemove(a)}catch(b){L(b.message,E("Small"))}finally{i(!1)}},"installOrRemove");return[!1,n,s,l,d]}function ba(){var e=[pd()];return function(){return e.map(function(t){return t()})}}var fd,dd,kr,pd,Al=f(()=>{"use strict";q();ee();Be();ge();ae();ut();Pe();Xe();xe();Ht();K();Je();({useFirstForumPostMessage:fd}=m("useFirstForumPostMessage")),dd=m("MostCommonForumPostReaction"),kr={Plugin:{storage:z,urlsFilter:function(e){return e.startsWith(_t)},installOrRemove:function(e){var t=kr.Plugin.storage[e];return t?zt(e):st(e)}},Theme:{storage:Y,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){var t=kr.Theme.storage[e];return t?jt(e):nt(e)}}};o(md,"useExtractThreadContent");o(vd,"useInstaller");pd=o(function(){return U("MostCommonForumPostReaction",dd,function([{thread:e,firstMessage:t}],r){var[n,a,l,i,s]=vd(e,t,!0);if(!n)return React.createElement(React.Fragment,null,r,React.createElement(te,null,React.createElement(Mr,{size:"sm",loading:i,disabled:i,variant:l?"secondary":"primary",text:l?u.UNINSTALL:u.INSTALL,onPress:s,icon:E(l?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})))})},"installButtonPatch");o(ba,"default")});function xa({title:e,confirmText:t,confirmColor:r,onConfirm:n,cancelText:a,placeholder:l,initialValue:i="",secureTextEntry:s}){var[d,b]=React.useState(i),[I,w]=React.useState("");function N(){var k=Promise.resolve(n(d));k.then(function(){bl.close()}).catch(function(Ce){w(Ce.message)})}return o(N,"onConfirmWrapper"),React.createElement(da,{title:e,confirmText:t,confirmColor:r,isConfirmButtonDisabled:I.length!==0,onConfirm:N,cancelText:a,onCancel:function(){return bl.close()}},React.createElement(oa,{placeholder:l,value:d,onChange:function(k){b(typeof k=="string"?k:k.text),I&&w("")},returnKeyType:"done",onSubmitEditing:N,error:I||void 0,secureTextEntry:s,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}}))}var bl,xl=f(()=>{"use strict";K();Xt();be();bl=m("openLazy","close");o(xa,"InputAlert")});var Nn={};C(Nn,{showConfirmationAlert:()=>Ze,showCustomAlert:()=>Dn,showInputAlert:()=>Gr});function Ze(e){var t=e;return t.body=e.content,delete t.content,t.isDismissable??=!0,Cl.show(t)}var Cl,Dn,Gr,Qt=f(()=>{"use strict";K();xl();Cl=m("openLazy","close");o(Ze,"showConfirmationAlert");Dn=o(function(e,t){return Cl.openLazy({importer:async function(){return function(){return React.createElement(e,t)}}})},"showCustomAlert"),Gr=o(function(e){return Dn(xa,e)},"showInputAlert")});function wl(e){if(e.startsWith(_t))return"plugin";if(e.endsWith(".json")&&Re())return"theme"}function Il(e,t){(e==="plugin"?st:nt)(t).then(function(){L(u.SUCCESSFULLY_INSTALLED,E("Check"))}).catch(function(r){L(r.message,E("Small"))})}function Ca(){var e=new Array;return e.push(U("showSimpleActionSheet",gd,function(t){if(t[0].key==="LongPressUrl"){var{header:{title:r},options:n}=t[0],a=wl(r);a&&n.push({label:u.INSTALL_ADDON,onPress:function(){return Il(a,r)}})}})),e.push(oe("handleClick",hd,async function(t,r){var n,{href:a}=t[0],l=wl(a);if(!l)return r.apply(this,t);if(l==="theme"&&((n=Sd(_d()))===null||n===void 0?void 0:n.parent_id)!==yr)return r.apply(this,t);Ze({title:u.HOLD_UP,content:Te("CONFIRMATION_LINK_IS_A_TYPE",{urlType:l}),onConfirm:function(){return Il(l,a)},confirmText:u.INSTALL,cancelText:u.CANCEL,secondaryConfirmText:u.OPEN_IN_BROWSER,onConfirmSecondary:function(){return Ed(a)}})})),function(){return e.forEach(function(t){return t()})}}var gd,hd,Ed,_d,Sd,Dl=f(()=>{"use strict";q();ee();Be();ge();ut();Pe();Ht();M();K();Qt();Je();gd=re(function(e){var t;return e?.showSimpleActionSheet&&!(!((t=Object.getOwnPropertyDescriptor(e,"showSimpleActionSheet"))===null||t===void 0)&&t.get)}),hd=m("handleClick"),{openURL:Ed}=Tt,{getChannelId:_d}=Tr,{getChannel:Sd}=m("getChannel");o(wl,"typeFromUrl");o(Il,"installWithToast");o(Ca,"default")});var Ll={};C(Ll,{default:()=>Nl});function Nl(){var e=new Array;return e.push(ba()),e.push(Ca()),function(){return e.forEach(function(t){return t()})}}var Ol=f(()=>{"use strict";Al();Dl();o(Nl,"onLoad")});function Pl(){var e=[(Ol(),gt(Ll))].map(function(t){return t.default()});return function(){return e.forEach(function(t){return typeof t=="function"&&t()})}}var Bl=f(()=>{"use strict";o(Pl,"initCorePlugins")});function On(e,t,r,n,a){return async function(){if(e)return void e();var l=await r().then(function(i){return i.default});typeof n=="string"&&(n={title:n}),t??=Rd.getRootNavigationRef(),t.navigate("VendettaCustomPage",{...n,render:function(){return React.createElement(l,a)}})}}var Rd,Ln,wa=f(()=>{"use strict";M();K();Xe();Rd=m("getRootNavigationRef"),Ln=React.memo(function(){var e=_e.useNavigation(),t=_e.useRoute(),{render:r,...n}=t.params;return React.useEffect(function(){return void e.setOptions({...n})},[]),React.createElement(te,null,React.createElement(r,null))});o(On,"wrapOnPress")});function yd(){var e=_e.useNavigation();return React.createElement(React.Fragment,null,Object.keys(qe).map(function(t){return React.createElement(Tn,{key:t,title:t},qe[t].filter(function(r){var n;return((n=r.usePredicate)===null||n===void 0?void 0:n.call(r))??!0}).map(function(r){return React.createElement(Ae,{label:r.title(),leading:React.createElement(na,{source:r.icon}),trailing:Ae.Arrow,onPress:On(r.onPress,e,r.render,r.title())})}))}))}function Ml(e){e.push(U("default",X("getScreens",!1),function(r,n){return{...n,VendettaCustomPage:{title:"Bnuuy",render:function(){return React.createElement(Ln,null)}}}}));var t=U("default",X("UserSettingsOverviewWrapper",!1),function(r,n){var a=De(n.props.children,function(l){var i;return((i=l.type)===null||i===void 0?void 0:i.name)==="UserSettingsOverview"});e.push(U("renderSupportAndAcknowledgements",a.type.prototype,function(l,{props:{children:i}}){var s=i.findIndex(function(d){var b;return(d==null||(b=d.type)===null||b===void 0?void 0:b.name)==="UploadLogsButton"});s!==-1&&i.splice(s,1)})),e.push(U("render",a.type.prototype,function(l,i){var s=[yt.Messages.BILLING_SETTINGS,yt.Messages.PREMIUM_SETTINGS],d=De(i.props.children,function(I){var w,N;return(I==null||(N=I.children)===null||N===void 0||(w=N[1])===null||w===void 0?void 0:w.type)===Tn}).children,b=d.findIndex(function(I){return s.includes(I?.props.label)});d.splice(-~b||4,0,React.createElement(yd,null))}))},!0);e.push(t)}var Fl=f(()=>{"use strict";xt();M();be();dr();St();rr();wa();o(yd,"SettingsSection");o(Ml,"patchPanelUI")});function Ad(){var e=!1;return React.useEffect(function(){return void(e=!0)},[]),e}function Ul(e){Vr.SETTING_RENDERER_CONFIG.VendettaCustomPage={type:"route",title:function(){return"Bunny"},screen:{route:"VendettaCustomPage",getComponent:function(){return Ln}}};var t=o(function(){return Object.values(qe).flatMap(function(n){return n.map(function(a){return{[a.key]:{type:"pressable",title:a.title,icon:a.icon,usePredicate:a.usePredicate,onPress:On(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}})}).reduce(function(n,a){return Object.assign(n,a)})},"getRows"),r=Vr.SETTING_RENDERER_CONFIG;Vr.SETTING_RENDERER_CONFIG=new Proxy(r,{get:function(n,a,l){return Reflect.get({...n,...t()},a,l)},getOwnPropertyDescriptor:function(n,a){return Reflect.getOwnPropertyDescriptor({...n,...t()},a)},ownKeys:function(n){return[...Reflect.ownKeys(n),...Object.keys(t())]}}),e.push(function(){Vr.SETTING_RENDERER_CONFIG=r,delete Vr.SETTING_RENDERER_CONFIG.VendettaCustomPage}),e.push(U("default",Td,function(n,a){if(!Ad()){var{sections:l}=De(a,function(s){var d;return(d=s.props)===null||d===void 0?void 0:d.sections}).props,i=-~l.findIndex(function(s){return s.label===yt.Messages.ACCOUNT_SETTINGS})||1;Object.keys(qe).forEach(function(s){l.splice(i++,0,{label:s,title:s,settings:qe[s].map(function(d){return d.key})})})}}))}var Vr,Td,Hl=f(()=>{"use strict";xt();M();dr();St();rr();wa();Vr=m("SETTING_RENDERER_CONFIG"),Td=X("SettingsOverviewScreen",!1);o(Ad,"useIsFirstRender");o(Ul,"patchTabsUI")});var Da={};C(Da,{patchSettings:()=>Ia,registerSection:()=>Pn,registeredSections:()=>qe});function Pn(e){return qe[e.name]=e.items,function(){return delete qe[e.name]}}function Ia(){var e=new Array;return Ml(e),Ul(e),function(){return e.forEach(function(t){return t()})}}var qe,dr=f(()=>{"use strict";Fl();Hl();qe={};o(Pn,"registerSection");o(Ia,"patchSettings")});var Gl,kl=f(()=>{Gl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA+CAYAAACbQR1vAAAAAXNSR0IArs4c6QAAAuRJREFUaEPtmjFuFTEQhudPCiqEgtIhuAAUVDQUyR0QFRU3gZtwAMQdQHSIAiUNZShSAaKgoMrAPmVXu479PF7PeNdrXvts7/zf/DO29z3Qyj7MzOOQAMAyRNPFUwN3xffzLSFUAaADYQWhGgBWEP4DSK1Ty/GhHmDZFKtygEUZqALwZPA3gNtS10gcQERvALyUrhkbpwYgFryki8fWsNgWiwGQBN8EgGsQDODAtWdLAHba3bKQAiCiLwAex+pb8r1mCZwT0UPJQ90xPYgEAGonQzUAnagUAT4IKfMlTVWSDFUAuRAkAUuaadI6KYOlY1MyKV0zVDZz5w8gcxcIzbeGsNoSGAOxhFAFAMueUA0AQwgHACavz+aUs/ouULAnHAK4miN6PKcYAAMnnAD4UBUAZQiv/vWB19UBUIRwCeBelQAUIWTfCYr2ADdbiueEtwCez3HD0gB+EtHRnMB9c+acDZYGkL2P594RFgOgaH+fGa4AHEqctQgAY/GDbklJFAdgJP4HgGNm7vpJ11fEEIoBYOZbRPRHYsvEMZ8APNl3C93nhCIAjLK+0+wT53teCIIpAEvhfcalAEKwggCug/9KRC8AfJbYkpnPiOiRZKzmmDGEGHQX2AQAM/8iojuawa1trSCAGLm1CcmJZwxhcEDTAFoS7zbDnQNaAuDtAa0A8G2ZvQO6ravbwjb9CQJoqQxi5wD1+7nHUu8BnOZajZnvE9G31HX2Ath3oUh9UMqNLGftOTF7zwFuELmNUXIX1xLuWycS//DCxHsXYOanRPRxToBLC5fC6OMMAUjuBWsUHnN1F3M2gBqEe0B0/2U69wJg5gsiehCzf43CfZpuOEDS/LYifncviNXJEttZzH2a37svRILNb0tZnyRVcpDYqvgbJeCp/3cAnmlabm1rBd8IbTnr3hIYZ78V8ZMS6AG0JH4A0Kr4CYDWMt/3ATDzMYDva+vOpeLpANwFMPlJudTD1/CcvynvVk7pHrbOAAAAAElFTkSuQmCC"});var Mn={};C(Mn,{connectToDebugger:()=>Yr,getDebugInfo:()=>dt,patchLogHook:()=>Na,socket:()=>ce,toggleSafeMode:()=>$r,versionHash:()=>jr});async function $r(){var e;if(y.safeMode={...y.safeMode,enabled:!(!((e=y.safeMode)===null||e===void 0)&&e.enabled)},Re()){var t,r,n;if(!((t=bt())===null||t===void 0)&&t.id&&(y.safeMode.currentThemeId=bt().id),!((r=y.safeMode)===null||r===void 0)&&r.enabled)await ot(null);else if(!((n=y.safeMode)===null||n===void 0)&&n.currentThemeId){var a;await ot(Y[(a=y.safeMode)===null||a===void 0?void 0:a.currentThemeId])}}setTimeout(mo.reload,400)}function Yr(e){if(ce!==void 0&&ce.readyState!==WebSocket.CLOSED&&ce.close(),!e){L("Invalid debugger URL!",E("Small"));return}ce=new WebSocket(`ws://${e}`),ce.addEventListener("open",function(){return L("Connected to debugger.",E("Check"))}),ce.addEventListener("message",function(t){try{(0,eval)(t.data)}catch(r){console.error(r)}}),ce.addEventListener("error",function(t){console.log(`Debugger error: ${t.message}`),L("An error occurred with the debugger connection!",E("Small"))})}function Na(){var e=U("nativeLoggingHook",globalThis,function(t){ce?.readyState===WebSocket.OPEN&&ce.send(JSON.stringify({message:t[0],level:t[1]})),ue.log(t[0])});return function(){ce&&ce.close(),e()}}function dt(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",n=Bn.Platform.constants,a=n.reactNativeVersion;return{vendetta:{version:jr,loader:mn()},bunny:{version:jr,loader:{name:mn(),version:ko()}},discord:{version:nn.Version,build:nn.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):`${a.major}.${a.minor}.${a.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...Bn.Platform.select({android:{os:{name:"Android",version:n.Release,sdk:n.Version}},ios:{os:{name:n.systemName,version:n.osVersion}}}),...Bn.Platform.select({android:{device:{manufacturer:n.Manufacturer,brand:n.Brand,model:n.Model,codename:je.device}},ios:{device:{manufacturer:je.deviceManufacturer,brand:je.deviceBrand,model:je.deviceModel,codename:je.device}}})}}var Bn,ce,jr,mt=f(()=>{"use strict";ee();Be();tt();ge();Pe();le();kt();Je();Bn=W(Z());o($r,"toggleSafeMode");o(Yr,"connectToDebugger");o(Na,"patchLogHook");jr="ca703ad";o(dt,"getDebugInfo")});function Fn({label:e,version:t,icon:r}){return React.createElement(x,{label:e,icon:React.createElement(x.Icon,{source:E(r)}),trailing:React.createElement(Wt,null,t),onPress:function(){me.setString(`${e} - ${t}`),L.showCopyToClipboard()}})}var Vl=f(()=>{"use strict";ee();be();xe();M();Je();o(Fn,"Version")});function La(){var e=dt();F(y);var t=[{label:u.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:u.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],r=[{label:u.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:u.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:u.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:u.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:u.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:Un.Platform.select({android:u.CODENAME,ios:u.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return React.createElement(Un.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(Kt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(ve,{title:u.VERSIONS},t.map(function(n){return React.createElement(Fn,{label:n.label,version:n.version,icon:n.icon})})),React.createElement(ve,{title:u.PLATFORM},r.map(function(n){return React.createElement(Fn,{label:n.label,version:n.version,icon:n.icon})}))))}var Un,jl=f(()=>{"use strict";q();Vl();ae();mt();le();xe();Un=W(Z());o(La,"About")});var Yl={};C(Yl,{default:()=>$l});function $l(){var e,t;F(y);var r=dt(),n=ca();return React.createElement(Hn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(Kt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(ve,{title:u.INFO},React.createElement(x,{label:u.BUNNY,icon:React.createElement(x.Icon,{source:{uri:Oa}}),trailing:React.createElement(x.TrailingText,{text:r.bunny.version})}),React.createElement(x,{label:"Discord",icon:React.createElement(x.Icon,{source:E("Discord")}),trailing:React.createElement(x.TrailingText,{text:`${r.discord.version} (${r.discord.build})`})}),React.createElement(x,{arrow:!0,label:u.ABOUT,icon:React.createElement(x.Icon,{source:E("CircleInformationIcon")}),trailing:x.Arrow,onPress:function(){return n.push("VendettaCustomPage",{title:u.ABOUT,render:function(){return React.createElement(La,null)}})}})),React.createElement(ve,{title:u.LINKS},React.createElement(x,{label:u.DISCORD_SERVER,icon:React.createElement(x.Icon,{source:E("Discord")}),trailing:x.Arrow,onPress:function(){return Tt.openDeeplink(Eo)}}),React.createElement(x,{label:u.GITHUB,icon:React.createElement(x.Icon,{source:E("img_account_sync_github_white")}),trailing:x.Arrow,onPress:function(){return Tt.openURL(_o)}})),React.createElement(ve,{title:u.ACTIONS},React.createElement(x,{label:u.RELOAD_DISCORD,icon:React.createElement(x.Icon,{source:E("ic_message_retry")}),onPress:function(){return Hn.NativeModules.BundleUpdaterManager.reload()}}),React.createElement(x,{label:!((e=y.safeMode)===null||e===void 0)&&e.enabled?u.RELOAD_IN_NORMAL_MODE:u.RELOAD_IN_SAFE_MODE,subLabel:!((t=y.safeMode)===null||t===void 0)&&t.enabled?u.RELOAD_IN_NORMAL_MODE_DESC:u.RELOAD_IN_SAFE_MODE_DESC,icon:React.createElement(x.Icon,{source:E("ic_privacy_24px")}),onPress:$r}),React.createElement(Dt,{label:u.DEVELOPER_SETTINGS,icon:React.createElement(x.Icon,{source:E("ic_progress_wrench_24px")}),value:y.developerSettings,onValueChange:function(a){y.developerSettings=a}})),React.createElement(ve,{title:u.MISCELLANEOUS},React.createElement(Dt,{label:u.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:u.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:React.createElement(x.Icon,{source:E("ic_progress_wrench_24px")}),value:y.enableDiscordDeveloperSettings,onValueChange:function(a){y.enableDiscordDeveloperSettings=a}}))))}var Hn,zl=f(()=>{"use strict";q();Pa();ee();ae();mt();le();xe();Ht();M();Hn=W(Z());jl();o($l,"General")});var Kl=ao((Wl,kn)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof kn=="object"&&kn.exports?kn.exports=t():e.fuzzysort=t()})(Wl,function(e){"use strict";var t=o(function(v,c){if(v=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!v||!c)return P;var g=b(v);Bt(c)||(c=d(c));var h=g.bitflags;return(h&c._bitflags)!==h?P:w(g,c)},"single"),r=o(function(v,c,g){if(v=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:c?c[0]:P}];if(!v)return g&&g.all?I(v,c,g):ro;var h=b(v),_=h.bitflags,R=h.containsSpace,S=g&&g.threshold||Mt,p=g&&g.limit||to,A=0,T=0,D=c.length;if(g&&g.key)for(var se=g.key,B=0;B<D;++B){var pe=c[B],G=en(pe,se);if(G&&(Bt(G)||(G=d(G)),(_&G._bitflags)===_)){var j=w(h,G);j!==P&&(j.score<S||(j={target:j.target,_targetLower:"",_targetLowerCodes:P,_nextBeginningIndexes:P,_bitflags:0,score:j.score,_indexes:j._indexes,obj:pe},A<p?(Ue.add(j),++A):(++T,j.score>Ue.peek().score&&Ue.replaceTop(j))))}}else if(g&&g.keys)for(var ei=g.scoreFn||ks,hr=g.keys,tn=hr.length,B=0;B<D;++B){for(var pe=c[B],fe=new Array(tn),He=0;He<tn;++He){var se=hr[He],G=en(pe,se);if(!G){fe[He]=P;continue}Bt(G)||(G=d(G)),(_&G._bitflags)!==_?fe[He]=P:fe[He]=w(h,G)}fe.obj=pe;var V=ei(fe);V!==P&&(V<S||(fe.score=V,A<p?(Ue.add(fe),++A):(++T,V>Ue.peek().score&&Ue.replaceTop(fe))))}else for(var B=0;B<D;++B){var G=c[B];if(G&&(Bt(G)||(G=d(G)),(_&G._bitflags)===_)){var j=w(h,G);j!==P&&(j.score<S||(A<p?(Ue.add(j),++A):(++T,j.score>Ue.peek().score&&Ue.replaceTop(j))))}}if(A===0)return ro;for(var tr=new Array(A),B=A-1;B>=0;--B)tr[B]=Ue.poll();return tr.total=A+T,tr},"go"),n=o(function(v,c,g){if(typeof c=="function")return a(v,c);if(v===P)return P;c===void 0&&(c="<b>"),g===void 0&&(g="</b>");var h="",_=0,R=!1,S=v.target,p=S.length,A=v._indexes;A=A.slice(0,A.len).sort(function(se,B){return se-B});for(var T=0;T<p;++T){var D=S[T];if(A[_]===T){if(++_,R||(R=!0,h+=c),_===A.length){h+=D+g+S.substr(T+1);break}}else R&&(R=!1,h+=g);h+=D}return h},"highlight"),a=o(function(T,c){if(T===P)return P;var g=T.target,h=g.length,_=T._indexes;_=_.slice(0,_.len).sort(function(B,pe){return B-pe});for(var R="",S=0,p=0,A=!1,T=[],D=0;D<h;++D){var se=g[D];if(_[p]===D){if(++p,A||(A=!0,T.push(R),R=""),p===_.length){R+=se,T.push(c(R,S++)),R="",T.push(g.substr(D+1));break}}else A&&(A=!1,T.push(c(R,S++)),R="");R+=se}return T},"highlightCallback"),l=o(function(v){return v._indexes.slice(0,v._indexes.len).sort(function(c,g){return c-g})},"indexes"),i=o(function(v){typeof v!="string"&&(v="");var c=k(v);return{target:v,_targetLower:c._lower,_targetLowerCodes:c.lowerCodes,_nextBeginningIndexes:P,_bitflags:c.bitflags,score:P,_indexes:[0],obj:P}},"prepare"),s=o(function(v){typeof v!="string"&&(v=""),v=v.trim();var c=k(v),g=[];if(c.containsSpace){var h=v.split(/\s+/);h=[...new Set(h)];for(var _=0;_<h.length;_++)if(h[_]!==""){var R=k(h[_]);g.push({lowerCodes:R.lowerCodes,_lower:h[_].toLowerCase(),containsSpace:!1})}}return{lowerCodes:c.lowerCodes,bitflags:c.bitflags,containsSpace:c.containsSpace,_lower:c._lower,spaceSearches:g}},"prepareSearch"),d=o(function(v){if(v.length>999)return i(v);var c=Qn.get(v);return c!==void 0||(c=i(v),Qn.set(v,c)),c},"getPrepared"),b=o(function(v){if(v.length>999)return s(v);var c=eo.get(v);return c!==void 0||(c=s(v),eo.set(v,c)),c},"getPreparedSearch"),I=o(function(v,c,g){var h=[];h.total=c.length;var _=g&&g.limit||to;if(g&&g.key)for(var R=0;R<c.length;R++){var S=c[R],p=en(S,g.key);if(p){Bt(p)||(p=d(p)),p.score=Mt,p._indexes.len=0;var A=p;if(A={target:A.target,_targetLower:"",_targetLowerCodes:P,_nextBeginningIndexes:P,_bitflags:0,score:p.score,_indexes:P,obj:S},h.push(A),h.length>=_)return h}}else if(g&&g.keys)for(var R=0;R<c.length;R++){for(var S=c[R],T=new Array(g.keys.length),D=g.keys.length-1;D>=0;--D){var p=en(S,g.keys[D]);if(!p){T[D]=P;continue}Bt(p)||(p=d(p)),p.score=Mt,p._indexes.len=0,T[D]=p}if(T.obj=S,T.score=Mt,h.push(T),h.length>=_)return h}else for(var R=0;R<c.length;R++){var p=c[R];if(p&&(Bt(p)||(p=d(p)),p.score=Mt,p._indexes.len=0,h.push(p),h.length>=_))return h}return h},"all"),w=o(function(v,c,g=!1){if(g===!1&&v.containsSpace)return N(v,c);for(var h=v._lower,_=v.lowerCodes,R=_[0],S=c._targetLowerCodes,p=_.length,A=S.length,B=0,T=0,D=0;;){var se=R===S[T];if(se){if(Pt[D++]=T,++B,B===p)break;R=_[B]}if(++T,T>=A)return P}var B=0,pe=!1,G=0,j=c._nextBeginningIndexes;j===P&&(j=c._nextBeginningIndexes=er(c.target));var ei=T=Pt[0]===0?0:j[Pt[0]-1],hr=0;if(T!==A)for(;;)if(T>=A){if(B<=0||(++hr,hr>200))break;--B;var tn=Qr[--G];T=j[tn]}else{var se=_[B]===S[T];if(se){if(Qr[G++]=T,++B,B===p){pe=!0;break}++T}else T=j[T]}var fe=c._targetLower.indexOf(h,Pt[0]),He=~fe;if(He&&!pe)for(var V=0;V<D;++V)Pt[V]=fe+V;var tr=!1;He&&(tr=c._nextBeginningIndexes[fe-1]===fe);{if(pe)var ke=Qr,no=G;else var ke=Pt,no=D;for(var et=0,ti=0,V=1;V<p;++V)ke[V]-ke[V-1]!==1&&(et-=ke[V],++ti);var Vs=ke[p-1]-ke[0]-(p-1);if(et-=(12+Vs)*ti,ke[0]!==0&&(et-=ke[0]*ke[0]*.2),!pe)et*=1e3;else{for(var oo=1,V=j[0];V<A;V=j[V])++oo;oo>24&&(et*=(oo-24)*10)}He&&(et/=1+p*p*1),tr&&(et/=1+p*p*1),et-=A-p,c.score=et;for(var V=0;V<no;++V)c._indexes[V]=ke[V];return c._indexes.len=no,c}},"algorithm"),N=o(function(v,c){for(var g=new Set,h=0,_=P,R=0,S=v.spaceSearches,D=0;D<S.length;++D){var p=S[D];if(_=w(p,c),_===P)return P;h+=_.score,_._indexes[0]<R&&(h-=R-_._indexes[0]),R=_._indexes[0];for(var A=0;A<_._indexes.len;++A)g.add(_._indexes[A])}var T=w(v,c,!0);if(T!==P&&T.score>h)return T;_.score=h;var D=0;for(var se of g)_._indexes[D++]=se;return _._indexes.len=D,_},"algorithmSpaces"),k=o(function(v){for(var c=v.length,g=v.toLowerCase(),h=[],_=0,R=!1,S=0;S<c;++S){var p=h[S]=g.charCodeAt(S);if(p===32){R=!0;continue}var A=p>=97&&p<=122?p-97:p>=48&&p<=57?26:p<=127?30:31;_|=1<<A}return{lowerCodes:h,bitflags:_,containsSpace:R,_lower:g}},"prepareLowerInfo"),Ce=o(function(v){for(var c=v.length,g=[],h=0,_=!1,R=!1,S=0;S<c;++S){var p=v.charCodeAt(S),A=p>=65&&p<=90,T=A||p>=97&&p<=122||p>=48&&p<=57,D=A&&!_||!R||!T;_=A,R=T,D&&(g[h++]=S)}return g},"prepareBeginningIndexes"),er=o(function(v){for(var c=v.length,g=Ce(v),h=[],_=g[0],R=0,S=0;S<c;++S)_>S?h[S]=_:(_=g[++R],h[S]=_===void 0?c:_);return h},"prepareNextBeginningIndexes"),gr=o(function(){Qn.clear(),eo.clear(),Pt=[],Qr=[]},"cleanup"),Qn=new Map,eo=new Map,Pt=[],Qr=[],ks=o(function(v){for(var c=Mt,g=v.length,h=0;h<g;++h){var _=v[h];if(_!==P){var R=_.score;R>c&&(c=R)}}return c===Mt?P:c},"defaultScoreFn"),en=o(function(v,c){var g=v[c];if(g!==void 0)return g;var h=c;Array.isArray(c)||(h=c.split("."));for(var _=h.length,R=-1;v&&++R<_;)v=v[h[R]];return v},"getValue"),Bt=o(function(v){return typeof v=="object"},"isObj"),to=1/0,Mt=-to,ro=[];ro.total=0;var P=null,Gs=o(function(v){var c=[],g=0,h={},_=o(function(R){for(var S=0,p=c[S],A=1;A<g;){var T=A+1;S=A,T<g&&c[T].score<c[A].score&&(S=T),c[S-1>>1]=c[S],A=1+(S<<1)}for(var D=S-1>>1;S>0&&p.score<c[D].score;D=(S=D)-1>>1)c[S]=c[D];c[S]=p},"v");return h.add=function(R){var S=g;c[g++]=R;for(var p=S-1>>1;S>0&&R.score<c[p].score;p=(S=p)-1>>1)c[S]=c[p];c[S]=R},h.poll=function(R){if(g!==0){var S=c[0];return c[0]=c[--g],_(),S}},h.peek=function(R){if(g!==0)return c[0]},h.replaceTop=function(R){c[0]=R,_()},h},"fastpriorityqueue"),Ue=Gs();return{single:t,go:r,highlight:n,prepare:i,indexes:l,cleanup:gr}})});function xd(e,t){return t?Xl.default.go(t,e,{keys:["id","manifest.name","manifest.description","manifest.authors.0.name","manifest.authors.1.name"]}).map(function(r){return r.obj}):e}function zr({floatingButtonText:e,fetchFunction:t,items:r,safeModeMessage:n,safeModeExtras:a,card:l}){var i;F(y),F(r);var s=Cd.useSharedValue(0),d=React.useRef(0),[b,I]=React.useState("");return React.createElement(te,null,React.createElement(Gn.FlatList,{ListHeaderComponent:React.createElement(React.Fragment,null,((i=y.safeMode)===null||i===void 0?void 0:i.enabled)&&React.createElement(Gn.View,{style:{marginBottom:10}},React.createElement(ma,{messageType:0},n),a),React.createElement(ft,{style:{marginBottom:15},onChangeText:function(w){return I(w.toLowerCase())},placeholder:u.SEARCH})),onScroll:function(w){w.nativeEvent.contentOffset.y<=0||(s.value=+(w.nativeEvent.contentOffset.y>d.current),d.current=w.nativeEvent.contentOffset.y)},style:{paddingHorizontal:10,paddingTop:10},contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},data:xd(Object.values(r),b),renderItem:function({item:w,index:N}){return React.createElement(l,{item:w,index:N})}}),React.createElement(wd,{text:e,icon:E("DownloadIcon"),state:{collapseText:s},onPress:function(){me.getString().then(function(w){var N;return Gr({title:e,initialValue:((N=w.match(Rr))===null||N===void 0?void 0:N[0])??"",placeholder:u.URL_PLACEHOLDER,onConfirm:function(k){return t(k)},confirmText:u.INSTALL,cancelText:u.CANCEL})})}}))}var Xl,Gn,Cd,wd,Ba=f(()=>{"use strict";q();ee();ae();K();le();Xt();Ht();M();Qt();Xe();Xl=W(Kl()),Gn=W(Z());o(xd,"getItemsByQuery");Cd=m("useSharedValue"),{FloatingActionButton:wd}=m("FloatingActionButton");o(zr,"AddonPage")});function Wr(e){var t,r=Nd();return React.createElement(Le.View,{style:[r.card,{marginTop:e.index!==0?15:0}]},React.createElement(mr.ImageBackground,{source:e.headerIcon&&E(e.headerIcon)||{},resizeMode:"cover",imageStyle:r.iconStyle},React.createElement(Ae,{style:r.header,label:React.createElement(mr.View,{style:r.headerLeading},React.createElement(Le.Text,{style:r.headerLabel},e.headerLabel),e.headerSublabel&&React.createElement(Le.Text,{style:r.headerSubtitle},e.headerSublabel)),trailing:React.createElement(mr.View,{style:r.headerTrailing},React.createElement(mr.View,{style:r.actions},e.overflowActions&&React.createElement(An,{onPress:function(){var n;return Dd({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&React.createElement(Ae.Icon,{style:{marginRight:8},source:E(e.headerIcon)}),onClose:function(){return Id()}},options:(n=e.overflowActions)===null||n===void 0?void 0:n.map(function(a){return{...a,icon:E(a.icon)}})})},size:"sm",variant:"secondary",icon:E("CircleInformationIcon")}),(t=e.actions)===null||t===void 0?void 0:t.map(function({icon:n,onPress:a,disabled:l}){return React.createElement(An,{onPress:a,disabled:l,size:"sm",variant:"secondary",icon:E(n)})})),e.toggleType&&(e.toggleType==="switch"?React.createElement(sa,{value:e.toggleValue,onValueChange:e.onToggleChange}):React.createElement(Le.Pressable,{onPress:function(){var n;(n=e.onToggleChange)===null||n===void 0||n.call(e,!e.toggleValue)}},React.createElement(ua,{checked:e.toggleValue}))))}),React.createElement(Ae,{label:React.createElement(Le.View,null,React.createElement(Le.Text,{style:r.descriptionLabel},e.descriptionLabel))})))}var mr,Id,Dd,Nd,Ma=f(()=>{"use strict";ee();be();xe();Ot();M();K();Lt();mr=W(Z()),{hideActionSheet:Id}=m("openLazy","hideActionSheet"),{showSimpleActionSheet:Dd}=m("showSimpleActionSheet"),Nd=Jt({card:{backgroundColor:J===null||J===void 0?void 0:J.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...Ke["heading-md/semibold"],color:J.TEXT_NORMAL},headerSubtitle:{...Ke["text-md/semibold"],color:J.TEXT_MUTED},descriptionLabel:{...Ke["text-md/semibold"],color:J.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:J.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}});o(Wr,"Card")});async function Jl(e,t){e.enabled&&It(e.id,!1),t(),e.enabled&&await wt(e.id)}function Fa({item:e,index:t}){var r,n;F(e);var a=Br(e.id),l=_e.useNavigation(),[i,s]=React.useState(!1);return i?null:React.createElement(Wr,{index:t,headerLabel:`${e.manifest.name}`,headerSublabel:((r=e.manifest.authors)===null||r===void 0?void 0:r[0])&&`by ${e.manifest.authors.map(function(d){return d.name}).join(", ")}`,headerIcon:(n=e.manifest.vendetta)===null||n===void 0?void 0:n.icon,toggleType:"switch",toggleValue:e.enabled,onToggleChange:function(d){try{d?wt(e.id):It(e.id)}catch(b){L(b.message,E("Small"))}},descriptionLabel:e.manifest.description,overflowTitle:e.manifest.name,actions:[{icon:"WrenchIcon",disabled:!a,onPress:function(){return l.push("VendettaCustomPage",{title:e.manifest.name,render:a})}}],overflowActions:[...a?[{label:u.OVERFLOW_PLUGIN_SETTINGS,icon:"settings",onPress:function(){return l.push("VendettaCustomPage",{title:e.manifest.name,render:a})}}]:[],{icon:"ic_sync_24px",label:u.REFETCH,onPress:async function(){Jl(e,function(){Ct(e.id).then(async function(){L(u.PLUGIN_REFETCH_SUCCESSFUL,E("toast_image_saved"))}).catch(function(){L(u.PLUGIN_REFETCH_FAILED,E("Small"))})})}},{icon:"copy",label:u.COPY_URL,onPress:function(){me.setString(e.id),L.showCopyToClipboard()}},{icon:"ic_download_24px",label:e.update?u.DISABLE_UPDATES:u.ENABLE_UPDATES,onPress:function(){e.update=!e.update,L(Te("TOASTS_PLUGIN_UPDATE",{update:e.update,name:e.manifest.name}),E("toast_image_saved"))}},{icon:"ic_duplicate",label:u.CLEAR_DATA,isDestructive:!0,onPress:function(){return Ze({title:u.HOLD_UP,content:Te("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.manifest.name}),confirmText:u.CLEAR,cancelText:u.CANCEL,confirmColor:de.RED,onConfirm:function(){Jl(e,function(){try{nr(e.id),L(Te("CLEAR_DATA_SUCCESSFUL",{name:e.manifest.name}),E("trash"))}catch{L(Te("CLEAR_DATA_FAILED",{name:e.manifest.name}),E("Small"))}})}})}},{icon:"ic_message_delete",label:u.DELETE,isDestructive:!0,onPress:function(){return Ze({title:u.HOLD_UP,content:Te("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.manifest.name}),confirmText:u.DELETE,cancelText:u.CANCEL,confirmColor:de.RED,onConfirm:function(){try{zt(e.id),s(!0)}catch(d){L(d.message,E("Small"))}}})}}]})}var Zl=f(()=>{"use strict";q();Ma();ee();ae();ut();ar();M();Qt();Je();o(Jl,"stopThenStart");o(Fa,"PluginCard")});var Ql={};C(Ql,{default:()=>ql});function ql(){return F(y),React.createElement(zr,{title:u.PLUGINS,floatingButtonText:u.INSTALL_PLUGIN,fetchFunction:st,items:z,safeModeMessage:u.SAFE_MODE_NOTICE_PLUGINS,card:Fa})}var es=f(()=>{"use strict";q();Ba();Zl();ae();ut();le();o(ql,"Plugins")});function ts(e,t){try{ot(e?t:null),xr(e?t:null)}catch(r){console.error("Error while selectAndApply,",r)}}function Ua({item:e,index:t}){var r;F(e);var[n,a]=React.useState(!1);if(n)return null;var{authors:l}=e.data;return React.createElement(Wr,{index:t,headerLabel:e.data.name,headerSublabel:l?`by ${l.map(function(i){return i.name}).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:!((r=y.safeMode)===null||r===void 0)&&r.enabled?void 0:"radio",toggleValue:e.selected,onToggleChange:function(i){ts(i,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:u.REFETCH,onPress:function(){Vt(e.id,e.selected).then(function(){L(u.THEME_REFETCH_SUCCESSFUL,E("toast_image_saved"))}).catch(function(){L(u.THEME_REFETCH_FAILED,E("Small"))})}},{icon:"copy",label:u.COPY_URL,onPress:function(){me.setString(e.id),L.showCopyToClipboard()}},{icon:"ic_message_delete",label:u.DELETE,isDestructive:!0,onPress:function(){return Ze({title:u.HOLD_UP,content:Te("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:u.DELETE,cancelText:u.CANCEL,confirmColor:de.RED,onConfirm:function(){jt(e.id).then(function(i){a(!0),i&&ts(!1,e)}).catch(function(i){L(i.message,E("Small"))})}})}}]})}var rs=f(()=>{"use strict";q();Ma();ee();ae();Pe();le();ar();M();Qt();Je();o(ts,"selectAndApply");o(Ua,"ThemeCard")});var os={};C(os,{default:()=>ns});function ns(){var e,t;return F(y),F(Y),React.createElement(zr,{title:u.THEMES,floatingButtonText:u.INSTALL_THEME,fetchFunction:nt,items:Y,safeModeMessage:Te("SAFE_MODE_NOTICE_THEMES",{enabled:!!(!((e=y.safeMode)===null||e===void 0)&&e.currentThemeId)}),safeModeExtras:!((t=y.safeMode)===null||t===void 0)&&t.currentThemeId?React.createElement(We,{text:u.DISABLE_THEME,color:de.BRAND,size:"small",onPress:function(){var r;(r=y.safeMode)===null||r===void 0||delete r.currentThemeId},style:{marginTop:8}}):void 0,card:Ua})}var as=f(()=>{"use strict";q();Ba();rs();ae();Pe();le();ar();Xt();o(ns,"Themes")});var Kr={};C(Kr,{downloadFile:()=>Od,fileExists:()=>ka,readFile:()=>Ld,removeFile:()=>Ha,writeFile:()=>Vn});async function Ha(e,t="pyoncord/"){if(typeof O.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void await O.removeFile("documents",`${t}${e}`)}async function ka(e,t="pyoncord/"){return await O.fileExists(`${O.getConstants().DocumentsDirPath}/${t}${e}`)}async function Vn(e,t,r="pyoncord/"){if(typeof t!="string")throw new Error("Argument 'data' must be a string");return void await O.writeFile("documents",`${r}${e}`,t,"utf8")}async function Ld(e,t,r="pyoncord/"){try{return await O.readFile(`${O.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch{if(t==null)throw new Error(`Errored while reading ${e} doesn't exist`);return await Vn(e,t),t}}async function Od(e,t,r="pyoncord/"){var n=await fetch(e).then(function(s){return s.blob()}),a=await new Promise(function(s){var d=new FileReader;d.onload=function(){return s(d.result)},d.readAsDataURL(n)}),l;if(a==null)throw new Error("Failed to convert blob to data URL");var i=a.indexOf("base64,");if(i===-1)throw new Error("dataURL does not contain base64");return l=a.slice(i+7),void await O.writeFile("documents",`${r}${t}`,l,"base64")}var jn=f(()=>{"use strict";tt();o(Ha,"removeFile");o(ka,"fileExists");o(Vn,"writeFile");o(Ld,"readFile");o(Od,"downloadFile")});function is(e,t){var[r,n]=(0,vr.useState)(2),a=o(function(){return ka(e,t).then(function(i){return n(i?1:0)}).catch(function(){return n(3)})},"check"),l=(0,vr.useMemo)(function(){return new Proxy(Kr,{get(i,s,d){var b=Reflect.get(i,s,d);if(typeof b=="function")return function(...I){var w,N=(a(),b(...I));return(N==null||(w=N.constructor)===null||w===void 0?void 0:w.name)==="Promise"&&(n(2),N.finally(a)),N}}})},[]);return(0,vr.useEffect)(function(){return void a()},[]),[r,l]}var vr,Qe,ls=f(()=>{"use strict";jn();vr=W(ia());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Qe||(Qe={}));o(is,"useFileExists")});function Ga({asset:e}){return React.createElement(Ae,{label:`${e.name} - ${e.id}`,trailing:React.createElement(ss.Image,{source:e.id,style:{width:32,height:32}}),onPress:function(){me.setString(e.name),L.showCopyToClipboard()}})}var ss,us=f(()=>{"use strict";be();M();Je();ss=W(Z());o(Ga,"AssetDisplay")});function Va(){var[e,t]=React.useState("");return React.createElement(te,null,React.createElement($n.View,{style:{flex:1}},React.createElement(ft,{style:{margin:10},onChangeText:function(r){return t(r)}}),React.createElement($n.FlatList,{data:Object.values(Me).filter(function(r){return r.name.includes(e)||r.id.toString()===e}),renderItem:function({item:r}){return React.createElement(Ga,{asset:r})},ItemSeparatorComponent:ra,keyExtractor:function(r){return r.name}})))}var $n,cs=f(()=>{"use strict";us();ee();be();Xe();$n=W(Z());o(Va,"AssetBrowser")});var ds={};C(ds,{default:()=>fs});function fs(){var[e,t]=is("preloads/reactDevtools.js"),r=Fd(),n=_e.useNavigation();return F(y),F(ye),React.createElement(te,null,React.createElement(Yn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(Kt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(cr,{label:u.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return React.createElement(Wt,{style:r.leadingText},"ws://")},defaultValue:y.debuggerUrl,onChange:function(a){return y.debuggerUrl=a}}),React.createElement(ve,{title:u.DEBUG},React.createElement(x,{label:u.CONNECT_TO_DEBUG_WEBSOCKET,icon:React.createElement(x.Icon,{source:E("copy")}),onPress:function(){return Yr(y.debuggerUrl)}}),sr()&&React.createElement(React.Fragment,null,React.createElement(x,{label:u.CONNECT_TO_REACT_DEVTOOLS,icon:React.createElement(x.Icon,{source:E("ic_badge_staff")}),onPress:function(){var a,l;return(l=window[Go()||"__vendetta_rdc"])===null||l===void 0?void 0:l.connectToDevTools({host:(a=y.debuggerUrl.split(":"))===null||a===void 0?void 0:a[0],resolveRNStyle:Yn.StyleSheet.flatten})}}))),vn()&&React.createElement(React.Fragment,null,React.createElement(ve,{title:"Loader config"},React.createElement(Dt,{label:u.LOAD_FROM_CUSTOM_URL,subLabel:u.LOAD_FROM_CUSTOM_URL_DEC,icon:React.createElement(x.Icon,{source:E("copy")}),value:ye.customLoadUrl.enabled,onValueChange:function(a){ye.customLoadUrl.enabled=a}}),ye.customLoadUrl.enabled&&React.createElement(x,{label:React.createElement(cr,{defaultValue:ye.customLoadUrl.url,size:"md",onChange:function(a){return ye.customLoadUrl.url=a},placeholder:"http://localhost:4040/vendetta.js",label:u.BUNNY_URL})}),sr()&&ie()&&React.createElement(Dt,{label:u.LOAD_REACT_DEVTOOLS,subLabel:`${u.VERSION}: ${Vo()}`,icon:React.createElement(x.Icon,{source:E("ic_badge_staff")}),value:ye.loadReactDevTools,onValueChange:function(a){ye.loadReactDevTools=a}}))),React.createElement(ve,{title:"Other"},React.createElement(x,{arrow:!0,label:u.ASSET_BROWSER,icon:React.createElement(x.Icon,{source:E("ic_image")}),trailing:x.Arrow,onPress:function(){return n.push("VendettaCustomPage",{title:u.ASSET_BROWSER,render:Va})}}),React.createElement(x,{arrow:!0,label:u.ERROR_BOUNDARY_TOOLS_LABEL,icon:React.createElement(x.Icon,{source:E("ic_warning_24px")}),onPress:function(){return Bd({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:React.createElement(x.Icon,{style:{marginRight:8},source:E("ic_warning_24px")}),onClose:function(){return Pd()}},options:[{label:u.BUNNY,onPress:function(){return n.push("VendettaCustomPage",{render:function(){return React.createElement("undefined",null)}})}},{label:"Discord",isDestructive:!0,onPress:function(){return n.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}}),React.createElement(x,{label:u.INSTALL_REACT_DEVTOOLS,subLabel:u.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:React.createElement(x.Icon,{source:E("DownloadIcon")}),trailing:React.createElement(Mr,{size:"sm",loading:e===Qe.LOADING,disabled:e===Qe.LOADING,variant:e===Qe.TRUE?"secondary":"primary",text:e===Qe.TRUE?u.UNINSTALL:u.INSTALL,onPress:async function(){e===Qe.FALSE?t.downloadFile(Md,"preloads/reactDevtools.js"):e===Qe.TRUE&&t.removeFile("preloads/reactDevtools.js")},icon:E(e===Qe.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),React.createElement(Dt,{label:u.ENABLE_EVAL_COMMAND,subLabel:u.ENABLE_EVAL_COMMAND_DESC,icon:React.createElement(x.Icon,{source:E("PencilIcon")}),value:y.enableEvalCommand,onValueChange:function(a){y.enableEvalCommand=a}})))))}var Yn,Pd,Bd,Md,Fd,ms=f(()=>{"use strict";q();ls();cs();ee();Be();ae();mt();le();be();xe();M();K();Lt();Xe();Ot();Yn=W(Z()),{hideActionSheet:Pd}=m("openLazy","hideActionSheet"),{showSimpleActionSheet:Bd}=m("showSimpleActionSheet"),Md="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",Fd=Jt({leadingText:{...Ke["heading-md/semibold"],color:J.TEXT_MUTED,marginRight:-4}});o(fs,"Developer")});function ja(){Pn({name:"Bunny",items:[{key:"BUNNY",title:function(){return u.BUNNY},icon:{uri:Oa},render:function(){return Promise.resolve().then(()=>(zl(),Yl))},rawTabsConfig:{useTrailing:function(){return"(ca703ad)"}}},{key:"BUNNY_PLUGINS",title:function(){return u.PLUGINS},icon:E("ActivitiesIcon"),render:function(){return Promise.resolve().then(()=>(es(),Ql))}},{key:"BUNNY_THEMES",title:function(){return u.THEMES},icon:E("PaintPaletteIcon"),render:function(){return Promise.resolve().then(()=>(as(),os))},usePredicate:function(){return Re()}},{key:"BUNNY_DEVELOPER",title:function(){return u.DEVELOPER},icon:E("WrenchIcon"),render:function(){return Promise.resolve().then(()=>(ms(),ds))},usePredicate:function(){return F(y).developerSettings??!1}}]}),Pn({name:"Vendetta",items:[]})}var Oa,Pa=f(()=>{"use strict";q();ee();Be();ae();le();dr();kl();Oa=Gl;o(ja,"initSettings")});var zn,vt,pr,Xr=f(()=>{"use strict";(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(zn||(zn={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(vt||(vt={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(pr||(pr={}))});var gs={};C(gs,{default:()=>ps});function vs(e){return"```js\n"+e.replaceAll("`","`"+kd)+"\n```"}function ps(){return{name:"eval",description:u.COMMAND_EVAL_DESC,shouldHide:function(){return y.enableEvalCommand===!0},options:[{name:"code",type:vt.STRING,description:u.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:vt.BOOLEAN,description:u.COMMAND_EVAL_OPT_ASYNC}],async execute([e,t],r){try{var n,a=Ud.inspect(t?.value?await Hd(e.value)():(n=eval)===null||n===void 0?void 0:n(e.value)),l=a.length>2e3?a.slice(0,2e3)+"...":a;Ee.sendBotMessage(r.channel.id,vs(l))}catch(i){Ee.sendBotMessage(r.channel.id,vs(i?.stack??i))}}}}var Ud,Hd,kd,hs=f(()=>{"use strict";q();Xr();le();M();K();Ud=m("inspect"),Hd=async function(){}.constructor,kd="\u200B";o(vs,"wrapInJSCodeblock");o(ps,"default")});var _s={};C(_s,{default:()=>Es});function Es(){return{name:"debug",description:u.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:vt.BOOLEAN,description:u.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=dt(),n=["**Bunny Debug Info**",`> Bunny: ${r.bunny.version} (${r.bunny.loader.name} ${r.bunny.loader.version})`,`> Discord: ${r.discord.version} (${r.discord.build})`,`> React: ${r.react.version} (RN ${r.react.nativeVersion})`,`> Hermes: ${r.hermes.version} (bcv${r.hermes.bytecodeVersion})`,`> System: ${r.os.name} ${r.os.version} ${r.os.sdk?`(SDK ${r.os.sdk})`:""}`.trimEnd(),`> Device: ${r.device.model} (${r.device.codename})`].join(`
`);e?.value?Ee.sendBotMessage(t.channel.id,n):Ee.sendMessage(t.channel.id,{content:n})}}}var Ss=f(()=>{"use strict";q();Xr();mt();M();o(Es,"default")});var ys={};C(ys,{default:()=>Rs});function Rs(){return{name:"plugins",description:u.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:vt.BOOLEAN,description:u.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=Object.values(z).sort(function(i,s){return i.manifest.name.localeCompare(s.manifest.name)}),n=r.filter(function(i){return i.enabled}).map(function(i){return i.manifest.name}),a=r.filter(function(i){return!i.enabled}).map(function(i){return i.manifest.name}),l=[`**Installed Plugins (${r.length}):**`,...n.length>0?[`Enabled (${n.length}):`,"> "+n.join(", ")]:[],...a.length>0?[`Disabled (${a.length}):`,"> "+a.join(", ")]:[]].join(`
`);e?.value?Ee.sendBotMessage(t.channel.id,l):Ee.sendMessage(t.channel.id,{content:l})}}}var Ts=f(()=>{"use strict";q();Xr();ut();M();o(Rs,"default")});var Kn={};C(Kn,{patchCommands:()=>$a,registerCommand:()=>Wn});function $a(){var e=U("getBuiltInCommands",ir,function([t],r){if(t===pr.CHAT)return r.concat(Jr.filter(function(n){var a,l;return((l=n.__bunny)===null||l===void 0||(a=l.shouldHide)===null||a===void 0?void 0:a.call(l))!==!1}))});return[(hs(),gt(gs)),(Ss(),gt(_s)),(Ts(),gt(ys))].forEach(function(t){return Wn(t.default())}),function(){Jr=[],e()}}function Wn(e){var t=ir.getBuiltInCommands(pr.CHAT,!0,!1);t.sort(function(a,l){return parseInt(l.id)-parseInt(a.id)});var r=t[t.length-1];if(e.id=(parseInt(r.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=pr.CHAT,e.inputType=zn.BUILT_IN,e.displayName??=e.name,e.displayDescription??=e.description,e.options)for(var n of e.options)n.displayName??=n.name,n.displayDescription??=n.description;return oe("execute",e,function(a,l){Promise.resolve(l.apply(e,a)).then(function(i){i&&typeof i=="object"&&Ee.sendMessage(a[1].channel.id,i)}).catch(function(i){ue.error("Failed to execute command",i)})}),Jr.push(e),function(){return Jr=Jr.filter(function({id:a}){return a!==e.id})}}var Jr,Xn=f(()=>{"use strict";Xr();ge();kt();M();Jr=[];o($a,"patchCommands");o(Wn,"registerCommand")});var As,bs=f(()=>{"use strict";ee();Xn();Be();ge();ae();mt();ut();Pe();le();be();xe();Ot();St();M();K();Qt();Lt();Xe();Je();As=o(function(){var e=window.vendetta={patcher:{before:Ft.before,after:Ft.after,instead:Ft.instead},metro:{modules:window.modules,find:function(t){return re(t)},findAll:function(t){return lt(t)},findByProps:function(...t){return t.length===1&&t[0]==="KeyboardAwareScrollView"&&t.push("listenToKeyboardEvents"),m(...t)},findByPropsAll:function(...t){return Dr(...t)},findByName:function(t,r){return t==="create"&&typeof r>"u"?X("create",!1).default:X(t,r??!0)},findByNameAll:function(t,r=!0){return Nr(t,r)},findByDisplayName:function(t,r=!0){return $t(t,r)},findByDisplayNameAll:function(t,r=!0){return Lr(t,r)},findByTypeName:function(t,r=!0){return Or(t,r)},findByTypeNameAll:function(t,r=!0){return Pr(t,r)},findByStoreName:function(t){return at(t)},common:{constants:he,channels:Tr,i18n:yt,url:Tt,toasts:Ar,stylesheet:{...ct,createThemedStyleSheet:Zt},clipboard:me,assets:Gt,invites:Co,commands:ir,navigation:wo,navigationStack:Io,NavigationNative:_e,Flux:Do,FluxDispatcher:Ne,React:Se,ReactNative:Le,moment:br,chroma:Ye,lodash:No,util:Lo}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(t,r){return De(t,r)},findInTree:function(t,r,n){return or(t,r,n)},safeFetch:function(t,r,n){return Rt(t,r,n)},unfreeze:function(t){return Object.isFrozen(t)?{...t}:t},without:function(t,...r){return un(t,...r)}},debug:{connectToDebugger:function(t){return Yr(t)},getDebugInfo:function(){return dt()}},ui:{components:{Forms:yn,General:Le,Alert:Nt.Alert,Button:Nt.Button,HelpMessage:Nt.HelpMessage,SafeAreaView:Nt.SafeAreaView,Summary:Hr,ErrorBoundary:te,Codeblock:Fe,Search:ft},toasts:{showToast:function(t,r){return L(t,r)}},alerts:{showConfirmationAlert:function(t){return Ze(t)},showCustomAlert:function(t,r){return Dn(t,r)},showInputAlert:function(t){return Gr(t)}},assets:{all:Me,find:function(t){return qo(t)},getAssetByName:function(t){return Qo(t)},getAssetByID:function(t){return ea(t)},getAssetIDByName:function(t){return E(t)}},semanticColors:J,rawColors:ha},plugins:{plugins:z,fetchPlugin:function(t){return Ct(t)},installPlugin:function(t,r){return st(t,r)},startPlugin:function(t){return wt(t)},stopPlugin:function(t,r){return It(t,r)},removePlugin:function(t){return zt(t)},getSettings:function(t){return Br(t)}},themes:{themes:Y,fetchTheme:function(t,r){return Vt(t,r)},installTheme:function(t){return nt(t)},selectTheme:function(t){return ot(t==="default"?null:Y[t])},removeTheme:function(t){return jt(t)},getCurrentTheme:function(){return bt()},updateThemes:function(){return dn()}},commands:{registerCommand:Wn},storage:{createProxy:function(t){return ln(t)},useProxy:function(t){return F(t)},createStorage:function(t){return Ie(t)},wrapSync:function(t){return $e(t)},awaitSyncWrapper:function(t){return Et(t)},createMMKVBackend:function(t){return we(t)},createFileBackend:function(t){return Q()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),rt(t)}},settings:y,loader:{identity:Ir()??void 0,config:ye},logger:{log:function(...t){return console.log(...t)},info:function(...t){return console.info(...t)},warn:function(...t){return console.warn(...t)},error:function(...t){return console.error(...t)},time:function(...t){return console.time(...t)},trace:function(...t){return console.trace(...t)},verbose:function(...t){return console.log(...t)}},version:jr,unload:function(){delete window.vendetta}};return function(){return e.unload()}},"initVendettaObject")});var za={};C(za,{dispatcher:()=>Jn,injectFluxInterceptor:()=>Ya,intercept:()=>Vd});function Ya(){var e=o(function(t){for(var r of Zn){var n=r(t);n!=null&&(n?typeof n=="object"&&(Object.assign(t,n),t[Gd]=!0):t[xs]=!0)}return xs in t},"cb");return(Jn._interceptors??=[]).unshift(e),function(){return Jn._interceptors&&=Jn._interceptors.filter(function(t){return t!==e})}}function Vd(e){return Zn.push(e),function(){Zn=Zn.filter(function(t){return t!==e})}}var xs,Gd,Jn,Zn,Wa=f(()=>{"use strict";M();xs=Symbol.for("bunny.flux.blocked"),Gd=Symbol.for("bunny.flux.modified"),Jn=Ne,Zn=[];o(Ya,"injectFluxInterceptor");o(Vd,"intercept")});function Ka(){return U("render",jd.prototype,function(e,t){var r=this,n;if(this.state.error){this.state.activeTab??="message";var a=Cs.find(function(s){return s.id===r.state.activeTab}),l=this.state.error[this.state.activeTab],i=[{text:u.RELOAD_DISCORD,onPress:this.handleReload},...!((n=y.safeMode)===null||n===void 0)&&n.enabled?[]:[{text:u.RELOAD_IN_SAFE_MODE,onPress:$r}],{text:u.RETRY_RENDER,color:de.RED,onPress:function(){return r.setState({info:null,error:null})}}];return React.createElement(te,null,React.createElement(va,{style:Zr.container},React.createElement(pt.View,{style:Zr.header},React.createElement(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),React.createElement(pt.View,{style:{flex:2,paddingLeft:24}},React.createElement(pt.Text,{style:Zr.headerTitle},t.props.title),React.createElement(pt.Text,{style:Zr.headerDescription},t.props.body))),React.createElement(pt.View,{style:{flex:6}},React.createElement(pt.View,{style:{paddingBottom:8}},React.createElement($d,{tabs:Cs.map(function(s){return{...s,title:s.title()}}),activeTab:this.state.activeTab,onTabSelected:function(s){r.setState({activeTab:s})}})),React.createElement(Fe,{selectable:!0,style:{flex:1,textAlignVertical:"top"}},a?.trimWhitespace?l.split(`
`).filter(function(s){return s.length!==0}).map(function(s){return s.trim()}).join(`
`):l)),React.createElement(pt.View,{style:Zr.footer},i.map(function(s){var d=i.indexOf(s)!==0?8:0;return React.createElement(We,{text:s.text,color:s.color??de.BRAND,size:s.size??"small",onPress:s.onPress,style:je.isTablet?{flex:`0.${i.length}`,marginLeft:d}:{marginTop:d}})}))))}})}var pt,jd,$d,Zr,Cs,ws=f(()=>{"use strict";q();tt();ge();mt();le();ar();K();Lt();Xe();Xt();Ot();pt=W(Z()),jd=X("ErrorBoundary"),{BadgableTabBar:$d}=m("BadgableTabBar"),Zr=Zt({container:{flex:1,backgroundColor:J.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...Ke["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:J.HEADER_PRIMARY},headerDescription:{...Ke["text-sm/medium"],textAlign:"center",color:J.TEXT_MUTED},footer:{flexDirection:je.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),Cs=[{id:"message",title:function(){return u.MESSAGE}},{id:"stack",title:function(){return u.STACK_TRACE}},{id:"componentStack",title:function(){return u.COMPONENT},trimWhitespace:!0}];o(Ka,"default")});var Is=f(()=>{"use strict"});var Xa={};C(Xa,{fs:()=>Kr,loader:()=>Yo,modules:()=>on});var Ds=f(()=>{"use strict";jn();Be();tt()});var Ja={};C(Ja,{assets:()=>Sn,commands:()=>Kn,flux:()=>za,native:()=>Xa,patcher:()=>co,storage:()=>sn});var Ns=f(()=>{"use strict";ee();Xn();Wa();Ds();ge();ae()});var Za={};C(Za,{plugins:()=>Rn,themes:()=>Cr});var Ls=f(()=>{"use strict";ut();Pe()});var qa={};C(qa,{alerts:()=>Nn,color:()=>bn,components:()=>wn,settings:()=>Da,styles:()=>Sa,toasts:()=>In});var Os=f(()=>{"use strict";Qt();Lt();Xe();dr();Ot();Je()});var Qa={};C(Qa,{api:()=>Ja,debug:()=>Mn,managers:()=>Za,metro:()=>zo,settings:()=>pn,ui:()=>qa,unload:()=>qr,utils:()=>cn});function qr(){for(var e of Ps)typeof e=="function"&&e();delete window.bunny}var Ps,Bs=f(()=>{"use strict";Is();Ns();mt();Ls();xt();le();Os();St();Ps=new Array;o(qr,"unload");qr.push=function(e){Ps.push(e)}});var Fs={};C(Fs,{default:()=>Ms});async function Ms(){if(Re())try{Q()&&(O.removeFile!=null?Ha("vendetta_theme.json",""):Vn("vendetta_theme.json","null","")),Uo()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}await Promise.all([Ya(),Ia(),Na(),Zo(),$a(),Fo(),As(),Gi(),ja(),Xo(),Ka(),Pl()]).then(function(e){return e.forEach(function(t){return t&&qr.push(t)})}),window.bunny=Qa,qr.push(await ta()),ue.log("Bunny is ready!")}var Us=f(()=>{"use strict";Fi();q();Bl();Pa();bs();ee();Xn();Wa();jn();Be();tt();mt();ut();Pe();dr();kt();ws();Bs();o(Ms,"default")});rr();globalThis.window=globalThis;var Hs=o(async function(){try{console.log("Hello from Bunny! Pyon!"),Object.freeze=Object.seal=Object,await Promise.resolve().then(()=>(Us(),Fs)).then(function(a){return a.default()})}catch(a){var e,t,{ClientInfoManager:r}=(tt(),gt(on)),n=a instanceof Error?a.stack:void 0;console.log(n??(a==null||(e=a.toString)===null||e===void 0?void 0:e.call(a))??a),alert([`Failed to load Bunny!
`,`Build Number: ${r.Build}`,"Bunny: ca703ad",n||(a==null||(t=a.toString)===null||t===void 0?void 0:t.call(a))].join(`
`))}},"init");if(typeof globalThis.__r<"u")Hs();else{var e=function(t){var r=window.__fbBatchedBridge,n=new Array,a=oe("callFunctionReturnFlushedQueue",r,function(i,s){return i[0]==="AppRegistry"||!r.getCallableModule(i[0])?(n.push(i),r.flushedQueue()):s.apply(r,i)}),l=o(function(){Hs(),a(),t(0),n.forEach(function(i){return r.getCallableModule(i[0])&&r.__callFunction(...i)})},"startDiscord");l()};YS=e,o(e,"onceIndexRequired"),Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return qn},set(t){qn=o(function(n){if(n===0)e(t),qn=t;else return t(n)},"patchedRequire")}},__d:{configurable:!0,get(){if(window.Object&&!window.modules){var t,r;window.modules=(t=(r=window).__c)===null||t===void 0?void 0:t.call(r)}return this.value},set(t){this.value=t}}})}var qn,YS;})();
//# sourceURL=bunny
