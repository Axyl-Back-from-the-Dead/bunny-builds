"use strict";(()=>{var Os=Object.create;var pr=Object.defineProperty;var Bs=Object.getOwnPropertyDescriptor;var Ms=Object.getOwnPropertyNames;var Fs=Object.getPrototypeOf,Us=Object.prototype.hasOwnProperty;var o=(e,t)=>pr(e,"name",{value:t,configurable:!0});var f=(e,t)=>()=>(e&&(t=e(e=0)),t);var to=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t)=>{for(var r in t)pr(e,r,{get:t[r],enumerable:!0})},qa=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(var a=Ms(t),i=0,l=a.length,u;i<l;i++)u=a[i],!Us.call(e,u)&&u!==r&&pr(e,u,{get:(d=>t[d]).bind(null,u),enumerable:!(n=Bs(t,u))||n.enumerable});return e};var W=(e,t,r)=>(r=e!=null?Os(Fs(e)):{},qa(t||!e||!e.__esModule?pr(r,"default",{value:e,enumerable:!0}):r,e)),Bt=e=>qa(pr({},"__esModule",{value:!0}),e);var ro,ke,Zr=f(()=>{ro=["a","b","i"],ke=new Map});function no(e,t,r,n,a){var i,l=(i=ke.get(t))===null||i===void 0?void 0:i[e];if(!l)return a?Reflect.construct(t[e],r,n):t[e].apply(n,r);for(var u of l.b.values()){var d=u.call(n,r);Array.isArray(d)&&(r=d)}var C=[...l.i.values()].reduce(function(w,U){return function(...k){return U.call(n,k,w)}},function(...w){return a?Reflect.construct(l.o,w,n):l.o.apply(n,w)})(...r);for(var I of l.a.values())C=I.call(n,r,C)??C;return C}var Qa=f(()=>{Zr();o(no,"default")});function oo(e,t,r,n){var a=ke.get(e),i=a?.[t];if(!i?.[n].has(r))return!1;if(i[n].delete(r),ro.every(function(u){return i[u].size===0})){var l=Reflect.defineProperty(e,t,{value:i.o,writable:!0,configurable:!0});l||(e[t]=i.o),delete a[t]}return Object.keys(a).length==0&&ke.delete(e),!0}function ei(){var e;for(var[t,r]of ke.entries())for(var n in r)for(var a of ro)for(var i of((e=r[n])===null||e===void 0?void 0:e[a].keys())??[])oo(t,n,i,a)}var ao=f(()=>{Zr();o(oo,"unpatch");o(ei,"unpatchAll")});function gr(e){return function(t,r,n,a=!1){if(typeof r[t]!="function")throw new Error(`${t} is not a function in ${r.constructor.name}`);ke.has(r)||ke.set(r,Object.create(null));var i=ke.get(r);if(!i[t]){var l=r[t];i[t]={o:l,b:new Map,i:new Map,a:new Map};var u=o(function(U,k,xe){var qt=no(t,r,k,U,xe);return a&&w(),qt},"runHook"),d=new Proxy(l,{apply:function(U,k,xe){return u(k,xe,!1)},construct:function(U,k){return u(l,k,!0)},get:function(U,k,xe){return k=="toString"?l.toString.bind(l):Reflect.get(U,k,xe)}}),C=Reflect.defineProperty(r,t,{value:d,configurable:!0,writable:!0});C||(r[t]=d)}var I=Symbol(),w=o(function(){return oo(r,t,I,e)},"unpatchThisPatch");return i[t][e].set(I,n),w}}var ti=f(()=>{Qa();Zr();ao();o(gr,"default")});var Mt={};b(Mt,{after:()=>B,before:()=>vt,instead:()=>ae,unpatchAll:()=>ei});var vt,ae,B,er=f(()=>{ti();ao();vt=gr("b"),ae=gr("i"),B=gr("a")});var io={};b(io,{after:()=>B,before:()=>vt,default:()=>Mt,instead:()=>ae});var ge=f(()=>{"use strict";er();er()});var Hs,ks,Gs,hr,lo=f(()=>{"use strict";Hs=o(function(e){return{status:"fulfilled",value:e}},"allSettledFulfill"),ks=o(function(e){return{status:"rejected",reason:e}},"allSettledReject"),Gs=o(function(e){return Promise.resolve(e).then(Hs,ks)},"mapAllSettled"),hr=o(function(e){return Promise.all(Array.from(e).map(Gs))},"allSettled");Promise.allSettled??=hr});var Qr={};b(Qr,{BundleUpdaterManager:()=>so,ClientInfoManager:()=>qr,DeviceManager:()=>Ve,FileManager:()=>L,MMKVManager:()=>et,ThemeManager:()=>uo});var Ge,et,L,qr,Ve,so,uo,je=f(()=>{"use strict";Ge=window.nativeModuleProxy,et=Ge.MMKVManager;L=Ge.DCDFileManager??Ge.RTNFileManager;qr=Ge.InfoDictionaryManager??Ge.RTNClientInfoManager;Ve=Ge.DCDDeviceManager??Ge.RTNDeviceManager,{BundleUpdaterManager:so}=Ge,uo=Ge.RTNThemeManager??Ge.DCDTheme});function en(){return{listeners:Object.values(co).reduce(function(e,t){return e[t]=new Set,e},{}),on(e,t){this.listeners[e].has(t)||this.listeners[e].add(t)},off(e,t){this.listeners[e].delete(t)},once(e,t){var r=this,n=o(function(a,i){r.off(a,n),t(a,i)},"once");this.on(e,n)},emit(e,t){for(var r of this.listeners[e])r(e,t)}}}var co,fo=f(()=>{"use strict";(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(co||(co={}));o(en,"createEmitter")});var Z=to((Qd,ri)=>{Object.defineProperty(ri,"exports",{get:()=>globalThis.ReactNative})});var oi,ni,mo,ai,tn,Ce,tt,ii=f(()=>{"use strict";je();oi=W(Z()),ni=/[<>:"/\\|?*]/g,mo=o(function(e){return oi.Platform.select({default:e,ios:L.saveFileToGallery?e:`Documents/${e}`})},"filePathFixer"),ai=o(function(e){return ni.test(e)&&(e=e.replace(ni,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`},"getMMKVPath"),tn=o(async function(e){await et.getItem(e)&&et.removeItem(e);var t=ai(e);if(await L.fileExists(`${L.getConstants().DocumentsDirPath}/${t}`)){var r;await((r=L.removeFile)===null||r===void 0?void 0:r.call(L,"documents",t))}},"purgeStorage"),Ce=o(function(e,t={}){var r=ai(e),n=JSON.stringify(t);return tt(r,t,async function(){var a=`${L.getConstants().DocumentsDirPath}/${r}`;if(!await L.fileExists(a)){var i=await et.getItem(e)??n;if(i==="!!LARGE_VALUE!!"){var l=`${L.getConstants().CacheDirPath}/mmkv/${e}`;await L.fileExists(l)?i=await L.readFile(l,"utf8"):(console.log(`${e}: Experienced data loss :(`),i=n)}try{JSON.parse(i)}catch{console.error(`${e} had an unparseable data while migrating`),i=n}await L.writeFile("documents",mo(r),i,"utf8"),await et.getItem(e)!==null&&(et.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}}())},"createMMKVBackend"),tt=o(function(e,t={},r){return{get:async function(){await r;var n=`${L.getConstants().DocumentsDirPath}/${e}`;if(await L.fileExists(n)){var a=await L.readFile(n,"utf8");try{return JSON.parse(a)}catch{}}return await L.writeFile("documents",mo(e),JSON.stringify(t),"utf8"),JSON.parse(await L.readFile(n,"utf8"))},set:async function(n){await r,await L.writeFile("documents",mo(e),JSON.stringify(n),"utf8")}}},"createFileBackend")});var nn={};b(nn,{awaitSyncWrapper:()=>pt,createFileBackend:()=>tt,createMMKVBackend:()=>Ce,createProxy:()=>rn,createStorage:()=>we,purgeStorage:()=>tn,useProxy:()=>M,wrapSync:()=>$e});function rn(e={}){var t=en();function r(n,a){return new Proxy(n,{get(i,l){if(l===li)return t;var u=[...a,l],d=i[l];return d!=null?(t.emit("GET",{path:u,value:d}),typeof d=="object"?r(d,u):d):d},set(i,l,u){return i[l]=u,t.emit("SET",{path:[...a,l],value:u}),!0},deleteProperty(i,l){var u=delete i[l];return u&&t.emit("DEL",{path:[...a,l]}),u}})}return o(r,"createProxy"),{proxy:r(e,[]),emitter:t}}function M(e){var t=e[li],[,r]=React.useReducer(function(n){return~n},0);return React.useEffect(function(){var n=o(function(){return r()},"listener");return t.on("SET",n),t.on("DEL",n),function(){t.off("SET",n),t.off("DEL",n)}},[]),e}async function we(e){var t=await e.get(),{proxy:r,emitter:n}=rn(t),a=o(function(){return e.set(r)},"handler");return n.on("SET",a),n.on("DEL",a),r}function $e(e){var t=void 0,r=[],n=o(function(a){return t?a():r.push(a)},"awaitInit");return e.then(function(a){t=a,r.forEach(function(i){return i()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(a){return[a,function(i,...l){return Reflect[a](t??i,...l)}]})),get(a,i,l){return i===si?n:Reflect.get(t??a,i,l)}})}var li,si,pt,ne=f(()=>{"use strict";fo();ii();li=Symbol.for("vendetta.storage.emitter"),si=Symbol.for("vendetta.storage.accessor");o(rn,"createProxy");o(M,"useProxy");o(we,"createStorage");o($e,"wrapSync");pt=o(function(e){return new Promise(function(t){return e[si](t)})},"awaitSyncWrapper")});var _o={};b(_o,{BUNNY_PROXY_PREFIX:()=>go,DISCORD_SERVER:()=>vo,DISCORD_SERVER_ID:()=>ho,GITHUB:()=>po,HTTP_REGEX:()=>Vs,HTTP_REGEX_MULTI:()=>Er,PLUGINS_CHANNEL_ID:()=>Eo,PROXY_PREFIX:()=>gt,THEMES_CHANNEL_ID:()=>_r});var vo,po,gt,go,Vs,Er,ho,Eo,_r,Ft=f(()=>{"use strict";vo="https://discord.gg/XjYgWXHb9Q",po="https://github.com/pyoncord",gt="https://vd-plugins.github.io/proxy",go="https://bunny-mod.github.io/plugins-proxy",Vs=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Er=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,ho="1015931589865246730",Eo="1091880384561684561",_r="1091880434939482202"});var Ie,ui=f(()=>{"use strict";ht();Ie=o(function(e,t){return tr(e,t,{walkable:["props","children","child","sibling"]})},"findInReactTree")});function So(e,t,r,n){if(!(n>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var a of e)if(!(typeof a!="object"||a===null))try{var i=So(a,t,r,n+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var l of Object.keys(e))if(!(typeof e[l]!="object"||e[l]===null)&&!(r.walkable.length&&!r.walkable.includes(l))&&!r.ignore.includes(l))try{var u=So(e[l],t,r,n+1);if(u)return u}catch{}}}}var tr,ci=f(()=>{"use strict";o(So,"treeSearch");tr=o(function(e,t,{walkable:r=[],ignore:n=[],maxDepth:a=100}={}){return So(e,t,{walkable:r,ignore:n,maxDepth:a},0)},"findInTree")});async function Et(e,t,r=1e4){var n=await fetch(e,{signal:js(r),...t});if(!n.ok)throw new Error("Request returned non-ok");return n}function js(e){var t=new AbortController;return setTimeout(function(){return t.abort(`Timed out after ${e}ms`)},e),t.signal}var fi=f(()=>{"use strict";o(Et,"safeFetch");o(js,"timeoutSignal")});var Ro={};b(Ro,{ButtonColors:()=>de});var de,rr=f(()=>{"use strict";(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(de||(de={}))});function on(e,...t){var r={...e};return t.forEach(function(n){return delete r[n]}),r}var di=f(()=>{"use strict";o(on,"without")});var an={};b(an,{constants:()=>_o,createEmitter:()=>en,findInReactTree:()=>Ie,findInTree:()=>tr,logger:()=>yo,safeFetch:()=>Et,types:()=>Ro,without:()=>on});var ht=f(()=>{"use strict";Ft();fo();ui();ci();Ut();fi();rr();di()});var ln={};b(ln,{Flux:()=>xo,FluxDispatcher:()=>Ne,NavigationNative:()=>Ee,React:()=>_e,ReactNative:()=>De,assets:()=>Ht,channels:()=>Sr,chroma:()=>Ye,clipboard:()=>me,commands:()=>nr,constants:()=>he,i18n:()=>_t,invites:()=>To,lodash:()=>Co,messageUtil:()=>rt,moment:()=>yr,navigation:()=>Ao,navigationStack:()=>bo,toasts:()=>Rr,url:()=>St,util:()=>wo});var he,Sr,_t,St,Rr,me,Ht,To,nr,Ao,rt,bo,Ee,xo,Ne,_e,De,yr,Ye,Co,wo,F=f(()=>{"use strict";K();he=m("Fonts","Permissions"),Sr=m("getVoiceChannelId"),_t=m("Messages"),St=m("openURL","openDeeplink"),Rr=te(function(e){return e.open&&e.close&&!e.startDrag&&!e.init&&!e.openReplay&&!e.setAlwaysOnTop&&!e.setAccountFlag}),me=m("setString","getString","hasString"),Ht=m("registerAsset"),To=m("acceptInviteAndTransitionToInviteChannel"),nr=m("getBuiltInCommands"),Ao=m("pushLazy"),rt=m("sendBotMessage"),bo=m("createStackNavigator"),Ee=m("NavigationContainer"),xo=m("connectStores"),Ne=m("_currentDispatchActionType"),_e=window.React=m("createElement"),De=window.ReactNative=m("AppRegistry"),yr=m("isMoment"),Ye=m("brewer"),Co=m("forEachRight"),wo=m("inspect","isNullOrUndefined")});var Ar={};b(Ar,{applyTheme:()=>Tr,color:()=>$,fetchTheme:()=>kt,getThemeFromLoader:()=>yt,initThemes:()=>Oo,installTheme:()=>nt,patchChatBackground:()=>Po,removeTheme:()=>Gt,selectTheme:()=>ot,themes:()=>Y,updateThemes:()=>sn});async function No(e){if(typeof e!="object")throw new Error("Theme must be an object");await tt(Bo()||"theme.json").set(e)}function Po(){var e=X("MessagesWrapperConnected",!1);if(e){var{MessagesWrapper:t}=m("MessagesWrapper");if(t){var r=[B("default",e,function(n,a){var i,l,u,d,C,I;return Rt?React.createElement(or.ImageBackground,{style:{flex:1,height:"100%"},source:(H==null||(l=H.data)===null||l===void 0||(i=l.background)===null||i===void 0?void 0:i.url)&&{uri:H.data.background.url}||0,blurRadius:typeof(H==null||(d=H.data)===null||d===void 0||(u=d.background)===null||u===void 0?void 0:u.blur)=="number"?H==null||(I=H.data)===null||I===void 0||(C=I.background)===null||C===void 0?void 0:C.blur:0,children:a}):a}),B("render",t.prototype,function(n,a){var i,l;if(!(!Rt||!(!(H==null||(l=H.data)===null||l===void 0||(i=l.background)===null||i===void 0)&&i.url))){var u=Ie(a,function(C){var I;return C&&"HACK_fixModalInteraction"in C.props&&(C==null||(I=C.props)===null||I===void 0?void 0:I.style)});if(u){var d;u.props.style=[u.props.style,{backgroundColor:Ye(u.props.style.backgroundColor||"black").alpha(1-((H==null||(d=H.data.background)===null||d===void 0?void 0:d.alpha)??1)).hex()}]}else console.error("Didn't find Messages when patching MessagesWrapper!")}})];return function(){return r.forEach(function(n){return n()})}}}}function gi(e){if(Ye.valid(e))return Ye(e).hex();var t=Number((0,or.processColor)(e));return Ye.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}function zs(e){if(e.semanticColors){var{semanticColors:t}=e;for(var r in t)for(var n in t[r])t[r][n]&&=gi(t[r][n])}if(e.rawColors){var{rawColors:a}=e;for(var i in a)e.rawColors[i]=gi(a[i]);or.Platform.OS==="android"&&Ws(a)}return e.spec??=2,e}function Ws(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[n,a]=t[r];e[n]&&(e[r]=Ye(e[n]).alpha(a).hex())}}async function kt(e,t=!1){var r;try{r=await(await Et(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}Y[e]={id:e,selected:t,data:zs(r)},t&&(No(Y[e]),Tr(Y[e],re))}async function nt(e){if(typeof e!="string"||e in Y)throw new Error("Theme already installed");await kt(e)}function ot(e,t=!0){if(e&&(e.selected=!0),Object.keys(Y).forEach(function(r){return Y[r].selected=Y[r].id===e?.id}),e==null&&t)return No({});if(e)return No(e)}async function Gt(e){var t=Y[e];return t.selected&&await ot(null),delete Y[e],t.selected}function yt(){return br()}async function sn(){await pt(Y);var e=yt();await hr(Object.keys(Y).map(function(t){return kt(t,e?.id===t)}))}function Lo(e){return Xs.has(e)}function Js(){var e=te(function(r){var n;return r.isThemeDark&&((n=Object.getOwnPropertyDescriptor(r,"isThemeDark"))===null||n===void 0?void 0:n.value)}),t=o(function([r]){return r===Le?[re]:void 0},"callback");Object.keys($.RawColor).forEach(function(r){Object.defineProperty($.RawColor,r,{configurable:!0,enumerable:!0,get:function(){var n,a;return Rt?(H==null||(a=H.data)===null||a===void 0||(n=a.rawColors)===null||n===void 0?void 0:n[r])??hi[r]:hi[r]}})}),vt("isThemeDark",e,t),vt("isThemeLight",e,t),vt("updateTheme",uo,t),B("get",vi,function([r],n){if(r==="SelectivelySyncedUserSettingsStore"){var a,i,l;Do=!0,!(n==null||(l=n._state)===null||l===void 0||(i=l.appearance)===null||i===void 0||(a=i.settings)===null||a===void 0)&&a.theme&&Rt&&(re=n._state.appearance.settings.theme,n._state.appearance.settings.theme=Le)}else if(r==="ThemeStore"){var u;Do=!0,!(n==null||(u=n._state)===null||u===void 0)&&u.theme&&Rt&&(re=n._state.theme,n._state.theme=Le)}}),vt("set",vi,function(r){if(r[1]){var n=r[0],a=JSON.parse(JSON.stringify(r[1])),i={SelectivelySyncedUserSettingsStore:function(){var l,u,d;if(!((d=a._state)===null||d===void 0||(u=d.appearance)===null||u===void 0||(l=u.settings)===null||l===void 0)&&l.theme){var C,I,{theme:w}=((I=a._state)===null||I===void 0||(C=I.appearance)===null||C===void 0?void 0:C.settings)??{};Lo(w)?re=w:a._state.appearance.settings.theme=re}},ThemeStore:function(){var l;if(!((l=a._state)===null||l===void 0)&&l.theme){var{theme:u}=a._state;Lo(u)?re=u:a._state.theme=re}}};return n in i?(i[n](),[n,a]):r}}),ae("resolveSemanticColor",$.default.meta??$.default.internal,function(r,n){var a,i,l,u,d,C,I;if(!Rt||!H)return n(...r);if(r[0]!==Le)return n(...r);r[0]=re;var[w,U]=Ei(re,r[1]),k=re==="midnight"?2:re==="light"?1:0;var xe=Ys[w]??w,qt=(a=((l=H.data)===null||l===void 0||(i=l.semanticColors)===null||i===void 0?void 0:i[w])??((d=H.data)===null||d===void 0||(u=d.semanticColors)===null||u===void 0?void 0:u[xe]))===null||a===void 0?void 0:a[k];if(qt)return qt;var mr=(I=H.data)===null||I===void 0||(C=I.rawColors)===null||C===void 0?void 0:C[U.raw];return mr?U.opacity===1?mr:Ye(mr).alpha(U.opacity).hex():n(...r)})}function Zs(e=re){var t=$s.theme.toLowerCase();return Lo(t)?t:e}function Tr(e,t){t||(t=Zs()),H=e,Rt=!!H,re=t,Le=`vd-theme-${Ks++}-${t}`,e&&($.Theme[Le.toUpperCase()]=Le,pi.DIVIDER_COLORS[Le]=pi.DIVIDER_COLORS[re],Object.keys($.Shadow).forEach(function(r){return $.Shadow[r][Le]=$.Shadow[r][re]}),Object.keys($.SemanticColor).forEach(function(r){var n,a,i;$.SemanticColor[r][Le]={...$.SemanticColor[r][re],override:e==null||(i=e.data)===null||i===void 0||(a=i.semanticColors)===null||a===void 0||(n=a[r])===null||n===void 0?void 0:n[0]}})),Do&&(mi.setShouldSyncAppearanceSettings(!1),mi.updateTheme(e?Le:t))}function Oo(){var e=yt();Rt=!!e,Js(),Tr(e,re),sn().catch(function(t){return console.error("Failed to update themes",t)})}function Ei(e,t){var r=t[Ei._sym??=Object.getOwnPropertySymbols(t)[0]],n=$.SemanticColor[r];return[r,n[e]]}var or,Io,$,mi,vi,$s,pi,Y,Ys,hi,Ks,Le,re,Rt,H,Do,Xs,Pe=f(()=>{"use strict";lo();Oe();je();ge();ne();ht();F();K();or=W(Z());$=m("SemanticColor"),mi=m("updateTheme"),vi=!((Io=m("storage"))===null||Io===void 0)&&Io.parseResolve?m("storage"):m("impl").impl,$s=at("ThemeStore"),pi=m("DIVIDER_COLORS"),Y=$e(we(Ce("VENDETTA_THEMES"))),Ys={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};o(No,"writeTheme");o(Po,"patchChatBackground");o(gi,"normalizeToHex");o(zs,"processData");o(Ws,"applyAndroidAlphaKeys");o(kt,"fetchTheme");o(nt,"installTheme");o(ot,"selectTheme");o(Gt,"removeTheme");o(yt,"getThemeFromLoader");o(sn,"updateThemes");hi={...$.RawColor},Ks=0,Le="vd-theme",re="darker",Rt=!1,Do=!1,Xs=new Set(["darker","midnight","dark","light"]);o(Lo,"isDiscordTheme");o(Js,"patchColor");o(Zs,"getDefaultFallbackTheme");o(Tr,"applyTheme");o(Oo,"initThemes");o(Ei,"extractInfo")});var ko={};b(ko,{getLoaderConfigPath:()=>Ho,getLoaderIdentity:()=>Qs,getLoaderName:()=>un,getReactDevToolsProp:()=>Mo,getReactDevToolsVersion:()=>Fo,getStoredTheme:()=>br,getSysColors:()=>_i,getThemeFilePath:()=>Bo,getVendettaLoaderIdentity:()=>xr,isLoaderConfigSupported:()=>cn,isPyonLoader:()=>oe,isReactDevToolsPreloaded:()=>ar,isSysColorsSupported:()=>Uo,isThemeSupported:()=>Se,isVendettaLoader:()=>se});function se(){return ze!=null}function oe(){return Tt!=null}function qs(){if(!oe()||se())return null;var e={name:Tt.loaderName,features:{}};return cn()&&(e.features.loaderConfig=!0),Uo()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return _i()},configurable:!0})),Se()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){var t,r=(t=br())===null||t===void 0?void 0:t.id;if(!r)return null;var{themes:n}=(Pe(),Bt(Ar));return n[r]??br()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}function Qs(){return oe()?Tt:se()?xr():null}function xr(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:qs()}function un(){return oe()?Tt.loaderName:se()?ze.name:"Unknown"}function cn(){return oe()?!0:se()?ze.features.loaderConfig:!1}function Se(){return oe()?Tt.hasThemeSupport:se()?ze.features.themes!=null:!1}function br(){if(oe())return Tt.storedTheme;if(se()){var e,t=(e=ze.features.themes)===null||e===void 0?void 0:e.prop;return t&&globalThis[t]||null}return null}function Bo(){return oe()?"pyoncord/current-theme.json":se()?"vendetta_theme.json":null}function ar(){return oe()?!1:se()?ze.features.devtools!=null:!1}function Mo(){return ar()&&se()?ze.features.devtools.prop:null}function Fo(){return ar()&&se()?ze.features.devtools.version:null}function Uo(){return oe()?Tt.isSysColorsSupported:se()?ze.features.syscolors!=null:!1}function _i(){return Uo()?oe()?Tt.sysColors:se()?ze.features.syscolors.prop:null:null}function Ho(){return oe()?"pyoncord/loader.json":se()?"vendetta_loader.json":"loader.json"}var Tt,ze,Oe=f(()=>{"use strict";Tt=globalThis.__PYON_LOADER__,ze=globalThis.__vendetta_loader;o(se,"isVendettaLoader");o(oe,"isPyonLoader");o(qs,"polyfillVendettaLoaderIdentity");o(Qs,"getLoaderIdentity");o(xr,"getVendettaLoaderIdentity");xr();o(un,"getLoaderName");o(cn,"isLoaderConfigSupported");o(Se,"isThemeSupported");o(br,"getStoredTheme");o(Bo,"getThemeFilePath");o(ar,"isReactDevToolsPreloaded");o(Mo,"getReactDevToolsProp");o(Fo,"getReactDevToolsVersion");o(Uo,"isSysColorsSupported");o(_i,"getSysColors");o(Ho,"getLoaderConfigPath")});var fn={};b(fn,{loaderConfig:()=>Re,settings:()=>T});var T,Re,ie=f(()=>{"use strict";Oe();ne();T=$e(we(Ce("VENDETTA_SETTINGS"))),Re=$e(we(tt(Ho(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var Go={};b(Go,{common:()=>ln,filters:()=>dn,find:()=>te,findAll:()=>it,findByDisplayName:()=>Vt,findByDisplayNameAll:()=>Ir,findByName:()=>X,findByNameAll:()=>wr,findByProps:()=>m,findByPropsAll:()=>Cr,findByStoreName:()=>at,findByTypeName:()=>Nr,findByTypeNameAll:()=>Dr});var At=f(()=>{"use strict";F();K();K()});var yi={};b(yi,{default:()=>ru});function tu(e){var t=new Map;for(var r of eu){var n;e?.[r]?t.set(r,null):!(e==null||(n=e.default)===null||n===void 0)&&n[r]&&t.set(r,"default")}for(var[a,i]of t){var l=i?e[i]:e;mn[a]?Object.keys(l).length<Object.keys(Vo[a]).length&&(mn[a]=l[a],Vo[a]=l):(mn[a]=l[a],Vo[a]=l)}}var eu,Vo,mn,Ri,Si,ru,Ti=f(()=>{"use strict";At();eu=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),Vo={},mn={};for(Si in window.modules)Ri=window.__r(Si),tu(Ri);o(tu,"polyfillRedesignModule");ru=mn});var dn={};b(dn,{find:()=>te,findAll:()=>it,findByDisplayName:()=>Vt,findByDisplayNameAll:()=>Ir,findByName:()=>X,findByNameAll:()=>wr,findByProps:()=>m,findByPropsAll:()=>Cr,findByStoreName:()=>at,findByTypeName:()=>Nr,findByTypeNameAll:()=>Dr});function au(e){var t,r,n;if((e==null||(t=e.default)===null||t===void 0?void 0:t.name)==="requireNativeComponent"&&ae("default",e,function(i,l){try{return l(...i)}catch{return i[0]}}),(e==null||(n=e.default)===null||n===void 0||(r=n.constructor)===null||r===void 0?void 0:r.displayName)==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get:function(i,l,u){if(l==="isDeveloper"){var{settings:d}=(ie(),Bt(fn));return d.enableDiscordDeveloperSettings??!1}return Reflect.get(i,l,u)}})),!bi&&window["__core-js_shared__"]){var a=o(function(i){return typeof i=="function"&&ou.apply(i,[])},"inspect");window["__core-js_shared__"].inspectSource=a,bi=!0}}function xi(e){if(modules[e].isInitialized)return __r(e);var t=window.ErrorUtils.getGlobalHandler();window.ErrorUtils.setGlobalHandler(null);try{var r=__r(e)}catch{var r=void 0}return window.ErrorUtils.setGlobalHandler(t),r}function*iu(){yield(Ti(),Bt(yi));for(var e in modules)yield xi(e)}var nu,ou,jo,Ai,vn,$o,bi,Ci,te,it,wi,Ii,Ni,Di,lu,m,Cr,X,wr,Vt,Ir,Nr,Dr,at,K=f(()=>{"use strict";ge();nu=o(function(e){return Object.defineProperty(window.modules,e,{value:window.modules[e],enumerable:!1,configurable:!0,writable:!0})},"blacklist"),ou=Function.prototype.toString;for(Ai in window.modules)jo=window.modules[Ai],jo.factory&&B("factory",jo,function({4:e}){e.exports&&au(e.exports)});for($o in window.modules)if(vn=xi($o),!vn||vn===window||vn["Revenge EOL when?"]===null){nu($o);continue}bi=!1;o(au,"onModuleRequire");o(xi,"requireModule");o(iu,"getModules");Ci=o(function(e,t=!1){return function(r){var n=[];for(var a of iu()){if(a.default&&a.__esModule&&r(a.default)){if(t)return a.default;n.push(a.default)}if(r(a)){if(t)return a;n.push(a)}}if(!t)return n}},"filterModules"),te=Ci(modules,!0),it=Ci(modules),wi=o(function(e){return function(t){return e.every(function(r){return t[r]!==void 0})}},"propsFilter"),Ii=o(function(e,t){return t?function(r){return r?.name===e}:function(r){var n;return(r==null||(n=r.default)===null||n===void 0?void 0:n.name)===e}},"nameFilter"),Ni=o(function(e,t){return t?function(r){return r?.displayName===e}:function(r){var n;return(r==null||(n=r.default)===null||n===void 0?void 0:n.displayName)===e}},"dNameFilter"),Di=o(function(e,t){return t?function(r){var n;return(r==null||(n=r.type)===null||n===void 0?void 0:n.name)===e}:function(r){var n,a;return(r==null||(a=r.default)===null||a===void 0||(n=a.type)===null||n===void 0?void 0:n.name)===e}},"tNameFilter"),lu=o(function(e){return function(t){return t.getName&&t.getName.length===0&&t.getName()===e}},"storeFilter"),m=o(function(...e){return te(wi(e))},"findByProps"),Cr=o(function(...e){return it(wi(e))},"findByPropsAll"),X=o(function(e,t=!0){return te(Ii(e,t))},"findByName"),wr=o(function(e,t=!0){return it(Ii(e,t))},"findByNameAll"),Vt=o(function(e,t=!0){return te(Ni(e,t))},"findByDisplayName"),Ir=o(function(e,t=!0){return it(Ni(e,t))},"findByDisplayNameAll"),Nr=o(function(e,t=!0){return te(Di(e,t))},"findByTypeName"),Dr=o(function(e,t=!0){return it(Di(e,t))},"findByTypeNameAll"),at=o(function(e){return te(lu(e))},"findByStoreName")});var yo={};b(yo,{logModule:()=>pn,logger:()=>ue});var pn,ue,Ut=f(()=>{"use strict";K();pn=X("Logger"),ue=new pn("Bunny")});function Li({locale:e}){try{yr.locale(e.toLowerCase())}catch(t){ue.error("Failed to fix timestamps...",t)}Ne.unsubscribe("I18N_LOAD_SUCCESS",Li)}function Yo(){Ne.subscribe("I18N_LOAD_SUCCESS",Li)}var Pi=f(()=>{"use strict";Ut();F();o(Li,"onDispatch");o(Yo,"default")});var Bi,Oi=f(()=>{Bi={ABOUT:"About",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied plugin URL to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install Add-on",INSTALL_PLUGIN:"Install Plugin",INSTALL_THEME:"Install Theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom url",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} false {Disabled}} updates for {name}.",PLATFORM:"Platform",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} false {}}",SEARCH:"Search",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}});function Fi(){var e=o(function({locale:t}){var r={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},n=r[t]??t;if(n.startsWith("en-")){ir=null;return}Mi.has(n)?ir=n:(Mi.add(n),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${n}/bunny.json`).then(function(a){return a.json()}).then(function(a){return zo[n]=a}).then(function(){return ir=n}).catch(function(a){return console.error(`An error occured while fetching strings for ${n}: ${a}`)}))},"cb");return Ne.subscribe("I18N_LOAD_SUCCESS",e),function(){return Ne.unsubscribe("I18N_LOAD_SUCCESS",e)}}function ye(e,t){var r=s[e];return new uu(r).format(t)}var uu,ir,Mi,zo,s,q=f(()=>{"use strict";F();K();Oi();uu=X("MessageFormat"),Mi=new Set,zo={},s=new Proxy({},{get:function(e,t){var r;if(ir&&(!((r=zo[ir])===null||r===void 0)&&r[t])){var n;return(n=zo[ir])===null||n===void 0?void 0:n[t]}return Bi[t]}});o(Fi,"initFetchI18nStrings");o(ye,"formatString")});var gn={};b(gn,{all:()=>Be,find:()=>Ko,getAssetByID:()=>Jo,getAssetByName:()=>Xo,getAssetIDByName:()=>_,patchAssets:()=>Wo});function Wo(){for(var e=B("registerAsset",Ht,function(n,a){var i=n[0];Be[i.name]={...i,id:a}}),t=1;;t++){var r=Ht.getAssetByID(t);if(!r)break;Be[r.name]||(Be[r.name]={...r,id:t})}return e}var Be,Ko,Xo,Jo,_,Q=f(()=>{"use strict";ge();F();Be={};o(Wo,"patchAssets");Ko=o(function(e){return Object.values(Be).find(e)},"find"),Xo=o(function(e){return Be[e]},"getAssetByName"),Jo=o(function(e){return Ht.getAssetByID(e)},"getAssetByID"),_=o(function(e){var t;return(t=Be[e])===null||t===void 0?void 0:t.id},"getAssetIDByName")});var hn={};b(hn,{evalPlugin:()=>Hi,fetchPlugin:()=>bt,getSettings:()=>Lr,initPlugins:()=>Zo,installPlugin:()=>lt,plugins:()=>z,removePlugin:()=>$t,startPlugin:()=>xt,stopPlugin:()=>Ct});async function Ui(e){return e.startsWith(gt)&&(e=e.replace(gt,go)),await Et(e,{cache:"no-store"})}async function bt(e){e.endsWith("/")||(e+="/");var t=z[e],r;try{r=await(await Ui(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var n;if(t?.manifest.hash!==r.hash)try{n=await(await Ui(e+(r.main||"index.js"))).text()}catch{}if(!n&&!t)throw new Error(`Failed to fetch JS for ${e}`);z[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:n??t.js}}async function lt(e,t=!0){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in z)throw new Error("Plugin already installed");await bt(e),t&&await xt(e)}async function Hi(e){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await we(Ce(e.id))},logger:new pn(`Bunny \xBB ${e.manifest.name}`)},r=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,n=(0,eval)(r)(t),a=typeof n=="function"?n():n;return a?.default??a??{}}async function xt(e){e.endsWith("/")||(e+="/");var t=z[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{var r;if(!(!((r=T.safeMode)===null||r===void 0)&&r.enabled)){var n,a=await Hi(t);jt[e]=a,(n=a.onLoad)===null||n===void 0||n.call(a)}t.enabled=!0}catch(u){ue.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,u);try{var i,l;(l=jt[t.id])===null||l===void 0||(i=l.onUnload)===null||i===void 0||i.call(l)}catch(d){ue.error(`Plugin ${t.id} errored whilst unloading`,d)}delete jt[e],t.enabled=!1}}function Ct(e,t=!0){var r;e.endsWith("/")||(e+="/");var n=z[e],a=jt[e];if(!n)throw new Error("Attempted to stop non-existent plugin");if(!(!((r=T.safeMode)===null||r===void 0)&&r.enabled)){try{var i;a==null||(i=a.onUnload)===null||i===void 0||i.call(a)}catch(l){ue.error(`Plugin ${n.id} errored whilst unloading`,l)}delete jt[e]}t&&(n.enabled=!1)}async function $t(e){e.endsWith("/")||(e+="/");var t=z[e];t.enabled&&Ct(e),delete z[e],await tn(e)}async function Zo(){var e;await pt(T),await pt(z);var t=Object.keys(z);return!((e=T.safeMode)===null||e===void 0)&&e.enabled||(await hr(t.filter(function(r){return z[r].enabled}).map(async function(r){return z[r].update&&await bt(r).catch(function(n){return ue.error(n.message)}),await xt(r)})),t.filter(function(r){return!z[r].enabled&&z[r].update}).forEach(function(r){return bt(r)})),cu}var z,jt,cu,Lr,st=f(()=>{"use strict";lo();ne();ie();ht();Ft();Ut();z=$e(we(Ce("VENDETTA_PLUGINS"))),jt={};o(Ui,"pluginFetch");o(bt,"fetchPlugin");o(lt,"installPlugin");o(Hi,"evalPlugin");o(xt,"startPlugin");o(Ct,"stopPlugin");o($t,"removePlugin");o(Zo,"initPlugins");cu=o(function(){return Object.keys(jt).forEach(function(e){return Ct(e,!1)})},"stopAllPlugins"),Lr=o(function(e){var t;return(t=jt[e])===null||t===void 0?void 0:t.settings},"getSettings")});var ta={};b(ta,{Form:()=>fu,FormArrow:()=>du,FormCTA:()=>mu,FormCTAButton:()=>vu,FormCardSection:()=>pu,FormCheckbox:()=>gu,FormCheckboxRow:()=>hu,FormCheckmark:()=>Eu,FormDivider:()=>qo,FormHint:()=>_u,FormIcon:()=>Qo,FormInput:()=>ea,FormLabel:()=>Su,FormRadio:()=>Ru,FormRadioGroup:()=>yu,FormRadioRow:()=>Tu,FormRow:()=>Te,FormSection:()=>_n,FormSelect:()=>Au,FormSliderRow:()=>bu,FormSubLabel:()=>xu,FormSwitch:()=>Cu,FormSwitchRow:()=>wu,FormTernaryCheckBox:()=>Iu,FormText:()=>Yt,FormTitle:()=>Nu,Forms:()=>En});var En,fu,du,mu,vu,pu,gu,hu,Eu,qo,_u,Qo,ea,Su,Ru,yu,Tu,Te,_n,Au,bu,xu,Cu,wu,Iu,Yt,Nu,Ae=f(()=>{"use strict";At();En=m("Form","FormSection"),{Form:fu,FormArrow:du,FormCTA:mu,FormCTAButton:vu,FormCardSection:pu,FormCheckbox:gu,FormCheckboxRow:hu,FormCheckmark:Eu,FormDivider:qo,FormHint:_u,FormIcon:Qo,FormInput:ea,FormLabel:Su,FormRadio:Ru,FormRadioGroup:yu,FormRadioRow:Tu,FormRow:Te,FormSection:_n,FormSelect:Au,FormSliderRow:bu,FormSubLabel:xu,FormSwitch:Cu,FormSwitchRow:wu,FormTernaryCheckBox:Iu,FormText:Yt,FormTitle:Nu}=En});var Gi=to((iv,ki)=>{Object.defineProperty(ki,"exports",{get:()=>globalThis.React})});var la={};b(la,{AccessibilityAnnouncer:()=>nf,AccessibilityPreferencesContext:()=>of,AccessibilityView:()=>af,AccessibilityViewAnimated:()=>lf,ActionSheet:()=>sf,ActionSheetCloseButton:()=>uf,ActionSheetIconHeader:()=>cf,ActionSheetPresenter:()=>ff,ActionSheetRow:()=>df,ActionSheetSwitchRow:()=>mf,AlertActionButton:()=>Lu,AlertModal:()=>Pu,AlertModalContainer:()=>Ou,AnimatedEnterExitItem:()=>vf,AvatarDuoPile:()=>Bu,AvatarPile:()=>Mu,Backdrop:()=>Fu,BottomSheetTextInput:()=>pf,Button:()=>aa,Card:()=>Uu,CompatfulRedesign:()=>ut,ContextMenu:()=>Hu,ContextMenuContainer:()=>ku,Dialog:()=>gf,DisableCustomTheme:()=>hf,FauxHeader:()=>Gu,FloatingActionButton:()=>Vu,FormCheckbox:()=>oa,FormRadio:()=>Du,FormSwitch:()=>na,GhostInput:()=>ju,GuildIconPile:()=>$u,HeaderActionButton:()=>Yu,HeaderButton:()=>zu,HeaderSubmittingIndicator:()=>Wu,IconButton:()=>Sn,Input:()=>Ku,InputButton:()=>Xu,InputContainer:()=>Ju,LayerContext:()=>Zu,LayerScope:()=>qu,Menu:()=>Ef,MenuGroup:()=>_f,MenuItem:()=>Sf,MenuPopout:()=>Rf,Modal:()=>Qu,ModalActionButton:()=>ec,ModalContent:()=>tc,ModalDisclaimer:()=>rc,ModalFloatingAction:()=>nc,ModalFloatingActionSpacer:()=>oc,ModalFooter:()=>ac,ModalScreen:()=>ic,ModalStepIndicator:()=>lc,Navigator:()=>sc,NavigatorHeader:()=>uc,NavigatorScreen:()=>cc,Pile:()=>fc,PileOverflow:()=>dc,Redesign:()=>$i,RedesignCompat:()=>mc,RedesignCompatContext:()=>vc,RootThemeContextProvider:()=>yf,RowButton:()=>pc,SceneLoadingIndicator:()=>gc,SearchField:()=>hc,SegmentedControl:()=>Ec,SegmentedControlPages:()=>_c,SimpleActionSheet:()=>Tf,Slider:()=>Sc,Stack:()=>zt,StepModal:()=>Rc,StickyContext:()=>yc,StickyHeader:()=>Tc,StickyWrapper:()=>Ac,TableCheckboxRow:()=>bc,TableRadioGroup:()=>xc,TableRadioRow:()=>Cc,TableRow:()=>x,TableRowGroup:()=>ve,TableRowGroupTitle:()=>wc,TableRowIcon:()=>Ic,TableSwitchRow:()=>Wt,Tabs:()=>Nc,Text:()=>Af,TextArea:()=>Dc,TextField:()=>Lc,TextInput:()=>lr,TextStyleSheet:()=>bf,ThemeContextFlags:()=>xf,ThemeContextForLegacyStyles:()=>Cf,ThemeContextProvider:()=>wf,Toast:()=>Pc,TransitionGroup:()=>If,TransitionItem:()=>Nf,TransitionStates:()=>Df,UseThemeContext:()=>Lf,WCAGContrastRatios:()=>Pf,createLegacyClassComponentStyles:()=>Of,createNativeStyleProperties:()=>Bf,createStyleProperties:()=>Mf,createStyles:()=>Ff,darkenColor:()=>Uf,dismissAlerts:()=>Oc,experimental_createToken:()=>Hf,getContrastingColor:()=>kf,getHeaderBackButton:()=>Bc,getHeaderCloseButton:()=>Mc,getHeaderConditionalBackButton:()=>Fc,getHeaderNoTitle:()=>Uc,getHeaderTextButton:()=>Hc,getSemanticColorContextFromThemeContext:()=>Gf,hasThemeFlag:()=>Vf,hideContextMenu:()=>kc,navigatorShouldCrossfade:()=>Gc,openAlert:()=>Vc,setColorOpacity:()=>jf,setThemeFlag:()=>$f,showSimpleActionSheet:()=>Yf,useAccessibilityNativeStackOptions:()=>jc,useAndroidNavScrim:()=>$c,useCoachmark:()=>Yc,useFloatingActionButtonScroll:()=>zc,useFloatingActionButtonState:()=>Wc,useLegacyClassComponentStyles:()=>zf,useNativeStackNavigation:()=>Kc,useNavigation:()=>ia,useNavigationTheme:()=>Xc,useNavigatorBackPressHandler:()=>Jc,useNavigatorScreens:()=>Zc,useNavigatorShouldCrossfade:()=>qc,useSegmentedControlState:()=>Qc,useStackNavigation:()=>ef,useTabNavigation:()=>tf,useThemeContext:()=>Wf,useToken:()=>Kf,useTooltip:()=>rf});var Vi,ji,ra,$i,ut,na,Du,oa,Lu,Pu,Ou,Bu,Mu,Fu,aa,Uu,Hu,ku,Gu,Vu,ju,$u,Yu,zu,Wu,Sn,Ku,Xu,Ju,Zu,qu,Qu,ec,tc,rc,nc,oc,ac,ic,lc,sc,uc,cc,fc,dc,mc,vc,pc,gc,hc,Ec,_c,Sc,zt,Rc,yc,Tc,Ac,bc,xc,Cc,x,ve,wc,Ic,Wt,Nc,Dc,Lc,lr,Pc,Oc,Bc,Mc,Fc,Uc,Hc,kc,Gc,Vc,jc,$c,Yc,zc,Wc,Kc,ia,Xc,Jc,Zc,qc,Qc,ef,tf,rf,nf,of,af,lf,sf,uf,cf,ff,df,mf,vf,pf,gf,hf,Ef,_f,Sf,Rf,yf,Tf,Af,bf,xf,Cf,wf,If,Nf,Df,Lf,Pf,Of,Bf,Mf,Ff,Uf,Hf,kf,Gf,Vf,jf,$f,Yf,zf,Wf,Kf,be=f(()=>{"use strict";At();Vi=W(Gi()),ji=W(Z()),ra=o(function(e){var t;return(t=te(function(r){return r[e]&&Object.keys(r).length===1}))===null||t===void 0?void 0:t[e]},"findSingular"),$i=m("TableRow"),ut=m("ActionSheetRow");ut.ActionSheetTitleHeader??=ut.BottomSheetTitleHeader;ut.ActionSheetContentContainer??=function({children:e}){return(0,Vi.useEffect)(function(){return console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. It has been temporarily replaced with View")},[]),React.createElement(ji.View,null,e)};na=ra("FormSwitch"),Du=ra("FormRadio"),oa=ra("FormCheckbox"),{AlertActionButton:Lu,AlertModal:Pu,AlertModalContainer:Ou,AvatarDuoPile:Bu,AvatarPile:Mu,Backdrop:Fu,Button:aa,Card:Uu,ContextMenu:Hu,ContextMenuContainer:ku,FauxHeader:Gu,FloatingActionButton:Vu,GhostInput:ju,GuildIconPile:$u,HeaderActionButton:Yu,HeaderButton:zu,HeaderSubmittingIndicator:Wu,IconButton:Sn,Input:Ku,InputButton:Xu,InputContainer:Ju,LayerContext:Zu,LayerScope:qu,Modal:Qu,ModalActionButton:ec,ModalContent:tc,ModalDisclaimer:rc,ModalFloatingAction:nc,ModalFloatingActionSpacer:oc,ModalFooter:ac,ModalScreen:ic,ModalStepIndicator:lc,Navigator:sc,NavigatorHeader:uc,NavigatorScreen:cc,Pile:fc,PileOverflow:dc,RedesignCompat:mc,RedesignCompatContext:vc,RowButton:pc,SceneLoadingIndicator:gc,SearchField:hc,SegmentedControl:Ec,SegmentedControlPages:_c,Slider:Sc,Stack:zt,StepModal:Rc,StickyContext:yc,StickyHeader:Tc,StickyWrapper:Ac,TableCheckboxRow:bc,TableRadioGroup:xc,TableRadioRow:Cc,TableRow:x,TableRowGroup:ve,TableRowGroupTitle:wc,TableRowIcon:Ic,TableSwitchRow:Wt,Tabs:Nc,TextArea:Dc,TextField:Lc,TextInput:lr,Toast:Pc,dismissAlerts:Oc,getHeaderBackButton:Bc,getHeaderCloseButton:Mc,getHeaderConditionalBackButton:Fc,getHeaderNoTitle:Uc,getHeaderTextButton:Hc,hideContextMenu:kc,navigatorShouldCrossfade:Gc,openAlert:Vc,useAccessibilityNativeStackOptions:jc,useAndroidNavScrim:$c,useCoachmark:Yc,useFloatingActionButtonScroll:zc,useFloatingActionButtonState:Wc,useNativeStackNavigation:Kc,useNavigation:ia,useNavigationTheme:Xc,useNavigatorBackPressHandler:Jc,useNavigatorScreens:Zc,useNavigatorShouldCrossfade:qc,useSegmentedControlState:Qc,useStackNavigation:ef,useTabNavigation:tf,useTooltip:rf}=$i,{AccessibilityAnnouncer:nf,AccessibilityPreferencesContext:of,AccessibilityView:af,AccessibilityViewAnimated:lf,ActionSheet:sf,ActionSheetCloseButton:uf,ActionSheetIconHeader:cf,ActionSheetPresenter:ff,ActionSheetRow:df,ActionSheetSwitchRow:mf,AnimatedEnterExitItem:vf,BottomSheetTextInput:pf,Dialog:gf,DisableCustomTheme:hf,Menu:Ef,MenuGroup:_f,MenuItem:Sf,MenuPopout:Rf,RootThemeContextProvider:yf,SimpleActionSheet:Tf,Text:Af,TextStyleSheet:bf,ThemeContextFlags:xf,ThemeContextForLegacyStyles:Cf,ThemeContextProvider:wf,TransitionGroup:If,TransitionItem:Nf,TransitionStates:Df,UseThemeContext:Lf,WCAGContrastRatios:Pf,createLegacyClassComponentStyles:Of,createNativeStyleProperties:Bf,createStyleProperties:Mf,createStyles:Ff,darkenColor:Uf,experimental_createToken:Hf,getContrastingColor:kf,getSemanticColorContextFromThemeContext:Gf,hasThemeFlag:Vf,setColorOpacity:jf,setThemeFlag:$f,showSimpleActionSheet:Yf,useLegacyClassComponentStyles:zf,useThemeContext:Wf,useToken:Kf}=ut});var wt={};b(wt,{Alert:()=>sa,Button:()=>We,Forms:()=>ta,HelpMessage:()=>Pr,Redesign:()=>la,SafeAreaView:()=>ua});var sa,We,Pr,ua,It=f(()=>{"use strict";K();Ae();be();sa=Vt("FluxContainer(Alert)"),We=m("Looks","Colors","Sizes"),Pr=X("HelpMessage"),ua=m("useSafeAreaInsets").SafeAreaView});var Rn={};b(Rn,{isSemanticColor:()=>ma,rawColors:()=>da,resolveSemanticColor:()=>va,semanticColors:()=>J});function ma(e){return Yi.isSemanticColor(e)}function va(e,t=Xf.theme){return Yi.resolveSemanticColor(t,e)}var ca,fa,J,da,Xf,Yi,Nt=f(()=>{"use strict";Pe();K();F();J=($===null||$===void 0||(ca=$.default)===null||ca===void 0?void 0:ca.colors)??(he===null||he===void 0?void 0:he.ThemeColorMap),da=($===null||$===void 0||(fa=$.default)===null||fa===void 0?void 0:fa.unsafe_rawColors)??(he===null||he===void 0?void 0:he.Colors),Xf=at("ThemeStore"),Yi=$.default.meta??=$.default.internal;o(ma,"isSemanticColor");o(va,"resolveSemanticColor")});var pa={};b(pa,{TextStyleSheet:()=>Ke,createStyles:()=>Kt,createThemedStyleSheet:()=>Xt});function Kt(e){return ut.createStyles(e)}function Xt(e){for(var t in e)e[t]=new Proxy(zi.StyleSheet.flatten(e[t]),{get(r,n,a){var i=Reflect.get(r,n,a);return ma(i)?va(i):i}});return e}var zi,Ke,Dt=f(()=>{"use strict";At();Nt();be();zi=W(Z()),{TextStyleSheet:Ke}=m("TextStyleSheet");o(Kt,"createStyles");o(Xt,"createThemedStyleSheet")});function Me({selectable:e,style:t,children:r}){return e?sr.Platform.select({ios:React.createElement(Jf,{style:t,children:r}),default:React.createElement(Wi,{style:t,children:r,selectable:!0})}):React.createElement(Wi,{style:t,children:r})}var sr,Ki,Jf,Wi,Xi=f(()=>{"use strict";F();Nt();Dt();sr=W(Z()),Ki=Kt({codeBlock:{fontFamily:he.Fonts.CODE_SEMIBOLD,fontSize:12,textAlignVertical:"center",backgroundColor:J.BACKGROUND_SECONDARY,color:J.TEXT_NORMAL,borderWidth:1,borderRadius:4,borderColor:J.BACKGROUND_TERTIARY,padding:10}}),Jf=o(function({style:e,children:t}){return React.createElement(sr.TextInput,{editable:!1,multiline:!0,style:[Ki().codeBlock,e&&e],value:t})},"InputBasedCodeblock"),Wi=o(function({selectable:e,style:t,children:r}){return React.createElement(sr.Text,{selectable:e,style:[Ki().codeBlock,t&&t]},r)},"TextBasedCodeblock");o(Me,"Codeblock")});function ga(e){var t=React.useRef(null);return React.useEffect(function(){var r,n,a;if(Jt.Platform.OS==="android"){var i=(a=t.current)===null||a===void 0||(n=a._children)===null||n===void 0||(r=n[0])===null||r===void 0?void 0:r._nativeTag;return function(){if(i)var l=ae("setAccessibilityFocus",Jt.AccessibilityInfo,function([u],d){if(u!==i)return d.apply(Jt.AccessibilityInfo,[u]);l()})}}},[]),React.createElement(Jt.View,{ref:t},React.createElement(Zf,e))}var Jt,Zf,Ji=f(()=>{"use strict";ge();K();Jt=W(Z()),{ContextMenu:Zf}=m("ContextMenu");o(ga,"ContextMenu")});function Zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var qi=f(()=>{o(Zi,"_class_call_check")});function Qi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function el(e,t,r){return t&&Qi(e.prototype,t),r&&Qi(e,r),e}var tl=f(()=>{o(Qi,"_defineProperties");o(el,"_create_class")});function rl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nl=f(()=>{o(rl,"_define_property")});function yn(e,t){return yn=Object.setPrototypeOf||o(function(n,a){return n.__proto__=a,n},"setPrototypeOf"),yn(e,t)}var ol=f(()=>{o(yn,"_set_prototype_of")});function al(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}var il=f(()=>{ol();o(al,"_inherits")});function Or(e){return Or=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"getPrototypeOf"),Or(e)}var ll=f(()=>{o(Or,"_get_prototype_of")});function sl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ul=f(()=>{o(sl,"_is_native_reflect_construct")});function cl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var fl=f(()=>{o(cl,"_assert_this_initialized")});function dl(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var ml=f(()=>{o(dl,"_type_of")});function vl(e,t){return t&&(dl(t)==="object"||typeof t=="function")?t:cl(e)}var pl=f(()=>{fl();ml();o(vl,"_possible_constructor_return")});function gl(e){var t=sl();return o(function(){var n=Or(e),a;if(t){var i=Or(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return vl(this,a)},"_createSuperInternal")}var hl=f(()=>{ll();ul();pl();o(gl,"_create_super")});var ha,El,qf,ee,Ea=f(()=>{"use strict";qi();tl();nl();il();hl();q();F();Xe();It();Ae();Dt();ha=W(Z()),El=Xt({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),ee=function(e){"use strict";al(r,e);var t=gl(r);function r(n){Zi(this,r);var a;return a=t.call(this,n),a.state={hasErr:!1},a}return o(r,"ErrorBoundary"),el(r,[{key:"render",value:o(function(){var a=this;return this.state.hasErr?_e.createElement(ha.ScrollView,{style:El.view},_e.createElement(Yt,{style:El.title},s.UH_OH),_e.createElement(Me,{selectable:!0,style:{marginBottom:5}},this.state.error.name),_e.createElement(Me,{selectable:!0,style:{marginBottom:5}},this.state.error.message),this.state.error.stack&&_e.createElement(ha.ScrollView,{style:{maxHeight:420,marginBottom:5}},_e.createElement(Me,{selectable:!0},this.state.error.stack)),_e.createElement(We,{color:We.Colors.RED,size:We.Sizes.MEDIUM,look:We.Looks.FILLED,onPress:function(){return a.setState({hasErr:!1})},text:s.RETRY})):this.props.children},"render")}]),r}(qf=_e.Component);rl(ee,"getDerivedStateFromError",function(e){return{hasErr:!0,error:e}})});function Qf(){return React.createElement(Tn.Image,{style:{transform:[{scale:.8}]},source:_("search")})}function ct({onChangeText:e,placeholder:t,style:r}){var[n,a]=React.useState(""),i=o(function(l){a(l),e?.(l)},"onChange");return React.createElement(ee,null,React.createElement(Tn.View,{style:r},React.createElement(lr,{grow:!0,isClearable:!0,leadingIcon:Qf,placeholder:t??s.SEARCH,onChange:i,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:n})))}var Tn,_l=f(()=>{"use strict";q();Q();be();Ea();Tn=W(Z());o(Qf,"SearchIcon");o(ct,"default")});function Mr({label:e,icon:t,noPadding:r=!1,noAnimation:n=!1,children:a}){var[i,l]=React.useState(!0);return React.createElement(React.Fragment,null,React.createElement(x,{label:e,icon:t&&React.createElement(x.Icon,{source:_(t)}),trailing:React.createElement(Te.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:function(){l(!i),n||Br.LayoutAnimation.configureNext(Br.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&React.createElement(React.Fragment,null,React.createElement(Br.View,{style:!r&&{paddingHorizontal:15}},a)))}var Br,Sl=f(()=>{"use strict";Q();Ae();be();Br=W(Z());o(Mr,"Summary")});var An={};b(An,{Codeblock:()=>Me,ContextMenu:()=>ga,ErrorBoundary:()=>ee,Search:()=>ct,Summary:()=>Mr,discord:()=>wt});var Xe=f(()=>{"use strict";It();Xi();Ji();Ea();_l();Sl()});var bn={};b(bn,{showToast:()=>D});var _a,ed,D,Je=f(()=>{"use strict";q();Q();F();K();_a=W(Z()),{uuid4:ed}=m("uuid4"),D=o(function(e,t){return Rr.open({key:`vd-toast-${ed()}`,content:e,source:t,icon:t})},"showToast");D.showCopyToClipboard=function(e=s.COPIED_TO_CLIPBOARD){(_a.Platform.OS!=="android"||_a.Platform.Version<=32)&&D(e,_("toast_copy_link"))}});function nd(e,t=null,r=!1){var n,a;if(e.guild_id===ho){var i;if(e.parent_id===Eo)i="Plugin";else if(e.parent_id===_r&&Se())i="Theme";else return;var{firstMessage:l}=r?td(e):{firstMessage:t},u=l==null||(a=l.content)===null||a===void 0||(n=a.match(Er))===null||n===void 0?void 0:n.filter(Fr[i].urlsFilter);if(!(!u||!u[0]))return i==="Plugin"&&!u[0].endsWith("/")&&(u[0]+="/"),[i,u[0]]}}function od(e,t=null,r=!1){var[n,a]=nd(e,t,r)??[];M(z),M(Y);var[i,l]=React.useState(!1);if(!n||!a)return[!0];var u=!!Fr[n].storage[a],d=o(async function(){l(!0);try{await Fr[n].installOrRemove(a)}catch(C){D(C.message,_("Small"))}finally{l(!1)}},"installOrRemove");return[!1,n,u,i,d]}function Sa(){var e=[ad()];return function(){return e.map(function(t){return t()})}}var td,rd,Fr,ad,Rl=f(()=>{"use strict";q();Q();Oe();ge();ne();st();Pe();Xe();be();Ft();K();Je();({useFirstForumPostMessage:td}=m("useFirstForumPostMessage")),rd=m("MostCommonForumPostReaction"),Fr={Plugin:{storage:z,urlsFilter:function(e){return e.startsWith(gt)},installOrRemove:function(e){var t=Fr.Plugin.storage[e];return t?$t(e):lt(e)}},Theme:{storage:Y,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){var t=Fr.Theme.storage[e];return t?Gt(e):nt(e)}}};o(nd,"useExtractThreadContent");o(od,"useInstaller");ad=o(function(){return B("MostCommonForumPostReaction",rd,function([{thread:e,firstMessage:t}],r){var[n,a,i,l,u]=od(e,t,!0);if(!n)return React.createElement(React.Fragment,null,r,React.createElement(ee,null,React.createElement(aa,{size:"sm",loading:l,disabled:l,variant:i?"secondary":"primary",text:i?s.UNINSTALL:s.INSTALL,onPress:u,icon:_(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})))})},"installButtonPatch");o(Sa,"default")});function Ra({title:e,confirmText:t,confirmColor:r,onConfirm:n,cancelText:a,placeholder:i,initialValue:l="",secureTextEntry:u}){var[d,C]=React.useState(l),[I,w]=React.useState("");function U(){var k=Promise.resolve(n(d));k.then(function(){yl.close()}).catch(function(xe){w(xe.message)})}return o(U,"onConfirmWrapper"),React.createElement(sa,{title:e,confirmText:t,confirmColor:r,isConfirmButtonDisabled:I.length!==0,onConfirm:U,cancelText:a,onCancel:function(){return yl.close()}},React.createElement(ea,{placeholder:i,value:d,onChange:function(k){C(typeof k=="string"?k:k.text),I&&w("")},returnKeyType:"done",onSubmitEditing:U,error:I||void 0,secureTextEntry:u,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}}))}var yl,Tl=f(()=>{"use strict";K();It();Ae();yl=m("openLazy","close");o(Ra,"InputAlert")});var Cn={};b(Cn,{showConfirmationAlert:()=>Ze,showCustomAlert:()=>xn,showInputAlert:()=>Ur});function Ze(e){var t=e;return t.body=e.content,delete t.content,t.isDismissable??=!0,Al.show(t)}var Al,xn,Ur,Zt=f(()=>{"use strict";K();Tl();Al=m("openLazy","close");o(Ze,"showConfirmationAlert");xn=o(function(e,t){return Al.openLazy({importer:async function(){return function(){return React.createElement(e,t)}}})},"showCustomAlert"),Ur=o(function(e){return xn(Ra,e)},"showInputAlert")});function bl(e){if(e.startsWith(gt))return"plugin";if(e.endsWith(".json")&&Se())return"theme"}function xl(e,t){(e==="plugin"?lt:nt)(t).then(function(){D(s.SUCCESSFULLY_INSTALLED,_("Check"))}).catch(function(r){D(r.message,_("Small"))})}function ya(){var e=new Array;return e.push(B("showSimpleActionSheet",id,function(t){if(t[0].key==="LongPressUrl"){var{header:{title:r},options:n}=t[0],a=bl(r);a&&n.push({label:s.INSTALL_ADDON,onPress:function(){return xl(a,r)}})}})),e.push(ae("handleClick",ld,async function(t,r){var n,{href:a}=t[0],i=bl(a);if(!i)return r.apply(this,t);if(i==="theme"&&((n=cd(ud()))===null||n===void 0?void 0:n.parent_id)!==_r)return r.apply(this,t);Ze({title:s.HOLD_UP,content:ye("CONFIRMATION_LINK_IS_A_TYPE",{urlType:i}),onConfirm:function(){return xl(i,a)},confirmText:s.INSTALL,cancelText:s.CANCEL,secondaryConfirmText:s.OPEN_IN_BROWSER,onConfirmSecondary:function(){return sd(a)}})})),function(){return e.forEach(function(t){return t()})}}var id,ld,sd,ud,cd,Cl=f(()=>{"use strict";q();Q();Oe();ge();st();Pe();Ft();F();K();Zt();Je();id=te(function(e){var t;return e?.showSimpleActionSheet&&!(!((t=Object.getOwnPropertyDescriptor(e,"showSimpleActionSheet"))===null||t===void 0)&&t.get)}),ld=m("handleClick"),{openURL:sd}=St,{getChannelId:ud}=Sr,{getChannel:cd}=m("getChannel");o(bl,"typeFromUrl");o(xl,"installWithToast");o(ya,"default")});var Il={};b(Il,{default:()=>wl});function wl(){var e=new Array;return e.push(Sa()),e.push(ya()),function(){return e.forEach(function(t){return t()})}}var Nl=f(()=>{"use strict";Rl();Cl();o(wl,"onLoad")});function Dl(){var e=[(Nl(),Bt(Il))].map(function(t){return t.default()});return function(){return e.forEach(function(t){return typeof t=="function"&&t()})}}var Ll=f(()=>{"use strict";o(Dl,"initCorePlugins")});function In(e,t,r,n,a){return async function(){if(e)return void e();var i=await r().then(function(l){return l.default});typeof n=="string"&&(n={title:n}),t??=fd.getRootNavigationRef(),t.navigate("VendettaCustomPage",{...n,render:function(){return React.createElement(i,a)}})}}var fd,wn,Ta=f(()=>{"use strict";F();K();Xe();fd=m("getRootNavigationRef"),wn=React.memo(function(){var e=Ee.useNavigation(),t=Ee.useRoute(),{render:r,...n}=t.params;return React.useEffect(function(){return void e.setOptions({...n})},[]),React.createElement(ee,null,React.createElement(r,null))});o(In,"wrapOnPress")});function dd(){var e=Ee.useNavigation();return React.createElement(React.Fragment,null,Object.keys(qe).map(function(t){return React.createElement(_n,{key:t,title:t},qe[t].filter(function(r){var n;return((n=r.usePredicate)===null||n===void 0?void 0:n.call(r))??!0}).map(function(r){return React.createElement(Te,{label:r.title(),leading:React.createElement(Qo,{source:r.icon}),trailing:Te.Arrow,onPress:In(r.onPress,e,r.render,r.title())})}))}))}function Pl(e){e.push(B("default",X("getScreens",!1),function(r,n){return{...n,VendettaCustomPage:{title:"Bnuuy",render:function(){return React.createElement(wn,null)}}}}));var t=B("default",X("UserSettingsOverviewWrapper",!1),function(r,n){var a=Ie(n.props.children,function(i){var l;return((l=i.type)===null||l===void 0?void 0:l.name)==="UserSettingsOverview"});e.push(B("renderSupportAndAcknowledgements",a.type.prototype,function(i,{props:{children:l}}){var u=l.findIndex(function(d){var C;return(d==null||(C=d.type)===null||C===void 0?void 0:C.name)==="UploadLogsButton"});u!==-1&&l.splice(u,1)})),e.push(B("render",a.type.prototype,function(i,l){var u=[_t.Messages.BILLING_SETTINGS,_t.Messages.PREMIUM_SETTINGS],d=Ie(l.props.children,function(I){var w,U;return(I==null||(U=I.children)===null||U===void 0||(w=U[1])===null||w===void 0?void 0:w.type)===_n}).children,C=d.findIndex(function(I){return u.includes(I?.props.label)});d.splice(-~C||4,0,React.createElement(dd,null))}))},!0);e.push(t)}var Ol=f(()=>{"use strict";At();F();Ae();ur();ht();er();Ta();o(dd,"SettingsSection");o(Pl,"patchPanelUI")});function vd(){var e=!1;return React.useEffect(function(){return void(e=!0)},[]),e}function Bl(e){Hr.SETTING_RENDERER_CONFIG.VendettaCustomPage={type:"route",title:function(){return"Bunny"},screen:{route:"VendettaCustomPage",getComponent:function(){return wn}}};var t=o(function(){return Object.values(qe).flatMap(function(n){return n.map(function(a){return{[a.key]:{type:"pressable",title:a.title,icon:a.icon,usePredicate:a.usePredicate,onPress:In(a.onPress,null,a.render,a.title()),withArrow:!0,...a.rawTabsConfig}}})}).reduce(function(n,a){return Object.assign(n,a)})},"getRows"),r=Hr.SETTING_RENDERER_CONFIG;Hr.SETTING_RENDERER_CONFIG=new Proxy(r,{get:function(n,a,i){return Reflect.get({...n,...t()},a,i)},getOwnPropertyDescriptor:function(n,a){return Reflect.getOwnPropertyDescriptor({...n,...t()},a)},ownKeys:function(n){return[...Reflect.ownKeys(n),...Object.keys(t())]}}),e.push(function(){Hr.SETTING_RENDERER_CONFIG=r,delete Hr.SETTING_RENDERER_CONFIG.VendettaCustomPage}),e.push(B("default",md,function(n,a){if(!vd()){var{sections:i}=Ie(a,function(u){var d;return(d=u.props)===null||d===void 0?void 0:d.sections}).props,l=-~i.findIndex(function(u){return u.label===_t.Messages.ACCOUNT_SETTINGS})||1;Object.keys(qe).forEach(function(u){i.splice(l++,0,{label:u,title:u,settings:qe[u].map(function(d){return d.key})})})}}))}var Hr,md,Ml=f(()=>{"use strict";At();F();ur();ht();er();Ta();Hr=m("SETTING_RENDERER_CONFIG"),md=X("SettingsOverviewScreen",!1);o(vd,"useIsFirstRender");o(Bl,"patchTabsUI")});var ba={};b(ba,{patchSettings:()=>Aa,registerSection:()=>Nn,registeredSections:()=>qe});function Nn(e){return qe[e.name]=e.items,function(){return delete qe[e.name]}}function Aa(){var e=new Array;return Pl(e),Bl(e),function(){return e.forEach(function(t){return t()})}}var qe,ur=f(()=>{"use strict";Ol();Ml();qe={};o(Nn,"registerSection");o(Aa,"patchSettings")});var Ul,Fl=f(()=>{Ul="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA+CAYAAACbQR1vAAAAAXNSR0IArs4c6QAAAuRJREFUaEPtmjFuFTEQhudPCiqEgtIhuAAUVDQUyR0QFRU3gZtwAMQdQHSIAiUNZShSAaKgoMrAPmVXu479PF7PeNdrXvts7/zf/DO29z3Qyj7MzOOQAMAyRNPFUwN3xffzLSFUAaADYQWhGgBWEP4DSK1Ty/GhHmDZFKtygEUZqALwZPA3gNtS10gcQERvALyUrhkbpwYgFryki8fWsNgWiwGQBN8EgGsQDODAtWdLAHba3bKQAiCiLwAex+pb8r1mCZwT0UPJQ90xPYgEAGonQzUAnagUAT4IKfMlTVWSDFUAuRAkAUuaadI6KYOlY1MyKV0zVDZz5w8gcxcIzbeGsNoSGAOxhFAFAMueUA0AQwgHACavz+aUs/ouULAnHAK4miN6PKcYAAMnnAD4UBUAZQiv/vWB19UBUIRwCeBelQAUIWTfCYr2ADdbiueEtwCez3HD0gB+EtHRnMB9c+acDZYGkL2P594RFgOgaH+fGa4AHEqctQgAY/GDbklJFAdgJP4HgGNm7vpJ11fEEIoBYOZbRPRHYsvEMZ8APNl3C93nhCIAjLK+0+wT53teCIIpAEvhfcalAEKwggCug/9KRC8AfJbYkpnPiOiRZKzmmDGEGHQX2AQAM/8iojuawa1trSCAGLm1CcmJZwxhcEDTAFoS7zbDnQNaAuDtAa0A8G2ZvQO6ravbwjb9CQJoqQxi5wD1+7nHUu8BnOZajZnvE9G31HX2Ath3oUh9UMqNLGftOTF7zwFuELmNUXIX1xLuWycS//DCxHsXYOanRPRxToBLC5fC6OMMAUjuBWsUHnN1F3M2gBqEe0B0/2U69wJg5gsiehCzf43CfZpuOEDS/LYifncviNXJEttZzH2a37svRILNb0tZnyRVcpDYqvgbJeCp/3cAnmlabm1rBd8IbTnr3hIYZ78V8ZMS6AG0JH4A0Kr4CYDWMt/3ATDzMYDva+vOpeLpANwFMPlJudTD1/CcvynvVk7pHrbOAAAAAElFTkSuQmCC"});var Ln={};b(Ln,{connectToDebugger:()=>Vr,getDebugInfo:()=>ft,patchLogHook:()=>xa,socket:()=>ce,toggleSafeMode:()=>Gr,versionHash:()=>kr});async function Gr(){var e;if(T.safeMode={...T.safeMode,enabled:!(!((e=T.safeMode)===null||e===void 0)&&e.enabled)},Se()){var t,r,n;if(!((t=yt())===null||t===void 0)&&t.id&&(T.safeMode.currentThemeId=yt().id),!((r=T.safeMode)===null||r===void 0)&&r.enabled)await ot(null);else if(!((n=T.safeMode)===null||n===void 0)&&n.currentThemeId){var a;await ot(Y[(a=T.safeMode)===null||a===void 0?void 0:a.currentThemeId])}}setTimeout(so.reload,400)}function Vr(e){if(ce!==void 0&&ce.readyState!==WebSocket.CLOSED&&ce.close(),!e){D("Invalid debugger URL!",_("Small"));return}ce=new WebSocket(`ws://${e}`),ce.addEventListener("open",function(){return D("Connected to debugger.",_("Check"))}),ce.addEventListener("message",function(t){try{(0,eval)(t.data)}catch(r){console.error(r)}}),ce.addEventListener("error",function(t){console.log(`Debugger error: ${t.message}`),D("An error occurred with the debugger connection!",_("Small"))})}function xa(){var e=B("nativeLoggingHook",globalThis,function(t){ce?.readyState===WebSocket.OPEN&&ce.send(JSON.stringify({message:t[0],level:t[1]})),ue.log(t[0])});return function(){ce&&ce.close(),e()}}function ft(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",n=Dn.Platform.constants,a=n.reactNativeVersion;return{vendetta:{version:kr,loader:un()},bunny:{version:kr,loader:un()},discord:{version:qr.Version,build:qr.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):`${a.major}.${a.minor}.${a.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...Dn.Platform.select({android:{os:{name:"Android",version:n.Release,sdk:n.Version}},ios:{os:{name:n.systemName,version:n.osVersion}}}),...Dn.Platform.select({android:{device:{manufacturer:n.Manufacturer,brand:n.Brand,model:n.Model,codename:Ve.device}},ios:{device:{manufacturer:Ve.deviceManufacturer,brand:Ve.deviceBrand,model:Ve.deviceModel,codename:Ve.device}}})}}var Dn,ce,kr,dt=f(()=>{"use strict";Q();Oe();je();ge();Pe();ie();Ut();Je();Dn=W(Z());o(Gr,"toggleSafeMode");o(Vr,"connectToDebugger");o(xa,"patchLogHook");kr="1d2577e";o(ft,"getDebugInfo")});function Pn({label:e,version:t,icon:r}){return React.createElement(x,{label:e,icon:React.createElement(x.Icon,{source:_(r)}),trailing:React.createElement(Yt,null,t),onPress:function(){me.setString(`${e} - ${t}`),D.showCopyToClipboard()}})}var Hl=f(()=>{"use strict";Q();Ae();be();F();Je();o(Pn,"Version")});function Ca(){var e=ft();M(T);var t=[{label:s.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:s.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],r=[{label:s.LOADER,version:e.bunny.loader,icon:"ic_download_24px"},{label:s.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:s.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:s.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:s.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:On.Platform.select({android:s.CODENAME,ios:s.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return React.createElement(On.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(zt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(ve,{title:s.VERSIONS},t.map(function(n){return React.createElement(Pn,{label:n.label,version:n.version,icon:n.icon})})),React.createElement(ve,{title:s.PLATFORM},r.map(function(n){return React.createElement(Pn,{label:n.label,version:n.version,icon:n.icon})}))))}var On,kl=f(()=>{"use strict";q();Hl();ne();dt();ie();be();On=W(Z());o(Ca,"About")});var Vl={};b(Vl,{default:()=>Gl});function Gl(){var e,t;M(T);var r=ft(),n=ia();return React.createElement(Bn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(zt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(Pr,{messageType:1},gd),React.createElement(ve,{title:s.INFO},React.createElement(x,{label:s.BUNNY,icon:React.createElement(x.Icon,{source:{uri:wa}}),trailing:React.createElement(x.TrailingText,{text:r.bunny.version})}),React.createElement(x,{label:"Discord",icon:React.createElement(x.Icon,{source:_("Discord")}),trailing:React.createElement(x.TrailingText,{text:`${r.discord.version} (${r.discord.build})`})}),React.createElement(x,{arrow:!0,label:s.ABOUT,icon:React.createElement(x.Icon,{source:_("CircleInformationIcon")}),trailing:x.Arrow,onPress:function(){return n.push("VendettaCustomPage",{title:s.ABOUT,render:function(){return React.createElement(Ca,null)}})}})),React.createElement(ve,{title:s.LINKS},React.createElement(x,{label:s.DISCORD_SERVER,icon:React.createElement(x.Icon,{source:_("Discord")}),trailing:x.Arrow,onPress:function(){return St.openDeeplink(vo)}}),React.createElement(x,{label:s.GITHUB,icon:React.createElement(x.Icon,{source:_("img_account_sync_github_white")}),trailing:x.Arrow,onPress:function(){return St.openURL(po)}})),React.createElement(ve,{title:s.ACTIONS},React.createElement(x,{label:s.RELOAD_DISCORD,icon:React.createElement(x.Icon,{source:_("ic_message_retry")}),onPress:function(){return Bn.NativeModules.BundleUpdaterManager.reload()}}),React.createElement(x,{label:!((e=T.safeMode)===null||e===void 0)&&e.enabled?s.RELOAD_IN_NORMAL_MODE:s.RELOAD_IN_SAFE_MODE,subLabel:!((t=T.safeMode)===null||t===void 0)&&t.enabled?s.RELOAD_IN_NORMAL_MODE_DESC:s.RELOAD_IN_SAFE_MODE_DESC,icon:React.createElement(x.Icon,{source:_("ic_privacy_24px")}),onPress:Gr}),React.createElement(Wt,{label:s.DEVELOPER_SETTINGS,icon:React.createElement(x.Icon,{source:_("ic_progress_wrench_24px")}),value:T.developerSettings,onValueChange:function(a){T.developerSettings=a}})),React.createElement(ve,{title:s.MISCELLANEOUS},React.createElement(Wt,{label:s.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:s.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:React.createElement(x.Icon,{source:_("ic_progress_wrench_24px")}),value:T.enableDiscordDeveloperSettings,onValueChange:function(a){T.enableDiscordDeveloperSettings=a}}))))}var Bn,gd,jl=f(()=>{"use strict";q();Ia();Q();ne();dt();ie();It();be();Ft();F();Bn=W(Z());kl();gd='Most parts of Bunny are being rewritten, and the project is undergoing a rebranding to Pyoncord. "Bunny" has entered maintenance mode, and support for it will be discontinued soon in favor of Pyoncord. For more details, refer to the #rebrand channel on our Discord server.';o(Gl,"General")});var Yl=to(($l,Mn)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof Mn=="object"&&Mn.exports?Mn.exports=t():e.fuzzysort=t()})($l,function(e){"use strict";var t=o(function(v,c){if(v=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!v||!c)return P;var g=C(v);Pt(c)||(c=d(c));var h=g.bitflags;return(h&c._bitflags)!==h?P:w(g,c)},"single"),r=o(function(v,c,g){if(v=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:c?c[0]:P}];if(!v)return g&&g.all?I(v,c,g):qn;var h=C(v),E=h.bitflags,R=h.containsSpace,S=g&&g.threshold||Ot,p=g&&g.limit||Zn,A=0,y=0,N=c.length;if(g&&g.key)for(var le=g.key,O=0;O<N;++O){var pe=c[O],G=Xr(pe,le);if(G&&(Pt(G)||(G=d(G)),(E&G._bitflags)===E)){var j=w(h,G);j!==P&&(j.score<S||(j={target:j.target,_targetLower:"",_targetLowerCodes:P,_nextBeginningIndexes:P,_bitflags:0,score:j.score,_indexes:j._indexes,obj:pe},A<p?(Fe.add(j),++A):(++y,j.score>Fe.peek().score&&Fe.replaceTop(j))))}}else if(g&&g.keys)for(var Ja=g.scoreFn||Ds,vr=g.keys,Jr=vr.length,O=0;O<N;++O){for(var pe=c[O],fe=new Array(Jr),Ue=0;Ue<Jr;++Ue){var le=vr[Ue],G=Xr(pe,le);if(!G){fe[Ue]=P;continue}Pt(G)||(G=d(G)),(E&G._bitflags)!==E?fe[Ue]=P:fe[Ue]=w(h,G)}fe.obj=pe;var V=Ja(fe);V!==P&&(V<S||(fe.score=V,A<p?(Fe.add(fe),++A):(++y,V>Fe.peek().score&&Fe.replaceTop(fe))))}else for(var O=0;O<N;++O){var G=c[O];if(G&&(Pt(G)||(G=d(G)),(E&G._bitflags)===E)){var j=w(h,G);j!==P&&(j.score<S||(A<p?(Fe.add(j),++A):(++y,j.score>Fe.peek().score&&Fe.replaceTop(j))))}}if(A===0)return qn;for(var Qt=new Array(A),O=A-1;O>=0;--O)Qt[O]=Fe.poll();return Qt.total=A+y,Qt},"go"),n=o(function(v,c,g){if(typeof c=="function")return a(v,c);if(v===P)return P;c===void 0&&(c="<b>"),g===void 0&&(g="</b>");var h="",E=0,R=!1,S=v.target,p=S.length,A=v._indexes;A=A.slice(0,A.len).sort(function(le,O){return le-O});for(var y=0;y<p;++y){var N=S[y];if(A[E]===y){if(++E,R||(R=!0,h+=c),E===A.length){h+=N+g+S.substr(y+1);break}}else R&&(R=!1,h+=g);h+=N}return h},"highlight"),a=o(function(y,c){if(y===P)return P;var g=y.target,h=g.length,E=y._indexes;E=E.slice(0,E.len).sort(function(O,pe){return O-pe});for(var R="",S=0,p=0,A=!1,y=[],N=0;N<h;++N){var le=g[N];if(E[p]===N){if(++p,A||(A=!0,y.push(R),R=""),p===E.length){R+=le,y.push(c(R,S++)),R="",y.push(g.substr(N+1));break}}else A&&(A=!1,y.push(c(R,S++)),R="");R+=le}return y},"highlightCallback"),i=o(function(v){return v._indexes.slice(0,v._indexes.len).sort(function(c,g){return c-g})},"indexes"),l=o(function(v){typeof v!="string"&&(v="");var c=k(v);return{target:v,_targetLower:c._lower,_targetLowerCodes:c.lowerCodes,_nextBeginningIndexes:P,_bitflags:c.bitflags,score:P,_indexes:[0],obj:P}},"prepare"),u=o(function(v){typeof v!="string"&&(v=""),v=v.trim();var c=k(v),g=[];if(c.containsSpace){var h=v.split(/\s+/);h=[...new Set(h)];for(var E=0;E<h.length;E++)if(h[E]!==""){var R=k(h[E]);g.push({lowerCodes:R.lowerCodes,_lower:h[E].toLowerCase(),containsSpace:!1})}}return{lowerCodes:c.lowerCodes,bitflags:c.bitflags,containsSpace:c.containsSpace,_lower:c._lower,spaceSearches:g}},"prepareSearch"),d=o(function(v){if(v.length>999)return l(v);var c=Xn.get(v);return c!==void 0||(c=l(v),Xn.set(v,c)),c},"getPrepared"),C=o(function(v){if(v.length>999)return u(v);var c=Jn.get(v);return c!==void 0||(c=u(v),Jn.set(v,c)),c},"getPreparedSearch"),I=o(function(v,c,g){var h=[];h.total=c.length;var E=g&&g.limit||Zn;if(g&&g.key)for(var R=0;R<c.length;R++){var S=c[R],p=Xr(S,g.key);if(p){Pt(p)||(p=d(p)),p.score=Ot,p._indexes.len=0;var A=p;if(A={target:A.target,_targetLower:"",_targetLowerCodes:P,_nextBeginningIndexes:P,_bitflags:0,score:p.score,_indexes:P,obj:S},h.push(A),h.length>=E)return h}}else if(g&&g.keys)for(var R=0;R<c.length;R++){for(var S=c[R],y=new Array(g.keys.length),N=g.keys.length-1;N>=0;--N){var p=Xr(S,g.keys[N]);if(!p){y[N]=P;continue}Pt(p)||(p=d(p)),p.score=Ot,p._indexes.len=0,y[N]=p}if(y.obj=S,y.score=Ot,h.push(y),h.length>=E)return h}else for(var R=0;R<c.length;R++){var p=c[R];if(p&&(Pt(p)||(p=d(p)),p.score=Ot,p._indexes.len=0,h.push(p),h.length>=E))return h}return h},"all"),w=o(function(v,c,g=!1){if(g===!1&&v.containsSpace)return U(v,c);for(var h=v._lower,E=v.lowerCodes,R=E[0],S=c._targetLowerCodes,p=E.length,A=S.length,O=0,y=0,N=0;;){var le=R===S[y];if(le){if(Lt[N++]=y,++O,O===p)break;R=E[O]}if(++y,y>=A)return P}var O=0,pe=!1,G=0,j=c._nextBeginningIndexes;j===P&&(j=c._nextBeginningIndexes=qt(c.target));var Ja=y=Lt[0]===0?0:j[Lt[0]-1],vr=0;if(y!==A)for(;;)if(y>=A){if(O<=0||(++vr,vr>200))break;--O;var Jr=Kr[--G];y=j[Jr]}else{var le=E[O]===S[y];if(le){if(Kr[G++]=y,++O,O===p){pe=!0;break}++y}else y=j[y]}var fe=c._targetLower.indexOf(h,Lt[0]),Ue=~fe;if(Ue&&!pe)for(var V=0;V<N;++V)Lt[V]=fe+V;var Qt=!1;Ue&&(Qt=c._nextBeginningIndexes[fe-1]===fe);{if(pe)var He=Kr,Qn=G;else var He=Lt,Qn=N;for(var Qe=0,Za=0,V=1;V<p;++V)He[V]-He[V-1]!==1&&(Qe-=He[V],++Za);var Ps=He[p-1]-He[0]-(p-1);if(Qe-=(12+Ps)*Za,He[0]!==0&&(Qe-=He[0]*He[0]*.2),!pe)Qe*=1e3;else{for(var eo=1,V=j[0];V<A;V=j[V])++eo;eo>24&&(Qe*=(eo-24)*10)}Ue&&(Qe/=1+p*p*1),Qt&&(Qe/=1+p*p*1),Qe-=A-p,c.score=Qe;for(var V=0;V<Qn;++V)c._indexes[V]=He[V];return c._indexes.len=Qn,c}},"algorithm"),U=o(function(v,c){for(var g=new Set,h=0,E=P,R=0,S=v.spaceSearches,N=0;N<S.length;++N){var p=S[N];if(E=w(p,c),E===P)return P;h+=E.score,E._indexes[0]<R&&(h-=R-E._indexes[0]),R=E._indexes[0];for(var A=0;A<E._indexes.len;++A)g.add(E._indexes[A])}var y=w(v,c,!0);if(y!==P&&y.score>h)return y;E.score=h;var N=0;for(var le of g)E._indexes[N++]=le;return E._indexes.len=N,E},"algorithmSpaces"),k=o(function(v){for(var c=v.length,g=v.toLowerCase(),h=[],E=0,R=!1,S=0;S<c;++S){var p=h[S]=g.charCodeAt(S);if(p===32){R=!0;continue}var A=p>=97&&p<=122?p-97:p>=48&&p<=57?26:p<=127?30:31;E|=1<<A}return{lowerCodes:h,bitflags:E,containsSpace:R,_lower:g}},"prepareLowerInfo"),xe=o(function(v){for(var c=v.length,g=[],h=0,E=!1,R=!1,S=0;S<c;++S){var p=v.charCodeAt(S),A=p>=65&&p<=90,y=A||p>=97&&p<=122||p>=48&&p<=57,N=A&&!E||!R||!y;E=A,R=y,N&&(g[h++]=S)}return g},"prepareBeginningIndexes"),qt=o(function(v){for(var c=v.length,g=xe(v),h=[],E=g[0],R=0,S=0;S<c;++S)E>S?h[S]=E:(E=g[++R],h[S]=E===void 0?c:E);return h},"prepareNextBeginningIndexes"),mr=o(function(){Xn.clear(),Jn.clear(),Lt=[],Kr=[]},"cleanup"),Xn=new Map,Jn=new Map,Lt=[],Kr=[],Ds=o(function(v){for(var c=Ot,g=v.length,h=0;h<g;++h){var E=v[h];if(E!==P){var R=E.score;R>c&&(c=R)}}return c===Ot?P:c},"defaultScoreFn"),Xr=o(function(v,c){var g=v[c];if(g!==void 0)return g;var h=c;Array.isArray(c)||(h=c.split("."));for(var E=h.length,R=-1;v&&++R<E;)v=v[h[R]];return v},"getValue"),Pt=o(function(v){return typeof v=="object"},"isObj"),Zn=1/0,Ot=-Zn,qn=[];qn.total=0;var P=null,Ls=o(function(v){var c=[],g=0,h={},E=o(function(R){for(var S=0,p=c[S],A=1;A<g;){var y=A+1;S=A,y<g&&c[y].score<c[A].score&&(S=y),c[S-1>>1]=c[S],A=1+(S<<1)}for(var N=S-1>>1;S>0&&p.score<c[N].score;N=(S=N)-1>>1)c[S]=c[N];c[S]=p},"v");return h.add=function(R){var S=g;c[g++]=R;for(var p=S-1>>1;S>0&&R.score<c[p].score;p=(S=p)-1>>1)c[S]=c[p];c[S]=R},h.poll=function(R){if(g!==0){var S=c[0];return c[0]=c[--g],E(),S}},h.peek=function(R){if(g!==0)return c[0]},h.replaceTop=function(R){c[0]=R,E()},h},"fastpriorityqueue"),Fe=Ls();return{single:t,go:r,highlight:n,prepare:l,indexes:i,cleanup:mr}})});function hd(e,t){return t?zl.default.go(t,e,{keys:["id","manifest.name","manifest.description","manifest.authors.0.name","manifest.authors.1.name"]}).map(function(r){return r.obj}):e}function jr({floatingButtonText:e,fetchFunction:t,items:r,safeModeMessage:n,safeModeExtras:a,card:i}){var l;M(T),M(r);var u=Ed.useSharedValue(0),d=React.useRef(0),[C,I]=React.useState("");return React.createElement(ee,null,React.createElement(Fn.FlatList,{ListHeaderComponent:React.createElement(React.Fragment,null,((l=T.safeMode)===null||l===void 0?void 0:l.enabled)&&React.createElement(Fn.View,{style:{marginBottom:10}},React.createElement(Pr,{messageType:0},n),a),React.createElement(ct,{style:{marginBottom:15},onChangeText:function(w){return I(w.toLowerCase())},placeholder:s.SEARCH})),onScroll:function(w){w.nativeEvent.contentOffset.y<=0||(u.value=+(w.nativeEvent.contentOffset.y>d.current),d.current=w.nativeEvent.contentOffset.y)},style:{paddingHorizontal:10,paddingTop:10},contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},data:hd(Object.values(r),C),renderItem:function({item:w,index:U}){return React.createElement(i,{item:w,index:U})}}),React.createElement(_d,{text:e,icon:_("DownloadIcon"),state:{collapseText:u},onPress:function(){me.getString().then(function(w){var U;return Ur({title:e,initialValue:((U=w.match(Er))===null||U===void 0?void 0:U[0])??"",placeholder:s.URL_PLACEHOLDER,onConfirm:function(k){return t(k)},confirmText:s.INSTALL,cancelText:s.CANCEL})})}}))}var zl,Fn,Ed,_d,Na=f(()=>{"use strict";q();Q();ne();K();ie();It();Ft();F();Zt();Xe();zl=W(Yl()),Fn=W(Z());o(hd,"getItemsByQuery");Ed=m("useSharedValue"),{FloatingActionButton:_d}=m("FloatingActionButton");o(jr,"AddonPage")});function $r(e){var t,r=yd();return React.createElement(De.View,{style:[r.card,{marginTop:e.index!==0?15:0}]},React.createElement(cr.ImageBackground,{source:e.headerIcon&&_(e.headerIcon)||{},resizeMode:"cover",imageStyle:r.iconStyle},React.createElement(Te,{style:r.header,label:React.createElement(cr.View,{style:r.headerLeading},React.createElement(De.Text,{style:r.headerLabel},e.headerLabel),e.headerSublabel&&React.createElement(De.Text,{style:r.headerSubtitle},e.headerSublabel)),trailing:React.createElement(cr.View,{style:r.headerTrailing},React.createElement(cr.View,{style:r.actions},e.overflowActions&&React.createElement(Sn,{onPress:function(){var n;return Rd({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&React.createElement(Te.Icon,{style:{marginRight:8},source:_(e.headerIcon)}),onClose:function(){return Sd()}},options:(n=e.overflowActions)===null||n===void 0?void 0:n.map(function(a){return{...a,icon:_(a.icon)}})})},size:"sm",variant:"secondary",icon:_("CircleInformationIcon")}),(t=e.actions)===null||t===void 0?void 0:t.map(function({icon:n,onPress:a,disabled:i}){return React.createElement(Sn,{onPress:a,disabled:i,size:"sm",variant:"secondary",icon:_(n)})})),e.toggleType&&(e.toggleType==="switch"?React.createElement(na,{value:e.toggleValue,onValueChange:e.onToggleChange}):React.createElement(De.Pressable,{onPress:function(){var n;(n=e.onToggleChange)===null||n===void 0||n.call(e,!e.toggleValue)}},React.createElement(oa,{checked:e.toggleValue}))))}),React.createElement(Te,{label:React.createElement(De.View,null,React.createElement(De.Text,{style:r.descriptionLabel},e.descriptionLabel))})))}var cr,Sd,Rd,yd,Da=f(()=>{"use strict";Q();Ae();be();Dt();F();K();Nt();cr=W(Z()),{hideActionSheet:Sd}=m("openLazy","hideActionSheet"),{showSimpleActionSheet:Rd}=m("showSimpleActionSheet"),yd=Kt({card:{backgroundColor:J===null||J===void 0?void 0:J.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...Ke["heading-md/semibold"],color:J.TEXT_NORMAL},headerSubtitle:{...Ke["text-md/semibold"],color:J.TEXT_MUTED},descriptionLabel:{...Ke["text-md/semibold"],color:J.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:J.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}});o($r,"Card")});async function Wl(e,t){e.enabled&&Ct(e.id,!1),t(),e.enabled&&await xt(e.id)}function La({item:e,index:t}){var r,n;M(e);var a=Lr(e.id),i=Ee.useNavigation(),[l,u]=React.useState(!1);return l?null:React.createElement($r,{index:t,headerLabel:`${e.manifest.name}`,headerSublabel:((r=e.manifest.authors)===null||r===void 0?void 0:r[0])&&`by ${e.manifest.authors.map(function(d){return d.name}).join(", ")}`,headerIcon:(n=e.manifest.vendetta)===null||n===void 0?void 0:n.icon,toggleType:"switch",toggleValue:e.enabled,onToggleChange:function(d){try{d?xt(e.id):Ct(e.id)}catch(C){D(C.message,_("Small"))}},descriptionLabel:e.manifest.description,overflowTitle:e.manifest.name,actions:[{icon:"WrenchIcon",disabled:!a,onPress:function(){return i.push("VendettaCustomPage",{title:e.manifest.name,render:a})}}],overflowActions:[...a?[{label:s.OVERFLOW_PLUGIN_SETTINGS,icon:"settings",onPress:function(){return i.push("VendettaCustomPage",{title:e.manifest.name,render:a})}}]:[],{icon:"ic_sync_24px",label:s.REFETCH,onPress:async function(){Wl(e,function(){bt(e.id).then(async function(){D(s.PLUGIN_REFETCH_SUCCESSFUL,_("toast_image_saved"))}).catch(function(){D(s.PLUGIN_REFETCH_FAILED,_("Small"))})})}},{icon:"copy",label:s.COPY_URL,onPress:function(){me.setString(e.id),D.showCopyToClipboard()}},{icon:"ic_download_24px",label:e.update?s.DISABLE_UPDATES:s.ENABLE_UPDATES,onPress:function(){e.update=!e.update,D(ye("TOASTS_PLUGIN_UPDATE",{update:e.update,name:e.manifest.name}),_("toast_image_saved"))}},{icon:"ic_duplicate",label:s.CLEAR_DATA,isDestructive:!0,onPress:function(){return Ze({title:s.HOLD_UP,content:ye("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.manifest.name}),confirmText:s.CLEAR,cancelText:s.CANCEL,confirmColor:de.RED,onConfirm:function(){Wl(e,function(){try{et.removeItem(e.id),D(ye("CLEAR_DATA_SUCCESSFUL",{name:e.manifest.name}),_("trash"))}catch{D(ye("CLEAR_DATA_FAILED",{name:e.manifest.name}),_("Small"))}})}})}},{icon:"ic_message_delete",label:s.DELETE,isDestructive:!0,onPress:function(){return Ze({title:s.HOLD_UP,content:ye("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.manifest.name}),confirmText:s.DELETE,cancelText:s.CANCEL,confirmColor:de.RED,onConfirm:function(){try{$t(e.id),u(!0)}catch(d){D(d.message,_("Small"))}}})}}]})}var Kl=f(()=>{"use strict";q();Da();Q();je();ne();st();rr();F();Zt();Je();o(Wl,"stopThenStart");o(La,"PluginCard")});var Jl={};b(Jl,{default:()=>Xl});function Xl(){return M(T),React.createElement(jr,{title:s.PLUGINS,floatingButtonText:s.INSTALL_PLUGIN,fetchFunction:lt,items:z,safeModeMessage:s.SAFE_MODE_NOTICE_PLUGINS,card:La})}var Zl=f(()=>{"use strict";q();Na();Kl();ne();st();ie();o(Xl,"Plugins")});function ql(e,t){try{ot(e?t:null),Tr(e?t:null)}catch(r){console.error("Error while selectAndApply,",r)}}function Pa({item:e,index:t}){var r;M(e);var[n,a]=React.useState(!1);if(n)return null;var{authors:i}=e.data;return React.createElement($r,{index:t,headerLabel:e.data.name,headerSublabel:i?`by ${i.map(function(l){return l.name}).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:!((r=T.safeMode)===null||r===void 0)&&r.enabled?void 0:"radio",toggleValue:e.selected,onToggleChange:function(l){ql(l,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:s.REFETCH,onPress:function(){kt(e.id,e.selected).then(function(){D(s.THEME_REFETCH_SUCCESSFUL,_("toast_image_saved"))}).catch(function(){D(s.THEME_REFETCH_FAILED,_("Small"))})}},{icon:"copy",label:s.COPY_URL,onPress:function(){me.setString(e.id),D.showCopyToClipboard()}},{icon:"ic_message_delete",label:s.DELETE,isDestructive:!0,onPress:function(){return Ze({title:s.HOLD_UP,content:ye("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:s.DELETE,cancelText:s.CANCEL,confirmColor:de.RED,onConfirm:function(){Gt(e.id).then(function(l){a(!0),l&&ql(!1,e)}).catch(function(l){D(l.message,_("Small"))})}})}}]})}var Ql=f(()=>{"use strict";q();Da();Q();ne();Pe();ie();rr();F();Zt();Je();o(ql,"selectAndApply");o(Pa,"ThemeCard")});var ts={};b(ts,{default:()=>es});function es(){var e,t;return M(T),M(Y),React.createElement(jr,{title:s.THEMES,floatingButtonText:s.INSTALL_THEME,fetchFunction:nt,items:Y,safeModeMessage:ye("SAFE_MODE_NOTICE_THEMES",{enabled:!!(!((e=T.safeMode)===null||e===void 0)&&e.currentThemeId)}),safeModeExtras:!((t=T.safeMode)===null||t===void 0)&&t.currentThemeId?React.createElement(We,{text:s.DISABLE_THEME,color:de.BRAND,size:"small",onPress:function(){var r;(r=T.safeMode)===null||r===void 0||delete r.currentThemeId},style:{marginTop:8}}):void 0,card:Pa})}var rs=f(()=>{"use strict";q();Na();Ql();ne();Pe();ie();rr();It();o(es,"Themes")});function Oa({asset:e}){return React.createElement(Te,{label:`${e.name} - ${e.id}`,trailing:React.createElement(ns.Image,{source:e.id,style:{width:32,height:32}}),onPress:function(){me.setString(e.name),D.showCopyToClipboard()}})}var ns,os=f(()=>{"use strict";Ae();F();Je();ns=W(Z());o(Oa,"AssetDisplay")});function Ba(){var[e,t]=React.useState("");return React.createElement(ee,null,React.createElement(Un.View,{style:{flex:1}},React.createElement(ct,{style:{margin:10},onChangeText:function(r){return t(r)}}),React.createElement(Un.FlatList,{data:Object.values(Be).filter(function(r){return r.name.includes(e)||r.id.toString()===e}),renderItem:function({item:r}){return React.createElement(Oa,{asset:r})},ItemSeparatorComponent:qo,keyExtractor:function(r){return r.name}})))}var Un,as=f(()=>{"use strict";os();Q();Ae();Xe();Un=W(Z());o(Ba,"AssetBrowser")});var ls={};b(ls,{default:()=>is});function is(){var e=bd(),t=Ee.useNavigation();return M(T),M(Re),React.createElement(ee,null,React.createElement(Hn.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(zt,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(lr,{label:s.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return React.createElement(Yt,{style:e.leadingText},"ws://")},defaultValue:T.debuggerUrl,onChange:function(r){return T.debuggerUrl=r}}),React.createElement(ve,{title:s.DEBUG},React.createElement(x,{label:s.CONNECT_TO_DEBUG_WEBSOCKET,icon:React.createElement(x.Icon,{source:_("copy")}),onPress:function(){return Vr(T.debuggerUrl)}}),ar()&&React.createElement(React.Fragment,null,React.createElement(x,{label:s.CONNECT_TO_REACT_DEVTOOLS,icon:React.createElement(x.Icon,{source:_("ic_badge_staff")}),onPress:function(){var r,n;return(n=window[Mo()||"__vendetta_rdc"])===null||n===void 0?void 0:n.connectToDevTools({host:(r=T.debuggerUrl.split(":"))===null||r===void 0?void 0:r[0],resolveRNStyle:Hn.StyleSheet.flatten})}}))),cn()&&React.createElement(React.Fragment,null,React.createElement(ve,{title:"Loader config"},React.createElement(Wt,{label:s.LOAD_FROM_CUSTOM_URL,subLabel:s.LOAD_FROM_CUSTOM_URL_DEC,icon:React.createElement(x.Icon,{source:_("copy")}),value:Re.customLoadUrl.enabled,onValueChange:function(r){Re.customLoadUrl.enabled=r}}),Re.customLoadUrl.enabled&&React.createElement(x,{label:React.createElement(lr,{defaultValue:Re.customLoadUrl.url,size:"md",onChange:function(r){return Re.customLoadUrl.url=r},placeholder:"http://localhost:4040/vendetta.js",label:s.BUNNY_URL})}),ar()&&React.createElement(Wt,{label:s.LOAD_REACT_DEVTOOLS,subLabel:`${s.VERSION}: ${Fo()}`,icon:React.createElement(x.Icon,{source:_("ic_badge_staff")}),value:Re.loadReactDevTools,onValueChange:function(r){Re.loadReactDevTools=r}}))),React.createElement(ve,{title:"Other"},React.createElement(x,{arrow:!0,label:s.ASSET_BROWSER,icon:React.createElement(x.Icon,{source:_("ic_image")}),trailing:x.Arrow,onPress:function(){return t.push("VendettaCustomPage",{title:s.ASSET_BROWSER,render:Ba})}}),React.createElement(x,{arrow:!0,label:s.ERROR_BOUNDARY_TOOLS_LABEL,icon:React.createElement(x.Icon,{source:_("ic_warning_24px")}),onPress:function(){return Ad({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:React.createElement(x.Icon,{style:{marginRight:8},source:_("ic_warning_24px")}),onClose:function(){return Td()}},options:[{label:s.BUNNY,onPress:function(){return t.push("VendettaCustomPage",{render:function(){return React.createElement("undefined",null)}})}},{label:"Discord",isDestructive:!0,onPress:function(){return t.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}})))))}var Hn,Td,Ad,bd,ss=f(()=>{"use strict";q();as();Q();Oe();ne();dt();ie();Ae();be();F();K();Nt();Xe();Dt();Hn=W(Z()),{hideActionSheet:Td}=m("openLazy","hideActionSheet"),{showSimpleActionSheet:Ad}=m("showSimpleActionSheet"),bd=Kt({leadingText:{...Ke["heading-md/semibold"],color:J.TEXT_MUTED,marginRight:-4}});o(is,"Developer")});function Ma(){Nn({name:"Bunny",items:[{key:"BUNNY",title:function(){return s.BUNNY},icon:{uri:wa},render:function(){return Promise.resolve().then(()=>(jl(),Vl))},rawTabsConfig:{useTrailing:function(){return"(1d2577e)"}}},{key:"BUNNY_PLUGINS",title:function(){return s.PLUGINS},icon:_("ActivitiesIcon"),render:function(){return Promise.resolve().then(()=>(Zl(),Jl))}},{key:"BUNNY_THEMES",title:function(){return s.THEMES},icon:_("PaintPaletteIcon"),render:function(){return Promise.resolve().then(()=>(rs(),ts))},usePredicate:function(){return Se()}},{key:"BUNNY_DEVELOPER",title:function(){return s.DEVELOPER},icon:_("WrenchIcon"),render:function(){return Promise.resolve().then(()=>(ss(),ls))},usePredicate:function(){return M(T).developerSettings??!1}}]}),Nn({name:"Vendetta",items:[]})}var wa,Ia=f(()=>{"use strict";q();Q();Oe();ne();ie();ur();Fl();wa=Ul;o(Ma,"initSettings")});var kn,fr,dr,Gn=f(()=>{"use strict";(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(kn||(kn={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(fr||(fr={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(dr||(dr={}))});var cs={};b(cs,{default:()=>us});function us(){return{name:"debug",description:s.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:fr.BOOLEAN,description:s.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=ft(),n=["**Bunny Debug Info**",`> Bunny: ${r.bunny.version} (${r.bunny.loader})`,`> Discord: ${r.discord.version} (${r.discord.build})`,`> React: ${r.react.version} (RN ${r.react.nativeVersion})`,`> Hermes: ${r.hermes.version} (bcv${r.hermes.bytecodeVersion})`,`> System: ${r.os.name} ${r.os.version} (SDK ${r.os.sdk})`,`> Device: ${r.device.model} (${r.device.codename})`].join(`
`);e?.value?rt.sendBotMessage(t.channel.id,n):rt.sendMessage(t.channel.id,{content:n})}}}var fs=f(()=>{"use strict";q();Gn();dt();F();o(us,"default")});var ms={};b(ms,{default:()=>ds});function ds(){return{name:"plugins",description:s.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:fr.BOOLEAN,description:s.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],t){var r=Object.values(z).sort(function(l,u){return l.manifest.name.localeCompare(u.manifest.name)}),n=r.filter(function(l){return l.enabled}).map(function(l){return l.manifest.name}),a=r.filter(function(l){return!l.enabled}).map(function(l){return l.manifest.name}),i=[`**Installed Plugins (${r.length}):**`,...n.length>0?[`Enabled (${n.length}):`,"> "+n.join(", ")]:[],...a.length>0?[`Disabled (${a.length}):`,"> "+a.join(", ")]:[]].join(`
`);e?.value?rt.sendBotMessage(t.channel.id,i):rt.sendMessage(t.channel.id,{content:i})}}}var vs=f(()=>{"use strict";q();Gn();st();F();o(ds,"default")});var jn={};b(jn,{patchCommands:()=>Fa,registerCommand:()=>Vn});function Fa(){var e=B("getBuiltInCommands",nr,function([t],r){if(t===dr.CHAT)return r.concat(Yr)});return[(fs(),Bt(cs)),(vs(),Bt(ms))].forEach(function(t){return Vn(t.default())}),function(){Yr=[],e()}}function Vn(e){var t=nr.getBuiltInCommands(dr.CHAT,!0,!1);t.sort(function(a,i){return parseInt(i.id)-parseInt(a.id)});var r=t[t.length-1];if(e.id=(parseInt(r.id,10)-1).toString(),e.__isBunny=!0,e.applicationId??="-1",e.type??=dr.CHAT,e.inputType=kn.BUILT_IN,e.displayName??=e.name,e.displayDescription??=e.description,e.options)for(var n of e.options)n.displayName??=n.name,n.displayDescription??=n.description;return ae("execute",e,function(a,i){Promise.resolve(i.apply(e,a)).then(function(l){l&&typeof l=="object"&&rt.sendMessage(a[1].channel.id,l)}).catch(function(l){ue.error("Failed to execute command",l)})}),Yr.push(e),function(){return Yr=Yr.filter(function({id:a}){return a!==e.id})}}var Yr,$n=f(()=>{"use strict";Gn();ge();Ut();F();Yr=[];o(Fa,"patchCommands");o(Vn,"registerCommand")});var ps,gs=f(()=>{"use strict";Q();$n();Oe();ge();ne();dt();st();Pe();ie();Ae();be();Dt();ht();F();K();Zt();Nt();Xe();Je();ps=o(function(){var e=window.vendetta={patcher:{before:Mt.before,after:Mt.after,instead:Mt.instead},metro:{modules:window.modules,find:function(t){return te(t)},findAll:function(t){return it(t)},findByProps:function(...t){return t.length===1&&t[0]==="KeyboardAwareScrollView"&&t.push("listenToKeyboardEvents"),m(...t)},findByPropsAll:function(...t){return Cr(...t)},findByName:function(t,r){return t==="create"&&typeof r>"u"?X("create",!1).default:X(t,r??!0)},findByNameAll:function(t,r=!0){return wr(t,r)},findByDisplayName:function(t,r=!0){return Vt(t,r)},findByDisplayNameAll:function(t,r=!0){return Ir(t,r)},findByTypeName:function(t,r=!0){return Nr(t,r)},findByTypeNameAll:function(t,r=!0){return Dr(t,r)},findByStoreName:function(t){return at(t)},common:{constants:he,channels:Sr,i18n:_t,url:St,toasts:Rr,stylesheet:{...ut,createThemedStyleSheet:Xt},clipboard:me,assets:Ht,invites:To,commands:nr,navigation:Ao,navigationStack:bo,NavigationNative:Ee,Flux:xo,FluxDispatcher:Ne,React:_e,ReactNative:De,moment:yr,chroma:Ye,lodash:Co,util:wo}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(t,r){return Ie(t,r)},findInTree:function(t,r,n){return tr(t,r,n)},safeFetch:function(t,r,n){return Et(t,r,n)},unfreeze:function(t){return Object.isFrozen(t)?{...t}:t},without:function(t,...r){return on(t,...r)}},debug:{connectToDebugger:function(t){return Vr(t)},getDebugInfo:function(){return ft()}},ui:{components:{Forms:En,General:De,Alert:wt.Alert,Button:wt.Button,HelpMessage:wt.HelpMessage,SafeAreaView:wt.SafeAreaView,Summary:Mr,ErrorBoundary:ee,Codeblock:Me,Search:ct},toasts:{showToast:function(t,r){return D(t,r)}},alerts:{showConfirmationAlert:function(t){return Ze(t)},showCustomAlert:function(t,r){return xn(t,r)},showInputAlert:function(t){return Ur(t)}},assets:{all:Be,find:function(t){return Ko(t)},getAssetByName:function(t){return Xo(t)},getAssetByID:function(t){return Jo(t)},getAssetIDByName:function(t){return _(t)}},semanticColors:J,rawColors:da},plugins:{plugins:z,fetchPlugin:function(t){return bt(t)},installPlugin:function(t,r){return lt(t,r)},startPlugin:function(t){return xt(t)},stopPlugin:function(t,r){return Ct(t,r)},removePlugin:function(t){return $t(t)},getSettings:function(t){return Lr(t)}},themes:{themes:Y,fetchTheme:function(t,r){return kt(t,r)},installTheme:function(t){return nt(t)},selectTheme:function(t){return ot(t==="default"?null:Y[t])},removeTheme:function(t){return Gt(t)},getCurrentTheme:function(){return yt()},updateThemes:function(){return sn()}},commands:{registerCommand:Vn},storage:{createProxy:function(t){return rn(t)},useProxy:function(t){return M(t)},createStorage:function(t){return we(t)},wrapSync:function(t){return $e(t)},awaitSyncWrapper:function(t){return pt(t)},createMMKVBackend:function(t){return Ce(t)},createFileBackend:function(t){return oe()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),tt(t)}},settings:T,loader:{identity:xr()??void 0,config:Re},logger:{log:function(...t){return console.log(...t)},info:function(...t){return console.info(...t)},warn:function(...t){return console.warn(...t)},error:function(...t){return console.error(...t)},time:function(...t){return console.time(...t)},trace:function(...t){return console.trace(...t)},verbose:function(...t){return console.log(...t)}},version:kr,unload:function(){delete window.vendetta}};return function(){return e.unload()}},"initVendettaObject")});var Ha={};b(Ha,{dispatcher:()=>Yn,injectFluxInterceptor:()=>Ua,intercept:()=>Cd});function Ua(){var e=o(function(t){for(var r of zn){var n=r(t);n!=null&&(n?typeof n=="object"&&(Object.assign(t,n),t[xd]=!0):t[hs]=!0)}return hs in t},"cb");return(Yn._interceptors??=[]).unshift(e),function(){return Yn._interceptors&&=Yn._interceptors.filter(function(t){return t!==e})}}function Cd(e){return zn.push(e),function(){zn=zn.filter(function(t){return t!==e})}}var hs,xd,Yn,zn,ka=f(()=>{"use strict";F();hs=Symbol.for("bunny.flux.blocked"),xd=Symbol.for("bunny.flux.modified"),Yn=Ne,zn=[];o(Ua,"injectFluxInterceptor");o(Cd,"intercept")});var Va={};b(Va,{downloadFile:()=>Nd,fileExists:()=>wd,readFile:()=>Id,removeFile:()=>Ga,writeFile:()=>Wn});async function Ga(e,t="pyoncord/"){if(typeof L.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void await L.removeFile("documents",`${t}${e}`)}async function wd(e,t="pyoncord/"){return await L.fileExists(`${L.getConstants().DocumentsDirPath}/${t}${e}`)}async function Wn(e,t,r="pyoncord/"){if(typeof t!="string")throw new Error("Argument 'data' must be a string");return void await L.writeFile("documents",`${r}${e}`,t,"utf8")}async function Id(e,t,r="pyoncord/"){try{return await L.readFile(`${L.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch{if(t==null)throw new Error(`Errored while reading ${e} doesn't exist`);return await Wn(e,t),t}}async function Nd(e,t,r="pyoncord/"){var n=await fetch(e).then(function(u){return u.blob()}),a=await new Promise(function(u){var d=new FileReader;d.onload=function(){return u(d.result)},d.readAsDataURL(n)}),i;if(a==null)throw new Error("Failed to convert blob to data URL");var l=a.indexOf("base64,");if(l===-1)throw new Error("dataURL does not contain base64");return i=a.slice(l+7),void await L.writeFile("documents",`${r}${t}`,i,"base64")}var ja=f(()=>{"use strict";je();o(Ga,"removeFile");o(wd,"fileExists");o(Wn,"writeFile");o(Id,"readFile");o(Nd,"downloadFile")});function $a(){return B("render",Dd.prototype,function(e,t){var r=this,n;if(this.state.error){this.state.activeTab??="message";var a=Es.find(function(u){return u.id===r.state.activeTab}),i=this.state.error[this.state.activeTab],l=[{text:s.RELOAD_DISCORD,onPress:this.handleReload},...!((n=T.safeMode)===null||n===void 0)&&n.enabled?[]:[{text:s.RELOAD_IN_SAFE_MODE,onPress:Gr}],{text:s.RETRY_RENDER,color:de.RED,onPress:function(){return r.setState({info:null,error:null})}}];return React.createElement(ee,null,React.createElement(ua,{style:zr.container},React.createElement(mt.View,{style:zr.header},React.createElement(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),React.createElement(mt.View,{style:{flex:2,paddingLeft:24}},React.createElement(mt.Text,{style:zr.headerTitle},t.props.title),React.createElement(mt.Text,{style:zr.headerDescription},t.props.body))),React.createElement(mt.View,{style:{flex:6}},React.createElement(mt.View,{style:{paddingBottom:8}},React.createElement(Ld,{tabs:Es.map(function(u){return{...u,title:u.title()}}),activeTab:this.state.activeTab,onTabSelected:function(u){r.setState({activeTab:u})}})),React.createElement(Me,{selectable:!0,style:{flex:1,textAlignVertical:"top"}},a?.trimWhitespace?i.split(`
`).filter(function(u){return u.length!==0}).map(function(u){return u.trim()}).join(`
`):i)),React.createElement(mt.View,{style:zr.footer},l.map(function(u){var d=l.indexOf(u)!==0?8:0;return React.createElement(We,{text:u.text,color:u.color??de.BRAND,size:u.size??"small",onPress:u.onPress,style:Ve.isTablet?{flex:`0.${l.length}`,marginLeft:d}:{marginTop:d}})}))))}})}var mt,Dd,Ld,zr,Es,_s=f(()=>{"use strict";q();je();ge();dt();ie();rr();K();Nt();Xe();It();Dt();mt=W(Z()),Dd=X("ErrorBoundary"),{BadgableTabBar:Ld}=m("BadgableTabBar"),zr=Xt({container:{flex:1,backgroundColor:J.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...Ke["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:J.HEADER_PRIMARY},headerDescription:{...Ke["text-sm/medium"],textAlign:"center",color:J.TEXT_MUTED},footer:{flexDirection:Ve.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),Es=[{id:"message",title:function(){return s.MESSAGE}},{id:"stack",title:function(){return s.STACK_TRACE}},{id:"componentStack",title:function(){return s.COMPONENT},trimWhitespace:!0}];o($a,"default")});var Ss=f(()=>{"use strict"});var Ya={};b(Ya,{fs:()=>Va,loader:()=>ko,modules:()=>Qr});var Rs=f(()=>{"use strict";ja();Oe();je()});var za={};b(za,{assets:()=>gn,commands:()=>jn,flux:()=>Ha,native:()=>Ya,patcher:()=>io,storage:()=>nn});var ys=f(()=>{"use strict";Q();$n();ka();Rs();ge();ne()});var Wa={};b(Wa,{plugins:()=>hn,themes:()=>Ar});var Ts=f(()=>{"use strict";st();Pe()});var Ka={};b(Ka,{alerts:()=>Cn,color:()=>Rn,components:()=>An,settings:()=>ba,styles:()=>pa,toasts:()=>bn});var As=f(()=>{"use strict";Zt();Nt();Xe();ur();Dt();Je()});var Xa={};b(Xa,{api:()=>za,debug:()=>Ln,managers:()=>Wa,metro:()=>Go,settings:()=>fn,ui:()=>Ka,unload:()=>Wr,utils:()=>an});function Wr(){for(var e of bs)typeof e=="function"&&e();delete window.bunny}var bs,xs=f(()=>{"use strict";Ss();ys();dt();Ts();At();ie();As();ht();bs=new Array;o(Wr,"unload");Wr.push=function(e){bs.push(e)}});var ws={};b(ws,{default:()=>Cs});async function Cs(){if(Se())try{oe()&&(L.removeFile!=null?Ga("vendetta_theme.json",""):Wn("vendetta_theme.json","null","")),Oo()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}await Promise.all([Ua(),Aa(),xa(),Wo(),Fa(),Po(),ps(),Fi(),Ma(),Yo(),$a(),Dl()]).then(function(e){return e.forEach(function(t){return t&&Wr.push(t)})}),window.bunny=Xa,Wr.push(await Zo()),ue.log("Bunny is ready!")}var Is=f(()=>{"use strict";Pi();q();Ll();Ia();gs();Q();$n();ka();ja();Oe();je();dt();st();Pe();ur();Ut();_s();xs();o(Cs,"default")});er();globalThis.window=globalThis;var Ns=o(async function(){try{console.log("Hello from Bunny! Pyon!"),Object.freeze=Object.seal=Object,await Promise.resolve().then(()=>(Is(),ws)).then(function(a){return a.default()})}catch(a){var e,t,{ClientInfoManager:r}=(je(),Bt(Qr)),n=a instanceof Error?a.stack:void 0;console.log(n??(a==null||(e=a.toString)===null||e===void 0?void 0:e.call(a))??a),alert([`Failed to load Bunny!
`,`Build Number: ${r.Build}`,"Bunny: 1d2577e",n||(a==null||(t=a.toString)===null||t===void 0?void 0:t.call(a))].join(`
`))}},"init");if(typeof globalThis.__r<"u")Ns();else{var e=function(t){var r=window.__fbBatchedBridge,n=new Array,a=ae("callFunctionReturnFlushedQueue",r,function(l,u){return l[0]==="AppRegistry"||!r.getCallableModule(l[0])?(n.push(l),r.flushedQueue()):u.apply(r,l)}),i=o(function(){Ns(),a(),t(0),n.forEach(function(l){return r.getCallableModule(l[0])&&r.__callFunction(...l)})},"startDiscord");i()};xS=e,o(e,"onceIndexRequired"),Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return Kn},set(t){Kn=o(function(n){if(n===0)e(t),Kn=t;else return t(n)},"patchedRequire")}},__d:{configurable:!0,get(){if(window.Object&&!window.modules){var t,r;window.modules=(t=(r=window).__c)===null||t===void 0?void 0:t.call(r)}return this.value},set(t){this.value=t}}})}var Kn,xS;})();
//# sourceURL=bunny
